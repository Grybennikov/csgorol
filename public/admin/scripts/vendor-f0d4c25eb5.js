/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=J.type(e);return"function"===n||J.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(J.isFunction(t))return J.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return J.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return J.filter(t,e,n);t=J.filter(t,e)}return J.grep(e,function(e){return q.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=fe[e]={};return J.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){X.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),J.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(xe,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?J.parseJSON(n):n}catch(r){}ve.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return X.activeElement}catch(e){}}function h(e,t){return J.nodeName(e,"table")&&J.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Re.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)_e.set(e[n],"globalEval",!t||_e.get(t[n],"globalEval"))}function g(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(_e.hasData(e)&&(o=_e.access(e),a=_e.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)J.event.add(t,r,u[r][n])}ve.hasData(e)&&(s=ve.access(e),l=J.extend({},s),ve.set(t,l))}}function _(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&J.nodeName(e,t)?J.merge([e],n):n}function v(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Se.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var i,r=J(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:J.css(r[0],"display");return r.detach(),o}function x(e){var t=X,n=ze[e];return n||(n=y(e,t),"none"!==n&&n||(Fe=(Fe||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Fe[0].contentDocument,t.write(),t.close(),n=y(e,t),Fe.detach()),ze[e]=n),n}function b(e,t,n){var i,r,o,a,s=e.style;return n=n||je(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||J.contains(e.ownerDocument,e)||(a=J.style(e,t)),Ne.test(a)&&He.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Ke.length;r--;)if(t=Ke[r]+n,t in e)return t;return i}function S(e,t,n){var i=Ge.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function k(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=J.css(e,n+we[o],!0,r)),i?("content"===n&&(a-=J.css(e,"padding"+we[o],!0,r)),"margin"!==n&&(a-=J.css(e,"border"+we[o]+"Width",!0,r))):(a+=J.css(e,"padding"+we[o],!0,r),"padding"!==n&&(a+=J.css(e,"border"+we[o]+"Width",!0,r)));return a}function D(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=je(e),a="border-box"===J.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=b(e,t,o),(0>r||null==r)&&(r=e.style[t]),Ne.test(r))return r;i=a&&(Q.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+k(e,t,n||(a?"border":"content"),i,o)+"px"}function T(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=_e.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(o[a]=_e.access(i,"olddisplay",x(i.nodeName)))):(r=Ce(i),"none"===n&&r||_e.set(i,"olddisplay",r?n:J.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function E(e,t,n,i,r){return new E.prototype.init(e,t,n,i,r)}function I(){return setTimeout(function(){Qe=void 0}),Qe=J.now()}function A(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=we[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function $(e,t,n){for(var i,r=(nt[t]||[]).concat(nt["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function B(e,t,n){var i,r,o,a,s,l,u,c,d=this,h={},p=e.style,f=e.nodeType&&Ce(e),m=_e.get(e,"fxshow");n.queue||(s=J._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,J.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=J.css(e,"display"),c="none"===u?_e.get(e,"olddisplay")||x(e.nodeName):u,"inline"===c&&"none"===J.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Ze.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||J.style(e,i)}else u=void 0;if(J.isEmptyObject(h))"inline"===("none"===u?x(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=_e.access(e,"fxshow",{}),o&&(m.hidden=!f),f?J(e).show():d.done(function(){J(e).hide()}),d.done(function(){var t;_e.remove(e,"fxshow");for(t in h)J.style(e,t,h[t])});for(i in h)a=$(f?m[i]:0,i,d),i in m||(m[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,r,o,a;for(n in e)if(i=J.camelCase(n),r=t[i],o=e[n],J.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=J.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function P(e,t,n){var i,r,o=0,a=tt.length,s=J.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Qe||I(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qe||I(),duration:n.duration,tweens:[],createTween:function(t,n){var i=J.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(i=tt[o].call(u,e,c,u.opts))return i;return J.map(c,$,u),J.isFunction(u.opts.start)&&u.opts.start.call(e,u),J.fx.timer(J.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function M(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(pe)||[];if(J.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function R(e,t,n,i){function r(s){var l;return o[s]=!0,J.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===yt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function V(e,t){var n,i,r=J.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&J.extend(!0,e,i),e}function L(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function F(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function z(e,t,n,i){var r;if(J.isArray(t))J.each(t,function(t,r){n||St.test(e)?i(e,r):z(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==J.type(t))i(e,t);else for(r in t)z(e+"["+r+"]",t[r],n,i)}function H(e){return J.isWindow(e)?e:9===e.nodeType&&e.defaultView}var N=[],j=N.slice,W=N.concat,G=N.push,q=N.indexOf,U={},Y=U.toString,K=U.hasOwnProperty,Q={},X=e.document,Z="2.1.4",J=function(e,t){return new J.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};J.fn=J.prototype={jquery:Z,constructor:J,selector:"",length:0,toArray:function(){return j.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:j.call(this)},pushStack:function(e){var t=J.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return J.each(this,e,t)},map:function(e){return this.pushStack(J.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(j.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:N.sort,splice:N.splice},J.extend=J.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||J.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(J.isPlainObject(i)||(r=J.isArray(i)))?(r?(r=!1,o=n&&J.isArray(n)?n:[]):o=n&&J.isPlainObject(n)?n:{},a[t]=J.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},J.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!J.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==J.type(e)||e.nodeType||J.isWindow(e)?!1:e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?U[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=J.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?J.merge(i,"string"==typeof e?[e]:e):G.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return W.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),J.isFunction(e)?(i=j.call(arguments,2),r=function(){return e.apply(t||this,i.concat(j.call(arguments)))},r.guid=e.guid=e.guid||J.guid++,r):void 0},now:Date.now,support:Q}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){U["[object "+t+"]"]=t.toLowerCase()});var re=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,i){var r,o,a,s,l,u,d,p,f,m;if((t?t.ownerDocument||t:z)!==B&&$(t),t=t||B,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&P){if(11!==s&&(r=ve.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&L(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&b.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!M||!M.test(e))){if(p=d=F,f=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=k(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=ye.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=B.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=N++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u=[H,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[F]||(t[F]={}),(s=l[i])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),u&&t.push(s));return a}function _(e,t,n,r,o,a){return r&&!r[F]&&(r=_(r)),o&&!o[F]&&(o=_(o,a)),i(function(i,a,s,l){var u,c,d,h=[],p=[],f=a.length,_=i||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?_:g(_,h,e,s,l),y=n?o||(i?e:f||r)?[]:a:v;if(n&&n(v,y,s,l),r)for(u=g(y,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(v[p[c]]=d));if(i){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?ee(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else y=g(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function v(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>s;s++)if(n=w.relative[e[s].type])c=[p(f(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[F]){for(i=++s;r>i&&!w.relative[e[i].type];i++);return _(s>1&&f(c),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&h(e))}c.push(n)}return f(c)}function y(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,h,p=0,f="0",m=i&&[],_=[],v=E,y=i||o&&w.find.TAG("*",u),x=H+=null==v?1:Math.random()||.1,b=y.length;for(u&&(E=a!==B&&a);f!==b&&null!=(c=y[f]);f++){if(o&&c){for(d=0;h=e[d++];)if(h(c,a,s)){l.push(c);break}u&&(H=x)}r&&((c=!h&&c)&&p--,i&&m.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(m,_,a,s);if(i){if(p>0)for(;f--;)m[f]||_[f]||(_[f]=Q.call(l));_=g(_)}Z.apply(l,_),u&&!i&&_.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(H=x,E=v),m};return r?i(a):a}var x,b,w,C,S,k,D,T,E,I,A,$,B,O,P,M,R,V,L,F="sizzle"+1*new Date,z=e.document,H=0,N=0,j=n(),W=n(),G=n(),q=function(e,t){return e===t&&(A=!0),0},U=1<<31,Y={}.hasOwnProperty,K=[],Q=K.pop,X=K.push,Z=K.push,J=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){$()};try{Z.apply(K=J.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(Se){Z={apply:K.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},$=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==B&&9===i.nodeType&&i.documentElement?(B=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),P=!S(i),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=_e.test(i.getElementsByClassName),b.getById=r(function(e){return O.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),b.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){return P?t.getElementsByClassName(e):void 0},R=[],M=[],(b.qsa=_e.test(i.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||M.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(b.matchesSelector=_e.test(V=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){b.disconnectedMatch=V.call(e,"div"),V.call(e,"[s!='']:x"),R.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),t=_e.test(O.compareDocumentPosition),L=t||_e.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===z&&L(z,e)?-1:t===i||t.ownerDocument===z&&L(z,t)?1:I?ee(I,e)-ee(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:I?ee(I,e)-ee(I,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===z?-1:u[r]===z?1:0},i):B},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==B&&$(e),n=n.replace(de,"='$1']"),b.matchesSelector&&P&&(!R||!R.test(n))&&(!M||!M.test(n)))try{var i=V.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,B,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==B&&$(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==B&&$(e);var n=w.attrHandle[t.toLowerCase()],i=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:b.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!b.detectDuplicates,I=!b.sortStable&&e.slice(0),e.sort(q),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return I=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,_=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(c=g[F]||(g[F]={}),u=c[e]||[],p=u[0]===H&&u[1],h=u[0]===H&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[H,p,h];break}}else if(v&&(u=(t[F]||(t[F]={}))[e])&&u[0]===H)h=u[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++h||(v&&((d[F]||(d[F]={}))[e]=[H,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(le,"$1"));return r[F]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,k=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=w.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(a in w.filter)!(r=fe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},D=t.compile=function(e,t){var n,i=[],r=[],o=G[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=v(t[n]),o[F]?i.push(o):r.push(o);o=G(e,y(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,d=!i&&k(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&P&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(be,we),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Z.apply(n,i),n;break}}return(u||D(e,d))(i,t,!P,n,ye.test(e)&&c(t.parentNode)||t),n},b.sortStable=F.split("").sort(q).join("")===F,b.detectDuplicates=!!A,$(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(B.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);J.find=re,J.expr=re.selectors,J.expr[":"]=J.expr.pseudos,J.unique=re.uniqueSort,J.text=re.getText,J.isXMLDoc=re.isXML,J.contains=re.contains;var oe=J.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;J.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?J.find.matchesSelector(i,e)?[i]:[]:J.find.matches(e,J.grep(t,function(e){return 1===e.nodeType}))},J.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(J(e).filter(function(){for(t=0;n>t;t++)if(J.contains(r[t],this))return!0}));for(t=0;n>t;t++)J.find(e,r[t],i);return i=this.pushStack(n>1?J.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&oe.test(e)?J(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=J.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof J?t[0]:t,J.merge(this,J.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),ae.test(n[1])&&J.isPlainObject(t))for(n in t)J.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=X.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):J.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(J):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))};ce.prototype=J.fn,le=J(X);var de=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&J(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),J.fn.extend({has:function(e){var t=J(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(J.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=oe.test(e)||"string"!=typeof e?J(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?J.unique(o):o)},index:function(e){return e?"string"==typeof e?q.call(J(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(J.unique(J.merge(this.get(),J(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,n){return J.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,n){return J.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return J.dir(e,"previousSibling",n)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return e.contentDocument||J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(n,i){var r=J.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=J.filter(i,r)),this.length>1&&(he[e]||J.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var pe=/\S+/g,fe={};J.Callbacks=function(e){e="string"==typeof e?fe[e]||o(e):J.extend({},e);var t,n,i,r,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function o(t){J.each(t,function(t,n){var i=J.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=l.length:t&&(r=n,c(t))}return this},remove:function(){return l&&J.each(arguments,function(e,t){for(var n;(n=J.inArray(t,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?J.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],i?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(n){J.each(t,function(t,o){var a=J.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?J.extend(e,i):i}},r={};return i.pipe=i.then,J.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=j.call(arguments),a=o.length,s=1!==a||e&&J.isFunction(e.promise)?a:0,l=1===s?e:J.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?j.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&J.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var me;J.fn.ready=function(e){return J.ready.promise().done(e),this},J.extend({isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){(e===!0?--J.readyWait:J.isReady)||(J.isReady=!0,e!==!0&&--J.readyWait>0||(me.resolveWith(X,[J]),J.fn.triggerHandler&&(J(X).triggerHandler("ready"),J(X).off("ready"))))}}),J.ready.promise=function(t){return me||(me=J.Deferred(),"complete"===X.readyState?setTimeout(J.ready):(X.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},J.ready.promise();var ge=J.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===J.type(n)){r=!0;for(s in n)J.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,J.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(J(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o};J.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=J.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,J.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(J.isEmptyObject(o))J.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,J.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{J.isArray(t)?i=t.concat(t.map(J.camelCase)):(r=J.camelCase(t),t in a?i=[t,r]:(i=r,i=i in a?[i]:i.match(pe)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!J.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var _e=new s,ve=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;J.extend({hasData:function(e){return ve.hasData(e)||_e.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,n){return _e.access(e,t,n)},_removeData:function(e,t){_e.remove(e,t)}}),J.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ve.get(o),1===o.nodeType&&!_e.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=J.camelCase(i.slice(5)),l(o,i,r[i])));_e.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ve.set(this,e)}):ge(this,function(t){var n,i=J.camelCase(e);if(o&&void 0===t){if(n=ve.get(o,e),void 0!==n)return n;if(n=ve.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=ve.get(this,i);ve.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),J.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=_e.get(e,t),n&&(!i||J.isArray(n)?i=_e.access(e,t,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=J.queue(e,t),i=n.length,r=n.shift(),o=J._queueHooks(e,t),a=function(){J.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _e.get(e,n)||_e.access(e,n,{empty:J.Callbacks("once memory").add(function(){_e.remove(e,[t+"queue",n])})})}}),J.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?J.queue(this[0],e):void 0===t?this:this.each(function(){var n=J.queue(this,e,t);J._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=J.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=_e.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)},Se=/^(?:checkbox|radio)$/i;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";Q.focusinBubbles="onfocusin"in e;var De=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,Ie=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,d,h,p,f,m,g=_e.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=J.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof J!==ke&&J.event.triggered!==t.type?J.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],u=t.length;u--;)s=Ie.exec(t[u])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(d=J.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=J.event.special[p]||{},c=J.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&J.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,f,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),J.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,h,p,f,m,g=_e.hasData(e)&&_e.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pe)||[""],u=t.length;u--;)if(s=Ie.exec(t[u])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(d=J.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));a&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||J.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)J.event.remove(e,p+t[u],n,i,!0);J.isEmptyObject(l)&&(delete g.handle,_e.remove(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,u,c,d,h=[i||X],p=K.call(t,"type")?t.type:t,f=K.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!Ee.test(p+J.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[J.expando]?t:new J.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),
n=null==n?[t]:J.makeArray(n,[t]),d=J.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!J.isWindow(i)){for(l=d.delegateType||p,Ee.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||X)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||p,c=(_e.get(a,"events")||{})[t.type]&&_e.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&J.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!J.acceptData(i)||u&&J.isFunction(i[p])&&!J.isWindow(i)&&(s=i[u],s&&(i[u]=null),J.event.triggered=p,i[p](),J.event.triggered=void 0,s&&(i[u]=s)),t.result}},dispatch:function(e){e=J.event.fix(e);var t,n,i,r,o,a=[],s=j.call(arguments),l=(_e.get(this,"events")||{})[e.type]||[],u=J.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=J.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((J.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?J(r,this).index(l)>=0:J.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||X,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Te.test(r)?this.mouseHooks:De.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new J.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return J.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=J.extend(new J.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?J.event.trigger(r,null,t):J.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(e,t)},J.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!J.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=_e.access(i,t);r||i.addEventListener(e,n,!0),_e.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=_e.access(i,t)-1;r?_e.access(i,t,r):(i.removeEventListener(e,n,!0),_e.remove(i,t))}}}),J.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(o=i,i=function(e){return J().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,J(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){J.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?J.event.trigger(e,t,n,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$e=/<([\w:]+)/,Be=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,J.extend({clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=J.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(a=_(s),o=_(e),i=0,r=o.length;r>i;i++)v(o[i],a[i]);if(t)if(n)for(o=o||_(e),a=a||_(s),i=0,r=o.length;r>i;i++)g(o[i],a[i]);else g(e,s);return a=_(s,"script"),a.length>0&&m(a,!l&&_(e,"script")),s},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,u,c=t.createDocumentFragment(),d=[],h=0,p=e.length;p>h;h++)if(r=e[h],r||0===r)if("object"===J.type(r))J.merge(d,r.nodeType?[r]:r);else if(Be.test(r)){for(o=o||c.appendChild(t.createElement("div")),a=($e.exec(r)||["",""])[1].toLowerCase(),s=Le[a]||Le._default,o.innerHTML=s[1]+r.replace(Ae,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;J.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(c.textContent="",h=0;r=d[h++];)if((!i||-1===J.inArray(r,i))&&(l=J.contains(r.ownerDocument,r),o=_(c.appendChild(r),"script"),l&&m(o),n))for(u=0;r=o[u++];)Me.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,o=J.event.special,a=0;void 0!==(n=e[a]);a++){if(J.acceptData(n)&&(r=n[_e.expando],r&&(t=_e.cache[r]))){if(t.events)for(i in t.events)o[i]?J.event.remove(n,i):J.removeEvent(n,i,t.handle);_e.cache[r]&&delete _e.cache[r]}delete ve.cache[n[ve.expando]]}}}),J.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?J.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||J.cleanData(_(n)),n.parentNode&&(t&&J.contains(n.ownerDocument,n)&&m(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(J.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Le[($e.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(J.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,J.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var n,i,r,o,a,s,l=0,u=this.length,c=this,d=u-1,h=e[0],m=J.isFunction(h);if(m||u>1&&"string"==typeof h&&!Q.checkClone&&Pe.test(h))return this.each(function(n){var i=c.eq(n);m&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(u&&(n=J.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=J.map(_(n,"script"),p),o=r.length;u>l;l++)a=n,l!==d&&(a=J.clone(a,!0,!0),o&&J.merge(r,_(a,"script"))),t.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,J.map(r,f),l=0;o>l;l++)a=r[l],Me.test(a.type||"")&&!_e.access(a,"globalEval")&&J.contains(s,a)&&(a.src?J._evalUrl&&J._evalUrl(a.src):J.globalEval(a.textContent.replace(Ve,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(e){for(var n,i=[],r=J(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),J(r[a])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Fe,ze={},He=/^margin/,Ne=new RegExp("^("+be+")(?!px)[a-z%]+$","i"),je=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var n,i,r=X.documentElement,o=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&J.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=a.appendChild(X.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),t}}))}(),J.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var We=/^(none|table(?!-c[ea]).+)/,Ge=new RegExp("^("+be+")(.*)$","i"),qe=new RegExp("^([+-])=("+be+")","i"),Ue={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=b(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=J.camelCase(t),l=e.style;return t=J.cssProps[s]||(J.cssProps[s]=C(l,s)),a=J.cssHooks[t]||J.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=qe.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(J.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||J.cssNumber[s]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,a,s=J.camelCase(t);return t=J.cssProps[s]||(J.cssProps[s]=C(e.style,s)),a=J.cssHooks[t]||J.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=b(e,t,i)),"normal"===r&&t in Ye&&(r=Ye[t]),""===n||n?(o=parseFloat(r),n===!0||J.isNumeric(o)?o||0:r):r}}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,n,i){return n?We.test(J.css(e,"display"))&&0===e.offsetWidth?J.swap(e,Ue,function(){return D(e,t,i)}):D(e,t,i):void 0},set:function(e,n,i){var r=i&&je(e);return S(e,n,i?k(e,t,i,"border-box"===J.css(e,"boxSizing",!1,r),r):0)}}}),J.cssHooks.marginRight=w(Q.reliableMarginRight,function(e,t){return t?J.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+we[i]+t]=o[i]||o[i-2]||o[0];return r}},He.test(e)||(J.cssHooks[e+t].set=S)}),J.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,r,o={},a=0;if(J.isArray(t)){for(i=je(e),r=t.length;r>a;a++)o[t[a]]=J.css(e,t[a],!1,i);return o}return void 0!==n?J.style(e,t,n):J.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?J(this).show():J(this).hide()})}}),J.Tween=E,E.prototype={constructor:E,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.options.duration?this.pos=t=J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.fx=E.prototype.init,J.fx.step={};var Qe,Xe,Ze=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+be+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[B],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Je.exec(t),o=r&&r[3]||(J.cssNumber[e]?"":"px"),a=(J.cssNumber[e]||"px"!==o&&+i)&&Je.exec(J.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,J.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};J.Animation=J.extend(P,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),J.speed=function(e,t,n){var i=e&&"object"==typeof e?J.extend({},e):{complete:n||!n&&t||J.isFunction(e)&&e,duration:e,easing:n&&t||t&&!J.isFunction(t)&&t};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=J.isEmptyObject(e),o=J.speed(t,n,i),a=function(){var t=P(this,J.extend({},e),o);(r||_e.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=J.timers,a=_e.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&et.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&J.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=_e.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=J.timers,a=i?i.length:0;for(n.finish=!0,J.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(e,t){var n=J.fn[t];J.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,i,r)}}),J.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),J.timers=[],J.fx.tick=function(){var e,t=0,n=J.timers;for(Qe=J.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||J.fx.stop(),Qe=void 0},J.fx.timer=function(e){J.timers.push(e),e()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Xe||(Xe=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Xe),Xe=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),n=t.appendChild(X.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=X.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var it,rt,ot=J.expr.attrHandle;J.fn.extend({attr:function(e,t){return ge(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})}}),J.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?J.prop(e,t,n):(1===o&&J.isXMLDoc(e)||(t=t.toLowerCase(),i=J.attrHooks[t]||(J.expr.match.bool.test(t)?rt:it)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=J.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void J.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[r++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&J.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?J.removeAttr(e,n):e.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||J.find.attr;ot[t]=function(e,t,i){var r,o;return i||(o=ot[t],ot[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=o),r}});var at=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(e,t){return ge(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[J.propFix[e]||e]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!J.isXMLDoc(e),o&&(t=J.propFix[t]||t,r=J.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(J.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;J.fn.extend({addClass:function(e){var t,n,i,r,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=J.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?J.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):J.isFunction(e)?this.each(function(n){J(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=J(this),o=e.match(pe)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===ke||"boolean"===n)&&(this.className&&_e.set(this,"__className__",this.className),this.className=this.className||e===!1?"":_e.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;J.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=J.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,J(this).val()):e,null==r?r="":"number"==typeof r?r+="":J.isArray(r)&&(r=J.map(r,function(e){return null==e?"":e+""})),t=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=J.valHooks[r.type]||J.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)}}}),J.extend({valHooks:{option:{get:function(e){var t=J.find.attr(e,"value");return null!=t?t:J.trim(J.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(Q.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!J.nodeName(n.parentNode,"optgroup"))){if(t=J(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=J.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=J.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(e,t){return J.isArray(t)?e.checked=J.inArray(J(e).val(),t)>=0:void 0}},Q.checkOn||(J.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),J.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=J.now(),ct=/\?/;J.parseJSON=function(e){return JSON.parse(e+"")},J.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+e),t};var dt=/#.*$/,ht=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,_t=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vt={},yt={},xt="*/".concat("*"),bt=e.location.href,wt=_t.exec(bt.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt,type:"GET",isLocal:ft.test(wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,J.ajaxSettings),t):V(J.ajaxSettings,e)},ajaxPrefilter:M(vt),ajaxTransport:M(yt),ajax:function(e,t){function n(e,t,n,a){var l,c,_,v,x,w=t;2!==y&&(y=2,s&&clearTimeout(s),i=void 0,o=a||"",b.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(v=L(d,b,n)),v=F(d,v,b,l),l?(d.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(J.lastModified[r]=x),x=b.getResponseHeader("etag"),x&&(J.etag[r]=x)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=v.state,c=v.data,_=v.error,l=!_)):(_=w,(e||!w)&&(w="error",0>e&&(e=0))),b.status=e,b.statusText=(t||w)+"",l?f.resolveWith(h,[c,w,b]):f.rejectWith(h,[b,w,_]),b.statusCode(g),g=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[b,d,l?c:_]),m.fireWith(h,[b,w]),u&&(p.trigger("ajaxComplete",[b,d]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,u,c,d=J.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?J(h):J.event,f=J.Deferred(),m=J.Callbacks("once memory"),g=d.statusCode||{},_={},v={},y=0,x="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!a)for(a={};t=pt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,_[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||x;return i&&i.abort(t),n(0,t),this}};if(f.promise(b).complete=m.add,b.success=b.done,b.error=b.fail,d.url=((e||d.url||bt)+"").replace(dt,"").replace(gt,wt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=J.trim(d.dataType||"*").toLowerCase().match(pe)||[""],null==d.crossDomain&&(l=_t.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===wt[1]&&l[2]===wt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(wt[3]||("http:"===wt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=J.param(d.data,d.traditional)),R(vt,d,t,b),2===y)return b;u=J.event&&d.global,u&&0===J.active++&&J.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ct.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ht.test(r)?r.replace(ht,"$1_="+ut++):r+(ct.test(r)?"&":"?")+"_="+ut++)),d.ifModified&&(J.lastModified[r]&&b.setRequestHeader("If-Modified-Since",J.lastModified[r]),J.etag[r]&&b.setRequestHeader("If-None-Match",J.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",d.contentType),b.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)b.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(h,b,d)===!1||2===y))return b.abort();x="abort";for(c in{success:1,error:1,complete:1})b[c](d[c]);if(i=R(yt,d,t,b)){b.readyState=1,u&&p.trigger("ajaxSend",[b,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){b.abort("timeout")},d.timeout));try{y=1,i.send(_,n)}catch(w){if(!(2>y))throw w;n(-1,w)}}else n(-1,"No Transport");return b},getJSON:function(e,t,n){return J.get(e,t,n,"json")},getScript:function(e,t){return J.get(e,void 0,t,"script")}}),J.each(["get","post"],function(e,t){J[t]=function(e,n,i,r){return J.isFunction(n)&&(r=r||i,i=n,n=void 0),J.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),J._evalUrl=function(e){return J.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(e){var t;return J.isFunction(e)?this.each(function(t){J(this).wrapAll(e.call(this,t))}):(this[0]&&(t=J(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return J.isFunction(e)?this.each(function(t){J(this).wrapInner(e.call(this,t))}):this.each(function(){var t=J(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(n){J(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)};var Ct=/%20/g,St=/\[\]$/,kt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;J.param=function(e,t){var n,i=[],r=function(e,t){t=J.isFunction(t)?t():null==t?"":t,
i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){r(this.name,this.value)});else for(n in e)z(n,e[n],t,r);return i.join("&").replace(Ct,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=J.prop(this,"elements");return e?J.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!J(this).is(":disabled")&&Tt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Et=0,It={},At={0:200,1223:204},$t=J.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in It)It[e]()}),Q.cors=!!$t&&"withCredentials"in $t,Q.ajax=$t=!!$t,J.ajaxTransport(function(e){var t;return Q.cors||$t&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),a=++Et;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete It[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=It[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),J.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=J("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Bt=[],Ot=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||J.expando+"_"+ut++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=J.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ot,"$1"+r):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||J.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Bt.push(r)),a&&J.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),J.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=ae.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=J.buildFragment([e],t,r),r&&r.length&&J(r).remove(),J.merge([],i.childNodes))};var Pt=J.fn.load;J.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=J.trim(e.slice(s)),e=e.slice(0,s)),J.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&J.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?J("<div>").append(J.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length};var Mt=e.document.documentElement;J.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=J.css(e,"position"),d=J(e),h={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=J.css(e,"top"),l=J.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),J.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):d.css(h)}},J.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){J.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,J.contains(t,i)?(typeof i.getBoundingClientRect!==ke&&(r=i.getBoundingClientRect()),n=H(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),J.nodeName(e[0],"html")||(i=e.offset()),i.top+=J.css(e[0],"borderTopWidth",!0),i.left+=J.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-J.css(n,"marginTop",!0),left:t.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Mt;e&&!J.nodeName(e,"html")&&"static"===J.css(e,"position");)e=e.offsetParent;return e||Mt})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;J.fn[t]=function(r){return ge(this,function(t,r,o){var a=H(t);return void 0===o?a?a[n]:t[r]:void(a?a.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),J.each(["top","left"],function(e,t){J.cssHooks[t]=w(Q.pixelPosition,function(e,n){return n?(n=b(e,t),Ne.test(n)?J(e).position()[t]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(e,t){J.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){J.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return ge(this,function(t,n,i){var r;return J.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?J.css(t,n,a):J.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Rt=e.jQuery,Vt=e.$;return J.noConflict=function(t){return e.$===J&&(e.$=Vt),t&&e.jQuery===J&&(e.jQuery=Rt),J},typeof t===ke&&(e.jQuery=e.$=J),J}),/**
 * @license AngularJS v1.5.7
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+r;return n<o.length?ve(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.7/"+(e?e+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(ve(o[i]));return new t(s)}}function n(e){if(null==e||D(e))return!1;if(Ki(e)||b(e)||Li&&e instanceof Li)return!0;var t="length"in Object(e)&&e.length;return w(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function i(e,t,r){var o,a;if(e)if(S(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(r,e[o],o,e);else if(Ki(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;a>o;o++)(s||o in e)&&t.call(r,e[o],o,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,r,e);else if(x(e))for(o in e)t.call(r,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e);else for(o in e)Bi.call(e,o)&&t.call(r,e[o],o,e);return e}function r(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function o(e){return function(t,n){e(n,t)}}function a(){return++Yi}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;o>r;++r){var a=t[r];if(y(a)||S(a))for(var u=Object.keys(a),c=0,d=u.length;d>c;c++){var h=u[c],p=a[h];n&&y(p)?C(p)?e[h]=new Date(p.valueOf()):k(p)?e[h]=new RegExp(p):p.nodeName?e[h]=p.cloneNode(!0):M(p)?e[h]=p.clone():(y(e[h])||(e[h]=Ki(p)?[]:{}),l(e[h],[p],!0)):e[h]=p}}return s(e,i),e}function u(e){return l(e,Hi.call(arguments,1),!1)}function c(e){return l(e,Hi.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function h(e,t){return u(Object.create(e),t)}function p(){}function f(e){return e}function m(e){return function(){return e}}function g(e){return S(e.toString)&&e.toString!==Wi}function _(e){return"undefined"==typeof e}function v(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function x(e){return null!==e&&"object"==typeof e&&!Gi(e)}function b(e){return"string"==typeof e}function w(e){return"number"==typeof e}function C(e){return"[object Date]"===Wi.call(e)}function S(e){return"function"==typeof e}function k(e){return"[object RegExp]"===Wi.call(e)}function D(e){return e&&e.window===e}function T(e){return e&&e.$evalAsync&&e.$watch}function E(e){return"[object File]"===Wi.call(e)}function I(e){return"[object FormData]"===Wi.call(e)}function A(e){return"[object Blob]"===Wi.call(e)}function $(e){return"boolean"==typeof e}function B(e){return e&&S(e.then)}function O(e){return e&&w(e.length)&&Qi.test(Wi.call(e))}function P(e){return"[object ArrayBuffer]"===Wi.call(e)}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function V(e){return Oi(e.nodeName||e[0]&&e[0].nodeName)}function L(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,i=t.$$hashKey;if(Ki(e))for(var o=0,a=e.length;a>o;o++)t.push(r(e[o]));else if(x(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Bi.call(e,n)&&(t[n]=r(e[n]));return s(t,i),t}function r(e){if(!y(e))return e;var t=a.indexOf(e);if(-1!==t)return l[t];if(D(e)||T(e))throw qi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(e);return void 0===r&&(r=Ki(e)?[]:Object.create(Gi(e)),i=!0),a.push(e),l.push(r),i?n(e,r):r}function o(e){switch(Wi.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(r(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}return S(e.cloneNode)?e.cloneNode(!0):void 0}var a=[],l=[];if(t){if(O(t)||P(t))throw qi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw qi("cpi","Can't copy! Source and destination are identical.");return Ki(t)?t.length=0:i(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return r(e)}function z(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Ki(e)){if(C(e))return C(t)?z(e.getTime(),t.getTime()):!1;if(k(e))return k(t)?e.toString()==t.toString():!1;if(T(e)||T(t)||D(e)||D(t)||Ki(t)||C(t)||k(t))return!1;r=fe();for(i in e)if("$"!==i.charAt(0)&&!S(e[i])){if(!z(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&v(t[i])&&!S(t[i]))return!1;return!0}if(!Ki(t))return!1;if((n=e.length)==t.length){for(i=0;n>i;i++)if(!z(e[i],t[i]))return!1;return!0}}return!1}function H(e,t,n){return e.concat(Hi.call(t,n))}function N(e,t){return Hi.call(e,t||0)}function j(e,t){var n=arguments.length>2?N(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,H(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function W(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:D(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":T(n)&&(i="$SCOPE"),i}function G(e,t){return _(e)?void 0:(w(t)||(t=t?2:null),JSON.stringify(e,W,t))}function q(e){return b(e)?JSON.parse(e):e}function U(e,t){e=e.replace(tr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Y(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function K(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=U(t,i);return Y(e,n*(r-i))}function Q(e){e=Li(e).clone();try{e.empty()}catch(t){}var n=Li("<div>").append(e).html();try{return e[0].nodeType===sr?Oi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Oi(t)})}catch(t){return Oi(n)}}function X(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return i((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=X(i),v(i)&&(r=v(r)?X(r):!0,Bi.call(t,i)?Ki(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function J(e){var t=[];return i(e,function(e,n){Ki(e)?i(e,function(e){t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}):t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}),t.length?t.join("&"):""}function ee(e){return te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ne(e,t){var n,i,r=nr.length;for(i=0;r>i;++i)if(n=nr[i]+t,b(n=e.getAttribute(n)))return n;return null}function ie(e,t){var n,r,o={};i(nr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),i(nr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(o.strictDi=null!==ne(n,"strict-di"),t(n,r?[r]:[],o))}function re(t,n,r){y(r)||(r={});var o={strictDi:!1};r=u(o,r);var a=function(){if(t=Li(t),t.injector()){var i=t[0]===e.document?"document":Q(t);throw qi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=it(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),Ui.resumeBootstrap=function(e){return i(e,function(e){n.push(e)}),a()},void(S(Ui.resumeDeferredBootstrap)&&Ui.resumeDeferredBootstrap()))}function oe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ae(e){var t=Ui.element(e).injector();if(!t)throw qi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function se(e,t){return t=t||"_",e.replace(ir,function(e,n){return(n?t:"")+e.toLowerCase()})}function le(){var t;if(!rr){var n=er();Fi=_(n)?e.jQuery:n?e[n]:void 0,Fi&&Fi.fn.on?(Li=Fi,u(Fi.fn,{scope:Dr.scope,isolateScope:Dr.isolateScope,controller:Dr.controller,injector:Dr.injector,inheritedData:Dr.inheritedData}),t=Fi.cleanData,Fi.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)n=Fi._data(i,"events"),n&&n.$destroy&&Fi(i).triggerHandler("$destroy");t(e)}):Li=Ie,Ui.element=Li,rr=!0}}function ue(e,t,n){if(!e)throw qi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ce(e,t,n){return n&&Ki(e)&&(e=e[e.length-1]),ue(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function de(e,t){if("hasOwnProperty"===e)throw qi("badname","hasOwnProperty is not a valid {0} name",t)}function he(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;a>s;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&S(e)?j(o,e):e}function pe(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=Li(Hi.call(e,0,r))),t.push(n));return t||e}function fe(){return Object.create(null)}function me(e){function n(e,t,n){return e[t]||(e[t]=n())}var i=t("$injector"),r=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),c}}function n(e,n){return function(i,o){return o&&S(o)&&(o.$$moduleName=t),r.push([e,n,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var r=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function ge(e,t){if(Ki(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var r in e)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(t[r]=e[r])}return t||e}function _e(e){var t=[];return JSON.stringify(e,function(e,n){if(n=W(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function ve(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):_(e)?"undefined":"string"!=typeof e?_e(e):e}function ye(n){u(n,{bootstrap:re,copy:F,extend:u,merge:c,equals:z,element:Li,forEach:i,injector:it,noop:p,bind:j,toJson:G,fromJson:q,identity:f,isUndefined:_,isDefined:v,isString:b,isFunction:S,isObject:y,isNumber:w,isElement:M,isArray:Ki,version:dr,isDate:C,lowercase:Oi,uppercase:Pi,callbacks:{counter:0},getTestability:ae,$$minErr:t,$$csp:Ji,reloadWithDebugInfo:oe}),(zi=me(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:kn}),e.provider("$compile",ft).directive({a:Po,input:Jo,textarea:Jo,form:Fo,script:Ya,select:Xa,style:Ja,option:Za,ngBind:na,ngBindHtml:ra,ngBindTemplate:ia,ngClass:aa,ngClassEven:la,ngClassOdd:sa,ngCloak:ua,ngController:ca,ngForm:zo,ngHide:Ha,ngIf:pa,ngInclude:fa,ngInit:ga,ngNonBindable:Ba,ngPluralize:Ra,ngRepeat:Va,ngShow:za,ngStyle:Na,ngSwitch:ja,ngSwitchWhen:Wa,ngSwitchDefault:Ga,ngOptions:Ma,ngTransclude:Ua,ngModel:Ia,ngList:_a,ngChange:oa,pattern:ts,ngPattern:ts,required:es,ngRequired:es,minlength:is,ngMinlength:is,maxlength:ns,ngMaxlength:ns,ngValue:ta,ngModelOptions:$a}).directive({ngInclude:ma}).directive(Mo).directive(da),e.provider({$anchorScroll:rt,$animate:Nr,$animateCss:Gr,$$animateJs:zr,$$animateQueue:Hr,$$AnimateRunner:Wr,$$animateAsyncRun:jr,$browser:ct,$cacheFactory:dt,$controller:xt,$document:bt,$exceptionHandler:wt,$filter:Fn,$$forceReflow:Xr,$interpolate:Rt,$interval:Vt,$http:Bt,$httpParamSerializer:St,$httpParamSerializerJQLike:kt,$httpBackend:Pt,$xhrFactory:Ot,$location:Zt,$log:Jt,$parse:yn,$rootScope:Sn,$q:xn,$$q:bn,$sce:In,$sceDelegate:En,$sniffer:An,$templateCache:ht,$templateRequest:$n,$$testability:Bn,$timeout:On,$window:Rn,$$rAF:Cn,$$jqLite:Qe,$$HashMap:Ar,$$cookieReader:Ln})}])}function xe(){return++pr}function be(e){return e.replace(gr,function(e,t,n,i){return i?n.toUpperCase():n}).replace(_r,"Moz$1")}function we(e){return!br.test(e)}function Ce(e){var t=e.nodeType;return t===or||!t||t===ur}function Se(e){for(var t in hr[e.ng339])return!0;return!1}function ke(e){for(var t=0,n=e.length;n>t;t++)Oe(e[t])}function De(e,t){var n,r,o,a,s=t.createDocumentFragment(),l=[];if(we(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(wr.exec(e)||["",""])[1].toLowerCase(),o=Sr[r]||Sr._default,n.innerHTML=o[1]+e.replace(Cr,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=H(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(l,function(e){s.appendChild(e)}),s}function Te(t,n){n=n||e.document;var i;return(i=xr.exec(t))?[n.createElement(i[1])]:(i=De(t,n))?i.childNodes:[]}function Ee(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Ie(e){if(e instanceof Ie)return e;var t;if(b(e)&&(e=Xi(e),t=!0),!(this instanceof Ie)){if(t&&"<"!=e.charAt(0))throw yr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ie(e)}t?Fe(this,Te(e)):Fe(this,e)}function Ae(e){return e.cloneNode(!0)}function $e(e,t){if(t||Oe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Oe(n[i])}function Be(e,t,n,r){if(v(r))throw yr("offargs","jqLite#off() does not support the `selector` argument");var o=Pe(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var i=a[t];v(n)&&L(i||[],n),v(n)&&i&&i.length>0||(mr(e,t,s),delete a[t])};i(t.split(" "),function(e){l(e),vr[e]&&l(vr[e])})}else for(t in a)"$destroy"!==t&&mr(e,t,s),delete a[t]}function Oe(e,t){var n=e.ng339,i=n&&hr[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Be(e)),delete hr[n],e.ng339=void 0}}function Pe(e,t){var n=e.ng339,i=n&&hr[n];return t&&!i&&(e.ng339=n=xe(),i=hr[n]={events:{},data:{},handle:void 0}),i}function Me(e,t,n){if(Ce(e)){var i=v(n),r=!i&&t&&!y(t),o=!t,a=Pe(e,!r),s=a&&a.data;if(i)s[t]=n;else{if(o)return s;if(r)return s&&s[t];u(s,t)}}}function Re(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Ve(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",Xi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Xi(t)+" "," ")))})}function Le(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=Xi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Xi(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function ze(e,t){return He(e,"$"+(t||"ngController")+"Controller")}function He(e,t,n){e.nodeType==ur&&(e=e.documentElement);for(var i=Ki(t)?t:[t];e;){for(var r=0,o=i.length;o>r;r++)if(v(n=Li.data(e,i[r])))return n;e=e.parentNode||e.nodeType===cr&&e.host}}function Ne(e){for($e(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function je(e,t){t||$e(e);var n=e.parentNode;n&&n.removeChild(e)}function We(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Li(n).on("load",t)}function Ge(e,t){var n=Tr[t.toLowerCase()];return n&&Er[V(e)]&&n}function qe(e){return Ir[e]}function Ue(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(_(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||Ye;o>1&&(r=ge(r));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function Ye(e,t,n){n.call(e,t)}function Ke(e,t,n){var i=t.relatedTarget;(!i||i!==e&&!kr.call(e,i))&&n.call(e,t)}function Qe(){this.$get=function(){return u(Ie,{hasClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ve(e,t)}})}}function Xe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||a)():i+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}i(e,this.put,this)}function Je(e){return Function.prototype.toString.call(e)+" "}function et(e){var t=Je(e).replace(Mr,""),n=t.match($r)||t.match(Br);return n}function tt(e){var t=et(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function nt(e,t,n){var r,o,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw b(n)&&n||(n=e.name||tt(e)),Rr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=et(e),i(o[1].split(Or),function(e){e.replace(Pr,function(e,t,n){r.push(n)})})}e.$inject=r}}else Ki(e)?(a=e.length-1,ce(e[a],"fn"),r=e.slice(0,a)):ce(e,"fn",!0);return r}function it(e,t){function n(e){return function(t,n){return y(t)?void i(t,o(e)):e(t,n)}}function r(e,t){if(de(e,"service"),(S(t)||Ki(t))&&(t=C.instantiate(t)),!t.$get)throw Rr("pget","Provider '{0}' must define $get factory method.",e);return w[e+g]=t}function a(e,t){return function(){var n=T.invoke(t,this);if(_(n))throw Rr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return r(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,m(t),!1)}function c(e,t){de(e,"constant"),w[e]=t,k[e]=t}function d(e,t){var n=C.get(e+g),i=n.$get;n.$get=function(){var e=T.invoke(i,n);return T.invoke(t,null,{$delegate:e})}}function h(e){ue(_(e)||Ki(e),"modulesToLoad","not an array");var t,n=[];return i(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!x.get(e)){x.put(e,!0);try{b(e)?(t=zi(e),n=n.concat(h(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):S(e)?n.push(C.invoke(e)):Ki(e)?n.push(C.invoke(e)):ce(e,"module")}catch(r){throw Ki(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Rr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,r.stack||r.message||r)}}}),n}function p(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===f)throw Rr("cdep","Circular dependency found: {0}",t+" <- "+v.join(" <- "));return e[t]}try{return v.unshift(t),e[t]=f,e[t]=n(t,i)}catch(r){throw e[t]===f&&delete e[t],r}finally{v.shift()}}function r(e,n,r){for(var o=[],a=it.$$annotate(e,t,r),s=0,l=a.length;l>s;s++){var u=a[s];if("string"!=typeof u)throw Rr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:i(u,r))}return o}function o(e){return 11>=Vi?!1:"function"==typeof e&&/^(?:class\s|constructor\()/.test(Je(e))}function a(e,t,n,i){"string"==typeof n&&(i=n,n=null);var a=r(e,n,i);return Ki(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var i=Ki(e)?e[e.length-1]:e,o=r(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:it.$$annotate,has:function(t){return w.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var f={},g="Provider",v=[],x=new Ze([],!0),w={$provide:{provider:n(r),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:d}},C=w.$injector=p(w,function(e,t){throw Ui.isString(t)&&v.push(t),Rr("unpr","Unknown provider: {0}",v.join(" <- "))}),k={},D=p(k,function(e,t){var n=C.get(e+g,t);return T.invoke(n.$get,n,void 0,e)}),T=D;w["$injector"+g]={$get:m(D)};var E=h(e);return T=D.get("$injector"),T.strictDi=t,i(E,function(e){e&&T.invoke(e)}),T}function rt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===V(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(S(e))e=e();else if(M(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=b(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=r(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&We(function(){i.$evalAsync(s)})}),s}]}function ot(e,t){return e||t?e?t?(Ki(e)&&(e=e.join(" ")),Ki(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function at(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Lr)return n}}function st(e){b(e)&&(e=e.split(" "));var t=fe();return i(e,function(e){e.length&&(t[e]=!0)}),t}function lt(e){return y(e)?e:{}}function ut(e,t,n,r){function o(e){try{e.apply(null,N(arguments,1))}finally{if(v--,0===v)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){S=null,l(),u()}function l(){x=k(),x=_(x)?null:x,z(x,E)&&(x=E),E=x}function u(){(w!==c.url()||b!==x)&&(w=c.url(),b=x,i(D,function(e){e(c.url(),x)}))}var c=this,d=e.location,h=e.history,f=e.setTimeout,m=e.clearTimeout,g={};c.isMock=!1;var v=0,y=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(e){0===v?e():y.push(e)};var x,b,w=d.href,C=t.find("base"),S=null,k=r.history?function(){try{return h.state}catch(e){}}:p;l(),b=x,c.url=function(t,n,i){if(_(i)&&(i=null),d!==e.location&&(d=e.location),h!==e.history&&(h=e.history),t){var o=b===i;if(w===t&&(!r.history||o))return c;var s=w&&jt(w)===jt(t);return w=t,b=i,!r.history||s&&o?(s||(S=t),n?d.replace(t):s?d.hash=a(t):d.href=t,d.href!==t&&(S=t)):(h[n?"replaceState":"pushState"](i,"",t),l(),b=x),S&&(S=t),c}return S||d.href.replace(/%27/g,"'")},c.state=function(){return x};var D=[],T=!1,E=null;c.onUrlChange=function(t){return T||(r.history&&Li(e).on("popstate",s),Li(e).on("hashchange",s),T=!0),D.push(t),t},c.$$applicationDestroyed=function(){Li(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return v++,n=f(function(){delete g[n],o(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return g[e]?(delete g[e],m(e),o(p),!0):!1}}function ct(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new ut(e,i,t,n)}]}function dt(){this.$get=function(){function e(e,i){function r(e){e!=h&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,h),h=e,h.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=u({},i,{id:e}),l=fe(),c=i&&i.capacity||Number.MAX_VALUE,d=fe(),h=null,p=null;return n[e]={put:function(e,t){if(!_(t)){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return e in l||a++,l[e]=t,a>c&&this.remove(p.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==h&&(h=t.p),t==p&&(p=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=fe(),a=0,d=fe(),h=p=null},destroy:function(){l=null,s=null,d=null,delete n[e]},info:function(){return u({},s,{size:a})}}}var n={};return e.info=function(){var e={};return i(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function ht(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function pt(){}function ft(t,n){function r(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=fe();return i(e,function(e,i){if(e in D)return void(o[i]=D[e]);var a=e.match(r);if(!a)throw qr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(D[e]=o[i])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),y(n.bindToController)){var i=e.controller,o=e.controllerAs;if(!i)throw qr("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yt(i,o))throw qr("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==Oi(t))throw qr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw qr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!Ki(t)&&y(t)&&i(t,function(e,n){var i=e.match(C),r=e.substring(i[0].length);r||(t[n]=i[0]+n)}),t}var c={},d="Directive",g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,x=/(([\w\-]+)(?:\:([^;]+))?;?)/,w=R("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,k=/^(on[a-z]+|formaction)$/,D=fe();this.directive=function A(e,n){return de(e,"directive"),b(e)?(s(e),ue(n,"directiveFactory"),c.hasOwnProperty(e)||(c[e]=[],t.factory(e+d,["$injector","$exceptionHandler",function(t,n){var r=[];return i(c[e],function(i,o){try{var a=t.invoke(i);S(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=l(a),a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),c[e].push(n)):i(e,o(A)),this},this.component=function(e,t){function n(e){function n(t){return S(t)||Ki(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:yt(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return i(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var r=t.controller||function(){};return i(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,S(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return v(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(e){return v(e)?(E=e,this):E};var I=10;this.onChangesTtl=function(e){return arguments.length?(I=e,this):I},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,o,s,l,m,D,A,B){function O(){try{if(!--be)throw ve=void 0,qr("infchng","{0} $onChanges() iterations reached. Aborting!\n",I);m.$apply(function(){for(var e=[],t=0,n=ve.length;n>t;++t)try{ve[t]()}catch(i){e.push(i)}if(ve=void 0,e.length)throw e})}finally{be++}}function P(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function M(e,t,n){xe.innerHTML="<span "+t+">";var i=xe.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function R(e,t){try{e.addClass(t)}catch(n){}}function F(t,n,i,r,o){t instanceof Li||(t=Li(t));for(var a=/\S+/,s=0,l=t.length;l>s;s++){var u=t[s];u.nodeType===sr&&u.nodeValue.match(a)&&Ee(u,t[s]=e.document.createElement("span"))}var c=W(t,n,t,i,r,o);F.$$addScopeClass(t);var d=null;return function(e,n,i){ue(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),d||(d=H(s));var l;if(l="html"!==d?Li(ce(d,Li("<div>").append(t).html())):n?Dr.clone.call(t):t,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return F.$$addScopeInfo(l,e),n&&n(l,e),c&&c(e,l,l,r),l}}function H(e){var t=e&&e[0];return t&&"foreignobject"!==V(t)&&Wi.call(t).match(/SVG/)?"svg":"html"}function W(e,t,n,i,r,o){function a(e,n,i,r){var o,a,s,l,u,c,d,h,m;if(p){var g=n.length;for(m=new Array(g),u=0;u<f.length;u+=3)d=f[u],m[d]=n[d]}else m=n;for(u=0,c=f.length;c>u;)s=m[f[u++]],o=f[u++],a=f[u++],o?(o.scope?(l=e.$new(),F.$$addScopeInfo(Li(s),l)):l=e,h=o.transcludeOnThisElement?G(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?G(e,t):null,o(a,l,s,i,h)):a&&a(e,s.childNodes,void 0,r)}for(var s,l,u,c,d,h,p,f=[],m=0;m<e.length;m++)s=new P,l=q(e[m],[],s,0===m?i:void 0,r),u=l.length?X(l,e[m],s,t,n,null,[],[],o):null,u&&u.scope&&F.$$addScopeClass(s.$$element),d=u&&u.terminal||!(c=e[m].childNodes)||!c.length?null:W(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(f.push(m,u,d),h=!0,p=p||u),o=null;return h?a:null}function G(e,t,n){function i(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=fe();for(var o in t.$$slots)t.$$slots[o]?r[o]=G(e,t.$$slots[o],n):r[o]=null;return i}function q(e,t,n,i,r){var o,a,s=e.nodeType,l=n.$attr;switch(s){case or:te(t,gt(V(e)),"E",i,r);for(var u,c,d,h,p,f,m=e.attributes,_=0,v=m&&m.length;v>_;_++){var w=!1,C=!1;u=m[_],c=u.name,p=Xi(u.value),h=gt(c),(f=De.test(h))&&(c=c.replace(Yr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=h.match(Te);S&&ne(S[1])&&(w=c,C=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),d=gt(c.toLowerCase()),l[d]=c,(f||!n.hasOwnProperty(d))&&(n[d]=p,Ge(e,d)&&(n[d]=!0)),he(e,t,p,d,f),te(t,d,"A",i,r,w,C)}if(a=e.className,y(a)&&(a=a.animVal),b(a)&&""!==a)for(;o=x.exec(a);)d=gt(o[2]),te(t,d,"C",i,r)&&(n[d]=Xi(o[3])),a=a.substr(o.index+o[0].length);break;case sr:if(11===Vi)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===sr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);le(t,e.nodeValue);break;case lr:try{o=g.exec(e.nodeValue),o&&(d=gt(o[1]),te(t,d,"M",i,r)&&(n[d]=Xi(o[2])))}catch(k){}}return t.sort(oe),t}function U(e,t,n){
var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw qr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==or&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return Li(i)}function Y(e,t,n){return function(i,r,o,a,s){return r=U(r[0],t,n),e(i,r,o,a,s)}}function K(e,t,n,i,r,o){var a;return e?F(t,n,i,r,o):function(){return a||(a=F(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function X(e,t,n,o,a,s,l,c,d){function h(e,t,n,i){e&&(n&&(e=Y(e,n,i)),e.require=f.require,e.directiveName=m,(k===f||f.$$isolateScope)&&(e=me(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=Y(t,n,i)),t.require=f.require,t.directiveName=m,(k===f||f.$$isolateScope)&&(t=me(t,{isolateScope:!0})),c.push(t))}function p(e,o,a,s,d){function h(e,t,n,i){var r;if(T(e)||(i=n,n=t,t=e,e=void 0),$&&(r=x),n||(n=$?E.parent():E),!i)return d(e,t,r,n,L);var o=d.$$slots[i];if(o)return o(e,t,r,n,L);if(_(o))throw qr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Q(E))}var p,f,m,g,v,x,b,E,I,A;t===a?(I=n,E=n.$$element):(E=Li(a),I=new P(E,n)),v=o,k?g=o.$new(!0):w&&(v=o.$parent),d&&(b=h,b.$$boundTransclude=d,b.isSlotFilled=function(e){return!!d.$$slots[e]}),C&&(x=J(E,I,b,C,g,o,k)),k&&(F.$$addScopeInfo(E,g,!0,!(D&&(D===k||D===k.$$originalDirective))),F.$$addScopeClass(E,!0),g.$$isolateBindings=k.$$isolateBindings,A=_e(o,I,g,g.$$isolateBindings,k),A.removeWatches&&g.$on("$destroy",A.removeWatches));for(var B in x){var O=C[B],M=x[B],R=O.$$bindings.bindToController;M.identifier&&R?M.bindingInfo=_e(v,I,M.instance,R,O):M.bindingInfo={};var V=M();V!==M.instance&&(M.instance=V,E.data("$"+O.name+"Controller",V),M.bindingInfo.removeWatches&&M.bindingInfo.removeWatches(),M.bindingInfo=_e(v,I,M.instance,R,O))}for(i(C,function(e,t){var n=e.require;e.bindToController&&!Ki(n)&&y(n)&&u(x[t].instance,Z(t,n,E,x))}),i(x,function(e){var t=e.instance;if(S(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){r(n)}if(S(t.$onInit))try{t.$onInit()}catch(n){r(n)}S(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),p=0,f=l.length;f>p;p++)m=l[p],ge(m,m.isolateScope?g:o,E,I,m.require&&Z(m.directiveName,m.require,E,x),b);var L=o;for(k&&(k.template||null===k.templateUrl)&&(L=g),e&&e(L,a.childNodes,void 0,d),p=c.length-1;p>=0;p--)m=c[p],ge(m,m.isolateScope?g:o,E,I,m.require&&Z(m.directiveName,m.require,E,x),b);i(x,function(e){var t=e.instance;S(t.$postLink)&&t.$postLink()})}d=d||{};for(var f,m,g,v,x,b=-Number.MAX_VALUE,w=d.newScopeDirective,C=d.controllerDirectives,k=d.newIsolateScopeDirective,D=d.templateDirective,E=d.nonTlbTranscludeDirective,I=!1,A=!1,$=d.hasElementTranscludeDirective,B=n.$$element=Li(t),O=s,M=o,R=!1,L=!1,z=0,H=e.length;H>z;z++){f=e[z];var W=f.$$start,G=f.$$end;if(W&&(B=U(t,W,G)),g=void 0,b>f.priority)break;if((x=f.scope)&&(f.templateUrl||(y(x)?(ae("new/isolated scope",k||w,f,B),k=f):ae("new/isolated scope",k,f,B)),w=w||f),m=f.name,!R&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var X,te=z+1;X=e[te++];)if(X.transclude&&!X.$$tlb||X.replace&&(X.templateUrl||X.template)){L=!0;break}R=!0}if(!f.templateUrl&&f.controller&&(x=f.controller,C=C||fe(),ae("'"+m+"' controller",C[m],f,B),C[m]=f),x=f.transclude)if(I=!0,f.$$tlb||(ae("transclusion",E,f,B),E=f),"element"==x)$=!0,b=f.priority,g=B,B=n.$$element=Li(F.$$createComment(m,n[m])),t=B[0],pe(a,N(g),t),g[0].$$parentNode=g[0].parentNode,M=K(L,g,o,b,O&&O.name,{nonTlbTranscludeDirective:E});else{var ne=fe();if(g=Li(Ae(t)).contents(),y(x)){g=[];var oe=fe(),se=fe();i(x,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,oe[e]=t,ne[t]=null,se[t]=n}),i(B.contents(),function(e){var t=oe[gt(V(e))];t?(se[t]=!0,ne[t]=ne[t]||[],ne[t].push(e)):g.push(e)}),i(se,function(e,t){if(!e)throw qr("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var le in ne)ne[le]&&(ne[le]=K(L,ne[le],o))}B.empty(),M=K(L,g,o,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),M.$$slots=ne}if(f.template)if(A=!0,ae("template",D,f,B),D=f,x=S(f.template)?f.template(B,n):f.template,x=ke(x),f.replace){if(O=f,g=we(x)?[]:vt(ce(f.templateNamespace,Xi(x))),t=g[0],1!=g.length||t.nodeType!==or)throw qr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");pe(a,B,t);var ue={$attr:{}},de=q(t,[],ue),he=e.splice(z+1,e.length-(z+1));(k||w)&&ee(de,k,w),e=e.concat(de).concat(he),ie(n,ue),H=e.length}else B.html(x);if(f.templateUrl)A=!0,ae("template",D,f,B),D=f,f.replace&&(O=f),p=re(e.splice(z,e.length-z),B,n,a,I&&M,l,c,{controllerDirectives:C,newScopeDirective:w!==f&&w,newIsolateScopeDirective:k,templateDirective:D,nonTlbTranscludeDirective:E}),H=e.length;else if(f.compile)try{v=f.compile(B,n,M);var ve=f.$$originalDirective||f;S(v)?h(null,j(ve,v),W,G):v&&h(j(ve,v.pre),j(ve,v.post),W,G)}catch(ye){r(ye,Q(B))}f.terminal&&(p.terminal=!0,b=Math.max(b,f.priority))}return p.scope=w&&w.scope===!0,p.transcludeOnThisElement=I,p.templateOnThisElement=A,p.transclude=M,d.hasElementTranscludeDirective=$,p}function Z(e,t,n,r){var o;if(b(t)){var a=t.match(C),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw qr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Ki(t)){o=[];for(var d=0,h=t.length;h>d;d++)o[d]=Z(e,t[d],n,r)}else y(t)&&(o={},i(t,function(t,i){o[i]=Z(e,t,n,r)}));return o||null}function J(e,t,n,i,r,o,a){var s=fe();for(var u in i){var c=i[u],d={$scope:c===a||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},h=c.controller;"@"==h&&(h=t[c.name]);var p=l(h,d,!0,c.controllerAs);s[c.name]=p,e.data("$"+c.name+"Controller",p.instance)}return s}function ee(e,t,n){for(var i=0,r=e.length;r>i;i++)e[i]=h(e[i],{$$isolateScope:t,$$newScope:n})}function te(e,n,i,o,s,l,u){if(n===s)return null;var p=null;if(c.hasOwnProperty(n))for(var f,m=t.get(n+d),g=0,v=m.length;v>g;g++)try{if(f=m[g],(_(o)||o>f.priority)&&-1!=f.restrict.indexOf(i)){if(l&&(f=h(f,{$$start:l,$$end:u})),!f.$$bindings){var x=f.$$bindings=a(f,f.name);y(x.isolateScope)&&(f.$$isolateBindings=x.isolateScope)}e.push(f),p=f}}catch(b){r(b)}return p}function ne(e){if(c.hasOwnProperty(e))for(var n,i=t.get(e+d),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function ie(e,t){var n=t.$attr,r=e.$attr;e.$$element;i(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),i(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function re(e,t,n,r,a,s,l,u){var c,d,p=[],f=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),_=S(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,v=m.templateNamespace;return t.empty(),o(_).then(function(o){var h,x,b,w;if(o=ke(o),m.replace){if(b=we(o)?[]:vt(ce(v,Xi(o))),h=b[0],1!=b.length||h.nodeType!==or)throw qr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,_);x={$attr:{}},pe(r,t,h);var C=q(h,[],x);y(m.scope)&&ee(C,!0),e=C.concat(e),ie(n,x)}else h=f,t.html(o);for(e.unshift(g),c=X(e,h,n,a,t,m,s,l,u),i(r,function(e,n){e==h&&(r[n]=t[0])}),d=W(t[0].childNodes,a);p.length;){var S=p.shift(),k=p.shift(),D=p.shift(),T=p.shift(),E=t[0];if(!S.$$destroyed){if(k!==f){var I=k.className;u.hasElementTranscludeDirective&&m.replace||(E=Ae(h)),pe(D,Li(k),E),R(Li(E),I)}w=c.transcludeOnThisElement?G(S,c.transclude,T):T,c(d,S,E,r,w)}}p=null}),function(e,t,n,i,r){var o=r;t.$$destroyed||(p?p.push(t,n,i,o):(c.transcludeOnThisElement&&(o=G(t,c.transclude,r)),c(d,t,n,i,o)))}}function oe(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ae(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw qr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,Q(i))}function le(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&F.$$addBindingClass(t),function(e,t){var r=t.parent();n||F.$$addBindingClass(r),F.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function ce(t,n){switch(t=Oi(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function de(e,t){if("srcdoc"==t)return D.HTML;var n=V(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?D.RESOURCE_URL:void 0}function he(e,t,i,r,o){var a=de(e,r);o=w[r]||o;var s=n(i,!0,a,o);if(s){if("multiple"===r&&"select"===V(e))throw qr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Q(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=fe());if(k.test(r))throw qr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[r];c!==i&&(s=c&&n(c,!0,a,o),i=c),s&&(l[r]=s(e),(u[r]||(u[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function pe(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==a){t[r++]=i;for(var u=r,c=u+s-1,d=t.length;d>u;u++,c++)d>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=i);break}l&&l.replaceChild(i,a);var h=e.document.createDocumentFragment();for(r=0;s>r;r++)h.appendChild(n[r]);for(Li.hasData(a)&&(Li.data(i,Li.data(a)),Li(a).off("$destroy")),Li.cleanData(h.querySelectorAll("*")),r=1;s>r;r++)delete n[r];n[0]=i,n.length=1}function me(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function ge(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(s){r(s,Q(n))}}function _e(e,t,r,o,a){function l(t,n,i){S(r.$onChanges)&&n!==i&&(ve||(e.$$postDigest(O),ve=[]),c||(c={},ve.push(u)),c[t]&&(i=c[t].previousValue),c[t]=new mt(i,n))}function u(){r.$onChanges(c),c=void 0}var c,d=[],h={};return i(o,function(i,o){var u,c,f,m,g,_=i.attrName,v=i.optional,y=i.mode;switch(y){case"@":v||Bi.call(t,_)||(r[o]=t[_]=void 0),t.$observe(_,function(e){if(b(e)||$(e)){var t=r[o];l(o,e,t),r[o]=e}}),t.$$observers[_].$$scope=e,u=t[_],b(u)?r[o]=n(u)(e):$(u)&&(r[o]=u),h[o]=new mt(Ur,r[o]);break;case"=":if(!Bi.call(t,_)){if(v)break;t[_]=void 0}if(v&&!t[_])break;c=s(t[_]),m=c.literal?z:function(e,t){return e===t||e!==e&&t!==t},f=c.assign||function(){throw u=r[o]=c(e),qr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[_],_,a.name)},u=r[o]=c(e);var x=function(t){return m(t,r[o])||(m(t,u)?f(e,t=r[o]):r[o]=t),u=t};x.$stateful=!0,g=i.collection?e.$watchCollection(t[_],x):e.$watch(s(t[_],x),null,c.literal),d.push(g);break;case"<":if(!Bi.call(t,_)){if(v)break;t[_]=void 0}if(v&&!t[_])break;c=s(t[_]);var w=r[o]=c(e);h[o]=new mt(Ur,r[o]),g=e.$watch(c,function(e,t){if(t===e){if(t===w)return;t=w}l(o,e,t),r[o]=e},c.literal),d.push(g);break;case"&":if(c=t.hasOwnProperty(_)?s(t[_]):p,c===p&&v)break;r[o]=function(t){return c(e,t)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var e=0,t=d.length;t>e;++e)d[e]()}}}var ve,ye=/^\w/,xe=e.document.createElement("div"),be=I;P.prototype={$normalize:gt,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=_t(e,t);n&&n.length&&A.addClass(this.$$element,n);var i=_t(t,e);i&&i.length&&A.removeClass(this.$$element,i)},$set:function(e,t,n,o){var a,s=this.$$element[0],l=Ge(s,e),u=qe(e),c=e;if(l?(this.$$element.prop(e,t),o=l):u&&(this[u]=t,c=u),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=se(e,"-"))),a=V(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=B(t,"src"===e);else if("img"===a&&"srcset"===e&&v(t)){for(var d="",h=Xi(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(h)?p:/(,)/,m=h.split(f),g=Math.floor(m.length/2),y=0;g>y;y++){var x=2*y;d+=B(Xi(m[x]),!0),d+=" "+Xi(m[x+1])}var b=Xi(m[2*y]).split(/\s/);d+=B(Xi(b[0]),!0),2===b.length&&(d+=" "+Xi(b[1])),this[e]=t=d}n!==!1&&(null===t||_(t)?this.$$element.removeAttr(o):ye.test(o)?this.$$element.attr(o,t):M(this.$$element[0],o,t));var w=this.$$observers;w&&i(w[c],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=fe()),r=i[e]||(i[e]=[]);return r.push(t),m.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||_(n[e])||t(n[e])}),function(){L(r,t)}}};var Ce=n.startSymbol(),Se=n.endSymbol(),ke="{{"==Ce&&"}}"==Se?f:function(e){return e.replace(/\{\{/g,Ce).replace(/}}/g,Se)},De=/^ngAttr[A-Z]/,Te=/^(.+)Start$/;return F.$$addBindingInfo=E?function(e,t){var n=e.data("$binding")||[];Ki(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,F.$$addBindingClass=E?function(e){R(e,"ng-binding")}:p,F.$$addScopeInfo=E?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:p,F.$$addScopeClass=E?function(e,t){R(e,t?"ng-isolate-scope":"ng-scope")}:p,F.$$createComment=function(t,n){var i="";return E&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},F}]}function mt(e,t){this.previousValue=e,this.currentValue=t}function gt(e){return be(e.replace(Yr,""))}function _t(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function vt(e){e=Li(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===lr&&Ni.call(e,t,1)}return e}function yt(e,t){if(t&&b(t))return t;if(b(e)){var n=Qr.exec(e);if(n)return n[3]}}function xt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){de(t,"controller"),y(t)?u(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(e,n,i,r){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);e.$scope[n]=i}return function(t,a,s,l){var c,d,h,p;if(s=s===!0,l&&b(l)&&(p=l),b(t)){if(d=t.match(Qr),!d)throw Kr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);h=d[1],p=p||d[3],t=e.hasOwnProperty(h)?e[h]:he(a.$scope,h,!0)||(n?he(r,h,!0):void 0),ce(t,h,!0)}if(s){var f=(Ki(t)?t[t.length-1]:t).prototype;c=Object.create(f||null),p&&o(a,p,c,h||t.name);var m;return m=u(function(){var e=i.invoke(t,c,a,h);return e!==c&&(y(e)||S(e))&&(c=e,p&&o(a,p,c,h||t.name)),c},{instance:c,identifier:p})}return c=i.instantiate(t,a,h),p&&o(a,p,c,h||t.name),c}}]}function bt(){this.$get=["$window",function(e){return Li(e.document)}]}function wt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Ct(e){return y(e)?C(e)?e.toISOString():G(e):e}function St(){this.$get=function(){return function(e){if(!e)return"";var t=[];return r(e,function(e,n){null===e||_(e)||(Ki(e)?i(e,function(e){t.push(te(n)+"="+te(Ct(e)))}):t.push(te(n)+"="+te(Ct(e))))}),t.join("&")}}}function kt(){this.$get=function(){return function(e){function t(e,o,a){null===e||_(e)||(Ki(e)?i(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!C(e)?r(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(te(o)+"="+te(Ct(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Dt(e,t){if(b(e)){var n=e.replace(no,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(Zr)||Tt(n))&&(e=q(n))}}return e}function Tt(e){var t=e.match(eo);return t&&to[t[0]].test(e)}function Et(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=fe();return b(e)?i(e.split("\n"),function(e){n=e.indexOf(":"),t(Oi(Xi(e.substr(0,n))),Xi(e.substr(n+1)))}):y(e)&&i(e,function(e,n){t(Oi(n),Xi(e))}),r}function It(e){var t;return function(n){if(t||(t=Et(e)),n){var i=t[Oi(n)];return void 0===i&&(i=null),i}return t}}function At(e,t,n,r){return S(r)?r(e,t,n):(i(r,function(i){e=i(e,t,n)}),e)}function $t(e){return e>=200&&300>e}function Bt(){var e=this.defaults={transformResponse:[Dt],transformRequest:[function(e){return!y(e)||E(e)||A(e)||I(e)?e:G(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ge(Jr),put:ge(Jr),patch:ge(Jr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return v(e)?(n=!!e,this):n};var r=!0;this.useLegacyPromiseExtensions=function(e){return v(e)?(r=!!e,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,d,h){function p(n){function o(e){var t=u({},e);return t.data=At(e.data,e.headers,e.status,l.transformResponse),$t(e.status)?t:d.reject(t)}function a(e,t){var n,r={};return i(e,function(e,i){S(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function s(t){var n,i,r,o=e.headers,s=u({},t.headers);o=u({},o.common,o[Oi(t.method)]);e:for(n in o){i=Oi(n);for(r in s)if(Oi(r)===i)continue e;s[n]=o[n]}return a(s,ge(t))}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!b(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);l.headers=s(n),l.method=Pi(l.method),l.paramSerializer=b(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer;var c=function(t){var n=t.headers,r=At(t.data,It(n),void 0,t.transformRequest);return _(r)&&i(n,function(e,t){"content-type"===Oi(t)&&delete n[t]}),_(t.withCredentials)&&!_(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,r).then(o,o)},p=[c,void 0],f=d.when(l);for(i(C,function(e){(e.request||e.requestError)&&p.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)});p.length;){var m=p.shift(),v=p.shift();f=f.then(m,v)}return r?(f.success=function(e){return ce(e,"fn"),f.then(function(t){e(t.data,t.status,t.headers,l)}),f},f.error=function(e){return ce(e,"fn"),f.then(null,function(t){e(t.data,t.status,t.headers,l)}),f}):(f.success=ro("success"),f.error=ro("error")),f}function f(e){i(arguments,function(e){p[e]=function(t,n){return p(u({},n||{},{method:e,url:t}))}})}function m(e){i(arguments,function(e){p[e]=function(t,n,i){return p(u({},i||{},{method:e,url:t,data:n}))}})}function g(t,r){function o(e){if(e){var t={};return i(e,function(e,i){t[i]=function(t){function i(){e(t)}n?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),t}}function l(e,t,i,r){function o(){u(t,e,i,r)}m&&($t(e)?m.put(k,[e,t,Et(i),r]):m.remove(k)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,n,i,r){n=n>=-1?n:0,($t(n)?b.resolve:b.reject)({data:e,status:n,headers:It(i),config:t,statusText:r})}function h(e){u(e.data,e.status,ge(e.headers()),e.statusText)}function f(){var e=p.pendingRequests.indexOf(t);-1!==e&&p.pendingRequests.splice(e,1)}var m,g,b=d.defer(),C=b.promise,S=t.headers,k=x(t.url,t.paramSerializer(t.params));if(p.pendingRequests.push(t),C.then(f,f),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(m=y(t.cache)?t.cache:y(e.cache)?e.cache:w),m&&(g=m.get(k),v(g)?B(g)?g.then(h,h):Ki(g)?u(g[1],g[0],ge(g[2]),g[3]):u(g,200,{},"OK"):m.put(k,C)),_(g)){var D=Mn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;D&&(S[t.xsrfHeaderName||e.xsrfHeaderName]=D),a(t.method,k,r,l,S,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return C}function x(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var w=l("$http");e.paramSerializer=b(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var C=[];return i(o,function(e){C.unshift(b(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],f("get","delete","head","jsonp"),m("post","put","patch"),p.defaults=e,p}]}function Ot(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Pt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,i){return Mt(e,i,e.defer,t.angular.callbacks,n[0])}]}function Mt(e,t,n,r,o){function a(e,t,n){var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=e,i.async=!0,a=function(e){mr(i,"load",a),mr(i,"error",a),o.body.removeChild(i),i=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},fr(i,"load",a),fr(i,"error",a),o.body.appendChild(i),a}return function(o,s,l,u,c,d,h,f,m,g){function y(){w&&w(),C&&C.abort()}function x(t,i,r,o,a){v(D)&&n.cancel(D),w=C=null,t(i,r,o,a),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Oi(o)){var b="_"+(r.counter++).toString(36);r[b]=function(e){r[b].data=e,r[b].called=!0};var w=a(s.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){x(u,e,r[b].data,"",t),r[b]=p})}else{var C=t(o,s);C.open(o,s,!0),i(c,function(e,t){v(e)&&C.setRequestHeader(t,e)}),C.onload=function(){var e=C.statusText||"",t="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=t?200:"file"==Pn(s).protocol?404:0),x(u,n,t,C.getAllResponseHeaders(),e)};var S=function(){x(u,-1,null,null,"")};if(C.onerror=S,C.onabort=S,i(m,function(e,t){C.addEventListener(t,e)}),i(g,function(e,t){C.upload.addEventListener(t,e)}),h&&(C.withCredentials=!0),f)try{C.responseType=f}catch(k){if("json"!==f)throw k}C.send(_(l)?null:l)}if(d>0)var D=n(y,d);else B(d)&&d.then(y)}}function Rt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(p,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=G(e)}return e}function l(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function c(o,c,p,f){function g(e){try{return e=B(e),f&&!v(e)?e:s(e)}catch(t){i(oo.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var y;if(!c){var x=a(o);y=m(x),y.exp=o,y.expressions=[],y.$$watchDelegate=l}return y}f=!!f;for(var b,w,C,k=0,D=[],T=[],E=o.length,I=[],A=[];E>k;){if(-1==(b=o.indexOf(e,k))||-1==(w=o.indexOf(t,b+d))){k!==E&&I.push(a(o.substring(k)));break}k!==b&&I.push(a(o.substring(k,b))),C=o.substring(b+d,w),D.push(C),T.push(n(C,g)),k=w+h,A.push(I.length),I.push("")}if(p&&I.length>1&&oo.throwNoconcat(o),!c||D.length){var $=function(e){for(var t=0,n=D.length;n>t;t++){if(f&&_(e[t]))return;I[A[t]]=e[t]}return I.join("")},B=function(e){return p?r.getTrusted(p,e):r.valueOf(e)};return u(function(e){var t=0,n=D.length,r=new Array(n);try{for(;n>t;t++)r[t]=T[t](e);return $(r)}catch(a){i(oo.interr(o,a))}},{exp:o,expressions:D,$$watchDelegate:function(e,t){var n;return e.$watchGroup(T,function(i,r){var o=$(i);S(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var d=e.length,h=t.length,p=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Vt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function o(o,s,l,u){function c(){d?o.apply(null,h):o(m)}var d=arguments.length>4,h=d?N(arguments,4):[],p=t.setInterval,f=t.clearInterval,m=0,g=v(u)&&!u,_=(g?i:n).defer(),y=_.promise;return l=v(l)?l:0,y.$$intervalId=p(function(){g?r.defer(c):e.$evalAsync(c),_.notify(m++),l>0&&m>=l&&(_.resolve(m),f(y.$$intervalId),delete a[y.$$intervalId]),g||e.$apply()},s),a[y.$$intervalId]=_,y}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Lt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ee(t[n]);return t.join("/")}function Ft(e,t){var n=Pn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||so[n.protocol]||null}function zt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Pn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Z(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ht(e,t){return 0===e.lastIndexOf(t,0)}function Nt(e,t){return Ht(t,e)?t.substr(e.length):void 0}function jt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Wt(e){return e.replace(/(#.+)|#$/,"$1")}function Gt(e){return e.substr(0,jt(e).lastIndexOf("/")+1)}function qt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Ut(e,t,n){this.$$html5=!0,n=n||"",Ft(e,this),this.$$parse=function(e){var n=Nt(t,e);if(!b(n))throw lo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);zt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=J(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Lt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return v(o=Nt(e,i))?(a=o,s=v(o=Nt(n,o))?t+(Nt("/",o)||o):e+a):v(o=Nt(t,i))?s=t+o:t==i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Yt(e,t,n){Ft(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return Ht(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,a=Nt(e,i)||Nt(t,i);_(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",_(a)&&(e=i,this.replace())):(o=Nt(n,a),_(o)&&(o=a)),zt(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=J(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Lt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return jt(e)==jt(t)?(this.$$parse(t),!0):!1}}function Kt(e,t,n){this.$$html5=!0,Yt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e==jt(i)?o=i:(a=Nt(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=J(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Lt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function Qt(e){return function(){return this[e]}}function Xt(e,t){return function(n){return _(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Zt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return v(t)?(e=t,this):e},this.html5Mode=function(e){return $(e)?(t.enabled=e,this):y(e)?($(e.enabled)&&(t.enabled=e.enabled),$(e.requireBase)&&(t.requireBase=e.requireBase),$(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=u.url(),o=u.$$state;try{i.url(e,t,n),u.$$state=i.state()}catch(a){throw u.url(r),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,d,h=i.baseHref(),p=i.url();if(t.enabled){if(!h&&t.requireBase)throw lo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=qt(p)+(h||"/"),c=r.history?Ut:Kt}else d=jt(p),c=Yt;var f=Gt(d);u=new c(d,f,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=Li(e.target);"a"!==V(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Pn(s.animVal).href),m.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Wt(u.absUrl())!=Wt(p)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(e,t){return _(Nt(f,e))?void(a.location.href=e):(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;e=Wt(e),u.$$parse(e),u.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,u.absUrl()===e&&(i?(u.$$parse(r),u.$$state=o,s(r,!1,o)):(g=!1,l(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Wt(i.url()),t=Wt(u.absUrl()),o=i.state(),a=u.$$replace,c=e!==t||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(i?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Jt(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||p,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function en(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw co("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function tn(e){return e+""}function nn(e,t){if(e){if(e.constructor===e)throw co("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw co("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw co("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw co("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function rn(e,t){if(e){if(e.constructor===e)throw co("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ho||e===po||e===fo)throw co("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function on(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw co("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function an(e,t){return"undefined"!=typeof e?e:t}function sn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function ln(e,t){var n=e(t);return!n.$stateful}function un(e,t){var n,r;switch(e.type){case vo.Program:n=!0,i(e.body,function(e){un(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case vo.Literal:e.constant=!0,e.toWatch=[];break;case vo.UnaryExpression:un(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case vo.BinaryExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case vo.LogicalExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case vo.ConditionalExpression:un(e.test,t),un(e.alternate,t),un(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case vo.Identifier:e.constant=!1,e.toWatch=[e];break;case vo.MemberExpression:un(e.object,t),e.computed&&un(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case vo.CallExpression:n=e.filter?ln(t,e.callee.name):!1,r=[],i(e.arguments,function(e){un(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),
e.constant=n,e.toWatch=e.filter&&ln(t,e.callee.name)?r:[e];break;case vo.AssignmentExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case vo.ArrayExpression:n=!0,r=[],i(e.elements,function(e){un(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case vo.ObjectExpression:n=!0,r=[],i(e.properties,function(e){un(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case vo.ThisExpression:e.constant=!1,e.toWatch=[];break;case vo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function cn(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function dn(e){return e.type===vo.Identifier||e.type===vo.MemberExpression}function hn(e){return 1===e.body.length&&dn(e.body[0].expression)?{type:vo.AssignmentExpression,left:e.body[0].expression,right:{type:vo.NGValueParameter},operator:"="}:void 0}function pn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===vo.Literal||e.body[0].expression.type===vo.ArrayExpression||e.body[0].expression.type===vo.ObjectExpression)}function fn(e){return e.constant}function mn(e,t){this.astBuilder=e,this.$filter=t}function gn(e,t){this.astBuilder=e,this.$filter=t}function _n(e){return"constructor"==e}function vn(e){return S(e.valueOf)?e.valueOf():xo.call(e)}function yn(){var e,t,n=fe(),r=fe(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(a){function s(e,t,i){var o,s,u;switch(i=i||x,typeof e){case"string":e=e.trim(),u=e;var g=i?r:n;if(o=g[u],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var v=i?y:_,b=new _o(v),w=new yo(b,a,v);o=w.parse(e),o.constant?o.$$watchDelegate=f:s?o.$$watchDelegate=o.literal?h:d:o.inputs&&(o.$$watchDelegate=c),i&&(o=l(o)),g[u]=o}return m(o,t);case"function":return m(e,t);default:return m(p,t)}}function l(e){function t(t,n,i,r){var o=x;x=!0;try{return e(t,n,i,r)}finally{x=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function u(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=vn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function c(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var s=u;return a=a[0],e.$watch(function(e){var t=a(e);return u(t,s)||(o=i(e,void 0,void 0,[t]),s=t&&vn(t)),o},t,n,r)}for(var l=[],c=[],d=0,h=a.length;h>d;d++)l[d]=u,c[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=a.length;r>n;n++){var s=a[n](e);(t||(t=!u(s,l[n])))&&(c[n]=s,l[n]=s&&vn(s))}return t&&(o=i(e,void 0,void 0,c)),o},t,n,r)}function d(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,S(t)&&t.apply(this,arguments),v(e)&&i.$$postDigest(function(){v(o)&&r()})},n)}function h(e,t,n,r){function o(e){var t=!0;return i(e,function(e){v(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,i){s=e,S(t)&&t.call(this,e,n,i),o(e)&&i.$$postDigest(function(){o(s)&&a()})},n)}function f(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function m(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==h&&n!==d,o=r?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return v(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==c?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=c,i=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var g=Ji().noUnsafeEval,_={csp:g,expensiveChecks:!1,literals:F(o),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},y={csp:g,expensiveChecks:!0,literals:F(o),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},x=!1;return s.$$runningExpensiveChecks=function(){return x},s}]}function xn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return wn(function(t){e.$evalAsync(t)},t)}]}function bn(){this.$get=["$browser","$exceptionHandler",function(e,t){return wn(function(t){e.defer(t)},t)}]}function wn(e,n){function r(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,i,r;r=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=r.length;a>o;++o){i=r[o][0],t=r[o][e.status];try{S(t)?i.resolve(t(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(s){i.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function l(){this.promise=new r}function c(e){var t=new l,n=0,r=Ki(e)?[]:{};return i(e,function(e,i){n++,g(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var d=t("$q",TypeError),h=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};u(r.prototype,{then:function(e,t,n){if(_(e)&&_(t)&&_(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&s(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,a.$$resolve(e))}function i(e){l||(l=!0,a.$$reject(e))}var r,a=this,l=!1;try{(y(e)||S(e))&&(r=e&&e.then),S(r)?(this.promise.$$state.status=-1,r.call(e,t,i,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(u){i(u),n(u)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e(function(){for(var e,r,o=0,a=i.length;a>o;o++){r=i[o][0],e=i[o][3];try{r.notify(S(e)?e(t):t)}catch(s){n(s)}}})}});var p=function(e){var t=new l;return t.reject(e),t.promise},f=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var i=null;try{S(n)&&(i=n())}catch(r){return f(r,!1)}return B(i)?i.then(function(){return f(e,t)},function(e){return f(e,!1)}):f(e,t)},g=function(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)},v=g,x=function(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}if(!S(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);var i=new l;return e(t,n),i.promise};return x.prototype=r.prototype,x.defer=h,x.reject=p,x.when=g,x.resolve=v,x.all=c,x}function Cn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Sn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var r=10,o=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(r=e),r},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function d(e){e.currentScope.$$destroyed=!0}function h(e){9===Vi&&(e.$$childHead&&h(e.$$childHead),e.$$nextSibling&&h(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(e){if(k.$$phase)throw o("inprog","{0} already in progress",k.$$phase);k.$$phase=e}function g(){k.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function x(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function w(){for(;E.length;)try{E.shift()()}catch(e){t(e)}l=null}function C(){null===l&&(l=c.defer(function(){k.$apply(w)}))}f.prototype={constructor:f,$new:function(t,n){var i;return n=n||this,t?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=u(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,l={fn:t,last:b,get:r,exp:i||e,eq:!!n};return s=null,S(t)||(l.fn=p),a||(a=o.$$watchers=[]),a.unshift(l),v(this,1),function(){L(a,l)>=0&&v(o,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,s)):t(o,r,s)}var r=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(o,o,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,r[0]=n,t(o,e===n?o:r,i)}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,r[t]=i,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function i(e){o=e;var t,i,r,s,l;if(!_(o)){if(y(o))if(n(o)){a!==p&&(a=p,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var u=0;t>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(d++,a[u]=s)}else{a!==f&&(a=f={},g=0,d++),t=0;for(i in o)Bi.call(o,i)&&(t++,s=o[i],l=a[i],i in a?(r=l!==l&&s!==s,r||l===s||(d++,a[i]=s)):(g++,a[i]=s,d++));if(g>t){d++;for(i in a)Bi.call(o,i)||(g--,delete a[i])}}else a!==o&&(a=o,d++);return d}}function r(){if(m?(m=!1,t(o,o,l)):t(o,s,l),c)if(y(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var i in o)Bi.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,l=this,c=t.length>1,d=0,h=u(e,i),p=[],f={},m=!0,g=0;return this.$watch(h,r)},$digest:function(){var e,n,i,a,u,d,h,p,f,_,v,y,x=r,C=this,E=[];m("$digest"),c.$$checkUrlChange(),this===k&&null!==l&&(c.defer.cancel(l),w()),s=null;do{p=!1,_=C;for(var A=0;A<D.length;A++){try{y=D[A],y.scope.$eval(y.expression,y.locals)}catch($){t($)}s=null}D.length=0;e:do{if(d=_.$$watchers)for(h=d.length;h--;)try{if(e=d[h])if(u=e.get,(n=u(_))===(i=e.last)||(e.eq?z(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(e===s){p=!1;break e}}else p=!0,s=e,e.last=e.eq?F(n,null):n,a=e.fn,a(n,i===b?n:i,_),5>x&&(v=4-x,E[v]||(E[v]=[]),E[v].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:i}))}catch($){t($)}if(!(f=_.$$watchersCount&&_.$$childHead||_!==C&&_.$$nextSibling))for(;_!==C&&!(f=_.$$nextSibling);)_=_.$parent}while(_=f);if((p||D.length)&&!x--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,E)}while(p||D.length);for(g();I<T.length;)try{T[I++]()}catch($){t($)}T.length=I=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===k&&c.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)x(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){k.$$phase||D.length||c.defer(function(){D.length&&k.$digest()}),D.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){T.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{g()}}catch(n){t(n)}finally{try{k.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&E.push(t),e=u(e),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,x(r,1,e))}},$emit:function(e,n){var i,r,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=H([u],arguments,1);do{for(i=s.$$listeners[e]||a,u.currentScope=s,r=0,o=i.length;o>r;r++)if(i[r])try{i[r].apply(null,c)}catch(d){t(d)}else i.splice(r,1),r--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var i=this,r=i,o=i,a={name:e,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[e])return a;for(var s,l,u,c=H([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[e]||[],l=0,u=s.length;u>l;l++)if(s[l])try{s[l].apply(null,c)}catch(d){t(d)}else s.splice(l,1),l--,u--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var k=new f,D=k.$$asyncQueue=[],T=k.$$postDigestQueue=[],E=k.$$applyAsyncQueue=[],I=0;return k}]}function kn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=Pn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Dn(e){if("self"===e)return e;if(b(e)){if(e.indexOf("***")>-1)throw bo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Zi(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw bo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Tn(e){var t=[];return v(e)&&i(e,function(e){t.push(Dn(e))}),t}function En(){this.SCE_CONTEXTS=wo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Tn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Tn(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?Mn(t):!!e.exec(t.href)}function r(n){var r,o,a=Pn(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw bo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||_(t)||""===t)return t;if("string"!=typeof t)throw bo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||_(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===wo.RESOURCE_URL){if(r(t))return t;throw bo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===wo.HTML)return u(t);throw bo("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw bo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[wo.HTML]=o(c),d[wo.CSS]=o(c),d[wo.URL]=o(c),d[wo.JS]=o(c),d[wo.RESOURCE_URL]=o(d[wo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function In(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Vi)throw bo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=ge(wo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=f),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(wo,function(e,t){var n=Oi(t);r[be("parse_as_"+n)]=function(t){return o(e,t)},r[be("get_trusted_"+n)]=function(t){return a(e,t)},r[be("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function An(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=d((/android (\d+)/.exec(Oi((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,h=u.body&&u.body.style,p=!1,f=!1;if(h){for(var m in h)if(i=c.exec(m)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in h&&"webkit"),p=!!("transition"in h||n+"Transition"in h),f=!!("animation"in h||n+"Animation"in h),!s||p&&f||(p=b(h.webkitTransition),f=b(h.webkitAnimation))}return{history:!(!a||4>s||l),hasEvent:function(e){if("input"===e&&11>=Vi)return!1;if(_(r[e])){var t=u.createElement("div");r[e]="on"+e in t}return r[e]},csp:Ji(),vendorPrefix:n,transitions:p,animations:f,android:s}}]}function $n(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,i,r){function o(a,s){function l(e){if(!s)throw Co("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return i.reject(e)}o.totalPendingRequests++,(!b(a)||_(t.get(a)))&&(a=r.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Ki(c)?c=c.filter(function(e){return e!==Dt}):c===Dt&&(c=null),n.get(a,u({cache:t,transformResponse:c},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function Bn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),o=[];return i(r,function(e){var r=Ui.element(e).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+Zi(t)+"(\\s|\\||$)");r.test(i)&&o.push(e)}else-1!=i.indexOf(t)&&o.push(e)})}),o},r.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function On(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,l){S(o)||(l=s,s=o,o=p);var u,c=N(arguments,3),d=v(l)&&!l,h=(d?i:n).defer(),f=h.promise;return u=t.defer(function(){try{h.resolve(o.apply(null,c))}catch(t){h.reject(t),r(t)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=u,a[u]=h,f}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Pn(e){var t=e;return Vi&&(So.setAttribute("href",t),t=So.href),So.setAttribute("href",t),{href:So.href,protocol:So.protocol?So.protocol.replace(/:$/,""):"",host:So.host,search:So.search?So.search.replace(/^\?/,""):"",hash:So.hash?So.hash.replace(/^#/,""):"",hostname:So.hostname,port:So.port,pathname:"/"===So.pathname.charAt(0)?So.pathname:"/"+So.pathname}}function Mn(e){var t=b(e)?Pn(e):e;return t.protocol===ko.protocol&&t.host===ko.host}function Rn(){this.$get=m(e)}function Vn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==r)for(r=u,e=r.split("; "),i={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),_(i[l])&&(i[l]=t(o.substring(s+1))));return i}}function Ln(){this.$get=Vn}function Fn(e){function t(r,o){if(y(r)){var a={};return i(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Wn),t("date",oi),t("filter",zn),t("json",ai),t("limitTo",si),t("lowercase",Bo),t("number",Gn),t("orderBy",ui),t("uppercase",Oo)}function zn(){return function(e,i,r){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=jn(i);switch(s){case"function":o=i;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Hn(i,r,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function Hn(e,t,n){var i,r=y(e)&&"$"in e;return t===!0?t=z:S(t)||(t=function(e,t){return _(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!g(e)?!1:(e=Oi(""+e),t=Oi(""+t),-1!==e.indexOf(t))}),i=function(i){return r&&!y(i)?Nn(i,e.$,t,!1):Nn(i,e,t,n)}}function Nn(e,t,n,i,r){var o=jn(e),a=jn(t);if("string"===a&&"!"===t.charAt(0))return!Nn(e,t.substring(1),n,i);if(Ki(e))return e.some(function(e){return Nn(e,t,n,i)});switch(o){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&Nn(e[s],t,n,!0))return!0;return r?!1:Nn(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!S(l)&&!_(l)){var u="$"===s,c=u?e:e[s];if(!Nn(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function jn(e){return null===e?"null":typeof e}function Wn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return _(n)&&(n=t.CURRENCY_SYM),_(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:Yn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Gn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Yn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function qn(e){var t,n,i,r,o,a=0;for((n=e.indexOf(To))>-1&&(e=e.replace(To,"")),(i=e.search(/e/i))>0?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)==Eo;i++);if(i==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==Eo;)o--;for(n-=i,t=[],r=0;o>=i;i++,r++)t[r]=+e.charAt(i)}return n>Do&&(t=t.splice(0,Do-1),a=n-1,n=1),{d:t,e:a,i:n}}function Un(e,t,n,i){var r=e.d,o=r.length-e.i;t=_(t)?Math.min(Math.max(n,o),i):+t;var a=t+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var u=1;a>u;u++)r[u]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)}function Yn(e,t,n,i,r){if(!b(e)&&!w(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{o=qn(l),Un(o,r,t.minFrac,t.maxFrac);var c=o.d,d=o.i,h=o.e,p=[];for(s=c.reduce(function(e,t){return e&&!t},!0);0>d;)c.unshift(0),d++;d>0?p=c.splice(d,c.length):(p=c,c=[0]);var f=[];for(c.length>=t.lgSize&&f.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)f.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),u=f.join(n),p.length&&(u+=i+p.join("")),h&&(u+="e+"+h)}return 0>e&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function Kn(e,t,n,i){var r="";for((0>e||i&&0>=e)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=Eo+e;return n&&(e=e.substr(e.length-t)),r+e}function Qn(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Kn(a,t,i,r)}}function Xn(e,t,n){return function(i,r){var o=i["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Pi(a+e);return r[s][o]}}function Zn(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=Kn(Math[i>0?"floor":"ceil"](i/60),2)+Kn(Math.abs(i%60),2)}function Jn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function ei(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ti(e){return function(t){var n=Jn(t.getFullYear()),i=ei(t),r=+i-+n,o=1+Math.round(r/6048e5);return Kn(o,e)}}function ni(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ii(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ri(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function oi(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(i,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-r,u=d(t[5]||0)-o,c=d(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,u,c,h),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,b(n)&&(n=$o.test(n)?d(n):t(n)),w(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)s=Ao.exec(r),s?(u=H(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return o&&(c=U(o,c),n=K(n,o,!0)),i(u,function(t){a=Io[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ai(){return function(e,t){return _(t)&&(t=2),G(e,t)}}function si(){return function(e,t,i){return t=Math.abs(Number(t))===1/0?Number(t):d(t),isNaN(t)?e:(w(e)&&(e=e.toString()),n(e)?(i=!i||isNaN(i)?0:d(i),i=0>i?Math.max(0,e.length+i):i,t>=0?li(e,i,i+t):0===i?li(e,t,e.length):li(e,Math.max(0,i+t),i)):e)}}function li(e,t,n){return b(e)?e.slice(t,n):Hi.call(e,t,n)}function ui(e){function i(t){return t.map(function(t){var n=1,i=f;if(S(t))i=t;else if(b(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return S(e.valueOf)&&(e=e.valueOf(),r(e))?e:g(e)&&(e=e.toString(),r(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(y(o)&&(o=e.index),y(a)&&(a=t.index)),o!==a&&(n=a>o?-1:1)}else n=r>i?-1:1;return n}return function(e,r,o,l){function u(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return a(n.get(e),t)})}}function c(e,t){for(var n=0,i=d.length;i>n;n++){var r=p(e.predicateValues[n],t.predicateValues[n]);if(r)return r*d[n].descending*h}return p(e.tieBreaker,t.tieBreaker)*h}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Ki(r)||(r=[r]),0===r.length&&(r=["+"]);var d=i(r),h=o?-1:1,p=S(l)?l:s,f=Array.prototype.map.call(e,u);return f.sort(c),e=f.map(function(e){return e.value})}}function ci(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function di(e,t){e.$name=t}function hi(e,t,n,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Ro,a.$rollbackViewValue=function(){i(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){i(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){de(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],i(a.$pending,function(t,n){a.$setValidity(n,null,e)}),i(a.$error,function(t,n){a.$setValidity(n,null,e)}),i(a.$$success,function(t,n){a.$setValidity(n,null,e)}),L(s,e),e.$$parentForm=Ro},Ti({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(L(i,n),0===i.length&&delete e[t])},$animate:r}),a.$setDirty=function(){r.removeClass(e,xa),r.addClass(e,ba),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(e,xa,ba+" "+Vo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(s,function(e){e.$setPristine()})},a.$setUntouched=function(){i(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,Vo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function pi(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function fi(e,t,n,i,r,o){mi(e,t,n,i,r,o),pi(i)}function mi(e,t,n,i,r,o){var a=Oi(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var r=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Xi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Xo[a]&&i.$$hasNativeValidators&&a===n.type&&t.on(Qo,function(e){if(!l){var t=this[$i],n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,(t.badInput!==n||t.typeMismatch!==i)&&u(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function gi(e,t){if(C(e))return e;if(b(e)){Uo.lastIndex=0;var n=Uo.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,u=Jn(i),c=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,u.getDate()+c,o,a,s,l)}}return NaN}function _i(e,t){return function(n,r){var o,a;if(C(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ho.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function vi(e,t,n,i){return function(r,o,a,s,l,u,c){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return v(e)&&!C(e)?n(e)||void 0:e}yi(r,o,a,s),mi(r,o,a,s,l,u);var p,f=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,p);return f&&(i=K(i,f)),i}return void 0}),s.$formatters.push(function(e){if(e&&!C(e))throw Ta("datefmt","Expected `{0}` to be a date",e);return d(e)?(p=e,p&&f&&(p=K(p,f,!0)),c("date")(e,i,f)):(p=null,"")}),v(a.min)||a.ngMin){var m;s.$validators.min=function(e){return!d(e)||_(m)||n(e)>=m},a.$observe("min",function(e){m=h(e),s.$validate()})}if(v(a.max)||a.ngMax){var g;s.$validators.max=function(e){return!d(e)||_(g)||n(e)<=g},a.$observe("max",function(e){g=h(e),s.$validate()})}}}function yi(e,t,n,i){var r=t[0],o=i.$$hasNativeValidators=y(r.validity);
o&&i.$parsers.push(function(e){var n=t.prop($i)||{};return n.badInput||n.typeMismatch?void 0:e})}function xi(e,t,n,i,r,o){if(yi(e,t,n,i),mi(e,t,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Wo.test(e)?parseFloat(e):void 0}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!w(e))throw Ta("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),v(n.min)||n.ngMin){var a;i.$validators.min=function(e){return i.$isEmpty(e)||_(a)||e>=a},n.$observe("min",function(e){v(e)&&!w(e)&&(e=parseFloat(e,10)),a=w(e)&&!isNaN(e)?e:void 0,i.$validate()})}if(v(n.max)||n.ngMax){var s;i.$validators.max=function(e){return i.$isEmpty(e)||_(s)||s>=e},n.$observe("max",function(e){v(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:void 0,i.$validate()})}}function bi(e,t,n,i,r,o){mi(e,t,n,i,r,o),pi(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||No.test(n)}}function wi(e,t,n,i,r,o){mi(e,t,n,i,r,o),pi(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||jo.test(n)}}function Ci(e,t,n,i){_(n.name)&&t.attr("name",a());var r=function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)};t.on("click",r),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function Si(e,t,n,i,r){var o;if(v(i)){if(o=e(i),!o.constant)throw Ta("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}function ki(e,t,n,i,r,o,a,s){var l=Si(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Si(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return z(e,l)}),i.$parsers.push(function(e){return e?l:u})}function Di(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function o(e){var t=[];return Ki(e)?(i(e,function(e){t=t.concat(o(e))}),t):b(e)?e.split(" "):y(e)?(i(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||fe(),r=[];return i(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function h(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function p(e){if(t===!0||(1&a.$index)===t){var n=o(e||[]);if(f){if(!z(e,f)){var i=o(f);h(i,n)}}else u(n)}f=Ki(e)?e.map(function(e){return ge(e)}):ge(e)}var f;a.$watch(l[e],p,!0),l.$observe("class",function(t){p(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var s=o(a.$eval(l[e]));r===t?u(s):c(s)}})}}}]}function Ti(e){function t(e,t,s){_(t)?n("$pending",e,s):i("$pending",e,s),$(t)?t?(c(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),c(a.$$success,e,s)),a.$pending?(r(Sa,!0),a.$valid=a.$invalid=void 0,o("",null)):(r(Sa,!1),a.$valid=Ei(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[e]?void 0:a.$error[e]?!1:a.$$success[e]?!0:null,o(e,l),a.$$parentForm.$setValidity(e,l,a)}function n(e,t,n){a[e]||(a[e]={}),u(a[e],t,n)}function i(e,t,n){a[e]&&c(a[e],t,n),Ei(a[e])&&(a[e]=void 0)}function r(e,t){t&&!l[e]?(d.addClass(s,e),l[e]=!0):!t&&l[e]&&(d.removeClass(s,e),l[e]=!1)}function o(e,t){e=e?"-"+se(e,"-"):"",r(va+e,t===!0),r(ya+e,t===!1)}var a=e.ctrl,s=e.$element,l={},u=e.set,c=e.unset,d=e.$animate;l[ya]=!(l[va]=s.hasClass(va)),a.$setValidity=t}function Ei(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Ii(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Ai=/^\/(.+)\/([a-z]*)$/,$i="validity",Bi=Object.prototype.hasOwnProperty,Oi=function(e){return b(e)?e.toLowerCase():e},Pi=function(e){return b(e)?e.toUpperCase():e},Mi=function(e){return b(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Ri=function(e){return b(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Oi=Mi,Pi=Ri);var Vi,Li,Fi,zi,Hi=[].slice,Ni=[].splice,ji=[].push,Wi=Object.prototype.toString,Gi=Object.getPrototypeOf,qi=t("ng"),Ui=e.angular||(e.angular={}),Yi=0;Vi=e.document.documentMode,p.$inject=[],f.$inject=[];var Ki=Array.isArray,Qi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Xi=function(e){return b(e)?e.trim():e},Zi=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ji=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!v(Ji.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Ji.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Ji.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Ji.rules},er=function(){if(v(er.name_))return er.name_;var t,n,i,r,o=nr.length;for(n=0;o>n;++n)if(i=nr[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return er.name_=r},tr=/:/g,nr=["ng-","data-ng-","ng:","x-ng-"],ir=/[A-Z]/g,rr=!1,or=1,ar=2,sr=3,lr=8,ur=9,cr=11,dr={full:"1.5.7",major:1,minor:5,dot:7,codeName:"hexagonal-circumvolution"};Ie.expando="ng339";var hr=Ie.cache={},pr=1,fr=function(e,t,n){e.addEventListener(t,n,!1)},mr=function(e,t,n){e.removeEventListener(t,n,!1)};Ie._data=function(e){return this.cache[e[this.expando]]||{}};var gr=/([\:\-\_]+(.))/g,_r=/^moz([A-Z])/,vr={mouseleave:"mouseout",mouseenter:"mouseover"},yr=t("jqLite"),xr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,br=/<|&#?\w+;/,wr=/<([\w:-]+)/,Cr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Sr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Sr.optgroup=Sr.option,Sr.tbody=Sr.tfoot=Sr.colgroup=Sr.caption=Sr.thead,Sr.th=Sr.td;var kr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Dr=Ie.prototype={ready:function(t){function n(){i||(i=!0,t())}var i=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),Ie(e).on("load",n))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Li(e>=0?this[e]:this[this.length+e])},length:0,push:ji,sort:[].sort,splice:[].splice},Tr={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Tr[Oi(e)]=e});var Er={};i("input,select,option,textarea,button,form,details".split(","),function(e){Er[e]=!0});var Ir={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:Me,removeData:Oe,hasData:Se,cleanData:ke},function(e,t){Ie[t]=e}),i({data:Me,inheritedData:He,scope:function(e){return Li.data(e,"$scope")||He(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Li.data(e,"$isolateScope")||Li.data(e,"$isolateScopeNoTemplate")},controller:ze,injector:function(e){return He(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Re,css:function(e,t,n){return t=be(t),v(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i=e.nodeType;if(i!==sr&&i!==ar&&i!==lr){var r=Oi(t);if(Tr[r]){if(!v(n))return e[t]||(e.attributes.getNamedItem(t)||p).specified?r:void 0;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(v(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return v(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(_(t)){var n=e.nodeType;return n===or||n===sr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(_(t)){if(e.multiple&&"select"===V(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return _(t)?e.innerHTML:($e(e,!0),void(e.innerHTML=t))},empty:Ne},function(e,t){Ie.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Ne&&_(2==e.length&&e!==Re&&e!==ze?t:n)){if(y(t)){for(i=0;o>i;i++)if(e===Me)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=_(a)?Math.min(o,1):o,l=0;s>l;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(i=0;o>i;i++)e(this[i],t,n);return this}}),i({removeData:Oe,on:function(e,t,n,i){if(v(i))throw yr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ce(e)){var r=Pe(e,!0),o=r.events,a=r.handle;a||(a=r.handle=Ue(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,i,r){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||fr(e,t,a)),s.push(n)};l--;)t=s[l],vr[t]?(u(vr[t],Ke),u(t,void 0,!0)):u(t)}},off:Be,one:function(e,t,n){e=Li(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;$e(e),i(new Ie(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===or&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===or||n===cr){t=new Ie(t);for(var i=0,r=t.length;r>i;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===or){var n=e.firstChild;i(new Ie(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Ee(e,Li(t).eq(0).clone()[0])},remove:je,detach:function(e){je(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new Ie(t);for(var r=0,o=t.length;o>r;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Le,removeClass:Ve,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var i=n;_(i)&&(i=!Re(e,t)),(i?Le:Ve)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==cr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ae,triggerHandler:function(e,t,n){var r,o,a,s=t.type||t,l=Pe(e),c=l&&l.events,d=c&&c[s];d&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:e},t.type&&(r=u(r,t)),o=ge(d),a=n?[r].concat(n):[r],i(o,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Ie.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;a>o;o++)_(r)?(r=e(this[o],t,n,i),v(r)&&(r=Li(r))):Fe(r,e(this[o],t,n,i));return v(r)?r:this},Ie.prototype.bind=Ie.prototype.on,Ie.prototype.unbind=Ie.prototype.off}),Ze.prototype={put:function(e,t){this[Xe(e,this.nextUid)]=t},get:function(e){return this[Xe(e,this.nextUid)]},remove:function(e){var t=this[e=Xe(e,this.nextUid)];return delete this[e],t}};var Ar=[function(){this.$get=[function(){return Ze}]}],$r=/^([^\(]+?)=>/,Br=/^[^\(]*\(\s*([^\)]*)\)/m,Or=/,/,Pr=/^\s*(_?)(\S+?)\1\s*$/,Mr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Rr=t("$injector");it.$$annotate=nt;var Vr=t("$animate"),Lr=1,Fr="ng-animate",zr=function(){this.$get=p},Hr=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(e,t,n){var r=!1;return t&&(t=b(t)?t.split(" "):Ki(t)?t:[],i(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){i(t,function(t){var n=e.get(t);if(n){var r=st(t.attr("class")),o="",a="";i(n,function(e,t){var n=!!r[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&Le(e,o),a&&Ve(e,a)}),e.remove(t)}}),t.length=0}function s(n,i,s){var l=e.get(n)||{},u=o(l,i,!0),c=o(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:p,on:p,off:p,pin:p,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Nr=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Vr("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Fr+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Vr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Fr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=at(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&Li(i),r=r&&Li(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",lt(o))},move:function(n,i,r,o){return i=i&&Li(i),r=r&&Li(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",lt(o))},leave:function(t,n){return e.push(t,"leave",lt(n),function(){t.remove()})},addClass:function(t,n,i){return i=lt(i),i.addClass=ot(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=lt(i),i.removeClass=ot(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=lt(r),r.addClass=ot(r.addClass,n),r.removeClass=ot(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=lt(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=ot(o.tempClasses,r),e.push(t,"animate",o)}}}]}],jr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Wr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,o){function a(e){this.setHost(e);var t=n(),i=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e):t(e)},this._state=0}var s=0,l=1,u=2;return a.chain=function(e,t){function n(){return i===e.length?void t(!0):void e[i](function(e){return e===!1?void t(!1):(i++,void n())})}var i=0;n()},a.all=function(e,t){function n(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;i(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},a}]},Gr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=F(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:r,end:r}}}]},qr=t("$compile"),Ur=new pt;ft.$inject=["$provide","$$sanitizeUriProvider"],mt.prototype.isFirstChange=function(){return this.previousValue===Ur};var Yr=/^((?:x|data)[\:\-_])/i,Kr=t("$controller"),Qr=/^(\S+)(\s+as\s+([\w$]+))?$/,Xr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Li&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Zr="application/json",Jr={"Content-Type":Zr+";charset=utf-8"},eo=/^\[|^\{(?!\{)/,to={"[":/]$/,"{":/}$/},no=/^\)\]\}',?\n/,io=t("$http"),ro=function(e){return function(){throw io("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},oo=Ui.$interpolateMinErr=t("$interpolate");oo.throwNoconcat=function(e){throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},oo.interr=function(e,t){return oo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ao=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,so={http:80,https:443,ftp:21},lo=t("$location"),uo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Qt("$$absUrl"),url:function(e){if(_(e))return this.$$url;var t=ao.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Qt("$$protocol"),host:Qt("$$host"),port:Qt("$$port"),path:Xt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(b(e)||w(e))e=e.toString(),this.$$search=Z(e);else{if(!y(e))throw lo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:_(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Xt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Kt,Yt,Ut],function(e){e.prototype=Object.create(uo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ut||!this.$$html5)throw lo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=_(t)?null:t,this}});var co=t("$parse"),ho=Function.prototype.call,po=Function.prototype.apply,fo=Function.prototype.bind,mo=fe();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){mo[e]=!0});var go={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},_o=function(e){this.options=e};_o.prototype={constructor:_o,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=mo[t],o=mo[n],a=mo[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw co("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Oi(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=go[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var vo=function(e,t){this.lexer=e,this.options=t};vo.Program="Program",vo.ExpressionStatement="ExpressionStatement",vo.AssignmentExpression="AssignmentExpression",vo.ConditionalExpression="ConditionalExpression",vo.LogicalExpression="LogicalExpression",vo.BinaryExpression="BinaryExpression",vo.UnaryExpression="UnaryExpression",vo.CallExpression="CallExpression",vo.MemberExpression="MemberExpression",vo.Identifier="Identifier",vo.Literal="Literal",vo.ArrayExpression="ArrayExpression",vo.Property="Property",vo.ObjectExpression="ObjectExpression",vo.ThisExpression="ThisExpression",vo.LocalsExpression="LocalsExpression",vo.NGValueParameter="NGValueParameter",vo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:vo.Program,body:e}},expressionStatement:function(){return{type:vo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:vo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:vo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:vo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:vo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:vo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:vo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:vo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:vo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:vo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:vo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:vo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:vo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:vo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:vo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:vo.Identifier,name:e.text}},constant:function(){return{type:vo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:vo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:vo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:vo.ObjectExpression,properties:t}},throwError:function(e,t){throw co("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw co("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw co("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return r?(this.tokens.shift(),r):!1},selfReferential:{"this":{type:vo.ThisExpression},$locals:{type:vo.LocalsExpression}}},mn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},un(r,n.$filter);var o,a="";if(this.stage="assign",o=hn(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=cn(r.body);n.stage="inputs",i(l,function(e,t){var i="fn"+t;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(e,r),n.return_(r),n.state.inputs.push(i),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,en,nn,rn,tn,on,an,sn,e);return this.state=this.stage=void 0,c.literal=pn(r),c.constant=fn(r),c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,o,a){var s,l,u,c,d,h=this;if(r=r||p,!a&&v(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,o,!0));switch(e.type){case vo.Program:i(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case vo.Literal:c=this.escape(e.value),this.assign(t,c),r(c);break;case vo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),r(c);break;case vo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),r(c);break;case vo.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),r(t);break;case vo.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),r(t);break;case vo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),en(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||_n(e.name))&&h.addEnsureSafeObject(t),r(t);break;case vo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){o&&1!==o&&h.addEnsureSafeAssignContext(s),e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),h.addEnsureSafeMemberName(l),o&&1!==o&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),
c=h.ensureSafeObject(h.computedMember(s,l)),h.assign(t,c),n&&(n.computed=!0,n.name=l)):(en(e.property.name),o&&1!==o&&h.if_(h.not(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),(h.state.expensiveChecks||_n(e.property.name))&&(c=h.ensureSafeObject(c)),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),r(t)},!!o);break;case vo.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),u=[],i(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",h.assign(t,c),r(t)):(l=h.nextId(),s={},u=[],h.recurse(e.callee,l,s,function(){h.if_(h.notNull(l),function(){h.addEnsureSafeFunction(l),i(e.arguments,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(h.ensureSafeObject(e))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),c=h.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=h.ensureSafeObject(c),h.assign(t,c)},function(){h.assign(t,"undefined")}),r(t)}));break;case vo.AssignmentExpression:if(l=this.nextId(),s={},!dn(e.left))throw co("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,l),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),c=h.member(s.context,s.name,s.computed)+e.operator+l,h.assign(t,c),r(t||c)})},1);break;case vo.ArrayExpression:u=[],i(e.elements,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),r(c);break;case vo.ObjectExpression:u=[],d=!1,i(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),i(e.properties,function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===vo.Identifier?e.key.name:""+e.key.value,l=h.nextId(),h.recurse(e.value,l),h.assign(h.member(t,s,e.computed),l)})):(i(e.properties,function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,function(e){u.push(h.escape(t.key.type===vo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),r(t||c);break;case vo.ThisExpression:this.assign(t,"s"),r("s");break;case vo.LocalsExpression:this.assign(t,"l"),r("l");break;case vo.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(b(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw co("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},gn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,un(r,n.$filter);var o,a;(o=hn(r))&&(a=this.recurse(o));var s,l=cn(r.body);l&&(s=[],i(l,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var u=[];i(r.body,function(e){u.push(n.recurse(e.expression))});var c=0===r.body.length?p:1===r.body.length?u[0]:function(e,t){var n;return i(u,function(i){n=i(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=pn(r),c.constant=fn(r),c},recurse:function(e,t,n){var r,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case vo.Literal:return this.value(e.value,t);case vo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case vo.BinaryExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case vo.LogicalExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case vo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case vo.Identifier:return en(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||_n(e.name),t,n,s.expression);case vo.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(en(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(r,o,t,n,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,t,n,s.expression);case vo.CallExpression:return a=[],i(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,i,r){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,i,r));var u=o.apply(void 0,s,r);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,i,r){var l,u=o(e,n,i,r);if(null!=u.value){nn(u.context,s.expression),rn(u.value,s.expression);for(var c=[],d=0;d<a.length;++d)c.push(nn(a[d](e,n,i,r),s.expression));l=nn(u.value.apply(u.context,c),s.expression)}return t?{value:l}:l};case vo.AssignmentExpression:return r=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,i,a){var l=r(e,n,i,a),u=o(e,n,i,a);return nn(l.value,s.expression),on(l.context),l.context[l.name]=u,t?{value:u}:u};case vo.ArrayExpression:return a=[],i(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case vo.ObjectExpression:return a=[],i(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===vo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,i,r)]=a[s].value(e,n,i,r):o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case vo.ThisExpression:return function(e){return t?{value:e}:e};case vo.LocalsExpression:return function(e,n){return t?{value:n}:n};case vo.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=v(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=v(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),u=sn(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),u=(v(s)?s:0)-(v(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,i,r){return function(o,a,s,l){var u=a&&e in a?a:o;i&&1!==i&&u&&!u[e]&&(u[e]={});var c=u?u[e]:void 0;return t&&nn(c,r),n?{context:u,name:e,value:c}:c}},computedMember:function(e,t,n,i,r){return function(o,a,s,l){var u,c,d=e(o,a,s,l);return null!=d&&(u=t(o,a,s,l),u=tn(u),en(u,r),i&&1!==i&&(on(d),d&&!d[u]&&(d[u]={})),c=d[u],nn(c,r)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,n,i,r,o){return function(a,s,l,u){var c=e(a,s,l,u);r&&1!==r&&(on(c),c&&!c[t]&&(c[t]={}));var d=null!=c?c[t]:void 0;return(n||_n(t))&&nn(d,o),i?{context:c,name:t,value:d}:d}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var yo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new vo(e,n),this.astCompiler=n.csp?new gn(this.ast,t):new mn(this.ast,t)};yo.prototype={constructor:yo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var xo=Object.prototype.valueOf,bo=t("$sce"),wo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Co=t("$compile"),So=e.document.createElement("a"),ko=Pn(e.location.href);Vn.$inject=["$document"],Fn.$inject=["$provide"];var Do=22,To=".",Eo="0";Wn.$inject=["$locale"],Gn.$inject=["$locale"];var Io={yyyy:Qn("FullYear",4,0,!1,!0),yy:Qn("FullYear",2,0,!0,!0),y:Qn("FullYear",1,0,!1,!0),MMMM:Xn("Month"),MMM:Xn("Month",!0),MM:Qn("Month",2,1),M:Qn("Month",1,1),LLLL:Xn("Month",!1,!0),dd:Qn("Date",2),d:Qn("Date",1),HH:Qn("Hours",2),H:Qn("Hours",1),hh:Qn("Hours",2,-12),h:Qn("Hours",1,-12),mm:Qn("Minutes",2),m:Qn("Minutes",1),ss:Qn("Seconds",2),s:Qn("Seconds",1),sss:Qn("Milliseconds",3),EEEE:Xn("Day"),EEE:Xn("Day",!0),a:ni,Z:Zn,ww:ti(2),w:ti(1),G:ii,GG:ii,GGG:ii,GGGG:ri},Ao=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,$o=/^\-?\d+$/;oi.$inject=["$locale"];var Bo=m(Oi),Oo=m(Pi);ui.$inject=["$parse"];var Po=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Wi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Mo={};i(Tr,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!=e){var i=gt("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),Mo[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(Ir,function(e,t){Mo[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ai);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=gt("ng-"+e);Mo[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Wi.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(Vi&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var Ro={$addControl:p,$$renameControl:di,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Vo="ng-submitted";hi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Lo=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||p}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:hi,compile:function(n,r){n.addClass(xa).addClass(va);var o=r.name?"name":e&&r.ngForm?"ngForm":!1;return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};fr(n[0],"submit",l),n.on("$destroy",function(){t(function(){mr(n[0],"submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var d=o?i(s.$name):p;o&&(d(e,s),r.$observe(o,function(t){s.$name!==t&&(d(e,void 0),s.$$parentForm.$$renameControl(s,t),(d=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(e,void 0),u(s,Ro)})}}}};return r}]},Fo=Lo(),zo=Lo(!0),Ho=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,No=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,jo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Wo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Go=/^(\d{4,})-(\d{2})-(\d{2})$/,qo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Uo=/^(\d{4,})-W(\d\d)$/,Yo=/^(\d{4,})-(\d\d)$/,Ko=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Qo="keydown wheel mousedown",Xo=fe();i("date,datetime-local,month,time,week".split(","),function(e){Xo[e]=!0});var Zo={text:fi,date:vi("date",Go,_i(Go,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":vi("datetimelocal",qo,_i(qo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:vi("time",Ko,_i(Ko,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:vi("week",Uo,gi,"yyyy-Www"),month:vi("month",Yo,_i(Yo,["yyyy","MM"]),"yyyy-MM"),number:xi,url:bi,email:wi,radio:Ci,checkbox:ki,hidden:p,button:p,submit:p,reset:p,file:p},Jo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Zo[Oi(a.type)]||Zo.text)(r,o,a,s[0],t,e,n,i)}}}}],ea=/^(true|false|\d+)$/,ta=function(){return{restrict:"A",priority:100,compile:function(e,t){return ea.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},na=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=_(e)?"":e})}}}}],ia=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=_(e)?"":e})}}}}],ra=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],oa=m({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),aa=Di("",!0),sa=Di("Odd",0),la=Di("Even",1),ua=ci({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),ca=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],da={},ha={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=gt("ng-"+e);da[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};ha[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var pa=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=pe(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],fa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ui.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var d,h,p,f=0,m=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then(function(){h=null}),h=p,p=null)};i.$watch(o,function(o){var l=function(){!v(s)||s&&!i.$eval(s)||t()},h=++f;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&h===f){var t=i.$new();u.template=e;var s=c(t,function(e){m(),n.enter(e,null,r).then(l)});d=t,p=s,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||h===f&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],ma=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return Wi.call(i[0]).match(/SVG/)?(i.empty(),void t(De(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],ga=ci({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),_a=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Xi(o):o,l=function(e){if(!_(e)){var t=[];return e&&i(e.split(s),function(e){e&&t.push(a?Xi(e):e)}),t}};r.$parsers.push(l),r.$formatters.push(function(e){return Ki(e)?e.join(o):void 0}),r.$isEmpty=function(e){return!e||!e.length}}}},va="ng-valid",ya="ng-invalid",xa="ng-pristine",ba="ng-dirty",wa="ng-untouched",Ca="ng-touched",Sa="ng-pending",ka="ng-empty",Da="ng-not-empty",Ta=t("ngModel"),Ea=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,o,a,s,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Ro;var d,h=o(n.ngModel),f=h.assign,m=h,g=f,y=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");m=function(e){var n=h(e);return S(n)&&(n=t(e)),n},g=function(e,t){S(h(e))?i(e,{$$$p:t}):f(e,t)}}else if(!h.assign)throw Ta("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,Q(r))},this.$render=p,this.$isEmpty=function(e){return _(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){x.$isEmpty(e)?(a.removeClass(r,Da),a.addClass(r,ka)):(a.removeClass(r,ka),a.addClass(r,Da))};var b=0;Ti({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,a.removeClass(r,ba),a.addClass(r,xa)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,a.removeClass(r,xa),a.addClass(r,ba),x.$$parentForm.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,a.setClass(r,wa,Ca)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,a.setClass(r,Ca,wa)},this.$rollbackViewValue=function(){s.cancel(y),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!w(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,n=x.$valid,i=x.$modelValue,r=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){r||n===e||(x.$modelValue=e?t:void 0,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function r(){var e=x.$$parserName||"parse";return _(d)?(s(e,null),!0):(d||(i(x.$validators,function(e,t){s(t,null)}),i(x.$asyncValidators,function(e,t){s(t,null)})),s(e,d),d)}function o(){var n=!0;return i(x.$validators,function(i,r){var o=i(e,t);n=n&&o,s(r,o)}),n?!0:(i(x.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],r=!0;i(x.$asyncValidators,function(i,o){var a=i(e,t);if(!B(a))throw Ta("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?u.all(n).then(function(){l(r)},p):l(!0)}function s(e,t){c===b&&x.$setValidity(e,t)}function l(e){c===b&&n(e)}b++;var c=b;return r()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var e=x.$viewValue;s.cancel(y),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$updateEmptyClasses(e),x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==o&&x.$$writeModelToScope()}var n=x.$$lastCommittedViewValue,i=n;if(d=_(i)?void 0:!0)for(var r=0;r<x.$parsers.length;r++)if(i=x.$parsers[r](i),_(i)){d=!1;break}w(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(e));var o=x.$modelValue,a=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,a&&(x.$modelValue=i,t()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(e){a||(x.$modelValue=e?i:void 0,t())})},this.$$writeModelToScope=function(){g(e,x.$modelValue),i(x.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){x.$viewValue=e,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,r=x.$options;r&&v(r.debounce)&&(n=r.debounce,w(n)?i=n:w(n[t])?i=n[t]:w(n["default"])&&(i=n["default"])),s.cancel(y),i?y=s(function(){x.$commitViewValue()},i):l.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==x.$modelValue&&(x.$modelValue===x.$modelValue||t===t)){x.$modelValue=x.$$rawModelValue=t,d=void 0;for(var n=x.$formatters,i=n.length,r=t;i--;)r=n[i](r);x.$viewValue!==r&&(x.$$updateEmptyClasses(r),x.$viewValue=x.$$lastCommittedViewValue=r,x.$render(),x.$$runValidators(t,r,p))}return t})}],Ia=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ea,priority:1,compile:function(t){return t.addClass(xa).addClass(wa).addClass(va),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Aa=/(\s+|^)default(\s+|$)/,$a=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),v(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Xi(this.$options.updateOn.replace(Aa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ba=ci({terminal:!0,priority:1e3}),Oa=t("ngOptions"),Pa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ma=["$compile","$document","$parse",function(t,r,o){function a(e,t,i){function r(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!u&&n(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var s=e.match(Pa);if(!s)throw Oa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Q(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],h=o(s[2]?s[1]:l),p=c&&o(c),f=p||h,m=d&&o(d),g=d?function(e,t){return m(i,t)}:function(e){return Xe(e)},_=function(e,t){return g(e,C(e,t))},v=o(s[2]||s[1]),y=o(s[3]||""),x=o(s[4]||""),b=o(s[8]),w={},C=u?function(e,t){return w[u]=t,w[l]=e,w}:function(e){return w[l]=e,w};return{trackBy:d,getTrackByValue:_,getWatchables:o(b,function(e){var t=[];e=e||[];for(var n=a(e),r=n.length,o=0;r>o;o++){var l=e===n?o:n[o],u=e[l],c=C(u,l),d=g(u,c);if(t.push(d),s[2]||s[1]){var h=v(i,c);t.push(h)}if(s[4]){var p=x(i,c);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=b(i)||[],o=a(n),s=o.length,l=0;s>l;l++){var u=n===o?l:o[l],c=n[u],h=C(c,u),p=f(i,h),m=g(p,h),w=v(i,h),S=y(i,h),k=x(i,h),D=new r(m,p,w,S,k);e.push(D),t[m]=D}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[_(e)]},getViewValueFromOption:function(e){return d?Ui.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function h(){var e=C&&f.readValue();if(C)for(var t=C.items.length-1;t>=0;t--){var i=C.items[t];je(i.group?i.element.parentNode:i.element)}C=S.getOptions();var r={};if(b&&n.prepend(p),C.items.forEach(function(e){var t;v(e.group)?(t=r[e.group],t||(t=u.cloneNode(!1),k.appendChild(t),t.label=e.group,r[e.group]=t),c(e,t)):c(e,k)}),n[0].appendChild(k),m.$render(),!m.$isEmpty(e)){var o=f.readValue(),a=S.trackBy||g;(a?z(e,o):e===o)||(m.$setViewValue(o),m.$render())}}for(var p,f=s[0],m=s[1],g=o.multiple,_=0,y=n.children(),x=y.length;x>_;_++)if(""===y[_].value){p=y.eq(_);break}var b=!!p,w=Li(l.cloneNode(!1));w.val("?");var C,S=a(o.ngOptions,n,e),k=r[0].createDocumentFragment(),D=function(){b||n.prepend(p),n.val(""),p.prop("selected",!0),p.attr("selected",!0)},T=function(){b||p.remove()},E=function(){n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0)},I=function(){w.remove()};g?(m.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){C.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=C.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},f.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},S.trackBy&&e.$watchCollection(function(){return Ki(m.$viewValue)?m.$viewValue.map(function(e){return S.getTrackByValue(e)}):void 0},function(){m.$render()})):(f.writeValue=function(e){var t=C.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(I(),T(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||b?(I(),D()):(T(),E())},f.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(T(),I(),C.getViewValueFromOption(e)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(m.$viewValue)},function(){m.$render()})),b?(p.remove(),t(p)(e),p.removeClass("ng-scope")):p=Li(l.cloneNode(!1)),n.empty(),h(),e.$watchCollection(S.getWatchables,h)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=p},post:s}}}],Ra=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,m=a.$eval(h)||{},g={},v=t.startSymbol(),y=t.endSymbol(),x=v+d+"-"+f+y,b=Ui.noop;i(l,function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+Oi(n[2]);m[i]=s.attr(l.$attr[t])}}),i(m,function(e,n){g[n]=t(e.replace(r,x))}),a.$watch(d,function(t){var i=parseFloat(t),r=isNaN(i);if(r||i in m||(i=e.pluralCat(i-f)),i!==c&&!(r&&w(c)&&isNaN(c))){b();var o=g[i];_(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),b=p,u()):b=a.$watch(o,u),c=i}})}}}],Va=["$parse","$animate","$compile",function(e,r,o){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,d){var h=d.ngRepeat,p=o.$$createComment("end ngRepeat",h),f=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var m=f[1],g=f[2],_=f[3],v=f[4];if(f=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!f)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var y=f[3]||f[1],x=f[2];if(_&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(_)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(_)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",_);var b,w,C,S,k={$id:Xe};return v?b=e(v):(C=function(e,t){return Xe(t)},S=function(e){return e}),function(e,t,o,d,f){b&&(w=function(t,n,i){return x&&(k[x]=t),k[y]=n,k.$index=i,b(e,k)});var m=fe();e.$watchCollection(g,function(o){var d,g,v,b,k,D,T,E,I,A,$,B,O=t[0],P=fe();if(_&&(e[_]=o),n(o))I=o,E=w||C;else{E=w||S,I=[];for(var M in o)Bi.call(o,M)&&"$"!==M.charAt(0)&&I.push(M)}for(b=I.length,$=new Array(b),d=0;b>d;d++)if(k=o===I?d:I[d],D=o[k],T=E(k,D,d),m[T])A=m[T],delete m[T],P[T]=A,$[d]=A;else{if(P[T])throw i($,function(e){e&&e.scope&&(m[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,T,D);$[d]={id:T,scope:void 0,clone:void 0},P[T]=!0}for(var R in m){if(A=m[R],B=pe(A.clone),r.leave(B),B[0].parentNode)for(d=0,g=B.length;g>d;d++)B[d][a]=!0;A.scope.$destroy()}for(d=0;b>d;d++)if(k=o===I?d:I[d],D=o[k],A=$[d],A.scope){v=O;do v=v.nextSibling;while(v&&v[a]);u(A)!=v&&r.move(pe(A.clone),null,O),
O=c(A),l(A.scope,d,y,D,x,k,b)}else f(function(e,t){A.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,r.enter(e,null,O),O=n,A.clone=e,P[A.id]=A,l(A.scope,d,y,D,x,k,b)});m=P})}}}}],La="ng-hide",Fa="ng-hide-animate",za=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,La,{tempClasses:Fa})})}}}],Ha=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,La,{tempClasses:Fa})})}}}],Na=ci(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ja=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,l=[],u=[],c=[],d=[],h=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=c.length;o>r;++r)e.cancel(c[r]);for(c.length=0,r=0,o=d.length;o>r;++r){var s=pe(u[r].clone);d[r].$destroy();var p=c[r]=e.leave(s);p.then(h(c,r))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};u.push(a),e.enter(i,o.parent(),o)})})})}}}],Wa=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Ga=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),qa=t("ngTransclude"),Ua=ci({restrict:"EAC",link:function(e,t,n,i,r){function o(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!r)throw qa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Q(t));var a=n.ngTransclude||n.ngTranscludeSlot;r(o,null,a)}}),Ya=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Ka={$setViewValue:p,$render:p},Qa=["$element","$scope",function(t,n){var i=this,r=new Ze;i.ngModelCtrl=Ka,i.unknownOption=Li(e.document.createElement("option")),i.renderUnknownOption=function(e){var n="? "+Xe(e)+" ?";i.unknownOption.val(n),t.prepend(i.unknownOption),t.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=p}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),t.val()},i.writeValue=function(e){i.hasOption(e)?(i.removeUnknownOption(),t.val(e),""===e&&i.emptyOption.prop("selected",!0)):null==e&&i.emptyOption?(i.removeUnknownOption(),t.val("")):i.renderUnknownOption(e)},i.addOption=function(e,t){if(t[0].nodeType!==lr){de(e,'"option value"'),""===e&&(i.emptyOption=t);var n=r.get(e)||0;r.put(e,n+1),i.ngModelCtrl.$render(),Ii(t)}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.remove(e),""===e&&(i.emptyOption=void 0)):r.put(e,t-1))},i.hasOption=function(e){return!!r.get(e)},i.registerOption=function(e,t,n,r,o){if(r){var a;n.$observe("value",function(e){v(a)&&i.removeOption(a),a=e,i.addOption(e,t)})}else o?e.$watch(o,function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)}):i.addOption(n.value,t);t.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Xa=function(){function e(e,t,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return i(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ze(e);i(t.find("option"),function(e){e.selected=v(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||z(s,o.$viewValue)||(s=ge(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Qa,priority:1,link:{pre:e,post:t}}},Za=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(v(n.value))var i=e(n.value,!0);else{var r=e(t.text(),!0);r||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],Ja=m({restrict:"E",terminal:!1}),es=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(b(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,Q(n));o=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||_(o)||o.test(t)}}}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=d(e);r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(le(),ye(Ui),Ui.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var i=n;void 0===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i),o=(e*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,o=n(e,t);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Li(e.document).ready(function(){ie(e.document,re)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.5.7
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,t,n){if(!e)throw me("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(N(e)&&(e=e.join(" ")),N(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=N(e)?e:e&&j(e)&&e.length?e.split(/\s+/):[],H(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof z)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===K)return e;break;default:return z(l(e))}return e.nodeType===K?z(e):void 0}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==K)return n}}function u(e,t,n){H(t,function(t){e.addClass(t,n)})}function c(e,t,n){H(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function h(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||V;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=V},e.$$prepared=!0}return e}function p(e,t){f(e,t),m(e,t)}function f(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=_(e.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=S(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==V?i.domOperation:null;return F(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function _(e,t,n){function i(e){j(e)&&(e=e.split(" "));var t={};return H(e,function(e){e.length&&(t[e]=!0)}),t}var r=1,o=-1,a={};e=i(e),t=i(t),H(t,function(e,t){a[t]=r}),n=i(n),H(n,function(e,t){a[t]=a[t]===r?null:o});var s={addClass:"",removeClass:""};return H(a,function(t,n){var i,a;t===r?(i="addClass",a=!e[n]):t===o&&(i="removeClass",a=e[n]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function v(e){return e instanceof t.element?e[0]:e}function y(e,t,n){var i="";t&&(i=o(t,Z,!0)),n.addClass&&(i=S(i,o(n.addClass,Q))),n.removeClass&&(i=S(i,o(n.removeClass,X))),i.length&&(n.preparationClasses=i,e.addClass(i))}function x(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function b(e,t){var n=t?"-"+t+"s":"";return C(e,[pe,n]),[pe,n]}function w(e,t){var n=t?"paused":"",i=M+ue;return C(e,[i,n]),[i,n]}function C(e,t){var n=t[0],i=t[1];e.style[n]=i}function S(e,t){return e?t?e+" "+t:e:t}function k(e){return[he,e+"s"]}function D(e,t){var n=t?de:pe;return[n,e+"s"]}function T(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return H(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=E(n)),0===n&&(n=null),i[t]=n}}),i}function E(e){var t=0,n=e.split(/\s*,\s*/);return H(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function I(e){return 0===e||null!=e}function A(e,t){var n=O,i=e+"s";return t?n+=re:i+=" linear all",[n,i]}function $(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function B(e,t,n){H(n,function(n){e[n]=q(e[n])?e[n]:t.style.getPropertyValue(n)})}var O,P,M,R,V=t.noop,L=t.copy,F=t.extend,z=t.element,H=t.forEach,N=t.isArray,j=t.isString,W=t.isObject,G=t.isUndefined,q=t.isDefined,U=t.isFunction,Y=t.isElement,K=1,Q="-add",X="-remove",Z="ng-",J="-active",ee="-prepare",te="ng-animate",ne="$$ngAnimateChildren",ie="";G(e.ontransitionend)&&q(e.onwebkittransitionend)?(ie="-webkit-",O="WebkitTransition",P="webkitTransitionEnd transitionend"):(O="transition",P="transitionend"),G(e.onanimationend)&&q(e.onwebkitanimationend)?(ie="-webkit-",M="WebkitAnimation",R="webkitAnimationEnd animationend"):(M="animation",R="animationend");var re="Duration",oe="Property",ae="Delay",se="TimingFunction",le="IterationCount",ue="PlayState",ce=9999,de=M+ae,he=M+re,pe=O+ae,fe=O+re,me=t.$$minErr("ng"),ge=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}],_e=["$interpolate",function(e){return{link:function(n,i,r){function o(e){e="on"===e||"true"===e,i.data(ne,e)}var a=r.ngAnimateChildren;t.isString(a)&&0===a.length?i.data(ne,!0):(o(e(a)(n)),r.$observe("ngAnimateChildren",o))}}}],ve="$$animateCss",ye=1e3,xe=3,be=1.5,we={transitionDuration:fe,transitionDelay:pe,transitionProperty:O+oe,animationDuration:he,animationDelay:de,animationIterationCount:M+le},Ce={transitionDuration:fe,transitionDelay:pe,animationDuration:he,animationDelay:de},Se=["$animateProvider",function(e){var t=$(),n=$();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,s,l,u,c,g,_){function y(e,t){var n="$$ngAnimateParentKey",i=e.parentNode,r=i[n]||(i[n]=++z);return r+"-"+e.getAttribute("class")+"-"+t}function x(n,i,r,o){var a=t.get(r);return a||(a=T(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function S(r,a,s,l){var u;if(t.count(s)>0&&(u=n.get(s),!u)){var c=o(a,"-stagger");i.addClass(r,c),u=T(e,r,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,c),n.put(s,u)}return u||{}}function E(e){j.push(e),g.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=u(),i=0;i<j.length;i++)j[i](e);j.length=0})}function $(e,t,n){var i=x(e,t,n,we),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var F=d(i),z=0,j=[];return function(e,n){function u(){g()}function d(){g(!0)}function g(t){if(!(U||K&&Y)){U=!0,Y=!1,W.$$skipPreparationClasses||i.removeClass(e,we),i.removeClass(e,ke),w(q,!1),b(q,!1),H(ue,function(e){q.style[e[0]]=""}),F(e,W),p(e,W),Object.keys(G).length&&H(G,function(e,t){e?q.style.setProperty(t,e):q.style.removeProperty(t)}),W.onDone&&W.onDone(),pe&&pe.length&&e.off(pe.join(" "),z);var n=e.data(ve);n&&(l.cancel(n[0].timer),e.removeData(ve)),ee&&ee.complete(!t)}}function x(e){Fe.blockTransition&&b(q,e),Fe.blockKeyframeAnimation&&w(q,!!e)}function T(){return ee=new s({end:u,cancel:d}),E(V),g(),{$$willAnimate:!1,start:function(){return ee},end:u}}function z(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(xe));Math.max(n-le,0)>=ie&&i>=re&&(K=!0,g())}function j(){function t(){if(!U){if(x(!1),H(ue,function(e){var t=e[0],n=e[1];q.style[t]=n}),F(e,W),i.addClass(e,ke),Fe.recalculateTimingStyles){if(Se=q.className+" "+we,Ee=y(q,Se),Ve=$(q,Se,Ee),Le=Ve.maxDelay,ne=Math.max(Le,0),re=Ve.maxDuration,0===re)return void g();Fe.hasTransitions=Ve.transitionDuration>0,Fe.hasAnimations=Ve.animationDuration>0}if(Fe.applyAnimationDelay&&(Le="boolean"!=typeof W.delay&&I(W.delay)?parseFloat(W.delay):Le,ne=Math.max(Le,0),Ve.animationDelay=Le,ze=D(Le,!0),ue.push(ze),q.style[ze[0]]=ze[1]),ie=ne*ye,ae=re*ye,W.easing){var t,r=W.easing;Fe.hasTransitions&&(t=O+se,ue.push([t,r]),q.style[t]=r),Fe.hasAnimations&&(t=M+se,ue.push([t,r]),q.style[t]=r)}Ve.transitionDuration&&pe.push(P),Ve.animationDuration&&pe.push(R),le=Date.now();var o=ie+be*ae,a=le+o,s=e.data(ve)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(g)}if(u){var d=l(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(g),e.data(ve,s)}pe.length&&e.on(pe.join(" "),z),W.to&&(W.cleanupStyles&&B(G,q,Object.keys(W.to)),m(e,W))}}function n(){var t=e.data(ve);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ve)}}if(!U){if(!q.parentNode)return void g();var r=function(e){if(K)Y&&e&&(Y=!1,g());else if(Y=!e,Ve.animationDuration){var t=w(q,Y);Y?ue.push(t):a(ue,t)}},o=Me>0&&(Ve.transitionDuration&&0===Ie.transitionDuration||Ve.animationDuration&&0===Ie.animationDuration)&&Math.max(Ie.animationDelay,Ie.transitionDelay);o?l(t,Math.floor(o*Me*ye),!1):t(),te.resume=function(){r(!0)},te.pause=function(){r(!1)}}}var W=n||{};W.$$prepared||(W=h(L(W)));var G={},q=v(e);if(!q||!q.parentNode||!_.enabled())return T();var U,Y,K,ee,te,ne,ie,re,ae,le,ue=[],de=e.attr("class"),he=r(W),pe=[];if(0===W.duration||!c.animations&&!c.transitions)return T();var fe=W.event&&N(W.event)?W.event.join(" "):W.event,me=fe&&W.structural,ge="",_e="";me?ge=o(fe,Z,!0):fe&&(ge=fe),W.addClass&&(_e+=o(W.addClass,Q)),W.removeClass&&(_e.length&&(_e+=" "),_e+=o(W.removeClass,X)),W.applyClassesEarly&&_e.length&&F(e,W);var we=[ge,_e].join(" ").trim(),Se=de+" "+we,ke=o(we,J),De=he.to&&Object.keys(he.to).length>0,Te=(W.keyframeStyle||"").length>0;if(!Te&&!De&&!we)return T();var Ee,Ie;if(W.stagger>0){var Ae=parseFloat(W.stagger);Ie={transitionDelay:Ae,animationDelay:Ae,transitionDuration:0,animationDuration:0}}else Ee=y(q,Se),Ie=S(q,we,Ee,Ce);W.$$skipPreparationClasses||i.addClass(e,we);var $e;if(W.transitionStyle){var Be=[O,W.transitionStyle];C(q,Be),ue.push(Be)}if(W.duration>=0){$e=q.style[O].length>0;var Oe=A(W.duration,$e);C(q,Oe),ue.push(Oe)}if(W.keyframeStyle){var Pe=[M,W.keyframeStyle];C(q,Pe),ue.push(Pe)}var Me=Ie?W.staggerIndex>=0?W.staggerIndex:t.count(Ee):0,Re=0===Me;Re&&!W.skipBlocking&&b(q,ce);var Ve=$(q,Se,Ee),Le=Ve.maxDelay;ne=Math.max(Le,0),re=Ve.maxDuration;var Fe={};if(Fe.hasTransitions=Ve.transitionDuration>0,Fe.hasAnimations=Ve.animationDuration>0,Fe.hasTransitionAll=Fe.hasTransitions&&"all"==Ve.transitionProperty,Fe.applyTransitionDuration=De&&(Fe.hasTransitions&&!Fe.hasTransitionAll||Fe.hasAnimations&&!Fe.hasTransitions),Fe.applyAnimationDuration=W.duration&&Fe.hasAnimations,Fe.applyTransitionDelay=I(W.delay)&&(Fe.applyTransitionDuration||Fe.hasTransitions),Fe.applyAnimationDelay=I(W.delay)&&Fe.hasAnimations,Fe.recalculateTimingStyles=_e.length>0,(Fe.applyTransitionDuration||Fe.applyAnimationDuration)&&(re=W.duration?parseFloat(W.duration):re,Fe.applyTransitionDuration&&(Fe.hasTransitions=!0,Ve.transitionDuration=re,$e=q.style[O+oe].length>0,ue.push(A(re,$e))),Fe.applyAnimationDuration&&(Fe.hasAnimations=!0,Ve.animationDuration=re,ue.push(k(re)))),0===re&&!Fe.recalculateTimingStyles)return T();if(null!=W.delay){var ze;"boolean"!=typeof W.delay&&(ze=parseFloat(W.delay),ne=Math.max(ze,0)),Fe.applyTransitionDelay&&ue.push(D(ze)),Fe.applyAnimationDelay&&ue.push(D(ze,!0))}return null==W.duration&&Ve.transitionDuration>0&&(Fe.recalculateTimingStyles=Fe.recalculateTimingStyles||Re),ie=ne*ye,ae=re*ye,W.skipBlocking||(Fe.blockTransition=Ve.transitionDuration>0,Fe.blockKeyframeAnimation=Ve.animationDuration>0&&Ie.animationDelay>0&&0===Ie.animationDuration),W.from&&(W.cleanupStyles&&B(G,q,Object.keys(W.from)),f(e,W)),Fe.blockTransition||Fe.blockKeyframeAnimation?x(re):W.skipBlocking||b(q,!1),{$$willAnimate:!0,end:u,start:function(){return U?void 0:(te={end:u,cancel:d,resume:null,pause:null},ee=new s(te),E(j),ee)}}}}]}],ke=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,l,u,c,h){function p(e){return e.replace(/\bng-\S+\b/g,"")}function f(e,t){return j(e)&&(e=e.split(" ")),j(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function m(t,a,l){function u(e){var t={},n=v(e).getBoundingClientRect();return H(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=y.scrollTop;break;case"left":i+=y.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function c(){var t=e(g,{addClass:r,delay:!0,from:u(a)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function h(){var t=p(d(l)),n=f(t,_),i=f(_,t),a=e(g,{to:u(l),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function m(){g.remove(),a.removeClass(n),l.removeClass(n)}var g=z(v(a).cloneNode(!0)),_=p(d(g));a.addClass(n),l.addClass(n),g.addClass(i),b.append(g);var x,w=c();if(!w&&(x=h(),!x))return m();var C=w||x;return{start:function(){function e(){n&&n.end()}var t,n=C.start();return n.done(function(){return n=null,!x&&(x=h())?(n=x.start(),n.done(function(){n=null,m(),t.complete()}),n):(m(),void t.complete())}),t=new s({end:e,cancel:e})}}}function g(e,t,n,i){var r=_(e,V),o=_(t,V),a=[];return H(i,function(e){var t=e.out,i=e["in"],r=m(n,t,i);r&&a.push(r)}),r||o||0!==a.length?{start:function(){function e(){H(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),H(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:void 0}function _(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=S(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!u.animations&&!u.transitions)return V;var y=h[0].body,x=v(l),b=z(t(x)||y.contains(x)?x:y);d(c);return function(e){return e.from&&e.to?g(e.from,e.to,e.classes,e.anchors):_(e)}}]}],De=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=N(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=d(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(){f=!0,s(),p(e,a)}function u(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,_,v,o];break;case"addClass":a=[t,_,o];break;case"removeClass":a=[t,v,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(U(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(U(s))return s;return V}function c(e,t,i,r,o){var a=[];return H(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(e){a||(a=!0,(o||V)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,e,t,i,function(e){var t=e===!1;l(t)}),r})}),a}function d(e,t,i,r,o){var a=c(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",i,r,"beforeRemoveClass"),l=c(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",i,r,"removeClass"),l=c(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&H(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){H(t,function(t){e?t.cancel():t.end()})}}}var f=!1;3===arguments.length&&W(i)&&(a=i,i=null),a=h(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var m,g,_=a.addClass,v=a.removeClass,y=r(i);if(y.length){var x,b;"leave"==t?(b="leave",x="afterLeave"):(b="before"+t.charAt(0).toUpperCase()+t.substr(1),x=t),"enter"!==t&&"move"!==t&&(m=d(e,t,a,y,b)),g=d(e,t,a,y,x)}if(m||g){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(l(),w=new n,w.complete(!0)),w},start:function(){function e(e){l(e),w.complete(e)}function t(t){f||((i||V)(t),e(t))}if(w)return w;w=new n;var i,r=[];return m&&r.push(function(e){i=m(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),g&&r.push(function(e){i=g(e)}),w.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),w}}}}}]}],Te=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){H(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Ee="data-ng-animate",Ie="$ngAnimatePin",Ae=["$animateProvider",function(i){function r(e){if(!e)return null;var t=e.split(m),n=Object.create(null);return H(t,function(e){n[e]=!0}),n}function o(e,t){if(e&&t){var n=r(t);return e.split(m).some(function(e){return n[e]})}}function a(e,t,n,i){return _[e].some(function(e){return e(t,n,i)})}function u(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var c=1,f=2,m=" ",_=this.rules={skip:[],cancel:[],join:[]};_.join.push(function(e,t,n){return!t.structural&&u(t)}),_.skip.push(function(e,t,n){return!t.structural&&!u(t)}),_.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),_.skip.push(function(e,t,n){return n.structural&&n.state===f&&!t.structural}),_.cancel.push(function(e,t,n){return n.structural&&t.structural}),_.cancel.push(function(e,t,n){return n.state===f&&t.structural}),_.cancel.push(function(e,t,n){if(n.structural)return!1;var i=t.addClass,r=t.removeClass,a=n.addClass,s=n.removeClass;return G(i)&&G(r)||G(a)&&G(s)?!1:o(i,s)||o(r,a)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(r,o,m,_,b,w,C,S,k,D){function T(){var e=!1;return function(t){e?t():o.$$postDigest(function(){e=!0,t()})}}function E(e,t){return g(e,t,{})}function I(e,t,n){var i=v(t),r=v(e),o=[],a=J[n];return a&&H(a,function(e){re.call(e.node,i)?o.push(e.callback):"leave"===n&&re.call(e.node,r)&&o.push(e.callback)}),o}function A(e,t,n){var i=l(t);return e.filter(function(e){var t=e.node===i&&(!n||e.callback===n);return!t})}function $(e,t){"close"!==e||t[0].parentNode||oe.off(t)}function B(e,t,n){function i(t,n,i,o){k(function(){var t=I(m,e,n);t.length?r(function(){H(t,function(t){t(e,i,o)}),$(i,e)}):$(i,e)}),t.progress(n,i,o)}function l(t){x(e,b),ie(e,b),p(e,b),b.domOperation(),S.complete(!t)}var d,m,b=L(n);e=s(e),e&&(d=v(e),m=e.parent()),b=h(b);var S=new C,k=T();if(N(b.addClass)&&(b.addClass=b.addClass.join(" ")),b.addClass&&!j(b.addClass)&&(b.addClass=null),N(b.removeClass)&&(b.removeClass=b.removeClass.join(" ")),b.removeClass&&!j(b.removeClass)&&(b.removeClass=null),b.from&&!W(b.from)&&(b.from=null),b.to&&!W(b.to)&&(b.to=null),!d)return l(),S;var D=[d.className,b.addClass,b.removeClass].join(" ");if(!te(D))return l(),S;var A=["enter","move","leave"].indexOf(t)>=0,B=_[0].hidden,M=!X||B||Q.get(d),F=!M&&U.get(d)||{},z=!!F.state;if(M||z&&F.state==c||(M=!R(e,m,t)),M)return B&&i(S,t,"start"),l(),B&&i(S,t,"close"),S;A&&O(e);var G={structural:A,element:e,event:t,addClass:b.addClass,removeClass:b.removeClass,close:l,options:b,runner:S};if(z){var q=a("skip",e,G,F);if(q)return F.state===f?(l(),S):(g(e,F,G),F.runner);var Y=a("cancel",e,G,F);if(Y)if(F.state===f)F.runner.end();else{if(!F.structural)return g(e,F,G),F.runner;F.close()}else{var K=a("join",e,G,F);if(K){if(F.state!==f)return y(e,A?t:null,b),t=G.event=F.event,b=g(e,F,G),F.runner;E(e,G)}}}else E(e,G);var Z=G.structural;if(Z||(Z="animate"===G.event&&Object.keys(G.options.to||{}).length>0||u(G)),!Z)return l(),P(e),S;var J=(F.counter||0)+1;return G.counter=J,V(e,c,G),o.$$postDigest(function(){var n=U.get(d),r=!n;n=n||{};var o=e.parent()||[],a=o.length>0&&("animate"===n.event||n.structural||u(n));if(r||n.counter!==J||!a)return r&&(ie(e,b),p(e,b)),(r||A&&n.event!==t)&&(b.domOperation(),S.end()),void(a||P(e));t=!n.structural&&u(n,!0)?"setClass":n.event,V(e,f);var s=w(e,t,n.options);S.setHost(s),i(S,t,"start",{}),s.done(function(n){l(!n);var r=U.get(d);r&&r.counter===J&&P(v(e)),i(S,t,"close",{})})}),S}function O(e){var t=v(e),n=t.querySelectorAll("["+Ee+"]");H(n,function(e){var t=parseInt(e.getAttribute(Ee)),n=U.get(e);if(n)switch(t){case f:n.runner.end();case c:U.remove(e)}})}function P(e){var t=v(e);t.removeAttribute(Ee),U.remove(t)}function M(e,t){return v(e)===v(t)}function R(e,t,n){var i,r=z(_[0].body),o=M(e,r)||"HTML"===e[0].nodeName,a=M(e,m),s=!1,l=Q.get(v(e)),u=z.data(e[0],Ie);for(u&&(t=u),t=v(t);t&&(a||(a=M(t,m)),t.nodeType===K);){var c=U.get(t)||{};if(!s){var d=Q.get(t);if(d===!0&&l!==!1){l=!0;break}d===!1&&(l=!1),s=c.structural}if(G(i)||i===!0){var h=z.data(t,ne);q(h)&&(i=h)}if(s&&i===!1)break;if(o||(o=M(t,r)),o&&a)break;t=a||!(u=z.data(t,Ie))?t.parentNode:v(u)}var p=(!s||i)&&l!==!0;return p&&a&&o}function V(e,t,n){n=n||{},n.state=t;var i=v(e);i.setAttribute(Ee,t);var r=U.get(i),o=r?F(r,n):n;U.put(i,o)}var U=new b,Q=new b,X=null,Z=o.$watch(function(){return 0===S.totalPendingRequests},function(e){e&&(Z(),o.$$postDigest(function(){o.$$postDigest(function(){null===X&&(X=!0)})}))}),J={},ee=i.classNameFilter(),te=ee?function(e){return ee.test(e)}:function(){return!0},ie=d(k),re=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},oe={on:function(e,t,n){var i=l(t);J[e]=J[e]||[],J[e].push({node:i,callback:n}),z(t).on("$destroy",function(){var r=U.get(i);r||oe.off(e,t,n)})},off:function(e,n,i){if(1!==arguments.length||t.isString(arguments[0])){var r=J[e];r&&(J[e]=1===arguments.length?null:A(r,n,i))}else{n=arguments[0];for(var o in J)J[o]=A(J[o],n)}},pin:function(e,t){n(Y(e),"element","not an element"),n(Y(t),"parentElement","not an element"),e.data(Ie,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,B(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!X;else{var i=Y(e);if(i){var r=v(e),o=Q.get(r);1===n?t=!o:Q.put(r,!t)}else t=X=!!e}return t}};return oe}]}],$e=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,l,u,c,f){function m(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,i=n.parentNode;o.put(n,e);for(var a;i;){if(a=o.get(i)){a.processed||(a=t(a));break}i=i.parentNode}return(a||r).children.push(e),e}function n(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];0>=r&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,i.push(e)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new c;for(i=0;i<e.length;i++){var a=e[i];o.put(a.domNode,e[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<e.length;i++)t(e[i]);return n(r)}var g=[],_=d(e);return function(c,d,y){function x(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),i=[];return H(n,function(e){var t=e.getAttribute(o);t&&t.length&&i.push(e)}),i}function b(e){var t=[],n={};H(e,function(e,i){var r=e.element,a=v(r),s=e.event,l=["enter","move"].indexOf(s)>=0,u=e.structural?x(a):[];if(u.length){var c=l?"to":"from";H(u,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][c]={animationID:i,element:z(e)}})}else t.push(e)});var i={},r={};return H(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(i[u]||(i[u]=!0,t.push(e[l])))}var c=e[a.animationID],d=e[s.animationID],h=a.animationID.toString();if(!r[h]){var p=r[h]={structural:!0,beforeStart:function(){c.beforeStart(),d.beforeStart()},close:function(){c.close(),d.close()},classes:w(c.classes,d.classes),from:c,to:d,anchors:[]};p.classes.length?t.push(p):(t.push(c),t.push(d))}r[h].anchors.push({out:a.element,"in":s.element})}),t}function w(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function C(e){for(var t=a.length-1;t>=0;t--){var n=a[t],i=l.get(n),r=i(e);if(r)return r}}function S(){c.addClass(te),$&&e.addClass(c,$),B&&(e.removeClass(c,B),B=null)}function k(e,t){function n(e){var n=r(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function D(){var e=r(c);!e||"leave"===d&&y.$$domOperationFired||e.end()}function T(t){c.off("$destroy",D),n(c),_(c,y),p(c,y),y.domOperation(),$&&e.removeClass(c,$),c.removeClass(te),I.complete(!t)}y=h(y);var E=["enter","move","leave"].indexOf(d)>=0,I=new u({end:function(){T()},cancel:function(){T(!0)}});if(!a.length)return T(),I;t(c,I);var A=i(c.attr("class"),i(y.addClass,y.removeClass)),$=y.tempClasses;$&&(A+=" "+$,y.tempClasses=null);var B;return E&&(B="ng-"+d+ee,e.addClass(c,B)),g.push({element:c,classes:A,event:d,structural:E,options:y,beforeStart:S,close:T}),c.on("$destroy",D),g.length>1?I:(s.$$postDigest(function(){var e=[];H(g,function(t){r(t.element)?e.push(t):t.close()}),g.length=0;var t=b(e),n=[];H(t,function(e){n.push({domNode:v(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(r(i)){var o=C(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),k(e,a)}else n()}})}),f(m(n))}),I)}}]}],Be=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[]).directive("ngAnimateSwap",Be).directive("ngAnimateChildren",_e).factory("$$rAFScheduler",ge).provider("$$animateQueue",Ae).provider("$$animation",$e).provider("$animateCss",Se).provider("$$animateCssDriver",ke).provider("$$animateJs",De).provider("$$animateJsDriver",Te)}(window,window.angular),/**
 * @license AngularJS v1.5.7
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,n,i){function r(e,i,r){var a,s;r=r||{},s=r.expires,a=t.isDefined(r.path)?r.path:o,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=a?";path="+a:"",l+=r.domain?";domain="+r.domain:"",l+=s?";expires="+s.toUTCString():"",l+=r.secure?";secure":"";var u=l.length+1;return u>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),l}var o=i.baseHref(),a=e[0];return function(e,t,n){a.cookie=r(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,n){i(t,void 0,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),/**
 * @license AngularJS v1.5.7
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function i(e,n){var i=!1,r=!1;this.ngClickOverrideEnabled=function(o){return t.isDefined(o)?(o&&!r&&(r=!0,a.$$moduleName="ngTouch",n.directive("ngClick",a),e.decorator("ngClickDirective",["$delegate",function(e){if(i)e.shift();else for(var t=e.length-1;t>=0;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),i=o,this):i},this.$get=function(){return{ngClickOverrideEnabled:function(){return i}}}}function r(e,n,i){o.directive(e,["$parse","$swipe",function(r,o){var a=75,s=.3,l=30;return function(u,c,d){function h(e){if(!p)return!1;var t=Math.abs(e.y-p.y),i=(e.x-p.x)*n;return f&&a>t&&i>0&&i>l&&s>t/i}var p,f,m=r(d[e]),g=["touch"];t.isDefined(d.ngSwipeDisableMouse)||g.push("mouse"),o.bind(c,{start:function(e,t){p=e,f=!0},cancel:function(e){f=!1},end:function(e,t){h(e)&&u.$apply(function(){c.triggerHandler(i),m(u,{$event:t})})}},g)}}])}var o=t.module("ngTouch",[]);o.provider("$touch",i),i.$inject=["$provide","$compileProvider"],o.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=t.changedTouches&&t.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function n(e,n){var i=[];return t.forEach(e,function(e){var t=r[e][n];t&&i.push(t)}),i.join(" ")}var i=10,r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,r,o){var a,s,l,u,c=!1;o=o||["mouse","touch"],t.on(n(o,"start"),function(t){l=e(t),c=!0,a=0,s=0,u=l,r.start&&r.start(l,t)});var d=n(o,"cancel");d&&t.on(d,function(e){c=!1,r.cancel&&r.cancel(e)}),t.on(n(o,"move"),function(t){if(c&&l){var n=e(t);if(a+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(i>a&&i>s))return s>a?(c=!1,void(r.cancel&&r.cancel(t))):(t.preventDefault(),void(r.move&&r.move(n,t)))}}),t.on(n(o,"end"),function(t){c&&(c=!1,r.end&&r.end(e(t),t))})}}}]);var a=["$parse","$timeout","$rootElement",function(e,i,r){function o(e,t,n,i){return Math.abs(e-n)<g&&Math.abs(t-i)<g}function a(e,t,n){for(var i=0;i<e.length;i+=2)if(o(e[i],e[i+1],t,n))return e.splice(i,i+2),!0;return!1}function s(e){if(!(Date.now()-c>m)){var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].clientX,r=t[0].clientY;1>i&&1>r||h&&h[0]===i&&h[1]===r||(h&&(h=null),"label"===n(e.target)&&(h=[i,r]),a(d,i,r)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function l(e){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,r=t[0].clientY;d.push(n,r),i(function(){for(var e=0;e<d.length;e+=2)if(d[e]==n&&d[e+1]==r)return void d.splice(e,e+2)},m,!1)}function u(e,t){d||(r[0].addEventListener("click",s,!0),r[0].addEventListener("touchstart",l,!0),d=[]),c=Date.now(),a(d,e,t)}var c,d,h,p=750,f=12,m=2500,g=25,_="ng-click-active";return function(n,i,r){function o(){h=!1,i.removeClass(_)}var a,s,l,c,d=e(r.ngClick),h=!1;i.on("touchstart",function(e){h=!0,a=e.target?e.target:e.srcElement,3==a.nodeType&&(a=a.parentNode),i.addClass(_),s=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=n[0];l=r.clientX,c=r.clientY}),i.on("touchcancel",function(e){o()}),i.on("touchend",function(e){var n=Date.now()-s,d=e.originalEvent||e,m=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],g=m[0],_=g.clientX,v=g.clientY,y=Math.sqrt(Math.pow(_-l,2)+Math.pow(v-c,2));h&&p>n&&f>y&&(u(_,v),a&&a.blur(),t.isDefined(r.disabled)&&r.disabled!==!1||i.triggerHandler("click",[e])),o()}),i.onclick=function(e){},i.on("click",function(e,t){n.$apply(function(){d(n,{$event:t||e})})}),i.on("mousedown",function(e){i.addClass(_)}),i.on("mousemove mouseup",function(e){i.removeClass(_)})}}];r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.5.7
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(w,x),function(e){var t=[];return o(e,l(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}function i(e){var n=[],i=l(n,t.noop);return i.chars(e),n.join("")}function r(e,n){var i,r={},o=e.split(",");for(i=0;i<o.length;i++)r[n?t.lowercase(o[i]):o[i]]=!0;return r}function o(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),c.innerHTML=t;var i=5;do{if(0===i)throw d("uinput","Failed to sanitize html because the input is unstable");i--,e.document.documentMode&&u(c),t=c.innerHTML,c.innerHTML=t}while(t!==c.innerHTML);for(var r=c.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),a(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!(o=r.firstChild)&&(1==r.nodeType&&n.end(r.nodeName.toLowerCase()),o=r.nextSibling,!o))for(;null==o&&(r=r.parentNode,r!==c);)o=r.nextSibling,1==r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=c.firstChild;)c.removeChild(r)}function a(e){for(var t={},n=0,i=e.length;i>n;n++){var r=e[n];t[r.name]=r.value}return t}function s(e){return e.replace(/&/g,"&amp;").replace(h,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(p,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o){e=t.lowercase(e),!i&&b[e]&&(i=e),i||w[e]!==!0||(r("<"),r(e),t.forEach(o,function(i,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;D[a]!==!0||C[a]===!0&&!n(i,l)||(r(" "),r(o),r('="'),r(s(i)),r('"'))}),r(">"))},end:function(e){e=t.lowercase(e),i||w[e]!==!0||f[e]===!0||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(s(e))}}}function u(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;r>i;i++){var o=n[i],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(t.removeAttributeNode(o),i--,r--)}var s=t.firstChild;s&&u(s),s=t.nextSibling,s&&u(s)}var c,d=t.$$minErr("$sanitize"),h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~ |!])/g,f=r("area,br,col,hr,img,wbr"),m=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g=r("rp,rt"),_=t.extend({},g,m),v=t.extend({},m,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),y=t.extend({},g,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),b=r("script,style"),w=t.extend({},f,v,y,_),C=r("background,cite,href,longdesc,src,xlink:href"),S=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=t.extend({},C,k,S);!function(e){var t;if(!e.document||!e.document.implementation)throw d("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)c=i[0];else{var r=t.createElement("html");c=t.createElement("body"),r.appendChild(c),t.appendChild(r)}}(e),t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isString;return function(s,l,u){function c(e){e&&_.push(i(e))}function d(e,n){var i,r=m(e);_.push("<a ");for(i in r)_.push(i+'="'+r[i]+'" ');!t.isDefined(l)||"target"in r||_.push('target="',l,'" '),_.push('href="',e.replace(/"/g,"&quot;"),'">'),c(n),_.push("</a>")}if(null==s||""===s)return s;if(!a(s))throw o("notstring","Expected string but received: {0}",s);for(var h,p,f,m=t.isFunction(u)?u:t.isObject(u)?function(){return u}:function(){return{}},g=s,_=[];h=g.match(n);)p=h[0],h[2]||h[4]||(p=(h[3]?"http://":"mailto:")+p),f=h.index,c(g.substr(0,f)),d(p,h[0].replace(r,"")),g=g.substring(f+h[0].length);return c(g),e(_.join(""))}}])}(window,window.angular),/**
 * @license AngularJS v1.5.7
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function e(e,t){return e?i(e)?e.indexOf(t)>=0:e.hasOwnProperty(t):void 0}return["$animate",function(t){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,r,o,a,s){var l,u=r[0],c=o.ngMessage||o.when,d=o.ngMessageExp||o.whenExp,h=function(e){l=e?i(e)?e:e.split(/[\s,]+/):null,a.reRender()};d?(h(n.$eval(d)),n.$watchCollection(d,h)):h(c);var p,f;a.register(u,f={test:function(t){return e(l,t)},attach:function(){p||s(function(e,n){t.enter(e,null,r),p=e;var i=p.$$attachId=a.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===i&&(a.deregister(u),f.detach()),n.$destroy()})})},detach:function(){if(p){var e=p;p=null,t.leave(e)}}})}}}]}var i=t.isArray,r=t.forEach,o=t.isString,a=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function t(e,t){return o(t)&&0===t.length||n(e.$eval(t))}function n(e){return o(e)?e.length:!!e}var i="ng-active",a="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,s,l){function u(e,t){for(var n=t,i=[];n&&n!==e;){var r=n.$$ngMessageNode;if(r&&r.length)return _[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}function c(e,t,n){var i=_[n];if(h.head){var r=u(e,t);r?(i.next=r.next,r.next=i):(i.next=h.head,h.head=i)}else h.head=i}function d(e,t,n){var i=_[n],r=u(e,t);r?r.next=i.next:h.head=i.next}var h=this,p=0,f=0;this.getAttachId=function(){return f++};var m,g,_=this.messages={};this.render=function(u){u=u||{},m=!1,g=u;for(var c=t(s,l.ngMessagesMultiple)||t(s,l.multiple),d=[],p={},f=h.head,_=!1,v=0;null!=f;){v++;var y=f.message,x=!1;_||r(u,function(e,t){if(!x&&n(e)&&y.test(t)){if(p[t])return;p[t]=!0,x=!0,y.attach()}}),x?_=!c:d.push(y),f=f.next}r(d,function(e){e.detach()}),d.length!==v?e.setClass(o,i,a):e.setClass(o,a,i)},s.$watchCollection(l.ngMessages||l["for"],h.render),o.on("$destroy",function(){r(_,function(e){e.message.detach()})}),this.reRender=function(){m||(m=!0,s.$evalAsync(function(){m&&g&&h.render(g)}))},this.register=function(e,t){var n=p.toString();_[n]={message:t},c(o[0],e,n),e.$$ngMessageNode=n,p++,h.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,d(o[0],e,t),delete _[t],h.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){function i(e,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):t[0].createComment(" ngMessagesInclude: "+i+" "),o=a(r);e.after(o),e.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,r,a){var s=a.ngMessagesInclude||a.src;e(s).then(function(e){t.$$destroyed||(o(e)&&!e.trim()?i(r,s):n(e)(t,function(e){r.after(e),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),/**
 * @license AngularJS v1.5.7
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function e(e,t,i,r){return function(a,s,l){var u=l.$normalize(t);!n[u]||o(s,i)||l[u]||a.$watch(l[e],function(e){e=r?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var i=t.module("ngAria",["ng"]).provider("$aria",n),r=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],o=function(e,t){return-1!==t.indexOf(e[0].nodeName)?!0:void 0};i.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",r,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",r,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",r,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",r,!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,i,a){return e.config(n)&&!i.attr(t)&&(a||!o(i,r))}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function i(e,t){var n=e.type,i=e.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(r,o){var a=i(o,r);return{pre:function(e,t,n,i){"checkbox"===a&&(i.$isEmpty=function(e){return e===!1})},post:function(i,r,o,s){function l(){return s.$modelValue}function u(e){var t=o.value==s.$viewValue;r.attr("aria-checked",t)}function c(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=t("tabindex","tabindex",r,!1);switch(a){case"radio":case"checkbox":n(a,r)&&r.attr("role",a),t("aria-checked","ariaChecked",r,!1)&&i.$watch(l,"radio"===a?u:c),d&&r.attr("tabindex",0);break;case"range":if(n(a,r)&&r.attr("role","slider"),e.config("ariaValue")){var h=!r.attr("aria-valuemin")&&(o.hasOwnProperty("min")||o.hasOwnProperty("ngMin")),p=!r.attr("aria-valuemax")&&(o.hasOwnProperty("max")||o.hasOwnProperty("ngMax")),f=!r.attr("aria-valuenow");h&&o.$observe("min",function(e){r.attr("aria-valuemin",e)}),p&&o.$observe("max",function(e){r.attr("aria-valuemax",e)}),f&&i.$watch(l,function(e){r.attr("aria-valuenow",e)})}d&&r.attr("tabindex",0)}!o.hasOwnProperty("ngRequired")&&s.$validators.required&&t("aria-required","ariaRequired",r,!1)&&o.$observe("required",function(){r.attr("aria-required",!!o.required)}),t("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return s.$invalid},function(e){r.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",r,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,i){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,i){var a=t(i.ngClick,null,!0);return function(t,n,i){o(n,r)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),e.config("bindKeypress")&&!i.ngKeypress&&n.on("keypress",function(e){function n(){a(t,{$event:e})}var i=e.which||e.keyCode;(32===i||13===i)&&t.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,i){!e.config("tabindex")||n.attr("tabindex")||o(n,r)||n.attr("tabindex",0)}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return j(new(j(function(){},{prototype:e})),t)}function r(e){return N(arguments,function(t){t!==e&&N(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return N(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=o(n,i),u={},c=[];for(var d in l)if(l[d]&&l[d].params&&(r=a(l[d].params),r.length))for(var h in r)s(c,r[h])>=0||(c.push(r[h]),u[r[h]]=e[r[h]]);return j({},u,t)}function u(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return N(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t}function h(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function p(e,t){var n=H(e),i=n?[]:{};return N(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function f(e,t){var n=H(e)?[]:{};return N(e,function(e,i){n[i]=t(e,i)}),n}function m(e,t){var i=1,o=2,l={},u=[],c=l,d=j(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if(v[n]!==o){if(_.push(n),v[n]===i)throw _.splice(0,s(_,n)),new Error("Cyclic dependency: "+_.join(" -> "));if(v[n]=i,F(e))g.push(n,[function(){return t.get(e)}],u);else{var r=t.annotate(e);N(r,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),g.push(n,e,r)}_.pop(),v[n]=o}}function f(e){return z(e)&&e.then&&e.$$promises}if(!z(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],_=[],v={};return N(l,p),l=_=v=null,function(i,o,a){function s(){--x||(b||r(y,o.$$values),_.$$values=y,_.$$promises=_.$$promises||!0,delete _.$$inheritedValues,p.resolve(y))}function l(e){_.$$failure=e,p.reject(e)}function u(n,r,o){function u(e){d.reject(e),l(e)}function c(){if(!V(_.$$failure))try{d.resolve(t.invoke(r,a,y)),d.promise.then(function(e){y[n]=e,s()},u)}catch(e){u(e)}}var d=e.defer(),h=0;N(o,function(e){v.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(h++,v[e].then(function(t){y[e]=t,--h||c()},u))}),h||c(),v[n]=d.promise}if(f(i)&&a===n&&(a=o,o=i,i=null),i){if(!z(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var p=e.defer(),_=p.promise,v=_.$$promises={},y=j({},i),x=1+g.length/3,b=!1;if(V(o.$$failure))return l(o.$$failure),_;o.$$inheritedValues&&r(y,h(o.$$inheritedValues,m)),j(v,o.$$promises),o.$$values?(b=r(y,h(o.$$values,m)),_.$$inheritedValues=h(o.$$values,m),s()):(o.$$inheritedValues&&(_.$$inheritedValues=h(o.$$inheritedValues,m)),o.then(s,l));for(var w=0,C=g.length;C>w;w+=3)i.hasOwnProperty(g[w])?s():u(g[w],g[w+1],g[w+2]);return _}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function g(e,t,n){this.fromConfig=function(e,t,n){return V(e.template)?this.fromString(e.template,t):V(e.templateUrl)?this.fromUrl(e.templateUrl,t):V(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return L(e)?e(t):e},this.fromUrl=function(n,i){return L(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function _(e,t,r){function o(t,n,i,r){if(g.push(t),f[t])return f[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new q.Param(t,n,i,r),m[t]}function a(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function s(r,o){var a,s,l,u,c;return a=r[2]||r[3],c=t.params[a],l=e.substring(h,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),s&&(u=q.type(s)||i(q.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}t=j({params:{}},z(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",h=0,p=this.segments=[],f=r?r.params:{},m=this.params=r?r.params.$$new():new q.ParamSet,g=[];this.source=e;for(var _,v,y;(l=u.exec(e))&&(_=s(l,!1),!(_.segment.indexOf("?")>=0));)v=o(_.id,_.type,_.cfg,"path"),d+=a(_.segment,v.type.pattern.source,v.squash,v.isOptional),p.push(_.segment),h=u.lastIndex;y=e.substring(h);var x=y.indexOf("?");if(x>=0){var b=this.sourceSearch=y.substring(x);if(y=y.substring(0,x),this.sourcePath=e.substring(0,h+x),b.length>0)for(h=0;l=c.exec(b);)_=s(l,!0),v=o(_.id,_.type,_.cfg,"search"),h=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(y)+(t.strict===!1?"/?":"")+"$",p.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=g}function v(e){j(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function r(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function o(){return{strict:m,caseInsensitive:h}}function l(e){return L(e)||H(e)&&L(e[e.length-1])}function u(){for(;w.length;){var e=w.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(x[e.name],d.invoke(e.def))}}function c(e){j(this,e||{})}q=this;var d,h=!1,m=!0,g=!1,x={},b=!0,w=[],C={string:{encode:e,decode:r,is:function(e){return null==e||!V(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return V(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return V(e)&&(h=e),h},this.strictMode=function(e){return V(e)&&(m=e),m},this.defaultSquashPolicy=function(e){if(!V(e))return g;if(e!==!0&&e!==!1&&!F(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return g=e,e},this.compile=function(e,t){return new _(e,j(o(),t))},this.isMatcher=function(e){if(!z(e))return!1;var t=!0;return N(_.prototype,function(n,i){L(n)&&(t=t&&V(e[i])&&L(e[i]))}),t},this.type=function(e,t,n){if(!V(t))return x[e];if(x.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return x[e]=new v(j({name:e},t)),n&&(w.push({name:e,def:n}),b||u()),this},N(C,function(e,t){x[t]=new v(j({name:t},e))}),x=i(x,{}),this.$get=["$injector",function(e){return d=e,b=!1,u(),N(C,function(e,t){x[t]||(x[t]=new v(e))}),this}],this.Param=function(e,i,r,o){function u(e){var t=z(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i?i:n.type?t.isString(n.type)?x[n.type]:n.type instanceof v?n.type:new v(n.type):"config"===r?x.any:x.string}function h(){var t={array:"search"===o?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return j(t,n,r).array}function m(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!V(n)||null==n)return g;if(n===!0||F(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function _(e,t,i,r){var o,a,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=H(e.replace)?e.replace:[],F(r)&&o.push({from:r,to:n}),a=f(o,function(e){return e.from}),p(l,function(e){return-1===s(a,e.from)}).concat(o)}function y(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(r.$$fn);if(null!==e&&e!==n&&!C.type.is(e))throw new Error("Default value ("+e+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(p(C.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),V(e)?C.type.$normalize(e):y()}function w(){return"{Param:"+e+" "+i+" squash: '"+D+"' optional: "+k+"}"}var C=this;r=u(r),i=c(r,i,o);var S=h();i=S?i.$asArray(S,"search"===o):i,"string"!==i.name||S||"path"!==o||r.value!==n||(r.value="");var k=r.value!==n,D=m(r,k),T=_(r,S,k,D);j(this,{id:e,type:i,location:o,array:S,squash:D,replace:T,isOptional:k,value:b,dynamic:n,config:r,toString:w})},c.prototype={$$new:function(){return i(this,j(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),N(t,function(t){N(a(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return N(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return N(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var i,r,o,a,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],o=e[l[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function x(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return V(i)?i:!0}function s(i,r,o,a,s){function h(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function p(e){function t(e){var t=e(o,i);return t?(F(t)&&i.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){m&&i.url()===m;m=n;var r,a=u.length;for(r=0;a>r;r++)if(t(u[r]))return;c&&t(c)}}function f(){return l=l||r.$on("$locationChangeSuccess",p)}var m,g=a.baseHref(),_=i.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){return e?void(_=i.url()):void(i.url()!==_&&(i.url(_),i.replace()))},push:function(e,t,r){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),m=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(r);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=h(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(e){if(!L(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(F(e)){var t=e;e=function(){return t}}else if(!L(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=F(t);if(F(e)&&(e=i.compile(e)),!s&&!L(t)&&!H(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),j(function(n,i){return a(n,t,e.exec(i.path(),i.search()))},{prefix:F(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),j(function(n,i){return a(n,t,e.exec(i.path()))},{prefix:r(e)})}},u={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function b(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function h(e,t){if(!e)return n;var i=F(e),r=i?e:e.name,a=o(r);if(a){if(!t)throw new Error("No reference point given for path '"+r+"'");t=h(t);for(var s=r.split("."),l=0,u=s.length,c=t;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),r=c.name+(c.name&&s?".":"")+s}var d=k[r];return!d||!i&&(i||d!==e&&d.self!==e)?n:d}function p(e,t){D[e]||(D[e]=[]),D[e].push(t)}function m(e){for(var t=D[e]||[];t.length;)g(t.shift())}function g(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!F(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(k.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):F(t.parent)?t.parent:z(t.parent)&&F(t.parent.name)?t.parent.name:"";if(r&&!k[r])return p(r,t.self);for(var o in E)L(E[o])&&(t[o]=E[o](t,E.$delegates[o]));return k[n]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&u(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function _(e){return e.indexOf("*")>-1}function v(e){for(var t=e.split("."),n=S.$current.name.split("."),i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function y(e,t){return F(e)&&!V(t)?E[e]:L(t)&&F(e)?(E[e]&&!E.$delegates[e]&&(E.$delegates[e]=E[e]),E[e]=t,this):this}function x(e,t){return z(e)?t=e:t.name=e,g(t),this}function b(e,r,o,s,d,p,m,g,y){function x(t,n,i,o){var a=e.$broadcast("$stateNotFound",t,n,i);if(a.defaultPrevented)return m.update(),I;if(!a.retry)return null;if(o.$retry)return m.update(),A;var s=S.transition=r.when(a.retry);return s.then(function(){return s!==S.transition?D:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return I}),m.update(),s}function b(e,n,i,a,l,u){function h(){var n=[];return N(e.views,function(i,r){var a=i.resolve&&i.resolve!==e.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:l.globals,params:p,notify:u.notify})||""}],n.push(d.resolve(a,l.globals,l.resolve,e).then(function(n){if(L(i.controllerProvider)||H(i.controllerProvider)){var o=t.extend({},a,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var p=i?n:c(e.params.$$keys(),n),f={$stateParams:p};l.resolve=d.resolve(e.resolve,f,l.resolve,e);var m=[l.resolve.then(function(e){l.globals=e})];return a&&m.push(a),r.all(m).then(h).then(function(e){return l})}var D=r.reject(new Error("transition superseded")),E=r.reject(new Error("transition prevented")),I=r.reject(new Error("transition aborted")),A=r.reject(new Error("transition failed"));return C.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:C.self,$current:C,transition:null},S.reload=function(e){return S.transitionTo(S.current,p,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,j({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,o){n=n||{},o=j({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=S.$current,d=S.params,f=u.path,g=h(t,o.relative),_=n["#"];if(!V(g)){var v={to:t,toParams:n,options:o},y=x(v,u.self,d,o);if(y)return y;if(t=v.to,n=v.toParams,o=v.options,g=h(t,o.relative),!V(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(p,n||{},S.$current,g)),!g.params.$$validates(n))return A;n=g.params.$$values(n),t=g;var k=t.path,I=0,$=k[I],B=C.locals,O=[];if(o.reload){if(F(o.reload)||z(o.reload)){if(z(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var P=o.reload===!0?f[0]:h(o.reload);if(o.reload&&!P)throw new Error("No such reload state '"+(F(o.reload)?o.reload:o.reload.name)+"'");for(;$&&$===f[I]&&$!==P;)B=O[I]=$.locals,I++,$=k[I]}}else for(;$&&$===f[I]&&$.ownParams.$$equals(n,d);)B=O[I]=$.locals,I++,$=k[I];if(w(t,n,u,d,B,o))return _&&(n["#"]=_),S.params=n,W(S.params,p),W(c(t.params.$$keys(),p),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),S.transition=null,r.when(S.current);if(n=c(t.params.$$keys(),n||{}),_&&(n["#"]=_),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,d,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,d),null==S.transition&&m.update(),E;for(var M=r.when(B),R=I;R<k.length;R++,$=k[R])B=O[R]=i(B),M=b($,n,$===t,M,B,o);var L=S.transition=M.then(function(){var i,r,a;if(S.transition!==L)return D;for(i=f.length-1;i>=I;i--)a=f[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=I;i<k.length;i++)r=k[i],r.locals=O[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return S.transition!==L?D:(S.$current=t,S.current=t.self,S.params=n,W(S.params,p),S.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,d),m.update(!0),S.current)},function(i){return S.transition!==L?D:(S.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,d,i),a.defaultPrevented||m.update(),r.reject(i))});return L},S.is=function(e,t,i){i=j({relative:S.$current},i||{});var r=h(e,i.relative);return V(r)?S.$current!==r?!1:t?u(r.params.$$values(t),p):!0:n},S.includes=function(e,t,i){if(i=j({relative:S.$current},i||{}),F(e)&&_(e)){if(!v(e))return!1;e=S.$current.name}var r=h(e,i.relative);return V(r)?V(S.$current.includes[r.name])?t?u(r.params.$$values(t),p,a(t)):!0:!1:n},S.href=function(e,t,i){i=j({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var r=h(e,i.relative);if(!V(r))return null;i.inherit&&(t=l(p,t||{},S.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return f(a(k),function(e){return k[e].self});var n=h(e,t||S.$current);return n&&n.self?n.self:null},S}function w(e,t,n,i,r,o){function a(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),o=d.apply({},[e.params].concat(r)),a=new q.ParamSet(o);return a.$$equals(t,n)}return!o.reload&&e===n&&(r===n.locals||e.self.reloadOnSearch===!1&&a(n,i,t))?!0:void 0}var C,S,k={},D={},T="abstract",E={parent:function(e){if(V(e.parent)&&e.parent)return h(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?h(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(F(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new q.ParamSet;return N(e.params||{},function(e,n){t[n]||(t[n]=new q.Param(n,null,e,"config"))}),t},params:function(e){var t=d(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?j(e.parent.params.$$new(),t):new q.ParamSet},views:function(e){var t={};return N(V(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?j({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=g({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=y,this.state=x,this.$get=b,b.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(e,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=j(r,n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function C(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,i,r){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,n){function i(e){return 1===U&&Y>=4?!!u.enabled(e):1===U&&Y>=2?!!u.enabled():!!l}var r={enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}};if(e.noanimation)return r;if(u)return{enter:function(e,n,o){i(e)?t.version.minor>2?u.enter(e,null,n).then(o):u.enter(e,null,n,o):r.enter(e,n,o)},leave:function(e,n){i(e)?t.version.minor>2?u.leave(e).then(n):u.leave(e,n):r.leave(e,n)}};if(l){var o=l&&l(n,e);return{enter:function(e,t,n){o.enter(e,null,t),n()},leave:function(e,t){o.leave(e),t()}}}return r}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){function e(){t&&t.remove(),n&&n.$destroy()}var t=d,n=p;n&&(n._willBeDestroyed=!0),h?(_.leave(h,function(){e(),d=null}),d=h):(e(),d=null),h=null,p=null}function c(a){var c,d=D(n,l,o,r),v=d&&e.$current&&e.$current.locals[d];if((a||v!==f)&&!n._willBeDestroyed){c=n.$new(),f=e.$current.locals[d],c.$emit("$viewContentLoading",d);var y=s(c,function(e){_.enter(e,o,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&i(e)}),u()});h=y,p=c,p.$emit("$viewContentLoaded",d),p.$eval(m)}}var d,h,p,f,m=l.onload||"",g=l.autoscroll,_=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return c}function k(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,s){var l=n.$current,u=D(r,s,a,i),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var d=e(a.contents());if(c.$$controller){c.$scope=r,c.$element=a;var h=t(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=h),a.data("$ngControllerController",h),a.children().data("$ngControllerController",h)}d(r)}}}}}function D(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function T(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function E(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function I(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function A(e,t,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var u=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function $(e,t){return{relative:E(e)||t.$current,inherit:!0}}function B(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s=T(o.uiSref,e.current.name),l={state:s.state,href:null,params:null},u=I(r),c=a[1]||a[0];l.options=j($(r,e),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var d=function(n){n&&(l.params=t.copy(n)),l.href=e.href(s.state,l.params,l.options),c&&c.$$addStateInfo(s.state,l.params),null!==l.href&&o.$set(u.attr,l.href)};s.paramExpr&&(i.$watch(s.paramExpr,function(e){e!==l.params&&d(e)},!0),l.params=t.copy(i.$eval(s.paramExpr))),d(),u.clickable&&r.bind("click",A(r,e,n,u,function(){return l}))}}}function O(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function a(t){d.state=t[0],d.params=t[1],d.options=t[2],d.href=e.href(d.state,d.params,d.options),l&&l.$$addStateInfo(d.state,d.params),d.href&&r.$set(s.attr,d.href)}var s=I(i),l=o[1]||o[0],u=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],c="["+u.map(function(e){return e||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null};n.$watch(c,a,!0),a(n.$eval(c)),s.clickable&&i.bind("click",A(i,e,t,s,function(){return d}))}}}function P(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,r,o){function a(t,n,r){var o=e.get(t,E(i)),a=s(t,n);m.push({state:o||{name:t},params:n,hash:a}),g[a]=r}function s(e,n){if(!F(e))throw new Error("state should be a string");return z(n)?e+G(n):(n=t.$eval(n),z(n)?e+G(n):e)}function l(){for(var e=0;e<m.length;e++)d(m[e].state,m[e].params)?u(i,g[m[e].hash]):c(i,g[m[e].hash]),h(m[e].state,m[e].params)?u(i,p):c(i,p)}function u(e,t){o(function(){e.addClass(t)})}function c(e,t){e.removeClass(t)}function d(t,n){return e.includes(t.name,n)}function h(t,n){return e.is(t.name,n)}var p,f,m=[],g={};p=n(r.uiSrefActiveEq||"",!1)(t);try{f=t.$eval(r.uiSrefActive)}catch(_){}f=f||n(r.uiSrefActive||"",!1)(t),z(f)&&N(f,function(n,i){if(F(n)){var r=T(n,e.current.name);a(r.state,t.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(e,t){z(f)&&m.length>0||(a(e,t,f),l())},t.$on("$stateChangeSuccess",l),l()}]}}function M(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function R(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var V=t.isDefined,L=t.isFunction,F=t.isString,z=t.isObject,H=t.isArray,N=t.forEach,j=t.extend,W=t.copy,G=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var q;_.prototype.concat=function(e,t){var n={caseInsensitive:q.caseInsensitive(),strict:q.strictMode(),squash:q.defaultSquashPolicy()};return new _(this.sourcePath+e+this.sourceSearch,j(n,t),this)},_.prototype.toString=function(){return this.source},_.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),r=f(i,t);return f(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var d,h;for(r=0;u>r;r++){for(a=s[r],d=this.params[a],h=i[r+1],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);h&&d.array===!0&&(h=n(h)),V(h)&&(h=d.type.decode(h)),c[a]=d.value(h)}for(;l>r;r++){for(a=s[r],c[a]=this.params[a].value(t[a]),d=this.params[a],h=t[a],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);V(h)&&(h=d.type.decode(h)),c[a]=d.value(h)}return c},_.prototype.parameters=function(e){return V(e)?this.params[e]||null:this.$$paramNames},_.prototype.validates=function(e){return this.params.$$validates(e)},_.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=i.length,u=n[0];for(o=0;l>o;o++){var c=s>o,d=i[o],h=r[d],p=h.value(e[d]),m=h.isOptional&&h.type.equals(h.value(),p),g=m?h.squash:!1,_=h.type.encode(p);if(c){var v=n[o+1],y=o+1===s;if(g===!1)null!=_&&(u+=H(_)?f(_,t).join("-"):encodeURIComponent(_)),u+=v;else if(g===!0){var x=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=v.match(x)[1]}else F(g)&&(u+=g+v);y&&h.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==_||m&&g!==!1)continue;if(H(_)||(_=[_]),0===_.length)continue;_=f(_,encodeURIComponent).join("&"+d+"="),u+=(a?"&":"?")+(d+"="+_),a=!0}}return u},v.prototype.is=function(e,t){return!0},v.prototype.encode=function(e,t){return e},v.prototype.decode=function(e,t){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},v.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return H(e)?e:V(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){if(H(n)&&0===n.length)return n;n=r(n);var i=f(n,e);return t===!0?0===p(i,a).length:o(i)}}function l(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",x),b.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",b),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",C);var U=t.version.major,Y=t.version.minor;S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],k.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",k),B.$inject=["$state","$timeout"],O.$inject=["$state","$timeout"],P.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",B).directive("uiSrefActive",P).directive("uiSrefActiveEq",P).directive("uiState",O),
M.$inject=["$state"],R.$inject=["$state"],t.module("ui.router.state").filter("isState",M).filter("includedByState",R)}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.14.3 - 2015-10-23
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var n=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,i,r){function o(){i.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),n?n(i,{addClass:"in",easing:"ease",to:{height:i[0].scrollHeight+"px"}}).start()["finally"](a):e.addClass(i,"in",{to:{height:i[0].scrollHeight+"px"}}).then(a)}function a(){i.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function s(){return i.hasClass("collapse")||i.hasClass("in")?(i.css({height:i[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(n?n(i,{removeClass:"in",to:{height:"0"}}).start()["finally"](l):e.removeClass(i,"in",{to:{height:"0"}}).then(l))):l()}function l(){i.css({height:"0"}),i.removeClass("collapsing").addClass("collapse")}t.$watch(r.uibCollapse,function(e){e?s():o()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(e,t,n,i){var r=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,o,a){function s(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start().done(l):e.animate(o,{},{height:o[0].scrollHeight+"px"}).then(l)}function l(){o.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function u(){return o.hasClass("collapse")||o.hasClass("in")?(o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(r?r(o,{to:{height:"0"}}).start().done(c):e.animate(o,{},{height:"0"}).then(c))):c()}function c(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse")}i||n.warn("collapse is now deprecated. Use uib-collapse instead."),t.$watch(a.collapse,function(e){e?u():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,i){i=i[0]?i[0]:i[1],e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,i,r){r||i.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(n,i,r,o){t||e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),o.addGroup(n),n.openClass=r.openClass||"panel-open",n.panelClass=r.panelClass,n.$watch("isOpen",function(e){i.toggleClass(n.openClass,!!e),e&&o.closeOthers(n)}),n.toggleOpen=function(e){n.isDisabled||e&&32!==e.which||(n.isOpen=!n.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,i,r,o,a){t||e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),o.setHeading(a(n,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordionGroup",link:function(n,i,r,o){t||e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),n.$watch(function(){return o[r.accordionTransclude]},function(e){e&&(i.find("span").html(""),i.find("span").append(e))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,i){e.closeable=!!t.close;var r=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;r&&i(function(){e.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,i,r){r||i.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,t,n,i){var r=i[0],o=i[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,e.$eval(n.uibBtnRadio)))},t.on(r.toggleEvent,function(){if(!n.disabled){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(i?null:e.$eval(n.uibBtnRadio)),o.$render()})}})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,t){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(n,i,r,o){t||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var a=o[0],s=o[1];i.find("input").css({display:"none"}),s.$render=function(){i.toggleClass(a.activeClass,angular.equals(s.$modelValue,n.$eval(r.btnRadio)))},i.bind(a.toggleEvent,function(){if(!r.disabled){var e=i.hasClass(a.activeClass);(!e||angular.isDefined(r.uncheckable))&&n.$apply(function(){s.$setViewValue(e?null:n.$eval(r.btnRadio)),s.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,t,n){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(i,r,o,a){function s(){return u(o.btnCheckboxTrue,!0)}function l(){return u(o.btnCheckboxFalse,!1)}function u(e,t){var n=i.$eval(e);return angular.isDefined(n)?n:t}n||t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var c=a[0],d=a[1];r.find("input").css({display:"none"}),d.$render=function(){r.toggleClass(c.activeClass,angular.equals(d.$modelValue,s()))},r.bind(c.toggleEvent,function(){o.disabled||i.$apply(function(){d.$setViewValue(r.hasClass(c.activeClass)?l():s()),d.$render()})}),r.on("keypress",function(t){o.disabled||32!==t.which||e[0].activeElement!==r[0]||i.$apply(function(){d.$setViewValue(r.hasClass(c.activeClass)?l():s()),d.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(e,t,n,i){function r(t,n,r){v||(angular.extend(t,{direction:r,active:!0}),angular.extend(h.currentSlide||{},{direction:r,active:!1}),i.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&h.slides.length>1&&(t.$element.data(g,t.direction),h.currentSlide&&h.currentSlide.$element&&h.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,f?i.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),h.currentSlide=t,_=n,a())}function o(e){if(angular.isUndefined(p[e].index))return p[e];var t;p.length;for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function a(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;d&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}function u(t){t.length||(e.$currentTransition=null)}var c,d,h=this,p=h.slides=e.slides=[],f=angular.version.minor>=4,m="uib-noTransition",g="uib-slideDirection",_=-1;h.currentSlide=null;var v=!1;h.select=e.select=function(t,n){var i=e.indexOfSlide(t);void 0===n&&(n=i>h.getCurrentIndex()?"next":"prev"),t&&t!==h.currentSlide&&!e.$currentTransition&&r(t,i,n)},e.$on("$destroy",function(){v=!0}),h.getCurrentIndex=function(){return h.currentSlide&&angular.isDefined(h.currentSlide.index)?+h.currentSlide.index:_},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(h.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?void e.pause():h.select(o(t),"next")},e.prev=function(){var t=h.getCurrentIndex()-1<0?p.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?void e.pause():h.select(o(t),"prev")},e.isActive=function(e){return h.currentSlide===e},e.$watch("interval",a),e.$watchCollection("slides",u),e.$on("$destroy",s),e.play=function(){d||(d=!0,a())},e.pause=function(){e.noPause||(d=!1,s())},h.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(h.select(p[p.length-1]),1===p.length&&e.play()):t.active=!1},h.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?h.select(p[t-1]):h.select(p[t]):_>t&&_--,0===p.length&&(h.currentSlide=null)},e.$watch("noTransition",function(e){t.data(m,e)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var i="uib-noTransition",r="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,a,s){if("active"==a&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)){var l=!1,u=e.data(r),c="next"==u?"left":"right",d=n.bind(this,e,c+" "+u,s);return e.addClass(u),o?o(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,a,s){if("active"===a&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(i)){var l=!1,u=e.data(r),c="next"==u?"left":"right",d=n.bind(this,e,c,s);return o?o(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,i,r){r||i.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(e,t){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(n,i,r,o){t||e.warn("slide is now deprecated. Use uib-slide instead."),o.addSlide(n,i),n.$on("$destroy",function(){o.removeSlide(n)}),n.$watch("active",function(e){e&&o.select(n)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,n){function i(e){var t=[],i=e.split("");return angular.forEach(a,function(n,r){var o=e.indexOf(r);if(o>-1){e=e.split(""),i[o]="("+n.regex+")",e[o]="$";for(var a=o+1,s=o+r.length;s>a;a++)i[a]="",e[a]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(t,"index")}}function r(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o,a,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){o=t.id,this.parsers={},a={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(n,a,l){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace(s,"\\$&"),t.id!==o&&this.init(),this.parsers[a]||(this.parsers[a]=i(a));var u=this.parsers[a],c=u.regex,d=u.map,h=n.match(c);if(h&&h.length){var p,f;angular.isDate(l)&&!isNaN(l.getTime())?p={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,g=h.length;g>m;m++){var _=d[m-1];_.apply&&_.apply.call(p,h[m])}return r(p.year,p.month,p.date)&&(angular.isDate(l)&&!isNaN(l.getTime())?(f=new Date(l),f.setFullYear(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)):f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":s={top:h[c](),left:d[u]()};break;case"left":s={top:h[c](),left:r.left-o};break;case"bottom":s={top:h[u](),left:d[c]()};break;default:s={top:r.top-a,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(e,t,n,i,r,o,a,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){l[n]=angular.isDefined(t[n])?6>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=a[i]?new Date(a[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){l[i]=angular.isDefined(n)?n:t[i],e[i]=l[i],("minMode"==i&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[i])||"maxMode"==i&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[i]))&&(e.datepickerMode=l[i])}):(l[i]=a[i]||null,e[i]=l[i])}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){u=e,u.$render=function(){l.render()}},this.render=function(){if(u.$viewValue){var e=new Date(u.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){l.element[0].focus()};e.$on("uib:datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):e.toggleMode("up"===n?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;t>o;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,i,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var h=(11-this.startingDay)%7,p=e.rows.length,f=0;p>f;f++)e.weekNumbers.push(r(e.rows[f][h].date))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),o=0;12>o;o++)t=new Date(this.activeDate),t.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/r,10)*r+1}var r;this.element=t,this.yearpickerInit=function(){r=this.yearRange,this.step={years:r}},this._refreshView=function(){for(var t,n=new Array(r),o=0,a=i(this.activeDate.getFullYear());r>o;o++)t=new Date(this.activeDate),t.setFullYear(a+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[r-1].label].join(" - "),e.rows=this.split(n,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0]||i[2],o=i[1];o.init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0]||i[2],o=i[1];o.init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0]||i[2];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(e,t,n,i,r,o,a,s,l,u,c,d){
function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var n=u.parse(t,_,e.date);return isNaN(n)?void 0:n}return void 0}return null}function f(e,t){var i=e||t;if(!n.ngRequired&&!i)return!0;if(angular.isNumber(i)&&(i=new Date(i)),i){if(angular.isDate(i)&&!isNaN(i))return!0;if(angular.isString(i)){var r=u.parse(i,_);return!isNaN(r)}return!1}return!0}function m(n){var i=D[0],r=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||o||e.$apply(function(){e.isOpen=!1})}function g(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}var _,v,y,x,b,w,C,S,k,D,T={},E=!1;e.watchData={},this.init=function(s){if(k=s,v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):c.closeOnDateSelection,y=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):c.appendToBody,x=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):c.onOpenFocus,b=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:c.datepickerPopupTemplateUrl,w=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:c.datepickerTemplateUrl,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):c.showButtonBar,c.html5Types[n.type]?(_=c.html5Types[n.type],E=!0):(_=n.datepickerPopup||n.uibDatepickerPopup||c.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||c.datepickerPopup;if(n!==_&&(_=n,k.$modelValue=null,!_))throw new Error("uibDatepickerPopup must have a date format specified.")})),!_)throw new Error("uibDatepickerPopup must have a date format specified.");if(E&&n.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":b}),S=angular.element(C.children()[0]),S.attr("template-url",w),E&&"month"===n.type&&(S.attr("datepicker-mode",'"month"'),S.attr("min-mode","month")),n.datepickerOptions){var d=e.$parent.$eval(n.datepickerOptions);d&&d.initDate&&(e.initDate=d.initDate,S.attr("init-date","initDate"),delete d.initDate),angular.forEach(d,function(e,t){S.attr(h(t),e)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(n[t]){var i=r(n[t]);if(e.$parent.$watch(i,function(n){e.watchData[t]=n,("minDate"===t||"maxDate"===t)&&(T[t]=new Date(n))}),S.attr(h(t),"watchData."+t),"datepickerMode"===t){var o=i.assign;e.$watch("watchData."+t,function(t,n){angular.isFunction(o)&&t!==n&&o(e.$parent,t)})}}}),n.dateDisabled&&S.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.showWeeks&&S.attr("show-weeks",n.showWeeks),n.customClass&&S.attr("custom-class","customClass({ date: date, mode: mode })"),E?k.$formatters.push(function(t){return e.date=t,t}):(k.$$parserName="date",k.$validators.date=f,k.$parsers.unshift(p),k.$formatters.push(function(t){return e.date=t,k.$isEmpty(t)?t:l(t,_)})),k.$viewChangeListeners.push(function(){e.date=u.parse(k.$viewValue,_,e.date)}),t.bind("keydown",g),D=i(C)(e),C.remove(),y?o.find("body").append(D):t.after(D),e.$on("$destroy",function(){e.isOpen===!0&&(a.$$phase||e.$apply(function(){e.isOpen=!1})),D.remove(),t.unbind("keydown",g),o.unbind("click",m)})},e.getText=function(t){return e[t+"Text"]||c[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,T.minDate)<0||e.watchData.maxDate&&e.compare(t,T.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var i=e.date?l(e.date,_):null;t.val(i),k.$setViewValue(i),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.$watch("isOpen",function(n){n?(e.position=y?s.offset(t):s.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),d(function(){x&&e.$broadcast("uib:datepicker.focus"),o.bind("click",m)},0,!1)):o.unbind("click",m)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(e,t,n,i,r,o,a,s,l){l||r.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var u=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){u[n]=angular.isDefined(t[n])?6>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){u[i]=e?new Date(e):null,u.refreshView()}):u[i]=a[i]?new Date(a[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){u[i]=angular.isDefined(n)?n:t[i],e[i]=u[i],("minMode"==i&&u.modes.indexOf(e.datepickerMode)<u.modes.indexOf(u[i])||"maxMode"==i&&u.modes.indexOf(e.datepickerMode)>u.modes.indexOf(u[i]))&&(e.datepickerMode=u[i])}):(u[i]=a[i]||null,e[i]=u[i])}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(u.activeDate=e,u.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){u.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===u.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var d=function(){u.element[0].focus()};e.$on("uib:datepicker.focus",d),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),u.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):e.toggleMode("up"===n?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(n,i,r,o){t||e.warn("datepicker is now deprecated. Use uib-datepicker instead.");var a=o[0],s=o[1];a.init(s)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(n,i,r,o){t||e.warn("daypicker is now deprecated. Use uib-daypicker instead.");var a=o[0],s=o[1];s.init(a)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(n,i,r,o){t||e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var a=o[0],s=o[1];s.init(a)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(n,i,r,o){t||e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var a=o[0];angular.extend(a,o[1]),a.yearpickerInit(),a.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(e,t){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(n,i,r,o){t||e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var a=o[0],s=o[1];s.init(a)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",i),e.bind("keydown",r)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",i),e.unbind("keydown",r))};var i=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var r=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},r=function(e){27===e.which?(n.focusToggleElement(),i()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,u,c){var d,h,p=this,f=e.$new(),m=r.openClass,g=angular.noop,_=n.onToggle?i(n.onToggle):angular.noop,v=!1,y=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(h=i(n.isOpen),g=h.assign,e.$watch(h,function(e){f.isOpen=!!e})),v=angular.isDefined(n.dropdownAppendToBody),y=angular.isDefined(n.uibKeyboardNav),v&&p.dropdownMenu&&(l.find("body").append(p.dropdownMenu),t.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return y},f.focusDropdownEntry=function(e){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(v&&p.dropdownMenu){var r=s.positionElements(t,p.dropdownMenu,"bottom-left",!0),l={top:r.top+"px",display:n?"block":"none"},h=p.dropdownMenu.hasClass("dropdown-menu-right");h?(l.left="auto",l.right=window.innerWidth-(r.left+t.prop("offsetWidth"))+"px"):(l.left=r.left+"px",l.right="auto"),p.dropdownMenu.css(l)}if(a[n?"addClass":"removeClass"](t,m).then(function(){angular.isDefined(n)&&n!==i&&_(e,{open:!!n})}),n)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){d=f.$new(),u(e.trim())(d,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),o.open(f);else{if(p.dropdownMenuTemplateUrl){d&&d.$destroy();var y=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(y),p.dropdownMenu=y}o.close(f),p.selectedOption=null}angular.isFunction(g)&&g(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var x=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",x)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(e,t,n,i,r,o,a,s,l,u,c,d,h){h||d.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var p,f,m=this,g=e.$new(),_=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,x=!1,b=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(f=i(n.isOpen),v=f.assign,e.$watch(f,function(e){g.isOpen=!!e})),x=angular.isDefined(n.dropdownAppendToBody),b=angular.isDefined(n.uibKeyboardNav),x&&m.dropdownMenu&&(l.find("body").append(m.dropdownMenu),t.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(e){return g.isOpen=arguments.length?!!e:!g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return m.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return t},g.isKeynavEnabled=function(){return b},g.focusDropdownEntry=function(e){var n=m.dropdownMenu?angular.element(m.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(m.selectedOption)?m.selectedOption=m.selectedOption===n.length-1?m.selectedOption:m.selectedOption+1:m.selectedOption=0;break;case 38:angular.isNumber(m.selectedOption)?m.selectedOption=0===m.selectedOption?0:m.selectedOption-1:m.selectedOption=n.length-1}n[m.selectedOption].focus()},g.getDropdownElement=function(){return m.dropdownMenu},g.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},g.$watch("isOpen",function(n,i){if(x&&m.dropdownMenu){var r=s.positionElements(t,m.dropdownMenu,"bottom-left",!0),l={top:r.top+"px",display:n?"block":"none"},d=m.dropdownMenu.hasClass("dropdown-menu-right");d?(l.left="auto",l.right=window.innerWidth-(r.left+t.prop("offsetWidth"))+"px"):(l.left=r.left+"px",l.right="auto"),m.dropdownMenu.css(l)}if(a[n?"addClass":"removeClass"](t,_).then(function(){angular.isDefined(n)&&n!==i&&y(e,{open:!!n})}),n)m.dropdownMenuTemplateUrl&&c(m.dropdownMenuTemplateUrl).then(function(e){p=g.$new(),u(e.trim())(p,function(e){var t=e;m.dropdownMenu.replaceWith(t),m.dropdownMenu=t})}),g.focusToggleElement(),o.open(g);else{if(m.dropdownMenuTemplateUrl){p&&p.$destroy();var h=angular.element('<ul class="dropdown-menu"></ul>');m.dropdownMenu.replaceWith(h),m.dropdownMenu=h}o.close(g),m.selectedOption=null}angular.isFunction(v)&&v(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==g.getAutoClose()&&(g.isOpen=!1)});var w=e.$on("$destroy",function(){g.$destroy()});g.$on("$destroy",w)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,t){return{controller:"DropdownController",link:function(n,i,r,o){t||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),o.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"AC",require:"?^dropdown",link:function(n,i,r,o){if(o&&!angular.isDefined(r.dropdownNested)){t||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),i.addClass("dropdown-menu");var a=r.templateUrl;a&&(o.dropdownMenuTemplateUrl=a),o.dropdownMenu||(o.dropdownMenu=i)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"A",require:"?^dropdown",link:function(n,i,r,o){t||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),i.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=o.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===t.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=t.length-1}t[o.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,t){return{require:"?^dropdown",link:function(n,i,r,o){if(t||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),o){i.addClass("dropdown-toggle"),o.toggleElement=i;var a=function(e){e.preventDefault(),i.hasClass("disabled")||r.disabled||n.$apply(function(){o.toggle()})};i.bind("click",a),i.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(o.isOpen,function(e){i.attr("aria-expanded",!!e)}),n.$on("$destroy",function(){i.unbind("click",a)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,o){i.addClass("modal-backdrop"),o.modalInClass&&(r?r(i,{addClass:o.modalInClass}).start():e.addClass(i,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var a=n();r?r(i,{removeClass:o.modalInClass}).start().then(a):e.removeClass(i,o.modalInClass).then(a)}))}var r=null;return t.has("$animateCss")&&(r=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,t,n,i){var r=null;return i.has("$animateCss")&&(r=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=t.defer();a.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=r?r(o,{addClass:a.modalInClass}).start():n.addClass(o,a.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();r?r(o,{removeClass:a.modalInClass}).start().then(i):n.removeClass(o,a.modalInClass).then(i)})),t.when(s).then(function(){var e=o[0].querySelector("[autofocus]");e?e.focus():o[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,i,r,o,a,s,l){function u(){for(var e=-1,t=x.keys(),n=0;n<t.length;n++)x.get(t[n]).value.backdrop&&(e=n);return e}function c(e,t){var i=n.find("body").eq(0),r=x.get(e).value;x.remove(e),p(r.modalDomEl,r.modalScope,function(){var t=r.openedClass||y;b.remove(t,e),i.toggleClass(t,b.hasKey(t)),d(!0)}),h(),t&&t.focus?t.focus():i.focus()}function d(e){var t;x.length()>0&&(t=x.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(g&&-1==u()){var e=_;p(g,_,function(){e=null}),g=void 0,_=void 0}}function p(t,n,i){function r(){r.done||(r.done=!0,m?m(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),i&&i())}var a,s=null,l=function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(s).then(r)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var m=null;a.has("$animateCss")&&(m=a.get("$animateCss"));var g,_,v,y="modal-open",x=l.createNew(),b=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},C=0,S="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(u,function(e){_&&(_.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=x.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),r.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var o=n[0].activeElement,a=t.openedClass||y;d(!1),x.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),b.put(a,e);var s=n.find("body").eq(0),l=u();if(l>=0&&!g){_=r.$new(!0),_.index=l;var c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),g=i(c)(_),s.append(g)}var h=angular.element('<div uib-modal-window="modal-window"></div>');h.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:x.length()-1,animate:"animate"}).html(t.content),t.animation&&h.attr("modal-animation","true");var p=i(h)(t.scope);x.top().value.modalDomEl=p,x.top().value.modalOpener=o,s.append(p),s.addClass(a),w.clearFocusListCache()},w.close=function(e,t){var n=x.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=x.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return x.top()},w.modalRendered=function(e){var t=x.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],C=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(S))}},w}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(t,n,i,r,o,a,s,l){function u(e){return e.template?i.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function c(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(i.when(t.invoke(e))):angular.isString(e)?n.push(i.when(t.get(e))):n.push(i.when(e))}),n}var d={},h=null;return d.getPromiseChain=function(){return h},d.open=function(t){function r(){return _}var d=i.defer(),p=i.defer(),f=i.defer(),m={result:d.promise,opened:p.promise,rendered:f.promise,close:function(e){return a.close(m,e)},dismiss:function(e){return a.dismiss(m,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,_=i.all([u(t)].concat(c(t.resolve)));return g=h=i.all([h]).then(r,r).then(function(e){var i=(t.scope||n).$new();i.$close=m.close,i.$dismiss=m.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var r,u={},c=1;t.controller&&(u.$scope=i,u.$uibModalInstance=m,Object.defineProperty(u,"$modalInstance",{get:function(){return s||l.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),m}}),angular.forEach(t.resolve,function(t,n){u[n]=e[c++]}),r=o(t.controller,u),t.controllerAs&&(t.bindToController&&angular.extend(r,i),i[t.controllerAs]=r)),a.open(m,{scope:i,deferred:d,renderDeferred:f,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowTopClass:t.windowTopClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),p.resolve(!0)},function(e){p.reject(e),d.reject(e)})["finally"](function(){h===g&&(h=null)}),m},d}]};return e}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,t,n,i,r){function o(t,o,s){r||i.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),o.addClass("modal-backdrop"),s.modalInClass&&(a?a(o,{addClass:s.modalInClass}).start():e.addClass(o,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var i=n();a?a(o,{removeClass:s.modalInClass}).start().then(i):e.removeClass(o,s.modalInClass).then(i)}))}var a=null;return t.has("$animateCss")&&(a=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),o}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,t,n,i,r,o){var a=null;return i.has("$animateCss")&&(a=i.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,s,l){o||r.warn("modal-window is now deprecated. Use uib-modal-window instead."),s.addClass(l.windowClass||""),s.addClass(l.windowTopClass||""),i.size=l.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",i.close),i.$isRendered=!0;var u=t.defer();l.$observe("modalRender",function(e){"true"==e&&u.resolve()}),u.promise.then(function(){var r=null;l.modalInClass&&(r=a?a(s,{addClass:l.modalInClass}).start():n.addClass(s,l.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();a?a(s,{removeClass:l.modalInClass}).start().then(i):n.removeClass(s,l.modalInClass).then(i)})),t.when(r).then(function(){var e=s[0].querySelector("[autofocus]");e?e.focus():s[0].focus()});var o=e.getTop();o&&e.modalRendered(o.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,t){return{compile:function(n,i){t||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),i.modalAnimation&&n.addClass(i.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,t){return{link:function(n,i,r,o,a){
t||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),a(n.$parent,function(e){i.empty(),i.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,i,r,o,a,s,l,u,c,d){d||c.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,u)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(t,n,i){return i||n.warn("$modal is now deprecated. Use $uibModal instead."),t.invoke(e.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,s){r=a,this.config=s,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,i,r,o){function a(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,r=t,o=angular.isDefined(c)&&t>c;o&&(d?(i=Math.max(e-Math.floor(c/2),1),r=i+c-1,r>t&&(r=t,i=r-c+1)):(i=(Math.ceil(e/c)-1)*c+1,r=Math.min(i+c-1,t)));for(var s=i;r>=s;s++){var l=a(s,s,s===e);n.push(l)}if(o&&!d){if(i>1){var u=a(i-1,"...",!1);n.unshift(u)}if(t>r){var h=a(r+1,"...",!1);n.push(h)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,l.init(u,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){c=parseInt(e,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(e,t,n,i,r){r||i.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var o=this,a={$setViewValue:angular.noop},s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(i,r){a=i,this.config=r,a.$render=function(){o.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){o.itemsPerPage=parseInt(t,10),e.totalPages=o.calculateTotalPages()}):this.itemsPerPage=r.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=o.calculateTotalPages()}),e.$watch("totalPages",function(t){s(e.$parent,t),e.page>t?e.selectPage(t):a.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(a.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),a.$setViewValue(t),a.$render())},e.getText=function(t){return e[t+"Text"]||o.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(e,t,n,i){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(r,o,a,s){function l(e,t,n){return{number:e,text:t,active:n}}function u(e,t){var n=[],i=1,r=t,o=angular.isDefined(h)&&t>h;o&&(p?(i=Math.max(e-Math.floor(h/2),1),r=i+h-1,r>t&&(r=t,i=r-h+1)):(i=(Math.ceil(e/h)-1)*h+1,r=Math.min(i+h-1,t)));for(var a=i;r>=a;a++){var s=l(a,a,a===e);n.push(s)}if(o&&!p){if(i>1){var u=l(i-1,"...",!1);n.unshift(u)}if(t>r){var c=l(r+1,"...",!1);n.push(c)}}return n}i||n.warn("pagination is now deprecated. Use uib-pagination instead.");var c=s[0],d=s[1];if(d){var h=angular.isDefined(a.maxSize)?r.$parent.$eval(a.maxSize):t.maxSize,p=angular.isDefined(a.rotate)?r.$parent.$eval(a.rotate):t.rotate;r.boundaryLinks=angular.isDefined(a.boundaryLinks)?r.$parent.$eval(a.boundaryLinks):t.boundaryLinks,r.directionLinks=angular.isDefined(a.directionLinks)?r.$parent.$eval(a.directionLinks):t.directionLinks,c.init(d,t),a.maxSize&&r.$parent.$watch(e(a.maxSize),function(e){h=parseInt(e,10),c.render()});var f=c.render;c.render=function(){f(),r.page>0&&r.page<=r.totalPages&&(r.pages=u(r.page,r.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(e,t,n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(i,r,o,a){n||t.warn("pager is now deprecated. Use uib-pager instead.");var s=a[0],l=a[1];l&&(i.align=angular.isDefined(o.align)?i.$parent.$eval(o.align):e.align,s.init(l,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,a,s,l,u,c,d,h){var p=h.createNew();return s.on("keypress",function(e){if(27===e.which){var t=p.top();t&&(t.value.close(),p.removeTop(),t=null)}}),function(r,c,h,f){function m(e){var t=(e||f.trigger||h).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}f=angular.extend({},t,i,f);var g=e(r),_=u.startSymbol(),v=u.endSymbol(),y="<div "+g+'-popup title="'+_+"title"+v+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+_+"content"+v+'" ')+'placement="'+_+"placement"+v+'" popup-class="'+_+"popupClass"+v+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(e,t){var n=o(y);return function(e,t,i,o){function u(){V.isOpen?g():h()}function h(){(!R||e.$eval(i[c+"Enable"]))&&(x(),C(),V.popupDelay?$||($=a(_,V.popupDelay,!1)):_())}function g(){v(),V.popupCloseDelay?B||(B=a(y,V.popupCloseDelay,!1)):y()}function _(){return v(),x(),V.content?(b(),void V.$evalAsync(function(){V.isOpen=!0,S(!0),N()})):angular.noop}function v(){$&&(a.cancel($),$=null),O&&(a.cancel(O),O=null)}function y(){v(),x(),V&&V.$evalAsync(function(){V.isOpen=!1,S(!1),V.animation?A||(A=a(w,150,!1)):w()})}function x(){B&&(a.cancel(B),B=null),A&&(a.cancel(A),A=null)}function b(){E||(I=V.$new(),E=n(I,function(e){P?s.find("body").append(e):t.after(e)}),k())}function w(){D(),A=null,E&&(E.remove(),E=null),I&&(I.$destroy(),I=null)}function C(){V.title=i[c+"Title"],z?V.content=z(e):V.content=i[r],V.popupClass=i[c+"Class"],V.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:f.placement;var t=parseInt(i[c+"PopupDelay"],10),n=parseInt(i[c+"PopupCloseDelay"],10);V.popupDelay=isNaN(t)?f.popupDelay:t,V.popupCloseDelay=isNaN(n)?f.popupCloseDelay:n}function S(t){F&&angular.isFunction(F.assign)&&F.assign(e,t)}function k(){H.length=0,z?(H.push(e.$watch(z,function(e){V.content=e,!e&&V.isOpen&&y()})),H.push(I.$watch(function(){L||(L=!0,I.$$postDigest(function(){L=!1,V&&V.isOpen&&N()}))}))):H.push(i.$observe(r,function(e){V.content=e,!e&&V.isOpen?y():N()})),H.push(i.$observe(c+"Title",function(e){V.title=e,V.isOpen&&N()})),H.push(i.$observe(c+"Placement",function(e){V.placement=e?e:f.placement,V.isOpen&&N()}))}function D(){H.length&&(angular.forEach(H,function(e){e()}),H.length=0)}function T(){var e=i[c+"Trigger"];j(),M=m(e),"none"!==M.show&&M.show.forEach(function(e,n){e===M.hide[n]?t[0].addEventListener(e,u):e&&(t[0].addEventListener(e,h),M.hide[n].split(" ").forEach(function(e){t[0].addEventListener(e,g)})),t.on("keypress",function(e){27===e.which&&g()})})}var E,I,A,$,B,O,P=angular.isDefined(f.appendToBody)?f.appendToBody:!1,M=m(void 0),R=angular.isDefined(i[c+"Enable"]),V=e.$new(!0),L=!1,F=angular.isDefined(i[c+"IsOpen"])?d(i[c+"IsOpen"]):!1,z=f.useContentExp?d(i[r]):!1,H=[],N=function(){E&&E.html()&&(O||(O=a(function(){E.css({top:0,left:0});var e=l.positionElements(t,E,V.placement,P);e.top+="px",e.left+="px",e.visibility="visible",E.css(e),O=null},0,!1)))};V.origScope=e,V.isOpen=!1,p.add(V,{close:y}),V.contentExp=function(){return V.content},i.$observe("disabled",function(e){e&&v(),e&&V.isOpen&&y()}),F&&e.$watch(F,function(e){V&&!e===V.isOpen&&u()});var j=function(){M.show.forEach(function(e){t.unbind(e,h)}),M.hide.forEach(function(e){e.split(" ").forEach(function(e){t[0].removeEventListener(e,g)})})};T();var W=e.$eval(i[c+"Animation"]);V.animation=angular.isDefined(W)?!!W:f.animation;var G=e.$eval(i[c+"AppendToBody"]);P=angular.isDefined(G)?G:P,P&&e.$on("$locationChangeSuccess",function(){V.isOpen&&y()}),e.$on("$destroy",function(){v(),x(),j(),w(),p.remove(V),V=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(i(t,!0).then(function(i){if(a===d){var r=c.$new(),l=i,p=n(l)(r,function(t){h(),e.enter(t,o)});s=r,u=p,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(h(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):h()}),r.$on("$destroy",h)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,i){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),i.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,i,r,o){return{link:function(a,s,l){o||r.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var u,c,d,h=a.$eval(l.tooltipTemplateTranscludeScope),p=0,f=function(){c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),d&&(e.leave(d).then(function(){c=null}),c=d,d=null)};a.$watch(t.parseAsResourceUrl(l.tooltipTemplateTransclude),function(t){var r=++p;t?(i(t,!0).then(function(i){if(r===p){var o=h.$new(),a=i,l=n(a)(o,function(t){f(),e.enter(t,s)});u=o,d=l,u.$emit("$includeContentLoaded",t)}},function(){r===p&&(f(),a.$emit("$includeContentError",t))}),a.$emit("$includeContentRequested",t)):f()}),a.$on("$destroy",f)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,i,r){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&i.addClass(n.placement),n.popupClass&&i.addClass(n.popupClass),n.animation()&&i.addClass(r.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,i){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),i.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,i){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,i){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),i.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,i){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),i.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,i){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),i.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,i){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),i.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,o){r||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=o&&angular.isDefined(o.title)?o.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("max",function(t){i.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(e,t,n,i,r){r||i.warn("ProgressController is now deprecated. Use UibProgressController instead.");var o=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,i){a||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=i&&angular.isDefined(i.title)?i.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=o.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,o.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(t){o.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,i,r,o){t||e.warn("bar is now deprecated. Use uib-bar instead."),o.addBar(n,i)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,i,r,o){t||e.warn("progressbar is now deprecated. Use uib-progressbar instead."),o.addBar(n,angular.element(i.children()[0]),{title:r.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(i.$viewValue===t?0:t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,i,r){r||i.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(e,t){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,i,r,o){t||e.warn("rating is now deprecated. Use uib-rating instead.");var a=o[0],s=o[1];a.init(s)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;t.select(n[o])}n.splice(r,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,i,r,o){t.$watch("active",function(e){e&&r.select(t)}),t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(t,n,i){var r=t.$eval(i.uibTabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,i){i||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,i,r){t||e.warn("tabset is now deprecated. Use uib-tabset instead."),n.vertical=angular.isDefined(r.vertical)?n.$parent.$eval(r.vertical):!1,n.justified=angular.isDefined(r.justified)?n.$parent.$eval(r.justified):!1}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(e,t,n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(i,r,o,a,s){n||t.warn("tab is now deprecated. Use uib-tab instead."),i.$watch("active",function(e){e&&a.select(i)}),i.disabled=!1,o.disable&&i.$parent.$watch(e(o.disable),function(e){i.disabled=!!e}),i.select=function(){i.disabled||(i.active=!0)},a.addTab(i),i.$on("$destroy",function(){a.removeTab(i)}),i.$transcludeFn=s}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tab",link:function(n,i){t||e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),n.$watch("headingElement",function(e){e&&(i.html(""),i.append(e))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(e,t){function n(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(i,r,o){t||e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var a=i.$eval(o.tabContentTransclude);a.$transcludeFn(a.$parent,function(e){angular.forEach(e,function(e){n(e)?a.headingElement=e:r.append(e)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,o,a){function s(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===_[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){d(),g.$setViewValue(new Date(m)),h(e)}function d(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function h(t){var n=m.getHours(),i=m.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n),"m"!==t&&(e.minutes=u(i)),e.meridian=m.getHours()<12?_[0]:_[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes()),i}function f(e){m=p(m,e),c()}var m=new Date,g={$setViewValue:angular.noop},_=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){g=t,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),o=i.eq(1),s=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(r,o);var l=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(r,o),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o)};var v=a.hourStep;n.hourStep&&e.$parent.$watch(i(n.hourStep),function(e){v=parseInt(e,10)});var y=a.minuteStep;n.minuteStep&&e.$parent.$watch(i(n.minuteStep),function(e){y=parseInt(e,10)});var x;e.$parent.$watch(i(n.min),function(e){var t=new Date(e);x=isNaN(t)?void 0:t});var b;e.$parent.$watch(i(n.max),function(e){var t=new Date(e);b=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(m,60*v);
return e>b||m>e&&x>e},e.noDecrementHours=function(){var e=p(m,60*-v);return x>e||e>m&&e>b},e.noIncrementMinutes=function(){var e=p(m,y);return e>b||m>e&&x>e},e.noDecrementMinutes=function(){var e=p(m,-y);return x>e||e>m&&e>b},e.noToggleMeridian=function(){return m.getHours()<13?p(m,720)>b:p(m,-720)<x},e.showMeridian=a.showMeridian,n.showMeridian&&e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(m.setHours(n),c())}else h()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=s(),t=l();angular.isDefined(e)&&angular.isDefined(t)?(m.setHours(e),x>m||m>b?i(!0):c("h")):i(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours)})}),e.updateMinutes=function(){var e=l(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(m.setMinutes(e),x>m||m>b?i(void 0,!0):c("m")):i(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(m=t),x>m||m>b?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):d(),h())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(y)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-y)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(m.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,i,r,o){o||r.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,i("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(e,t){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(n,i,r,o){t||e.warn("timepicker is now deprecated. Use uib-timepicker instead.");var a=o[0],s=o[1];s&&a.init(s,i.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,s,l,u,c,d){function h(){R.moveInProgress||(R.moveInProgress=!0,R.$digest()),W&&a.cancel(W),W=a(function(){R.matches.length&&p(),R.moveInProgress=!1},_)}function p(){R.position=E?c.offset(t):c.position(t),R.position.top+=t.prop("offsetHeight")}var f,m,g=[9,13,27,38,40],_=200,v=e.$eval(n.typeaheadMinLength);v||0===v||(v=1);var y,x,b=e.$eval(n.typeaheadWaitMs)||0,w=e.$eval(n.typeaheadEditable)!==!1,C=r(n.typeaheadLoading).assign||angular.noop,S=r(n.typeaheadOnSelect),k=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,D=r(n.typeaheadNoResults).assign||angular.noop,T=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,E=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,I=n.typeaheadAppendToElementId||!1,A=e.$eval(n.typeaheadFocusFirst)!==!1,$=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,B=r(n.ngModel),O=r(n.ngModel+"($$$p)"),P=function(t,n){return angular.isFunction(B(e))&&m&&m.$options&&m.$options.getterSetter?O(t,{$$$p:n}):B.assign(t,n)},M=d.parse(n.uibTypeahead),R=e.$new(),V=e.$on("$destroy",function(){R.$destroy()});R.$on("$destroy",V);var L="typeahead-"+R.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":L});var F=angular.element("<div uib-typeahead-popup></div>");F.attr({id:L,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&F.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&F.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var z=function(){R.matches=[],R.activeIdx=-1,t.attr("aria-expanded",!1)},H=function(e){return L+"-option-"+e};R.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",H(e))});var N=function(e,t){return R.matches.length>t&&e?e.toUpperCase()===R.matches[t].label.toUpperCase():!1},j=function(n){var i={$viewValue:n};C(e,!0),D(e,!1),o.when(M.source(e,i)).then(function(r){var o=n===f.$viewValue;if(o&&y)if(r&&r.length>0){R.activeIdx=A?0:-1,D(e,!1),R.matches.length=0;for(var a=0;a<r.length;a++)i[M.itemName]=r[a],R.matches.push({id:H(a),label:M.viewMapper(R,i),model:r[a]});R.query=n,p(),t.attr("aria-expanded",!0),$&&1===R.matches.length&&N(n,0)&&R.select(0)}else z(),D(e,!0);o&&C(e,!1)},function(){z(),C(e,!1),D(e,!0)})};E&&(angular.element(l).bind("resize",h),s.find("body").bind("scroll",h));var W;R.moveInProgress=!1,R.query=void 0;var G,q=function(e){G=a(function(){j(e)},b)},U=function(){G&&a.cancel(G)};z(),R.select=function(i){var r,o,s={};x=!0,s[M.itemName]=o=R.matches[i].model,r=M.modelMapper(e,s),P(e,r),f.$setValidity("editable",!0),f.$setValidity("parse",!0),S(e,{$item:o,$model:r,$label:M.viewMapper(e,s)}),z(),R.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.bind("keydown",function(e){if(0!==R.matches.length&&-1!==g.indexOf(e.which)){if(-1===R.activeIdx&&(9===e.which||13===e.which))return z(),void R.$digest();e.preventDefault(),40===e.which?(R.activeIdx=(R.activeIdx+1)%R.matches.length,R.$digest()):38===e.which?(R.activeIdx=(R.activeIdx>0?R.activeIdx:R.matches.length)-1,R.$digest()):13===e.which||9===e.which?R.$apply(function(){R.select(R.activeIdx)}):27===e.which&&(e.stopPropagation(),z(),R.$digest())}}),t.bind("blur",function(){k&&R.matches.length&&-1!==R.activeIdx&&!x&&(x=!0,R.$apply(function(){R.select(R.activeIdx)})),y=!1,x=!1});var Y=function(e){t[0]!==e.target&&3!==e.which&&0!==R.matches.length&&(z(),u.$$phase||R.$digest())};s.bind("click",Y),e.$on("$destroy",function(){s.unbind("click",Y),(E||I)&&K.remove(),E&&(angular.element(l).unbind("resize",h),s.find("body").unbind("scroll",h)),F.remove()});var K=i(F)(R);E?s.find("body").append(K):I!==!1?angular.element(s[0].getElementById(I)).append(K):t.after(K),this.init=function(t,n){f=t,m=n,f.$parsers.unshift(function(t){return y=!0,0===v||t&&t.length>=v?b>0?(U(),q(t)):j(t):(C(e,!1),U(),z()),w?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(t){var n,i,r={};return w||f.$setValidity("editable",!0),T?(r.$model=t,T(e,r)):(r[M.itemName]=t,n=M.viewMapper(e,r),r[M.itemName]=void 0,i=M.viewMapper(e,r),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(i,function(e){r.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i){return i||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,i,r,o,a,s,l,u,c){var d=[9,13,27,38,40],h=200;return{require:["ngModel","^?ngModelOptions"],link:function(p,f,m,g){function _(){F.moveInProgress||(F.moveInProgress=!0,F.$digest()),U&&i.cancel(U),U=i(function(){F.matches.length&&v(),F.moveInProgress=!1},h)}function v(){F.position=$?s.offset(f):s.position(f),F.position.top+=f.prop("offsetHeight")}c||u.warn("typeahead is now deprecated. Use uib-typeahead instead.");var y=g[0],x=g[1],b=p.$eval(m.typeaheadMinLength);b||0===b||(b=1);var w,C,S=p.$eval(m.typeaheadWaitMs)||0,k=p.$eval(m.typeaheadEditable)!==!1,D=t(m.typeaheadLoading).assign||angular.noop,T=t(m.typeaheadOnSelect),E=angular.isDefined(m.typeaheadSelectOnBlur)?p.$eval(m.typeaheadSelectOnBlur):!1,I=t(m.typeaheadNoResults).assign||angular.noop,A=m.typeaheadInputFormatter?t(m.typeaheadInputFormatter):void 0,$=m.typeaheadAppendToBody?p.$eval(m.typeaheadAppendToBody):!1,B=m.typeaheadAppendToElementId||!1,O=p.$eval(m.typeaheadFocusFirst)!==!1,P=m.typeaheadSelectOnExact?p.$eval(m.typeaheadSelectOnExact):!1,M=t(m.ngModel),R=t(m.ngModel+"($$$p)"),V=function(e,t){return angular.isFunction(M(p))&&x&&x.$options&&x.$options.getterSetter?R(e,{$$$p:t}):M.assign(e,t)},L=l.parse(m.typeahead),F=p.$new(),z=p.$on("$destroy",function(){F.$destroy()});F.$on("$destroy",z);var H="typeahead-"+F.$id+"-"+Math.floor(1e4*Math.random());f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var N=angular.element("<div typeahead-popup></div>");N.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(m.typeaheadTemplateUrl)&&N.attr("template-url",m.typeaheadTemplateUrl),angular.isDefined(m.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",m.typeaheadPopupTemplateUrl);var j=function(){F.matches=[],F.activeIdx=-1,f.attr("aria-expanded",!1)},W=function(e){return H+"-option-"+e};F.$watch("activeIdx",function(e){0>e?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",W(e))});var G=function(e,t){return F.matches.length>t&&e?e.toUpperCase()===F.matches[t].label.toUpperCase():!1},q=function(e){var t={$viewValue:e};D(p,!0),I(p,!1),n.when(L.source(p,t)).then(function(n){var i=e===y.$viewValue;if(i&&w)if(n&&n.length>0){F.activeIdx=O?0:-1,I(p,!1),F.matches.length=0;for(var r=0;r<n.length;r++)t[L.itemName]=n[r],F.matches.push({id:W(r),label:L.viewMapper(F,t),model:n[r]});F.query=e,v(),f.attr("aria-expanded",!0),P&&1===F.matches.length&&G(e,0)&&F.select(0)}else j(),I(p,!0);i&&D(p,!1)},function(){j(),D(p,!1),I(p,!0)})};$&&(angular.element(o).bind("resize",_),r.find("body").bind("scroll",_));var U;F.moveInProgress=!1,j(),F.query=void 0;var Y,K=function(e){Y=i(function(){q(e)},S)},Q=function(){Y&&i.cancel(Y)};y.$parsers.unshift(function(e){return w=!0,0===b||e&&e.length>=b?S>0?(Q(),K(e)):q(e):(D(p,!1),Q(),j()),k?e:e?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)}),y.$formatters.push(function(e){var t,n,i={};return k||y.$setValidity("editable",!0),A?(i.$model=e,A(p,i)):(i[L.itemName]=e,t=L.viewMapper(p,i),i[L.itemName]=void 0,n=L.viewMapper(p,i),t!==n?t:e)}),F.select=function(e){var t,n,r={};C=!0,r[L.itemName]=n=F.matches[e].model,t=L.modelMapper(p,r),V(p,t),y.$setValidity("editable",!0),y.$setValidity("parse",!0),T(p,{$item:n,$model:t,$label:L.viewMapper(p,r)}),j(),F.$eval(m.typeaheadFocusOnSelect)!==!1&&i(function(){f[0].focus()},0,!1)},f.bind("keydown",function(e){if(0!==F.matches.length&&-1!==d.indexOf(e.which)){if(-1===F.activeIdx&&(9===e.which||13===e.which))return j(),void F.$digest();e.preventDefault(),40===e.which?(F.activeIdx=(F.activeIdx+1)%F.matches.length,F.$digest()):38===e.which?(F.activeIdx=(F.activeIdx>0?F.activeIdx:F.matches.length)-1,F.$digest()):13===e.which||9===e.which?F.$apply(function(){F.select(F.activeIdx)}):27===e.which&&(e.stopPropagation(),j(),F.$digest())}}),f.bind("blur",function(){E&&F.matches.length&&-1!==F.activeIdx&&!C&&(C=!0,F.$apply(function(){F.select(F.activeIdx)})),w=!1,C=!1});var X=function(e){f[0]!==e.target&&3!==e.which&&0!==F.matches.length&&(j(),a.$$phase||F.$digest())};r.bind("click",X),p.$on("$destroy",function(){r.unbind("click",X),($||B)&&Z.remove(),$&&(angular.element(o).unbind("resize",_),r.find("body").unbind("scroll",_)),N.remove()});var Z=e(N)(F);$?r.find("body").append(Z):B!==!1?angular.element(r[0].getElementById(B)).append(Z):f.after(Z)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,i,r){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=r.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,i,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,a,s){i||r.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var l=n(s.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e(l).then(function(e){t(e.trim())(o,function(e){a.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,i){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,s){return i||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!a&&o(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=s?(""+t).replace(new RegExp(r(s),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n');
}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),!function(e){"use strict";function t(e,t){return-1!==e.indexOf(t,e.length-t.length)}function n(){}function i(e,s){function l(e,t){return w.push(e),C.push(t),k!=a&&(k=a,setTimeout(function(){u()},0)),f}function u(){if(k!=a)return k=r,D(e),void(D=n);if(++S==w.length){if(!m)return S=w.length-1,void(k=r);S=0}w[S].apply(null,[].concat(u,C[S]))}function c(t,n,i){var r=n.length;return r?void function o(a){setTimeout(function(){b(e,x(e)+n[a]),a+=1,r>a?o(a):t()},i)}(0):t()}function d(n,i,r){var o=x(e),a=o.length;return null!=i&&("string"==typeof i?a=t(o,i+y)?i.length+y.length:0:i>-1&&(a=Math.min(i,a))),a?void function s(t){setTimeout(function(){var i=x(e);t?(b(e,i.substring(0,i.length-1)),s(t-1)):n()},r)}(a):n()}function h(t){b(e,""),t()}function p(t,n){n.call(t,e)}var f=this;if(!(f instanceof i))return new i(e,s);s=s||{};var m=s.loop,g=s.speed||s.typeSpeed||50,_=s.speed||s.deleteSpeed||50,v=s.delay||s.pauseDelay||2e3,y=s.postfix||"",x=s.getter||function(e){return e.innerHTML},b=s.setter||function(e,t){e.innerHTML=t},w=[],C=[],S=-1,k=r,D=n;f.type=function(e,t){return l(c,[e+y,t||g])},f["delete"]=function(e,t){return l(d,[e,t||_])},f.clear=function(){return l(h)},f.pause=function(e){return l(setTimeout,[e||v])},f.call=function(e){return l(p,[e])},f.triggerPause=function(e){return k=o,D=e||n,f},f.triggerResume=function(){if(k!=a){var e=k;k=a,e==r&&u()}return f},f.isRunning=function(){return k!=r}}var r=0,o=1,a=2;"object"==typeof module?module.exports=i:e.malarkey=i}(this),function(){"use strict";function e(e,t,n,i,r,o,a){function s(e){if(1!==arguments.length||e)if(e)h(e.toastId);else for(var t=0;t<y.length;t++)h(y[t].toastId)}function l(e,t,n){var i=f().iconClasses.error;return p(i,e,t,n)}function u(e,t,n){var i=f().iconClasses.info;return p(i,e,t,n)}function c(e,t,n){var i=f().iconClasses.success;return p(i,e,t,n)}function d(e,t,n){var i=f().iconClasses.warning;return p(i,e,t,n)}function h(t,n){function i(e){for(var t=0;t<y.length;t++)if(y[t].toastId===e)return y[t]}function r(){return!y.length}var s=i(t);s&&!s.deleting&&(s.deleting=!0,s.isOpened=!1,e.leave(s.el).then(function(){s.scope.options.onHidden&&s.scope.options.onHidden(n),s.scope.$destroy();var e=y.indexOf(s);delete b[s.scope.message],y.splice(e,1);var t=o.maxOpened;t&&y.length>=t&&y[t-1].open.resolve(),r()&&(_.remove(),_=null,w=a.defer())}))}function p(e,t,n,i){return angular.isObject(n)&&(i=n,n=null),g({iconClass:e,message:t,optionsOverride:i,title:n})}function f(){return angular.extend({},o)}function m(t){if(_)return w.promise;_=angular.element("<div></div>"),_.attr("id",t.containerId),_.addClass(t.positionClass),_.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(t.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return e.enter(_,n).then(function(){w.resolve()}),w.promise}function g(n){function o(){return p.autoDismiss&&p.maxOpened&&y.length>p.maxOpened}function s(e,t,n){n.allowHtml?(e.scope.allowHtml=!0,e.scope.title=r.trustAsHtml(t.title),e.scope.message=r.trustAsHtml(t.message)):(e.scope.title=t.title,e.scope.message=t.message),e.scope.toastType=e.iconClass,e.scope.toastId=e.toastId,e.scope.extraData=n.extraData,e.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:n.onShown,onTap:n.onTap,progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(e.scope.options.closeHtml=n.closeHtml)}function l(){function e(e){for(var t=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,i=t.length;i>n;n++)delete e[t[n]];return e}var t={toastId:v++,isOpened:!1,scope:i.$new(),open:a.defer()};return t.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(p,e(n.optionsOverride)),t.iconClass=n.optionsOverride.iconClass||t.iconClass),s(t,n,p),t.el=u(t.scope),t}function u(e){var n=angular.element("<div toast></div>"),i=t.get("$compile");return i(n)(e)}function c(){return p.maxOpened&&y.length<=p.maxOpened||!p.maxOpened}function d(){var e=p.preventDuplicates&&n.message===x,t=p.preventOpenDuplicates&&b[n.message];return e||t?!0:(x=n.message,b[n.message]=!0,!1)}var p=f();if(!d()){var g=l();if(y.push(g),o())for(var w=y.slice(0,y.length-p.maxOpened),C=0,S=w.length;S>C;C++)h(w[C].toastId);return c()&&g.open.resolve(),g.open.promise.then(function(){m(p).then(function(){if(g.isOpened=!0,p.newestOnTop)e.enter(g.el,_).then(function(){g.scope.init()});else{var t=_[0].lastChild?angular.element(_[0].lastChild):null;e.enter(g.el,_,t).then(function(){g.scope.init()})}})}),g}}var _,v=0,y=[],x="",b={},w=a.defer(),C={clear:s,error:l,info:u,remove:h,success:c,warning:d};return C}angular.module("toastr",[]).factory("toastr",e),e.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function e(e){function t(e,t,n,i){function r(){var e=(s-(new Date).getTime())/a*100;t.css("width",e+"%")}var o,a,s;i.progressBar=e,e.start=function(e){o&&clearInterval(o),a=parseFloat(e),s=(new Date).getTime()+a,o=setInterval(r,10)},e.stop=function(){o&&clearInterval(o)},e.$on("$destroy",function(){clearInterval(o)})}return{replace:!0,require:"^toast",templateUrl:function(){return e.templates.progressbar},link:t}}angular.module("toastr").directive("progressBar",e),e.$inject=["toastrConfig"]}(),function(){"use strict";function e(){this.progressBar=null,this.startProgressBar=function(e){this.progressBar&&this.progressBar.start(e)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",e)}(),function(){"use strict";function e(e,t,n,i){function r(n,r,o,a){function s(e){return a.startProgressBar(e),t(function(){a.stopProgressBar(),i.remove(n.toastId)},e,1)}function l(){n.progressBar=!1,a.stopProgressBar()}function u(){return n.options.closeHtml}var c;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,u()){var d=angular.element(n.options.closeHtml),h=e.get("$compile");d.addClass("toast-close-button"),d.attr("ng-click","close(true, $event)"),h(d)(n),r.prepend(d)}n.init=function(){n.options.timeOut&&(c=s(n.options.timeOut)),n.options.onShown&&n.options.onShown()},r.on("mouseenter",function(){l(),c&&t.cancel(c)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(e,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation(),i.remove(n.toastId,e)},r.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(n.$apply(function(){n.progressBar=n.options.progressBar}),c=s(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:r}}angular.module("toastr").directive("toast",e),e.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(e){e.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),e.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),
//! license : MIT
//! momentjs.com
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Pn.apply(null,arguments)}function t(e){Pn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,i){return Ee(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=s(NaN);return null!=e?a(u(t),e):u(t).userInvalidated=!0,t}function h(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=u(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Rn.length>0)for(n in Rn)i=Rn[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function p(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Vn===!1&&(Vn=!0,e.updateOffset(this),Vn=!1)}function f(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function _(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&a++;return a+o}function v(){}function y(e){return e?e.toLowerCase().replace("_","-"):e}function x(e){for(var t,n,i,r,o=0;o<e.length;){for(r=y(e[o]).split("-"),t=r.length,n=y(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=b(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}o++}return null}function b(e){var t=null;if(!Ln[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Mn._abbr,require("./locale/"+e),w(t)}catch(n){}return Ln[e]}function w(e,t){var n;return e&&(n="undefined"==typeof t?S(e):C(e,t),n&&(Mn=n)),Mn._abbr}function C(e,t){return null!==t?(t.abbr=e,Ln[e]=Ln[e]||new v,Ln[e].set(t),w(e),Ln[e]):(delete Ln[e],null)}function S(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Mn;if(!n(e)){if(t=b(e))return t;e=[e]}return x(e)}function k(e,t){var n=e.toLowerCase();Fn[n]=Fn[n+"s"]=Fn[t]=e}function D(e){return"string"==typeof e?Fn[e]||Fn[e.toLowerCase()]:void 0}function T(e){var t,n,i={};for(n in e)o(e,n)&&(t=D(n),t&&(i[t]=e[n]));return i}function E(t,n){return function(i){return null!=i?(A(this,t,i),e.updateOffset(this,n),this):I(this,t)}}function I(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function A(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function $(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=D(e),"function"==typeof this[e])return this[e](t);return this}function B(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function O(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(jn[e]=r),t&&(jn[t[0]]=function(){return B(r.apply(this,arguments),t[1],t[2])}),n&&(jn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function M(e){var t,n,i=e.match(zn);for(t=0,n=i.length;n>t;t++)jn[i[t]]?i[t]=jn[i[t]]:i[t]=P(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function R(e,t){return e.isValid()?(t=V(t,e.localeData()),Nn[t]=Nn[t]||M(t),Nn[t](e)):e.localeData().invalidDate()}function V(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Hn.lastIndex=0;i>=0&&Hn.test(e);)e=e.replace(Hn,n),Hn.lastIndex=0,i-=1;return e}function L(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function F(e,t,n){ri[e]=L(t)?t:function(e){return e&&n?n:t}}function z(e,t){return o(ri,e)?ri[e](t._strict,t._locale):new RegExp(H(e))}function H(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function N(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)oi[e[n]]=i}function j(e,t){N(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function W(e,t,n){null!=t&&o(oi,e)&&oi[e](t,n._a,n,e)}function G(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function q(e){return this._months[e.month()]}function U(e){return this._monthsShort[e.month()]}function Y(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function K(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),G(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Q(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):I(this,"Month")}function X(){return G(this.year(),this.month())}function Z(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[si]<0||n[si]>11?si:n[li]<1||n[li]>G(n[ai],n[si])?li:n[ui]<0||n[ui]>24||24===n[ui]&&(0!==n[ci]||0!==n[di]||0!==n[hi])?ui:n[ci]<0||n[ci]>59?ci:n[di]<0||n[di]>59?di:n[hi]<0||n[hi]>999?hi:-1,u(e)._overflowDayOfYear&&(ai>t||t>li)&&(t=li),u(e).overflow=t),e}function J(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ee(e,t){var n=!0;return a(function(){return n&&(J(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function te(e,t){mi[e]||(J(t),mi[e]=!0)}function ne(e){var t,n,i=e._i,r=gi.exec(i);if(r){for(u(e).iso=!0,t=0,n=_i.length;n>t;t++)if(_i[t][1].exec(i)){e._f=_i[t][0];break}for(t=0,n=vi.length;n>t;t++)if(vi[t][1].exec(i)){e._f+=(r[6]||" ")+vi[t][0];break}i.match(ti)&&(e._f+="Z"),be(e)}else e._isValid=!1}function ie(t){var n=yi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(ne(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function re(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e){return se(e)?366:365}function se(e){return e%4===0&&e%100!==0||e%400===0}function le(){return se(this.year())}function ue(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=Ie(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ce(e){return ue(e,this._week.dow,this._week.doy).week}function de(){return this._week.dow}function he(){return this._week.doy}function pe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function fe(e){var t=ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function me(e,t,n,i,r){var o,a=6+r-i,s=oe(e,0,1+a),l=s.getUTCDay();return r>l&&(l+=7),n=null!=n?1*n:r,o=1+a+7*(t-1)-l+n,{year:o>0?e:e-1,dayOfYear:o>0?o:ae(e-1)+o}}function ge(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function _e(e,t,n){return null!=e?e:null!=t?t:n}function ve(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ye(e){var t,n,i,r,o=[];if(!e._d){for(i=ve(e),e._w&&null==e._a[li]&&null==e._a[si]&&xe(e),e._dayOfYear&&(r=_e(e._a[ai],i[ai]),e._dayOfYear>ae(r)&&(u(e)._overflowDayOfYear=!0),n=oe(r,0,e._dayOfYear),e._a[si]=n.getUTCMonth(),e._a[li]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ui]&&0===e._a[ci]&&0===e._a[di]&&0===e._a[hi]&&(e._nextDay=!0,e._a[ui]=0),e._d=(e._useUTC?oe:re).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ui]=24)}}function xe(e){var t,n,i,r,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=_e(t.GG,e._a[ai],ue(Ie(),1,4).year),i=_e(t.W,1),r=_e(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=_e(t.gg,e._a[ai],ue(Ie(),o,a).year),i=_e(t.w,1),null!=t.d?(r=t.d,o>r&&++i):r=null!=t.e?t.e+o:o),s=me(n,i,r,a,o),e._a[ai]=s.year,e._dayOfYear=s.dayOfYear}function be(t){if(t._f===e.ISO_8601)return void ne(t);t._a=[],u(t).empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=V(t._f,t._locale).match(zn)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(z(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&u(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),jn[o]?(i?u(t).empty=!1:u(t).unusedTokens.push(o),W(o,i,t)):t._strict&&!i&&u(t).unusedTokens.push(o);u(t).charsLeftOver=l-c,s.length>0&&u(t).unusedInput.push(s),u(t).bigHour===!0&&t._a[ui]<=12&&t._a[ui]>0&&(u(t).bigHour=void 0),t._a[ui]=we(t._locale,t._a[ui],t._meridiem),ye(t),Z(t)}function we(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function Ce(e){var t,n,i,r,o;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],be(t),c(t)&&(o+=u(t).charsLeftOver,o+=10*u(t).unusedTokens.length,u(t).score=o,(null==i||i>o)&&(i=o,n=t));a(e,n||t)}function Se(e){if(!e._d){var t=T(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ye(e)}}function ke(e){var t=new p(Z(De(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function De(e){var t=e._i,r=e._f;return e._locale=e._locale||S(e._l),null===t||void 0===r&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),f(t)?new p(Z(t)):(n(r)?Ce(e):r?be(e):i(t)?e._d=t:Te(e),e))}function Te(t){var o=t._i;void 0===o?t._d=new Date:i(o)?t._d=new Date(+o):"string"==typeof o?ie(t):n(o)?(t._a=r(o.slice(0),function(e){return parseInt(e,10)}),ye(t)):"object"==typeof o?Se(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Ee(e,t,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,ke(o)}function Ie(e,t,n,i){return Ee(e,t,n,i,!1)}function Ae(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ie();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function $e(){var e=[].slice.call(arguments,0);return Ae("isBefore",e)}function Be(){var e=[].slice.call(arguments,0);return Ae("isAfter",e)}function Oe(e){var t=T(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Pe(e){return e instanceof Oe}function Me(e,t){O(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Re(e){var t=(e||"").match(ti)||[],n=t[t.length-1]||[],i=(n+"").match(Si)||["-",0,0],r=+(60*i[1])+g(i[2]);return"+"===i[0]?r:-r}function Ve(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(f(t)||i(t)?+t:+Ie(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):Ie(t).local()}function Le(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Fe(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Re(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Le(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?tt(this,Qe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Le(this)}function ze(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function He(e){return this.utcOffset(0,e)}function Ne(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Le(this),"m")),this}function je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Re(this._i)),this}function We(e){return e=e?Ie(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Ge(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qe(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=De(e),e._a){var t=e._isUTC?s(e._a):Ie(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ue(){return!this._isUTC}function Ye(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Qe(e,t){var n,i,r,a=e,s=null;return Pe(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=ki.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:g(s[li])*n,h:g(s[ui])*n,m:g(s[ci])*n,s:g(s[di])*n,ms:g(s[hi])*n}):(s=Di.exec(e))?(n="-"===s[1]?-1:1,a={y:Xe(s[2],n),M:Xe(s[3],n),d:Xe(s[4],n),h:Xe(s[5],n),m:Xe(s[6],n),s:Xe(s[7],n),w:Xe(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=Je(Ie(a.from),Ie(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),i=new Oe(a),Pe(e)&&o(e,"_locale")&&(i._locale=e._locale),i}function Xe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ze(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Je(e,t){var n;return t=Ve(t,e),e.isBefore(t)?n=Ze(e,t):(n=Ze(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function et(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(te(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Qe(n,i),tt(this,r,e),this}}function tt(t,n,i,r){var o=n._milliseconds,a=n._days,s=n._months;r=null==r?!0:r,o&&t._d.setTime(+t._d+o*i),a&&A(t,"Date",I(t,"Date")+a*i),s&&K(t,I(t,"Month")+s*i),r&&e.updateOffset(t,a||s)}function nt(e,t){var n=e||Ie(),i=Ve(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,Ie(n)))}function it(){return new p(this)}function rt(e,t){var n;return t=D("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:Ie(e),+this>+e):(n=f(e)?+e:+Ie(e),n<+this.clone().startOf(t))}function ot(e,t){var n;return t=D("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:Ie(e),+e>+this):(n=f(e)?+e:+Ie(e),+this.clone().endOf(t)<n)}function at(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function st(e,t){var n;return t=D(t||"millisecond"),"millisecond"===t?(e=f(e)?e:Ie(e),+this===+e):(n=+Ie(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function lt(e,t,n){var i,r,o=Ve(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=D(t),"year"===t||"month"===t||"quarter"===t?(r=ut(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:m(r)}function ut(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function ct(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ht(t){var n=R(this,t||e.defaultFormat);return this.localeData().postformat(n)}function pt(e,t){return this.isValid()?Qe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ft(e){return this.from(Ie(),e)}function mt(e,t){return this.isValid()?Qe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.to(Ie(),e)}function _t(e){var t;return void 0===e?this._locale._abbr:(t=S(e),null!=t&&(this._locale=t),this)}function vt(){return this._locale}function yt(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function xt(e){return e=D(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function bt(){return+this._d-6e4*(this._offset||0)}function wt(){return Math.floor(+this/1e3)}function Ct(){return this._offset?new Date(+this):this._d}function St(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Dt(){return c(this)}function Tt(){return a({},u(this))}function Et(){return u(this).overflow}function It(e,t){O(0,[e,e.length],0,t)}function At(e,t,n){return ue(Ie([e,11,31+t-n]),t,n).week}function $t(e){var t=ue(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Bt(e){var t=ue(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Ot(){return At(this.year(),1,4)}function Pt(){var e=this.localeData()._week;return At(this.year(),e.dow,e.doy)}function Mt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Rt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Vt(e){return this._weekdays[e.day()]}function Lt(e){return this._weekdaysShort[e.day()]}function Ft(e){return this._weekdaysMin[e.day()]}function zt(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Ie([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ht(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Rt(e,this.localeData()),this.add(e-t,"d")):t}function Nt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function jt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Wt(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Gt(e,t){return t._meridiemParse}function qt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ut(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Yt(e,t){t[hi]=g(1e3*("0."+e))}function Kt(){return this._isUTC?"UTC":""}function Qt(){return this._isUTC?"Coordinated Universal Time":""}function Xt(e){return Ie(1e3*e)}function Zt(){return Ie.apply(null,arguments).parseZone()}function Jt(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function en(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function tn(){return this._invalidDate}function nn(e){return this._ordinal.replace("%d",e)}function rn(e){return e}function on(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function an(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function sn(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(e,t,n,i){var r=S(),o=s().set(i,t);return r[n](o,e)}function un(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ln(e,t,n,r);var o,a=[];for(o=0;i>o;o++)a[o]=ln(e,o,n,r);return a}function cn(e,t){return un(e,t,"months",12,"month")}function dn(e,t){return un(e,t,"monthsShort",12,"month")}function hn(e,t){return un(e,t,"weekdays",7,"day")}function pn(e,t){return un(e,t,"weekdaysShort",7,"day")}function fn(e,t){return un(e,t,"weekdaysMin",7,"day")}function mn(){var e=this._data;return this._milliseconds=Ki(this._milliseconds),this._days=Ki(this._days),this._months=Ki(this._months),e.milliseconds=Ki(e.milliseconds),e.seconds=Ki(e.seconds),e.minutes=Ki(e.minutes),e.hours=Ki(e.hours),e.months=Ki(e.months),e.years=Ki(e.years),this}function gn(e,t,n,i){var r=Qe(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function _n(e,t){return gn(this,e,t,1)}function vn(e,t){return gn(this,e,t,-1)}function yn(e){return 0>e?Math.floor(e):Math.ceil(e)}function xn(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*yn(wn(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=m(o/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,a+=m(n/24),r=m(bn(a)),s+=r,a-=yn(wn(r)),i=m(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function bn(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function Cn(e){var t,n,i=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+bn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Sn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function kn(e){return function(){return this.as(e)}}function Dn(e){return e=D(e),this[e+"s"]()}function Tn(e){return function(){return this._data[e]}}function En(){return m(this.days()/7)}function In(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function An(e,t,n){var i=Qe(e).abs(),r=dr(i.as("s")),o=dr(i.as("m")),a=dr(i.as("h")),s=dr(i.as("d")),l=dr(i.as("M")),u=dr(i.as("y")),c=r<hr.s&&["s",r]||1===o&&["m"]||o<hr.m&&["mm",o]||1===a&&["h"]||a<hr.h&&["hh",a]||1===s&&["d"]||s<hr.d&&["dd",s]||1===l&&["M"]||l<hr.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,In.apply(null,c)}function $n(e,t){return void 0===hr[e]?!1:void 0===t?hr[e]:(hr[e]=t,!0)}function Bn(e){var t=this.localeData(),n=An(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function On(){var e,t,n,i=pr(this._milliseconds)/1e3,r=pr(this._days),o=pr(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(o/12),o%=12;var a=n,s=o,l=r,u=t,c=e,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Pn,Mn,Rn=e.momentProperties=[],Vn=!1,Ln={},Fn={},zn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nn={},jn={},Wn=/\d/,Gn=/\d\d/,qn=/\d{3}/,Un=/\d{4}/,Yn=/[+-]?\d{6}/,Kn=/\d\d?/,Qn=/\d{1,3}/,Xn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Jn=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},oi={},ai=0,si=1,li=2,ui=3,ci=4,di=5,hi=6;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),F("M",Kn),F("MM",Kn,Gn),F("MMM",ii),F("MMMM",ii),N(["M","MM"],function(e,t){t[si]=g(e)-1}),N(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[si]=r:u(n).invalidMonth=e});var pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var gi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_i=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],vi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ee("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),k("year","y"),F("Y",ei),F("YY",Kn,Gn),F("YYYY",Xn,Un),F("YYYYY",Zn,Yn),F("YYYYYY",Zn,Yn),N(["YYYYY","YYYYYY"],ai),N("YYYY",function(t,n){n[ai]=2===t.length?e.parseTwoDigitYear(t):g(t)}),N("YY",function(t,n){n[ai]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var xi=E("FullYear",!1);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),F("w",Kn),F("ww",Kn,Gn),F("W",Kn),F("WW",Kn,Gn),j(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var bi={dow:0,doy:6};O("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),F("DDD",Qn),F("DDDD",qn),N(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var wi=ee("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return this>e?this:e}),Ci=ee("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return e>this?this:e});Me("Z",":"),Me("ZZ",""),F("Z",ti),F("ZZ",ti),N(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Re(e)});var Si=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var ki=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Di=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qe.fn=Oe.prototype;var Ti=et(1,"add"),Ei=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ii=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),It("gggg","weekYear"),It("ggggg","weekYear"),It("GGGG","isoWeekYear"),It("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),F("G",ei),F("g",ei),F("GG",Kn,Gn),F("gg",Kn,Gn),F("GGGG",Xn,Un),F("gggg",Xn,Un),F("GGGGG",Zn,Yn),F("ggggg",Zn,Yn),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),j(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),O("Q",0,0,"quarter"),k("quarter","Q"),F("Q",Wn),N("Q",function(e,t){t[si]=3*(g(e)-1)}),O("D",["DD",2],"Do","date"),k("date","D"),F("D",Kn),F("DD",Kn,Gn),F("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),N(["D","DD"],li),N("Do",function(e,t){t[li]=g(e.match(Kn)[0],10)});var Ai=E("Date",!0);O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),F("d",Kn),F("e",Kn),F("E",Kn),F("dd",ii),F("ddd",ii),F("dddd",ii),j(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:u(n).invalidWeekday=e}),j(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var $i="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");O("H",["HH",2],0,"hour"),O("h",["hh",2],0,function(){return this.hours()%12||12}),Wt("a",!0),Wt("A",!1),k("hour","h"),F("a",Gt),F("A",Gt),F("H",Kn),F("h",Kn),F("HH",Kn,Gn),F("hh",Kn,Gn),N(["H","HH"],ui),N(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),N(["h","hh"],function(e,t,n){t[ui]=g(e),u(n).bigHour=!0});var Pi=/[ap]\.?m?\.?/i,Mi=E("Hours",!0);O("m",["mm",2],0,"minute"),k("minute","m"),F("m",Kn),F("mm",Kn,Gn),N(["m","mm"],ci);var Ri=E("Minutes",!1);O("s",["ss",2],0,"second"),k("second","s"),F("s",Kn),F("ss",Kn,Gn),N(["s","ss"],di);var Vi=E("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),F("S",Qn,Wn),F("SS",Qn,Gn),F("SSS",Qn,qn);var Li;for(Li="SSSS";Li.length<=9;Li+="S")F(Li,Jn);for(Li="S";Li.length<=9;Li+="S")N(Li,Yt);var Fi=E("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var zi=p.prototype;zi.add=Ti,zi.calendar=nt,zi.clone=it,zi.diff=lt,zi.endOf=xt,zi.format=ht,zi.from=pt,zi.fromNow=ft,zi.to=mt,zi.toNow=gt,zi.get=$,zi.invalidAt=Et,zi.isAfter=rt,zi.isBefore=ot,zi.isBetween=at,zi.isSame=st,zi.isValid=Dt,zi.lang=Ii,zi.locale=_t,zi.localeData=vt,zi.max=Ci,zi.min=wi,zi.parsingFlags=Tt,zi.set=$,zi.startOf=yt,zi.subtract=Ei,zi.toArray=St,zi.toObject=kt,zi.toDate=Ct,zi.toISOString=dt,zi.toJSON=dt,zi.toString=ct,zi.unix=wt,zi.valueOf=bt,zi.year=xi,zi.isLeapYear=le,zi.weekYear=$t,zi.isoWeekYear=Bt,zi.quarter=zi.quarters=Mt,zi.month=Q,zi.daysInMonth=X,zi.week=zi.weeks=pe,zi.isoWeek=zi.isoWeeks=fe,zi.weeksInYear=Pt,zi.isoWeeksInYear=Ot,zi.date=Ai,zi.day=zi.days=Ht,zi.weekday=Nt,zi.isoWeekday=jt,zi.dayOfYear=ge,zi.hour=zi.hours=Mi,zi.minute=zi.minutes=Ri,zi.second=zi.seconds=Vi,
zi.millisecond=zi.milliseconds=Fi,zi.utcOffset=Fe,zi.utc=He,zi.local=Ne,zi.parseZone=je,zi.hasAlignedHourOffset=We,zi.isDST=Ge,zi.isDSTShifted=qe,zi.isLocal=Ue,zi.isUtcOffset=Ye,zi.isUtc=Ke,zi.isUTC=Ke,zi.zoneAbbr=Kt,zi.zoneName=Qt,zi.dates=ee("dates accessor is deprecated. Use date instead.",Ai),zi.months=ee("months accessor is deprecated. Use month instead",Q),zi.years=ee("years accessor is deprecated. Use year instead",xi),zi.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",ze);var Hi=zi,Ni={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ji={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wi="Invalid date",Gi="%d",qi=/\d{1,2}/,Ui={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Yi=v.prototype;Yi._calendar=Ni,Yi.calendar=Jt,Yi._longDateFormat=ji,Yi.longDateFormat=en,Yi._invalidDate=Wi,Yi.invalidDate=tn,Yi._ordinal=Gi,Yi.ordinal=nn,Yi._ordinalParse=qi,Yi.preparse=rn,Yi.postformat=rn,Yi._relativeTime=Ui,Yi.relativeTime=on,Yi.pastFuture=an,Yi.set=sn,Yi.months=q,Yi._months=pi,Yi.monthsShort=U,Yi._monthsShort=fi,Yi.monthsParse=Y,Yi.week=ce,Yi._week=bi,Yi.firstDayOfYear=he,Yi.firstDayOfWeek=de,Yi.weekdays=Vt,Yi._weekdays=$i,Yi.weekdaysMin=Ft,Yi._weekdaysMin=Oi,Yi.weekdaysShort=Lt,Yi._weekdaysShort=Bi,Yi.weekdaysParse=zt,Yi.isPM=qt,Yi._meridiemParse=Pi,Yi.meridiem=Ut,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",w),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",S);var Ki=Math.abs,Qi=kn("ms"),Xi=kn("s"),Zi=kn("m"),Ji=kn("h"),er=kn("d"),tr=kn("w"),nr=kn("M"),ir=kn("y"),rr=Tn("milliseconds"),or=Tn("seconds"),ar=Tn("minutes"),sr=Tn("hours"),lr=Tn("days"),ur=Tn("months"),cr=Tn("years"),dr=Math.round,hr={s:45,m:45,h:22,d:26,M:11},pr=Math.abs,fr=Oe.prototype;fr.abs=mn,fr.add=_n,fr.subtract=vn,fr.as=Cn,fr.asMilliseconds=Qi,fr.asSeconds=Xi,fr.asMinutes=Zi,fr.asHours=Ji,fr.asDays=er,fr.asWeeks=tr,fr.asMonths=nr,fr.asYears=ir,fr.valueOf=Sn,fr._bubble=xn,fr.get=Dn,fr.milliseconds=rr,fr.seconds=or,fr.minutes=ar,fr.hours=sr,fr.days=lr,fr.weeks=En,fr.months=ur,fr.years=cr,fr.humanize=Bn,fr.toISOString=On,fr.toString=On,fr.toJSON=On,fr.locale=_t,fr.localeData=vt,fr.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",On),fr.lang=Ii,O("X",0,0,"unix"),O("x",0,0,"valueOf"),F("x",ei),F("X",ni),N("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),N("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.6",t(Ie),e.fn=Hi,e.min=$e,e.max=Be,e.utc=s,e.unix=Xt,e.months=cn,e.isDate=i,e.locale=w,e.invalid=d,e.duration=Qe,e.isMoment=f,e.weekdays=hn,e.parseZone=Zt,e.localeData=S,e.isDuration=Pe,e.monthsShort=dn,e.weekdaysMin=fn,e.defineLocale=C,e.weekdaysShort=pn,e.normalizeUnits=D,e.relativeTimeThreshold=$n;var mr=e;return mr}),/*!
 * angular-translate - v2.11.0 - 2016-03-20
 * 
 * Copyright (c) 2016 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),i=function(){var i=e.preferredLanguage();angular.isString(i)?e.use(i):n.put(t,e.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](i):i():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,i=!1,r=!1;t={sanitize:function(e,t){return"text"===t&&(e=a(e)),e},escape:function(e,t){return"text"===t&&(e=o(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,a)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,o)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return i=!0,n=e,this},this.$get=["$injector","$log",function(o,a){var s={},l=function(e,n,i){return angular.forEach(i,function(i){if(angular.isFunction(i))e=i(e,n);else if(angular.isFunction(t[i]))e=t[i](e,n);else{if(!angular.isString(t[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!s[t[i]])try{s[t[i]]=o.get(t[i])}catch(r){throw s[t[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=s[t[i]](e,n)}}),e},u=function(){i||r||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),r=!0)};return o.has("$sanitize")&&(e=o.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,i){if(n||u(),arguments.length<3&&(i=n),!i)return e;var r=angular.isArray(i)?i:[i];return l(e,t,r)}}}];var o=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},a=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t,n){if(angular.isObject(e)){var i=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,r){i[r]=s(e,t,n)}),n.splice(-1,1),i}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,i){"use strict";var r,o,a,s,l,u,c,d,h,p,f,m,g,_,v,y,x={},b=[],w=e,C=[],S="translate-cloak",k=!1,D=!1,T=".",E=!1,I=0,A=!0,$="default",B={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n[0].toLowerCase()}},O="2.11.0",P=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var e,n,r=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(e=0;e<r.languages.length;e++)if(n=r.languages[e],n&&n.length)return n;for(e=0;e<o.length;e++)if(n=r[o[e]],n&&n.length)return n;return null};P.displayName="angular-translate/service: getFirstBrowserLanguage";var M=function(){var e=P()||"";return B[$]&&(e=B[$](e)),e};M.displayName="angular-translate/service: getLocale";var R=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},V=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(e){if(e){for(var t=[],n=angular.lowercase(e),i=0,r=b.length;r>i;i++)t.push(angular.lowercase(b[i]));if(R(t,n)>-1)return e;if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(u||l)&&(a=o[s],R(t,angular.lowercase(a))>-1))return a}}var c=e.split("_");return c.length>1&&R(t,angular.lowercase(c[0]))>-1?c[0]:void 0}},F=function(e,t){if(!e&&!t)return x;if(e&&!t){if(angular.isString(e))return x[e]}else angular.isObject(x[e])||(x[e]={}),angular.extend(x[e],z(t));return this};this.translations=F,this.cloakClassName=function(e){return e?(S=e,this):S},this.nestedObjectDelimeter=function(e){return e?(T=e,this):T};var z=function(e,t,n,i){var r,o,a,s;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s=e[r],angular.isObject(s)?z(s,t.concat(r),n,r):(o=t.length?""+t.join(T)+T+r:r,t.length&&r===i&&(a=""+t.join(T),n[a]="@:"+o),n[o]=s));return n};z.displayName="flatObject",this.addInterpolation=function(e){return C.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(H(e),this):r};var H=function(e){return e&&(r=e),r};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(g=e,this):g},this.translationNotFoundIndicatorRight=function(e){return e?(_=e,this):_},this.fallbackLanguage=function(e){return N(e),this};var N=function(e){return e?(angular.isString(e)?(s=!0,a=[e]):angular.isArray(e)&&(s=!1,a=e),angular.isString(r)&&R(a,r)<0&&a.push(r),this):s?a[0]:a};this.use=function(e){if(e){if(!x[e]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return M()};var j=function(e){return e?(w=e,this):d?d+w:w};this.storageKey=j,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return f=e,m=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return h=e,this},this.usePostCompiling=function(e){return k=!!e,this},this.forceAsyncReload=function(e){return D=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},$=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():M();return r=b.length?L(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(b=e,t&&(o=t),this):b},this.useLoaderCache=function(e){return e===!1?v=void 0:e===!0?v=!0:"undefined"==typeof e?v="$translationCache":e&&(v=e),this},this.directivePriority=function(e){return void 0===e?I:(I=e,this)},this.statefulFilter=function(e){return void 0===e?A:(A=e,this)},this.postProcess=function(e){return y=e?e:void 0,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,i){var o,d,$,B=t.get(p||"$translateDefaultInterpolation"),P=!1,W={},G={},q=function(e,t,n,s,u){!l&&r&&(l=r);var h=u&&u!==l?L(u)||u:l;if(u&&ue(u),angular.isArray(e)){var p=function(e){for(var r={},o=[],a=function(e){var o=i.defer(),a=function(t){r[e]=t,o.resolve([e,t])};return q(e,t,n,s,u).then(a,a),o.promise},l=0,c=e.length;c>l;l++)o.push(a(e[l]));return i.all(o).then(function(){return r})};return p(e)}var f=i.defer();e&&(e=V.apply(e));var m=function(){var e=r?G[r]:G[h];if(d=0,c&&!e){var t=o.get(w);if(e=G[t],a&&a.length){var n=R(a,t);d=0===n?1:0,R(a,r)<0&&a.push(r)}}return e}();if(m){var g=function(){u||(h=l),oe(e,t,n,s,h).then(f.resolve,f.reject)};g.displayName="promiseResolved",m["finally"](g)}else oe(e,t,n,s,h).then(f.resolve,f.reject);return f.promise},U=function(e){return g&&(e=[g,e].join(" ")),_&&(e=[e,_].join(" ")),e},Y=function(e){l=e,c&&o.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),B.setLocale(l);var t=function(e,t){W[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(W,t),n.$emit("$translateChangeEnd",{language:e})},K=function(e){if(!e)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:e}),P=!0;var o=v;"string"==typeof o&&(o=t.get(o));var a=angular.extend({},m,{key:e,$http:angular.extend({},{cache:o},m.$http)}),s=function(t){var i={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(i,z(e))}):angular.extend(i,z(t)),P=!1,r.resolve({key:e,table:i}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),r.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(f)(a).then(s,l),r.promise};if(c&&(o=t.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(C.length){var Q=function(e){var n=t.get(e);n.setLocale(r||l),W[n.getInterpolationIdentifier()]=n};Q.displayName="interpolationFactoryAdder",angular.forEach(C,Q)}var X=function(e){var t=i.defer();if(Object.prototype.hasOwnProperty.call(x,e))t.resolve(x[e]);else if(G[e]){var n=function(e){F(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",G[e].then(n,t.reject)}else t.reject();return t.promise},Z=function(e,t,n,r){var o=i.defer(),a=function(i){if(Object.prototype.hasOwnProperty.call(i,t)){r.setLocale(e);var a=i[t];if("@:"===a.substr(0,2))Z(e,a.substr(2),n,r).then(o.resolve,o.reject);else{var s=r.interpolate(i[t],n);s=le(t,i[t],s,n,e),o.resolve(s)}r.setLocale(l)}else o.reject()};return a.displayName="fallbackTranslationResolver",X(e).then(a,o.reject),o.promise},J=function(e,t,n,i){var r,o=x[e];if(o&&Object.prototype.hasOwnProperty.call(o,t)){if(i.setLocale(e),r=i.interpolate(o[t],n),"@:"===r.substr(0,2))return J(e,r.substr(2),n,i);i.setLocale(l)}return r},ee=function(e,n,i){if(h){var r=t.get(h)(e,l,n,i);return void 0!==r?r:e}return e},te=function(e,t,n,r,o){var s=i.defer();if(e<a.length){var l=a[e];Z(l,t,n,r).then(function(e){s.resolve(e)},function(){return te(e+1,t,n,r,o).then(s.resolve,s.reject)})}else o?s.resolve(o):h?s.resolve(ee(t,n)):s.reject(ee(t,n));return s.promise},ne=function(e,t,n,i){var r;if(e<a.length){var o=a[e];r=J(o,t,n,i),r||(r=ne(e+1,t,n,i))}return r},ie=function(e,t,n,i){return te($>0?$:d,e,t,n,i)},re=function(e,t,n){return ne($>0?$:d,e,t,n)},oe=function(e,t,n,r,o){var s=i.defer(),l=o?x[o]:x,u=n?W[n]:B;if(l&&Object.prototype.hasOwnProperty.call(l,e)){var c=l[e];if("@:"===c.substr(0,2))q(c.substr(2),t,n,r,o).then(s.resolve,s.reject);else{var d=u.interpolate(c,t);d=le(e,c,d,t,o),s.resolve(d)}}else{var p;h&&!P&&(p=ee(e,t,r)),o&&a&&a.length?ie(e,t,u,r).then(function(e){s.resolve(e)},function(e){s.reject(U(e))}):h&&!P&&p?r?s.resolve(r):s.resolve(p):r?s.resolve(r):s.reject(U(e))}return s.promise},ae=function(e,t,n,i){var r,o=i?x[i]:x,s=B;if(W&&Object.prototype.hasOwnProperty.call(W,n)&&(s=W[n]),o&&Object.prototype.hasOwnProperty.call(o,e)){var l=o[e];r="@:"===l.substr(0,2)?ae(l.substr(2),t,n,i):s.interpolate(l,t)}else{var u;h&&!P&&(u=ee(e,t)),i&&a&&a.length?(d=0,r=re(e,t,s)):r=h&&!P&&u?u:U(e)}return r},se=function(e){u===e&&(u=void 0),G[e]=void 0},le=function(e,n,i,r,o){var a=y;return a&&("string"==typeof a&&(a=t.get(a)),a)?a(e,n,i,r,o):i},ue=function(e){x[e]||!f||G[e]||(G[e]=K(e).then(function(e){F(e.key,e.table)}))};q.preferredLanguage=function(e){return e&&H(e),r},q.cloakClassName=function(){return S},q.nestedObjectDelimeter=function(){return T},q.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(N(e),f&&a&&a.length)for(var t=0,n=a.length;n>t;t++)G[a[t]]||(G[a[t]]=K(a[t]));q.use(q.use())}return s?a[0]:a},q.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=R(a,e);t>-1&&($=t)}else $=0},q.proposedLanguage=function(){return u},q.storage=function(){return o},q.negotiateLocale=L,q.use=function(e){if(!e)return l;var t=i.defer();n.$emit("$translateChangeStart",{language:e});var r=L(e);return b.length>0&&!r?i.reject(e):(r&&(e=r),u=e,!D&&x[e]||!f||G[e]?G[e]?G[e].then(function(e){return u===e.key&&Y(e.key),t.resolve(e.key),e},function(e){return!l&&a&&a.length>0?q.use(a[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),Y(e)):(G[e]=K(e).then(function(n){return F(n.key,n.table),t.resolve(n.key),u===e&&Y(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),i.reject(e)}),G[e]["finally"](function(){se(e)})),t.promise)},q.resolveClientLocale=function(){return M()},q.storageKey=function(){return j()},q.isPostCompilingEnabled=function(){return k},q.isForceAsyncReloadEnabled=function(){return D},q.refresh=function(e){function t(){o.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function r(){o.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");var o=i.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(x[e]){var s=function(n){F(n.key,n.table),e===l&&Y(l),t()};s.displayName="refreshPostProcessor",K(e).then(s,r)}else r();else{var u=[],c={};if(a&&a.length)for(var d=0,h=a.length;h>d;d++)u.push(K(a[d])),c[a[d]]=!0;l&&!c[l]&&u.push(K(l));var p=function(e){x={},angular.forEach(e,function(e){F(e.key,e.table)}),l&&Y(l),t()};p.displayName="refreshPostProcessor",i.all(u).then(p,r)}return o.promise},q.instant=function(e,t,n,i){var o=i&&i!==l?L(i)||i:l;if(null===e||angular.isUndefined(e))return e;if(i&&ue(i),angular.isArray(e)){for(var s={},u=0,c=e.length;c>u;u++)s[e[u]]=q.instant(e[u],t,n,i);return s}if(angular.isString(e)&&e.length<1)return e;e&&(e=V.apply(e));var d,p=[];r&&p.push(r),o&&p.push(o),a&&a.length&&(p=p.concat(a));for(var f=0,m=p.length;m>f;f++){var v=p[f];if(x[v]&&"undefined"!=typeof x[v][e]&&(d=ae(e,t,n,o)),"undefined"!=typeof d)break}return d||""===d||(g||_?d=U(e):(d=B.interpolate(e,t),h&&!P&&(d=ee(e,t)))),d},q.versionInfo=function(){return O},q.loaderCache=function(){return v},q.directivePriority=function(){return I},q.statefulFilter=function(){return A},q.isReady=function(){return E};var ce=i.defer();ce.promise.then(function(){E=!0}),q.onReady=function(e){var t=i.defer();return angular.isFunction(e)&&t.promise.then(e),E?t.resolve():ce.promise.then(t.resolve),t.promise},q.getAvailableLanguageKeys=function(){return b.length>0?b:null};var de=n.$on("$translateReady",function(){ce.resolve(),de(),de=null}),he=n.$on("$translateChangeEnd",function(){ce.resolve(),he(),he=null});if(f){if(angular.equals(x,{})&&q.use()&&q.use(q.use()),a&&a.length)for(var pe=function(e){return F(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},fe=0,me=a.length;me>fe;fe++){var ge=a[fe];(D||!x[ge])&&(G[ge]=K(ge).then(pe))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function i(e,t){"use strict";var n,i={},r="default";return i.setLocale=function(e){n=e},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},i.interpolate=function(n,i){i=i||{},i=t.sanitize(i,"params");var r=e(n)(i);return r=t.sanitize(r,"text")},i}function r(e,t,n,i,r,a){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,d=t[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",p="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,f,m){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=o(t);var g={},_=function(e,n,i){if(n.translateValues&&angular.extend(e,r(n.translateValues)(t.$parent)),d)for(var o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var a=angular.lowercase(o.substr(14,1))+o.substr(15);e[a]=i[o]}},v=function(e){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var i=s.apply(f.text()),r=i.match(h);if(angular.isArray(r)){t.preText=r[1],t.postText=r[3],g.translate=n(r[2])(t.$parent);var o=i.match(p);angular.isArray(o)&&o[2]&&o[2].length&&(v._unwatchOld=t.$watch(o[2],function(e){g.translate=e,S()}))}else g.translate=i?i:void 0}else g.translate=e;S()},y=function(e){m.$observe(e,function(t){g[e]=t,S()})};_(t.interpolateParams,m,l);var x=!0;m.$observe("translate",function(e){"undefined"==typeof e?v(""):""===e&&x||(g.translate=e,S()),x=!1});for(var b in m)m.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&y(b);if(m.$observe("translateDefault",function(e){t.defaultText=e,S()}),u&&m.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,r(e)(t.$parent))})}),d){var w=function(e){m.$observe(e,function(n){var i=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[i]=n})};for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&w(C)}var S=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&k(e,g[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},k=function(t,n,i,r,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),e(n,r,c,o,i.translateLanguage).then(function(e){D(e,i,!0,t)},function(e){D(e,i,!1,t)})):D(n,i,!1,t)},D=function(t,n,r,o){if(r||"undefined"!=typeof n.defaultText&&(t=n.defaultText),"translate"===o){(r||!r&&"undefined"==typeof m.translateKeepContent)&&f.empty().append(n.preText+t+n.postText);var a=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,u=s&&"false"!==l.translateCompile;(a&&!s||u)&&i(f.contents())(n)}else{var c=m.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),f.attr(c,t)}};(u||d||m.translateDefault)&&t.$watch("interpolateParams",S,!0);var T=t.$on("translateLanguageChanged",S),E=a.$on("$translateChangeSuccess",S);f.text().length?v(m.translate?m.translate:""):m.translate&&v(m.translate),S(),t.$on("$destroy",function(){T(),E()})}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function a(e,t){"use strict";return{compile:function(n){var i=function(){n.addClass(e.cloakClassName())},r=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){r()}),i(),function(n,o,a){a.translateCloak&&a.translateCloak.length&&(a.$observe("translateCloak",function(t){e(t).then(r,i)}),t.$on("$translateChangeSuccess",function(){e(a.translateCloak).then(r,i)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=o(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function u(e,t){"use strict";var n=function(n,i,r,o){return angular.isObject(i)||(i=e(i)(this)),t.instant(n,i,r,o)};return t.statefulFilter()&&(n.$stateful=!0),n}function c(e){"use strict";return e("translations")}return e.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],u.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",l),l.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",u),u.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"}),/*!
 * angular-translate - v2.11.0 - 2016-03-20
 * 
 * Copyright (c) 2016 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t={get:function(t){return e.get(t)},set:function(t,n){e.put(t,n)},put:function(t,n){e.put(t,n)}};return t}return e.$inject=["$cookieStore"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",e),e.displayName="$translateCookieStorage","pascalprecht.translate"}),/*!
 * angular-translate - v2.11.0 - 2016-03-20
 * 
 * Copyright (c) 2016 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";var n=function(){var t;return{get:function(n){return t||(t=e.localStorage.getItem(n)),t},set:function(n,i){t=i,e.localStorage.setItem(n,i)},put:function(n,i){t=i,e.localStorage.setItem(n,i)}}}(),i="localStorage"in e;if(i){var r="pascalprecht.translate.storageTest";try{null!==e.localStorage?(e.localStorage.setItem(r,"foo"),e.localStorage.removeItem(r),i=!0):i=!1}catch(o){i=!1}}var a=i?n:t;return a}return e.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",e),e.displayName="$translateLocalStorageFactory","pascalprecht.translate"}),/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=re.type(e);return"function"===n||re.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(re.isFunction(t))return re.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return re.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(he.test(t))return re.filter(t,e,n);t=re.filter(t,e)}return re.grep(e,function(e){return re.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return re.each(e.match(ye)||[],function(e,n){t[n]=!0}),t}function a(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(fe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(a(),re.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(ke,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Se.test(n)?re.parseJSON(n):n}catch(r){}re.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!re.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(re.acceptData(e)){var r,o,a=re.expando,s=e.nodeType,l=s?re.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=Y.pop()||re.guid++:a),l[u]||(l[u]=s?{}:{toJSON:re.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[u]=re.extend(l[u],t):l[u].data=re.extend(l[u].data,t)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[re.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[re.camelCase(t)])):r=o,r}}function d(e,t,n){if(re.acceptData(e)){var i,r,o=e.nodeType,a=o?re.cache:e,s=o?e[re.expando]:re.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){re.isArray(t)?t=t.concat(re.map(t,re.camelCase)):t in i?t=[t]:(t=re.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!u(i):!re.isEmptyObject(i))return}(n||(delete a[s].data,u(a[s])))&&(o?re.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Re.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||re.nodeName(i,t)?o.push(i):re.merge(o,g(i,t));return void 0===t||t&&re.nodeName(e,t)?re.merge([e],o):o}function _(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==re.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){for(var n,i=0;null!=(n=e[i]);i++)re._data(n,"globalEval",!t||re._data(t[i],"globalEval"))}function w(e,t){if(1===t.nodeType&&re.hasData(e)){var n,i,r,o=re._data(e),a=re._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)re.event.add(t,n,s[n][i])}a.data&&(a.data=re.extend({},a.data))}}function C(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[re.expando]){r=re._data(t);for(i in r.events)re.removeEvent(t,i,r.handle);t.removeAttribute(re.expando)}"script"===n&&t.text!==e.text?(y(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!re.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function S(t,n){var i,r=re(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:re.css(r[0],"display");return r.detach(),o}function k(e){var t=fe,n=Je[e];return n||(n=S(e,t),"none"!==n&&n||(Ze=(Ze||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ze[0].contentWindow||Ze[0].contentDocument).document,t.write(),t.close(),n=S(e,t),Ze.detach()),Je[e]=n),n}function D(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=ht.length;r--;)if(t=ht[r]+n,t in e)return t;return i}function E(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=re._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ee(i)&&(o[a]=re._data(i,"olddisplay",k(i.nodeName)))):(r=Ee(i),(n&&"none"!==n||!r)&&re._data(i,"olddisplay",r?n:re.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function I(e,t,n){var i=lt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function A(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=re.css(e,n+Te[o],!0,r)),i?("content"===n&&(a-=re.css(e,"padding"+Te[o],!0,r)),"margin"!==n&&(a-=re.css(e,"border"+Te[o]+"Width",!0,r))):(a+=re.css(e,"padding"+Te[o],!0,r),"padding"!==n&&(a+=re.css(e,"border"+Te[o]+"Width",!0,r)));return a}function $(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a=ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=tt(e,t,o),(0>r||null==r)&&(r=e.style[t]),it.test(r))return r;i=a&&(ne.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+A(e,t,n||(a?"border":"content"),i,o)+"px"}function B(e,t,n,i,r){return new B.prototype.init(e,t,n,i,r)}function O(){return setTimeout(function(){pt=void 0}),pt=re.now()}function P(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Te[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function M(e,t,n){for(var i,r=(yt[t]||[]).concat(yt["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function R(e,t,n){var i,r,o,a,s,l,u,c,d=this,h={},p=e.style,f=e.nodeType&&Ee(e),m=re._data(e,"fxshow");n.queue||(s=re._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,re.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=re.css(e,"display"),c="none"===u?re._data(e,"olddisplay")||k(e.nodeName):u,"inline"===c&&"none"===re.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],mt.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||re.style(e,i)}else u=void 0;if(re.isEmptyObject(h))"inline"===("none"===u?k(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=re._data(e,"fxshow",{}),o&&(m.hidden=!f),f?re(e).show():d.done(function(){re(e).hide()}),d.done(function(){var t;re._removeData(e,"fxshow");for(t in h)re.style(e,t,h[t])});for(i in h)a=M(f?m[i]:0,i,d),i in m||(m[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function V(e,t){var n,i,r,o,a;for(n in e)if(i=re.camelCase(n),r=t[i],o=e[n],re.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=re.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function L(e,t,n){var i,r,o=0,a=vt.length,s=re.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=pt||O(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=re.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(V(c,u.opts.specialEasing);a>o;o++)if(i=vt[o].call(u,e,c,u.opts))return i;return re.map(c,M,u),re.isFunction(u.opts.start)&&u.opts.start.call(e,u),re.fx.timer(re.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ye)||[];if(re.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function z(e,t,n,i){function r(s){var l;return o[s]=!0,re.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===jt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function H(e,t){var n,i,r=re.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&re.extend(!0,e,n),e}function N(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function j(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function W(e,t,n,i){var r;if(re.isArray(t))re.each(t,function(t,r){n||Ut.test(e)?i(e,r):W(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==re.type(t))i(e,t);else for(r in t)W(e+"["+r+"]",t[r],n,i)}function G(){try{return new e.XMLHttpRequest}catch(t){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function U(e){return re.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y=[],K=Y.slice,Q=Y.concat,X=Y.push,Z=Y.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ne={},ie="1.11.3",re=function(e,t){return new re.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:ie,constructor:re,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},map:function(e){return this.pushStack(re.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:Y.sort,splice:Y.splice},re.extend=re.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||re.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],n=r[i],a!==n&&(u&&n&&(re.isPlainObject(n)||(t=re.isArray(n)))?(t?(t=!1,o=e&&re.isArray(e)?e:[]):o=e&&re.isPlainObject(e)?e:{},a[i]=re.extend(u,o,n)):void 0!==n&&(a[i]=n));return a},re.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray||function(e){return"array"===re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!re.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&re.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?re.merge(i,"string"==typeof e?[e]:e):X.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Z)return Z.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return Q.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),re.isFunction(e)?(n=K.call(arguments,2),i=function(){return e.apply(t||this,n.concat(K.call(arguments)))},i.guid=e.guid=e.guid||re.guid++,i):void 0},now:function(){return+new Date},support:ne}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ue=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,i){var r,o,a,s,l,u,d,p,f,m;if((t?t.ownerDocument||t:z)!==B&&$(t),t=t||B,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&P){if(11!==s&&(r=ve.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&L(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&b.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!M||!M.test(e))){if(p=d=F,f=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=k(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=ye.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=B.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=N++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u=[H,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[F]||(t[F]={}),(s=l[i])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),u&&t.push(s));return a}function _(e,t,n,r,o,a){return r&&!r[F]&&(r=_(r)),o&&!o[F]&&(o=_(o,a)),i(function(i,a,s,l){var u,c,d,h=[],p=[],f=a.length,_=i||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?_:g(_,h,e,s,l),y=n?o||(i?e:f||r)?[]:a:v;if(n&&n(v,y,s,l),r)for(u=g(y,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(v[p[c]]=d));if(i){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?ee(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else y=g(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function v(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>s;s++)if(n=w.relative[e[s].type])c=[p(f(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[F]){for(i=++s;r>i&&!w.relative[e[i].type];i++);return _(s>1&&f(c),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&h(e))}c.push(n)}return f(c)}function y(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,h,p=0,f="0",m=i&&[],_=[],v=E,y=i||o&&w.find.TAG("*",u),x=H+=null==v?1:Math.random()||.1,b=y.length;for(u&&(E=a!==B&&a);f!==b&&null!=(c=y[f]);f++){if(o&&c){for(d=0;h=e[d++];)if(h(c,a,s)){l.push(c);break}u&&(H=x)}r&&((c=!h&&c)&&p--,i&&m.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(m,_,a,s);if(i){if(p>0)for(;f--;)m[f]||_[f]||(_[f]=Q.call(l));_=g(_)}Z.apply(l,_),u&&!i&&_.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(H=x,E=v),m};return r?i(a):a}var x,b,w,C,S,k,D,T,E,I,A,$,B,O,P,M,R,V,L,F="sizzle"+1*new Date,z=e.document,H=0,N=0,j=n(),W=n(),G=n(),q=function(e,t){return e===t&&(A=!0),0},U=1<<31,Y={}.hasOwnProperty,K=[],Q=K.pop,X=K.push,Z=K.push,J=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){$()};try{Z.apply(K=J.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(Se){Z={apply:K.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},$=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==B&&9===i.nodeType&&i.documentElement?(B=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),P=!S(i),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=_e.test(i.getElementsByClassName),b.getById=r(function(e){return O.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),b.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){return P?t.getElementsByClassName(e):void 0},R=[],M=[],(b.qsa=_e.test(i.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||M.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(b.matchesSelector=_e.test(V=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){b.disconnectedMatch=V.call(e,"div"),V.call(e,"[s!='']:x"),R.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),t=_e.test(O.compareDocumentPosition),L=t||_e.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===z&&L(z,e)?-1:t===i||t.ownerDocument===z&&L(z,t)?1:I?ee(I,e)-ee(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:I?ee(I,e)-ee(I,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===z?-1:u[r]===z?1:0},i):B},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==B&&$(e),n=n.replace(de,"='$1']"),b.matchesSelector&&P&&(!R||!R.test(n))&&(!M||!M.test(n)))try{var i=V.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,B,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==B&&$(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==B&&$(e);var n=w.attrHandle[t.toLowerCase()],i=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:b.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!b.detectDuplicates,I=!b.sortStable&&e.slice(0),e.sort(q),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return I=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,_=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(c=g[F]||(g[F]={}),u=c[e]||[],p=u[0]===H&&u[1],h=u[0]===H&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[H,p,h];break}}else if(v&&(u=(t[F]||(t[F]={}))[e])&&u[0]===H)h=u[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++h||(v&&((d[F]||(d[F]={}))[e]=[H,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(le,"$1"));return r[F]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,k=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=w.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(a in w.filter)!(r=fe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},D=t.compile=function(e,t){var n,i=[],r=[],o=G[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=v(t[n]),o[F]?i.push(o):r.push(o);o=G(e,y(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,d=!i&&k(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&P&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(be,we),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Z.apply(n,i),n;break}}return(u||D(e,d))(i,t,!P,n,ye.test(e)&&c(t.parentNode)||t),n},b.sortStable=F.split("").sort(q).join("")===F,b.detectDuplicates=!!A,$(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(B.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);re.find=ue,re.expr=ue.selectors,re.expr[":"]=re.expr.pseudos,re.unique=ue.uniqueSort,re.text=ue.getText,re.isXMLDoc=ue.isXML,re.contains=ue.contains;var ce=re.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;re.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?re.find.matchesSelector(i,e)?[i]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;r>t;t++)if(re.contains(i[t],this))return!0}));for(t=0;r>t;t++)re.find(e,i[t],n);return n=this.pushStack(r>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ce.test(e)?re(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=re.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),de.test(n[1])&&re.isPlainObject(t))for(n in t)re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=fe.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pe.find(e);this.length=1,this[0]=i}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))};ge.prototype=re.fn,pe=re(fe);var _e=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!re(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),re.fn.extend({has:function(e){var t,n=re(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(re.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=ce.test(e)||"string"!=typeof e?re(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?re.unique(o):o)},index:function(e){return e?"string"==typeof e?re.inArray(this[0],re(e)):re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.unique(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,n){return re.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,n){return re.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return re.dir(e,"previousSibling",n)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(n,i){var r=re.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=re.filter(i,r)),this.length>1&&(ve[e]||(r=re.unique(r)),_e.test(e)&&(r=r.reverse())),this.pushStack(r)}});var ye=/\S+/g,xe={};re.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):re.extend({},e);var t,n,i,r,a,s,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,i=!0,a=s||0,s=0,r=l.length,t=!0;l&&r>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function o(t){re.each(t,function(t,n){var i=re.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),t?r=l.length:n&&(s=i,c(n))}return this},remove:function(){return l&&re.each(arguments,function(e,n){for(var i;(i=re.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,a>=i&&a--)}),this},has:function(e){return e?re.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||i&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(n){re.each(t,function(t,o){var a=re.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,i):i}},r={};return i.pipe=i.then,re.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=K.call(arguments),a=o.length,s=1!==a||e&&re.isFunction(e.promise)?a:0,l=1===s?e:re.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?K.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&re.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var be;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){if(e===!0?!--re.readyWait:!re.isReady){if(!fe.body)return setTimeout(re.ready);re.isReady=!0,e!==!0&&--re.readyWait>0||(be.resolveWith(fe,[re]),re.fn.triggerHandler&&(re(fe).triggerHandler("ready"),re(fe).off("ready")))}}}),re.ready.promise=function(t){if(!be)if(be=re.Deferred(),"complete"===fe.readyState)setTimeout(re.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{fe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&fe.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!re.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}a(),re.ready()}}()}return be.promise(t)};var we,Ce="undefined";for(we in re(ne))break;ne.ownLast="0"!==we,ne.inlineBlockNeedsLayout=!1,re(function(){var e,t,n,i;n=fe.getElementsByTagName("body")[0],n&&n.style&&(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=fe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),re.acceptData=function(e){var t=re.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ke=/([A-Z])/g;re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?re.cache[e[re.expando]]:e[re.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),re.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=re.data(o),1===o.nodeType&&!re._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=re.camelCase(i.slice(5)),l(o,i,r[i])));re._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){re.data(this,e)}):arguments.length>1?this.each(function(){re.data(this,e,t)}):o?l(o,e,re.data(o,e)):void 0},removeData:function(e){return this.each(function(){re.removeData(this,e)})}}),re.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=re._data(e,t),n&&(!i||re.isArray(n)?i=re._data(e,t,re.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=re.queue(e,t),i=n.length,r=n.shift(),o=re._queueHooks(e,t),a=function(){re.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return re._data(e,n)||re._data(e,n,{empty:re.Callbacks("once memory").add(function(){re._removeData(e,t+"queue"),re._removeData(e,n)})})}}),re.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?re.queue(this[0],e):void 0===t?this:this.each(function(){var n=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=re.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=re._data(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Ee=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Ie=re.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===re.type(n)){r=!0;for(s in n)re.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,re.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(re(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o},Ae=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),n=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(i){ne.deleteExpando=!1}}}(),function(){var t,n,i=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),ne[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var $e=/^(?:input|select|textarea)$/i,Be=/^key/,Oe=/^(?:mouse|pointer|contextmenu)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,d,h,p,f,m,g=re._data(e);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=re.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof re===Ce||e&&re.event.triggered===e.type?void 0:re.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(ye)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(u=re.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=re.event.special[p]||{},d=re.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=a[p])||(h=a[p]=[],h.delegateCount=0,u.setup&&u.setup.call(e,i,f,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),re.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,h,p,f,m,g=re.hasData(e)&&re._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ye)||[""],u=t.length;u--;)if(s=Me.exec(t[u])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(d=re.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),
l=o=h.length;o--;)a=h[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||re.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)re.event.remove(e,p+t[u],n,i,!0);re.isEmptyObject(c)&&(delete g.handle,re._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,u,c,d,h=[i||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=i=i||fe,3!==i.nodeType&&8!==i.nodeType&&!Pe.test(p+re.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[re.expando]?t:new re.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:re.makeArray(n,[t]),u=re.event.special[p]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!re.isWindow(i)){for(l=u.delegateType||p,Pe.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(i.ownerDocument||fe)&&h.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||p,o=(re._data(s,"events")||{})[t.type]&&re._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&re.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),n)===!1)&&re.acceptData(i)&&a&&i[p]&&!re.isWindow(i)){c=i[a],c&&(i[a]=null),re.event.triggered=p;try{i[p]()}catch(m){}re.event.triggered=void 0,c&&(i[a]=c)}return t.result}},dispatch:function(e){e=re.event.fix(e);var t,n,i,r,o,a=[],s=K.call(arguments),l=(re._data(this,"events")||{})[e.type]||[],u=re.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=re.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((re.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],o=0;s>o;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?re(n,this).index(l)>=0:re.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[re.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Oe.test(r)?this.mouseHooks:Be.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new re.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||fe,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return re.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=re.extend(new re.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?re.event.trigger(r,null,t):re.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=fe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ce&&(e[i]=null),e.detachEvent(i,n))},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!re.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(re.event.special.submit={setup:function(){return re.nodeName(this,"form")?!1:void re.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=re.nodeName(t,"input")||re.nodeName(t,"button")?t.form:void 0;n&&!re._data(n,"submitBubbles")&&(re.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),re._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&re.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return re.nodeName(this,"form")?!1:void re.event.remove(this,"._submit")}}),ne.changeBubbles||(re.event.special.change={setup:function(){return $e.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),re.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),re.event.simulate("change",this,e,!0)})),!1):void re.event.add(this,"beforeactivate._change",function(e){var t=e.target;$e.test(t.nodeName)&&!re._data(t,"changeBubbles")&&(re.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||re.event.simulate("change",this.parentNode,e,!0)}),re._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return re.event.remove(this,"._change"),!$e.test(this.nodeName)}}),ne.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=re._data(i,t);r||i.addEventListener(e,n,!0),re._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=re._data(i,t)-1;r?re._data(i,t,r):(i.removeEventListener(e,n,!0),re._removeData(i,t))}}}),re.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(a=i,i=function(e){return re().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=re.guid++)),this.each(function(){re.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,re(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){re.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?re.event.trigger(e,t,n,!0):void 0}});var Re="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ve=/ jQuery\d+="(?:null|\d+)"/g,Le=new RegExp("<(?:"+Re+")[\\s/>]","i"),Fe=/^\s+/,ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,He=/<([\w:]+)/,Ne=/<tbody/i,je=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(fe),Xe=Qe.appendChild(fe.createElement("div"));Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,re.extend({clone:function(e,t,n){var i,r,o,a,s,l=re.contains(e.ownerDocument,e);if(ne.html5Clone||re.isXMLDoc(e)||!Le.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Xe.innerHTML=e.outerHTML,Xe.removeChild(o=Xe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(i=g(o),s=g(e),a=0;null!=(r=s[a]);++a)i[a]&&C(r,i[a]);if(t)if(n)for(s=s||g(e),i=i||g(o),a=0;null!=(r=s[a]);a++)w(r,i[a]);else w(e,o);return i=g(o,"script"),i.length>0&&b(i,!l&&g(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,u,c,d=e.length,h=m(t),p=[],f=0;d>f;f++)if(o=e[f],o||0===o)if("object"===re.type(o))re.merge(p,o.nodeType?[o]:o);else if(je.test(o)){for(s=s||h.appendChild(t.createElement("div")),l=(He.exec(o)||["",""])[1].toLowerCase(),c=Ke[l]||Ke._default,s.innerHTML=c[1]+o.replace(ze,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!ne.leadingWhitespace&&Fe.test(o)&&p.push(t.createTextNode(Fe.exec(o)[0])),!ne.tbody)for(o="table"!==l||Ne.test(o)?"<table>"!==c[1]||Ne.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)re.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(re.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(t.createTextNode(o));for(s&&h.removeChild(s),ne.appendChecked||re.grep(g(p,"input"),_),f=0;o=p[f++];)if((!i||-1===re.inArray(o,i))&&(a=re.contains(o.ownerDocument,o),s=g(h.appendChild(o),"script"),a&&b(s),n))for(r=0;o=s[r++];)qe.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(e,t){for(var n,i,r,o,a=0,s=re.expando,l=re.cache,u=ne.deleteExpando,c=re.event.special;null!=(n=e[a]);a++)if((t||re.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?re.event.remove(n,i):re.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[s]:typeof n.removeAttribute!==Ce?n.removeAttribute(s):n[s]=null,Y.push(r))}}}),re.fn.extend({text:function(e){return Ie(this,function(e){return void 0===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?re.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||re.cleanData(g(n)),n.parentNode&&(t&&re.contains(n.ownerDocument,n)&&b(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&re.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ve,""):void 0;if("string"==typeof e&&!We.test(e)&&(ne.htmlSerialize||!Le.test(e))&&(ne.leadingWhitespace||!Fe.test(e))&&!Ke[(He.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ze,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(re.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,re.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,i,r,o,a,s,l=0,u=this.length,c=this,d=u-1,h=e[0],p=re.isFunction(h);if(p||u>1&&"string"==typeof h&&!ne.checkClone&&Ge.test(h))return this.each(function(n){var i=c.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(u&&(s=re.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=re.map(g(s,"script"),y),r=o.length;u>l;l++)i=s,l!==d&&(i=re.clone(i,!0,!0),r&&re.merge(o,g(i,"script"))),t.call(this[l],i,l);if(r)for(a=o[o.length-1].ownerDocument,re.map(o,x),l=0;r>l;l++)i=o[l],qe.test(i.type||"")&&!re._data(i,"globalEval")&&re.contains(a,i)&&(i.src?re._evalUrl&&re._evalUrl(i.src):re.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ye,"")));s=n=null}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var n,i=0,r=[],o=re(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),re(o[i])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var Ze,Je={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=fe.getElementsByTagName("body")[0],n&&n.style?(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var et,tt,nt=/^margin/,it=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),rt=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||et(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||re.contains(e.ownerDocument,e)||(a=re.style(e,t)),it.test(a)&&nt.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):fe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||et(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),it.test(a)&&!rt.test(t)&&(i=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,i,r;n=fe.getElementsByTagName("body")[0],n&&n.style&&(t=fe.createElement("div"),i=fe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(fe.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,a,s,l;n=fe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",ne.opacity="0.5"===i.opacity,ne.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,re.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),re.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+De+")(.*)$","i"),ut=new RegExp("^([+-])=("+De+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ht=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=re.camelCase(t),l=e.style;if(t=re.cssProps[s]||(re.cssProps[s]=T(l,s)),a=re.cssHooks[t]||re.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=ut.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(re.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||re.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]=n}catch(u){}}},css:function(e,t,n,i){var r,o,a,s=re.camelCase(t);return t=re.cssProps[s]||(re.cssProps[s]=T(e.style,s)),a=re.cssHooks[t]||re.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tt(e,t,i)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(r=parseFloat(o),n===!0||re.isNumeric(r)?r||0:o):o}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,n,i){return n?st.test(re.css(e,"display"))&&0===e.offsetWidth?re.swap(e,ct,function(){return $(e,t,i)}):$(e,t,i):void 0},set:function(e,n,i){var r=i&&et(e);return I(e,n,i?A(e,t,i,ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,r),r):0)}}}),ne.opacity||(re.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=re.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===re.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=ot.test(o)?o.replace(ot,r):o+" "+r)}}),re.cssHooks.marginRight=D(ne.reliableMarginRight,function(e,t){return t?re.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Te[i]+t]=o[i]||o[i-2]||o[0];return r}},nt.test(e)||(re.cssHooks[e+t].set=I)}),re.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var i,r,o={},a=0;if(re.isArray(t)){for(i=et(e),r=t.length;r>a;a++)o[t[a]]=re.css(e,t[a],!1,i);return o}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ee(this)?re(this).show():re(this).hide()})}}),re.Tween=B,B.prototype={constructor:B,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(re.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.fx=B.prototype.init,re.fx.step={};var pt,ft,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),_t=/queueHooks$/,vt=[R],yt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=gt.exec(t),o=r&&r[3]||(re.cssNumber[e]?"":"px"),a=(re.cssNumber[e]||"px"!==o&&+i)&&gt.exec(re.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,re.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};re.Animation=re.extend(L,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],yt[n]=yt[n]||[],yt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),re.speed=function(e,t,n){var i=e&&"object"==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t};return i.duration=re.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in re.fx.speeds?re.fx.speeds[i.duration]:re.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){re.isFunction(i.old)&&i.old.call(this),i.queue&&re.dequeue(this,i.queue)},i},re.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=re.isEmptyObject(e),o=re.speed(t,n,i),a=function(){var t=L(this,re.extend({},e),o);(r||re._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=re.timers,a=re._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&_t.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&re.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=re._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=re.timers,a=i?i.length:0;for(n.finish=!0,re.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),re.each(["toggle","show","hide"],function(e,t){var n=re.fn[t];re.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,i,r)}}),re.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),re.timers=[],re.fx.tick=function(){var e,t=re.timers,n=0;for(pt=re.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||re.fx.stop(),pt=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){ft||(ft=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(ft),ft=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(e,t){return e=re.fx?re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=fe.createElement("select"),r=n.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(i.getAttribute("style")),ne.hrefNormalized="/a"===i.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=r.selected,ne.enctype=!!fe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!r.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;re.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=re.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,re(this).val()):e,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(e){return null==e?"":e+""})),t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!re.nodeName(n.parentNode,"optgroup"))){if(t=re(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=re.makeArray(t),a=r.length;a--;)if(i=r[a],re.inArray(re.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>=0:void 0}},ne.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,wt,Ct=re.expr.attrHandle,St=/^(?:checked|selected)$/i,kt=ne.getSetAttribute,Dt=ne.input;re.fn.extend({attr:function(e,t){return Ie(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ce?re.prop(e,t,n):(1===o&&re.isXMLDoc(e)||(t=t.toLowerCase(),i=re.attrHooks[t]||(re.expr.match.bool.test(t)?wt:bt)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=re.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void re.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ye);if(o&&1===e.nodeType)for(;n=o[r++];)i=re.propFix[n]||n,re.expr.match.bool.test(n)?Dt&&kt||!St.test(n)?e[i]=!1:e[re.camelCase("default-"+n)]=e[i]=!1:re.attr(e,n,""),e.removeAttribute(kt?n:i)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&re.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),wt={set:function(e,t,n){return t===!1?re.removeAttr(e,n):Dt&&kt||!St.test(n)?e.setAttribute(!kt&&re.propFix[n]||n,n):e[re.camelCase("default-"+n)]=e[n]=!0,n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||re.find.attr;Ct[t]=Dt&&kt||!St.test(t)?function(e,t,i){var r,o;return i||(o=Ct[t],Ct[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Ct[t]=o),r}:function(e,t,n){return n?void 0:e[re.camelCase("default-"+t)]?t.toLowerCase():null}}),Dt&&kt||(re.attrHooks.value={set:function(e,t,n){return re.nodeName(e,"input")?void(e.defaultValue=t):bt&&bt.set(e,t,n)}}),kt||(bt={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},re.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:bt.set},re.attrHooks.contenteditable={set:function(e,t,n){bt.set(e,""===t?!1:t,n)}},re.each(["width","height"],function(e,t){re.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Tt=/^(?:input|select|textarea|button|object)$/i,Et=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return Ie(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return e=re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),re.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!re.isXMLDoc(e),o&&(t=re.propFix[t]||t,r=re.propHooks[t]),
void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||re.each(["href","src"],function(e,t){re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),ne.enctype||(re.propFix.enctype="encoding");var It=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ye)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(It," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=re.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ye)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(It," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?re.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(n){re(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=re(this),o=e.match(ye)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&re._data(this,"__className__",this.className),this.className=this.className||e===!1?"":re._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(It," ").indexOf(t)>=0)return!0;return!1}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var At=re.now(),$t=/\?/,Bt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;re.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=re.trim(t+"");return r&&!re.trim(r.replace(Bt,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():re.error("Invalid JSON: "+t)},re.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),n};var Ot,Pt,Mt=/#.*$/,Rt=/([?&])_=[^&]*/,Vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,zt=/^\/\//,Ht=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Nt={},jt={},Wt="*/".concat("*");try{Pt=location.href}catch(Gt){Pt=fe.createElement("a"),Pt.href="",Pt=Pt.href}Ot=Ht.exec(Pt.toLowerCase())||[],re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt,type:"GET",isLocal:Lt.test(Ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,re.ajaxSettings),t):H(re.ajaxSettings,e)},ajaxPrefilter:F(Nt),ajaxTransport:F(jt),ajax:function(e,t){function n(e,t,n,i){var r,c,_,v,x,w=t;2!==y&&(y=2,s&&clearTimeout(s),u=void 0,a=i||"",b.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(v=N(d,b,n)),v=j(d,v,b,r),r?(d.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(re.lastModified[o]=x),x=b.getResponseHeader("etag"),x&&(re.etag[o]=x)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=v.state,c=v.data,_=v.error,r=!_)):(_=w,(e||!w)&&(w="error",0>e&&(e=0))),b.status=e,b.statusText=(t||w)+"",r?f.resolveWith(h,[c,w,b]):f.rejectWith(h,[b,w,_]),b.statusCode(g),g=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[b,d,r?c:_]),m.fireWith(h,[b,w]),l&&(p.trigger("ajaxComplete",[b,d]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,u,c,d=re.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?re(h):re.event,f=re.Deferred(),m=re.Callbacks("once memory"),g=d.statusCode||{},_={},v={},y=0,x="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Vt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,_[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(f.promise(b).complete=m.add,b.success=b.done,b.error=b.fail,d.url=((e||d.url||Pt)+"").replace(Mt,"").replace(zt,Ot[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=re.trim(d.dataType||"*").toLowerCase().match(ye)||[""],null==d.crossDomain&&(i=Ht.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Ot[1]&&i[2]===Ot[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ot[3]||("http:"===Ot[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=re.param(d.data,d.traditional)),z(Nt,d,t,b),2===y)return b;l=re.event&&d.global,l&&0===re.active++&&re.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ft.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=($t.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Rt.test(o)?o.replace(Rt,"$1_="+At++):o+($t.test(o)?"&":"?")+"_="+At++)),d.ifModified&&(re.lastModified[o]&&b.setRequestHeader("If-Modified-Since",re.lastModified[o]),re.etag[o]&&b.setRequestHeader("If-None-Match",re.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",d.contentType),b.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Wt+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)b.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(h,b,d)===!1||2===y))return b.abort();x="abort";for(r in{success:1,error:1,complete:1})b[r](d[r]);if(u=z(jt,d,t,b)){b.readyState=1,l&&p.trigger("ajaxSend",[b,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){b.abort("timeout")},d.timeout));try{y=1,u.send(_,n)}catch(w){if(!(2>y))throw w;n(-1,w)}}else n(-1,"No Transport");return b},getJSON:function(e,t,n){return re.get(e,t,n,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,n,i,r){return re.isFunction(n)&&(r=r||i,i=n,n=void 0),re.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},re.fn.extend({wrapAll:function(e){if(re.isFunction(e))return this.each(function(t){re(this).wrapAll(e.call(this,t))});if(this[0]){var t=re(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(n){re(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||re.css(e,"display"))},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var qt=/%20/g,Ut=/\[\]$/,Yt=/\r?\n/g,Kt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var n,i=[],r=function(e,t){t=re.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){r(this.name,this.value)});else for(n in e)W(n,e[n],t,r);return i.join("&").replace(qt,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Qt.test(this.nodeName)&&!Kt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(Yt,"\r\n")}}):{name:t.name,value:n.replace(Yt,"\r\n")}}).get()}}),re.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||q()}:G;var Xt=0,Zt={},Jt=re.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zt)Zt[e](void 0,!0)}),ne.cors=!!Jt&&"withCredentials"in Jt,Jt=ne.ajax=!!Jt,Jt&&re.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,i){var r,o=e.xhr(),a=++Xt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var s,l,u;if(t&&(r||4===o.readyState))if(delete Zt[a],t=void 0,o.onreadystatechange=re.noop,r)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&i(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=fe.head||re("head")[0]||fe.documentElement;return{send:function(i,r){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||re.expando+"_"+At++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+r):t.jsonp!==!1&&(t.url+=($t.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||re.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,en.push(r)),a&&re.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),re.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||fe;var i=de.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=re.buildFragment([e],t,r),r&&r.length&&re(r).remove(),re.merge([],i.childNodes))};var nn=re.fn.load;re.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=re.trim(e.slice(s,e.length)),e=e.slice(0,s)),re.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&re.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?re("<div>").append(re.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;re.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=re.css(e,"position"),d=re(e),h={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=re.css(e,"top"),l=re.css(e,"left"),u=("absolute"===c||"fixed"===c)&&re.inArray("auto",[o,l])>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):d.css(h)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,re.contains(t,r)?(typeof r.getBoundingClientRect!==Ce&&(i=r.getBoundingClientRect()),n=U(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===re.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(n=e.offset()),n.top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(i,"marginTop",!0),left:t.left-n.left-re.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||rn})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);re.fn[e]=function(i){return Ie(this,function(e,i,r){var o=U(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?re(o).scrollLeft():r,n?r:re(o).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=D(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),it.test(n)?re(e).position()[t]+"px":n):void 0})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){re.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Ie(this,function(t,n,i){var r;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?re.css(t,n,a):re.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var on=e.jQuery,an=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=an),t&&e.jQuery===re&&(e.jQuery=on),re},typeof t===Ce&&(e.jQuery=e.$=re),re}),/*!

JSZip - A Javascript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/
function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JSZip=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}}var r=e("./dataReader");i.prototype=new r,i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":6}],2:[function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e,t){for(var n,r,o,a,s,l,u,c="",d=0;d<e.length;)n=e.charCodeAt(d++),r=e.charCodeAt(d++),o=e.charCodeAt(d++),a=n>>2,s=(3&n)<<4|r>>4,l=(15&r)<<2|o>>6,u=63&o,isNaN(r)?l=u=64:isNaN(o)&&(u=64),c=c+i.charAt(a)+i.charAt(s)+i.charAt(l)+i.charAt(u);return c},n.decode=function(e,t){var n,r,o,a,s,l,u,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)a=i.indexOf(e.charAt(d++)),s=i.indexOf(e.charAt(d++)),l=i.indexOf(e.charAt(d++)),u=i.indexOf(e.charAt(d++)),n=a<<2|s>>4,r=(15&s)<<4|l>>2,o=(3&l)<<6|u,c+=String.fromCharCode(n),64!=l&&(c+=String.fromCharCode(r)),64!=u&&(c+=String.fromCharCode(o));return c}},{}],3:[function(e,t,n){"use strict";function i(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}i.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=i},{}],4:[function(e,t,n){"use strict";n.STORE={magic:"\x00\x00",compress:function(e,t){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},n.DEFLATE=e("./flate")},{"./flate":9}],5:[function(e,t,n){"use strict";var i=e("./utils"),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==i.getTypeOf(e);"undefined"==typeof t&&(t=0);var o=0,a=0,s=0;t=-1^t;for(var l=0,u=e.length;u>l;l++)s=n?e[l]:e.charCodeAt(l),a=255&(t^s),o=r[a],t=t>>>8^o;return-1^t}},{"./utils":22}],6:[function(e,t,n){"use strict";function i(e){this.data=null,this.length=0,this.index=0,this.zero=0}var r=e("./utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||0>e)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},t.exports=i},{"./utils":22}],7:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],8:[function(e,t,n){"use strict";var i=e("./utils");n.string2binary=function(e){return i.string2binary(e)},n.string2Uint8Array=function(e){return i.transformTo("uint8array",e)},n.uint8Array2String=function(e){return i.transformTo("string",e)},n.string2Blob=function(e){var t=i.transformTo("arraybuffer",e);return i.arrayBuffer2Blob(t)},n.arrayBuffer2Blob=function(e){return i.arrayBuffer2Blob(e)},n.transformTo=function(e,t){return i.transformTo(e,t)},n.getTypeOf=function(e){return i.getTypeOf(e)},n.checkSupport=function(e){return i.checkSupport(e)},n.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,n.pretty=function(e){return i.pretty(e)},n.findCompression=function(e){return i.findCompression(e)},n.isRegExp=function(e){return i.isRegExp(e)}},{"./utils":22}],9:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako");n.uncompressInputType=i?"uint8array":"array",n.compressInputType=i?"uint8array":"array",n.magic="\b\x00",n.compress=function(e,t){return r.deflateRaw(e,{level:t.level||-1})},n.uncompress=function(e){return r.inflateRaw(e)}},{pako:25}],10:[function(e,t,n){"use strict";function i(e,t){return this instanceof i?(this.files={},this.comment=null,this.root="",e&&this.load(e,t),void(this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e})):new i(e,t)}var r=e("./base64");i.prototype=e("./object"),i.prototype.load=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.utils=e("./deprecatedPublicUtils"),i.base64={encode:function(e){return r.encode(e)},decode:function(e){return r.decode(e)}},i.compressions=e("./compressions"),t.exports=i},{"./base64":2,"./compressions":4,"./defaults":7,"./deprecatedPublicUtils":8,"./load":11,"./object":14,"./support":18}],11:[function(e,t,n){"use strict";var i=e("./base64"),r=e("./utf8"),o=e("./utils"),a=e("./zipEntries");t.exports=function(e,t){var n,s,l,u;for(t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),t.base64&&(e=i.decode(e)),s=new a(e,t),n=s.files,l=0;l<n.length;l++)u=n[l],this.file(u.fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:t.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},{"./base64":2,"./utf8":21,"./utils":22,"./zipEntries":23}],12:[function(e,t,n){(function(e){"use strict";t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],13:[function(e,t,n){"use strict";function i(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}var r=e("./uint8ArrayReader");i.prototype=new r,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./uint8ArrayReader":19}],14:[function(e,t,n){"use strict";var i=e("./support"),r=e("./utils"),o=e("./crc32"),a=e("./signature"),s=e("./defaults"),l=e("./base64"),u=e("./compressions"),c=e("./compressedObject"),d=e("./nodeBuffer"),h=e("./utf8"),p=e("./stringWriter"),f=e("./uint8ArrayWriter"),m=function(e){if(e._data instanceof c&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===r.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},g=function(e){var t=m(e),n=r.getTypeOf(t);return"string"===n?!e.options.binary&&i.nodebuffer?d(t,"utf-8"):e.asBinary():t},_=function(e){var t=m(this);return null===t||"undefined"==typeof t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?I.utf8decode(t):r.transformTo("string",t),e||this.options.binary||(t=r.transformTo("string",I.utf8encode(t))),t)},v=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};v.prototype={asText:function(){return _.call(this,!0)},asBinary:function(){return _.call(this,!1)},asNodeBuffer:function(){var e=g(this);return r.transformTo("nodebuffer",e)},asUint8Array:function(){var e=g(this);return r.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(e,t){var n,i="";for(n=0;t>n;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},x=function(e){return e=e||{},e.base64!==!0||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=r.extend(e,s),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},b=function(e,t,n){var i,o=r.getTypeOf(t);if(n=x(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=C(e)),n.createFolders&&(i=w(e))&&S.call(this,i,!0),n.dir||null===t||"undefined"==typeof t)n.base64=!1,n.binary=!1,t=null,o=null;else if("string"===o)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(t=r.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(o||t instanceof c))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===o&&(t=r.transformTo("uint8array",t))}var a=new v(e,t,n);return this.files[e]=a,a},w=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},C=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},S=function(e,t){return t="undefined"!=typeof t?t:!1,e=C(e),this.files[e]||b.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},k=function(e,t,n){var i,a=new c;return e._data instanceof c?(a.uncompressedSize=e._data.uncompressedSize,a.crc32=e._data.crc32,0===a.uncompressedSize||e.dir?(t=u.STORE,a.compressedContent="",a.crc32=0):e._data.compressionMethod===t.magic?a.compressedContent=e._data.getCompressedContent():(i=e._data.getContent(),a.compressedContent=t.compress(r.transformTo(t.compressInputType,i),n))):(i=g(e),(!i||0===i.length||e.dir)&&(t=u.STORE,i=""),a.uncompressedSize=i.length,a.crc32=o(i),a.compressedContent=t.compress(r.transformTo(t.compressInputType,i),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=t.magic,a},D=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},T=function(e,t){return 63&(e||0)},E=function(e,t,n,i,s,l){var u,c,d,p,f=(n.compressedContent,l!==h.utf8encode),m=r.transformTo("string",l(t.name)),g=r.transformTo("string",h.utf8encode(t.name)),_=t.comment||"",v=r.transformTo("string",l(_)),x=r.transformTo("string",h.utf8encode(_)),b=g.length!==t.name.length,w=x.length!==_.length,C=t.options,S="",k="",E="";d=t._initialMetadata.dir!==t.dir?t.dir:C.dir,p=t._initialMetadata.date!==t.date?t.date:C.date;var I=0,A=0;d&&(I|=16),"UNIX"===s?(A=798,I|=D(t.unixPermissions,d)):(A=20,I|=T(t.dosPermissions,d)),u=p.getHours(),u<<=6,u|=p.getMinutes(),u<<=5,u|=p.getSeconds()/2,c=p.getFullYear()-1980,c<<=4,c|=p.getMonth()+1,c<<=5,c|=p.getDate(),b&&(k=y(1,1)+y(o(m),4)+g,S+="up"+y(k.length,2)+k),w&&(E=y(1,1)+y(this.crc32(v),4)+x,S+="uc"+y(E.length,2)+E);var $="";$+="\n\x00",$+=f||!b&&!w?"\x00\x00":"\x00\b",$+=n.compressionMethod,$+=y(u,2),$+=y(c,2),$+=y(n.crc32,4),$+=y(n.compressedSize,4),$+=y(n.uncompressedSize,4),$+=y(m.length,2),$+=y(S.length,2);var B=a.LOCAL_FILE_HEADER+$+m+S,O=a.CENTRAL_FILE_HEADER+y(A,2)+$+y(v.length,2)+"\x00\x00\x00\x00"+y(I,4)+y(i,4)+m+S+v;return{fileRecord:B,dirRecord:O,compressedObject:n}},I={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,i,o,a=[];for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],o=new v(i.name,i._data,r.extend(i.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,o)&&a.push(o));return a},file:function(e,t,n){if(1===arguments.length){if(r.isRegExp(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}return this.filter(function(t,n){return!n.dir&&t===e})[0]||null}return e=this.root+e,b.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(r.isRegExp(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=S.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){e=r.extend(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),r.checkSupport(e.type),("darwin"===e.platform||"freebsd"===e.platform||"linux"===e.platform||"sunos"===e.platform)&&(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,i=[],o=0,s=0,c=r.transformTo("string",e.encodeFileName(e.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var m=this.files[d],g=m.options.compression||e.compression.toUpperCase(),_=u[g];if(!_)throw new Error(g+" is not a valid compression method !");var v=m.options.compressionOptions||e.compressionOptions||{},x=k.call(this,m,_,v),b=E.call(this,d,m,x,o,e.platform,e.encodeFileName);o+=b.fileRecord.length+x.compressedSize,s+=b.dirRecord.length,i.push(b)}var w="";w=a.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+y(i.length,2)+y(i.length,2)+y(s,4)+y(o,4)+y(c.length,2)+c;var C=e.type.toLowerCase();for(t="uint8array"===C||"arraybuffer"===C||"blob"===C||"nodebuffer"===C?new f(o+s+w.length):new p(o+s+w.length),n=0;n<i.length;n++)t.append(i[n].fileRecord),t.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)t.append(i[n].dirRecord);t.append(w);var S=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(e.type.toLowerCase(),S);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",S),e.mimeType);case"base64":return e.base64?l.encode(S):S;default:return S}},crc32:function(e,t){return o(e,t)},utf8encode:function(e){return r.transformTo("string",h.utf8encode(e))},utf8decode:function(e){return h.utf8decode(e)}};t.exports=I},{"./base64":2,"./compressedObject":3,"./compressions":4,"./crc32":5,"./defaults":7,"./nodeBuffer":12,"./signature":15,"./stringWriter":17,"./support":18,"./uint8ArrayWriter":20,"./utf8":21,"./utils":22}],15:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],16:[function(e,t,n){"use strict";function i(e,t){this.data=e,t||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var r=e("./dataReader"),o=e("./utils");i.prototype=new r,i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":6,"./utils":22}],17:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){this.data=[]};r.prototype={append:function(e){e=i.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},t.exports=r},{"./utils":22}],18:[function(e,t,n){(function(e){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof e,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var t=new ArrayBuffer(0);try{n.blob=0===new Blob([t],{type:"application/zip"}).size}catch(i){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;o.append(t),n.blob=0===o.getBlob("application/zip").size}catch(i){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],19:[function(e,t,n){"use strict";function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}var r=e("./arrayReader");i.prototype=new r,i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"./arrayReader":1}],20:[function(e,t,n){"use strict";var i=e("./utils"),r=function(e){this.data=new Uint8Array(e),this.index=0};r.prototype={append:function(e){0!==e.length&&(e=i.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},t.exports=r},{"./utils":22}],21:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodeBuffer"),a=new Array(256),s=0;256>s;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;s>o;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;l>a;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},u=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+a[e[n]]>t?n:t},c=function(e){var t,n,r,o,s=e.length,l=new Array(2*s);for(n=0,t=0;s>t;)if(r=e[t++],128>r)l[n++]=r;else if(o=a[r],o>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&s>t;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:65536>r?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};n.utf8encode=function(e){return r.nodebuffer?o(e,"utf-8"):l(e)},n.utf8decode=function(e){if(r.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");e=i.transformTo(r.uint8array?"uint8array":"array",e);for(var t=[],n=0,o=e.length,a=65536;o>n;){var s=u(e,Math.min(n+a,o));r.uint8array?t.push(c(e.subarray(n,s))):t.push(c(e.slice(n,s))),n=s}return t.join("")}},{"./nodeBuffer":12,"./support":18,"./utils":22}],22:[function(e,t,n){"use strict";function i(e){return e}function r(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function o(e){var t=65536,i=[],r=e.length,o=n.getTypeOf(e),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(l){s=!1}if(!s){for(var c="",d=0;d<e.length;d++)c+=String.fromCharCode(e[d]);return c}for(;r>a&&t>1;)try{"array"===o||"nodebuffer"===o?i.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+t,r)))):i.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+t,r)))),a+=t}catch(l){t=Math.floor(t/2)}return i.join("")}function a(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var s=e("./support"),l=e("./compressions"),u=e("./nodeBuffer");n.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},n.arrayBuffer2Blob=function(e,t){n.checkSupport("blob"),t=t||"application/zip";try{return new Blob([e],{type:t})}catch(i){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;return o.append(e),o.getBlob(t)}catch(i){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=o;var c={};c.string={string:i,array:function(e){return r(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return r(e,new Uint8Array(e.length))},nodebuffer:function(e){return r(e,u(e.length))}},c.array={string:o,array:i,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u(e)}},c.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return a(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:i,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u(new Uint8Array(e))}},c.uint8array={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:i,nodebuffer:function(e){return u(e)}},c.nodebuffer={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:i},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),r=c[i][e](t);return r},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":s.nodebuffer&&u.test(e)?"nodebuffer":s.uint8array&&e instanceof Uint8Array?"uint8array":s.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=s[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(16>t?"0":"")+t.toString(16).toUpperCase();return i},n.findCompression=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n}},{"./compressions":4,"./nodeBuffer":12,"./support":18}],23:[function(e,t,n){"use strict";function i(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var r=e("./stringReader"),o=e("./nodeBufferReader"),a=e("./uint8ArrayReader"),s=e("./arrayReader"),l=e("./utils"),u=e("./signature"),c=e("./zipEntry"),d=e("./support");e("./object");i.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(t)+", expected "+l.pretty(e)+")")},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),r=i===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=d.uint8array?"uint8array":"array",n=l.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,r=0;i>r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===u.CENTRAL_FILE_HEADER;)e=new c({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(0>e){var t=!this.isSignature(0,u.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>e)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=n-i;if(r>0)this.isSignature(n,u.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(0>r)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){var t=l.getTypeOf(e);if(l.checkSupport(t),"string"!==t||d.uint8array)if("nodebuffer"===t)this.reader=new o(e);else if(d.uint8array)this.reader=new a(l.transformTo("uint8array",e));else{if(!d.array)throw new Error("Unexpected error: unsupported type '"+t+"'");this.reader=new s(l.transformTo("array",e))}else this.reader=new r(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./arrayReader":1,"./nodeBufferReader":13,"./object":14,"./signature":15,"./stringReader":16,"./support":18,"./uint8ArrayReader":19,"./utils":22,"./zipEntry":24}],24:[function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var r=e("./stringReader"),o=e("./utils"),a=e("./compressedObject"),s=e("./object"),l=e("./support"),u=0,c=3;i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var i=e.index;e.setIndex(t);var r=e.readData(n);return e.setIndex(i),r}},prepareContent:function(e,t,n,i,r){return function(){var e=o.transformTo(i.uncompressInputType,this.getCompressedContent()),t=i.uncompress(e);if(t.length!==r)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=o.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),
s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readData(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,e===u&&(this.dosPermissions=63&this.externalFileAttributes),e===c&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index;for(this.extraFields=this.extraFields||{};e.index<r+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),i=e.readString(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null}},t.exports=i},{"./compressedObject":3,"./object":14,"./stringReader":16,"./support":18,"./utils":22}],25:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,r=e("./lib/deflate"),o=e("./lib/inflate"),a=e("./lib/zlib/constants"),s={};i(s,r,o,a),t.exports=s},{"./lib/deflate":26,"./lib/inflate":27,"./lib/utils/common":28,"./lib/zlib/constants":31}],26:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:v,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==m)throw new Error(c[n]);t.header&&s.deflateSetHeader(this.strm,t.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=e("./zlib/deflate"),l=e("./utils/common"),u=e("./utils/strings"),c=e("./zlib/messages"),d=e("./zlib/zstream"),h=Object.prototype.toString,p=0,f=4,m=0,g=1,_=2,v=-1,y=0,x=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?f:p,"string"==typeof e?r.input=u.string2buf(e):"[object ArrayBuffer]"===h.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(o),r.next_out=0,r.avail_out=o),n=s.deflate(r,i),n!==g&&n!==m)return this.onEnd(n),this.ended=!0,!1;(0===r.avail_out||0===r.avail_in&&(i===f||i===_))&&("string"===this.options.to?this.onData(u.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==g);return i===f?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):i===_?(this.onEnd(m),r.avail_out=0,!0):!0},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=o,n.gzip=a},{"./utils/common":28,"./utils/strings":29,"./zlib/deflate":33,"./zlib/messages":38,"./zlib/zstream":40}],27:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==u.Z_OK)throw new Error(c[n]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}var a=e("./zlib/inflate"),s=e("./utils/common"),l=e("./utils/strings"),u=e("./zlib/constants"),c=e("./zlib/messages"),d=e("./zlib/zstream"),h=e("./zlib/gzheader"),p=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,c,d=this.strm,h=this.options.chunkSize,f=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof e?d.input=l.binstring2buf(e):"[object ArrayBuffer]"===p.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new s.Buf8(h),d.next_out=0,d.avail_out=h),n=a.inflate(d,u.Z_NO_FLUSH),n===u.Z_BUF_ERROR&&f===!0&&(n=u.Z_OK,f=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0===d.avail_out||n===u.Z_STREAM_END||0===d.avail_in&&(i===u.Z_FINISH||i===u.Z_SYNC_FLUSH))&&("string"===this.options.to?(r=l.utf8border(d.output,d.next_out),o=d.next_out-r,c=l.buf2string(d.output,r),d.next_out=o,d.avail_out=h-o,o&&s.arraySet(d.output,d.output,r,o,0),this.onData(c)):this.onData(s.shrinkBuf(d.output,d.next_out))),0===d.avail_in&&0===d.avail_out&&(f=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(i=u.Z_FINISH),i===u.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):i===u.Z_SYNC_FLUSH?(this.onEnd(u.Z_OK),d.avail_out=0,!0):!0},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=o,n.ungzip=r},{"./utils/common":28,"./utils/strings":29,"./zlib/constants":31,"./zlib/gzheader":34,"./zlib/inflate":36,"./zlib/messages":38,"./zlib/zstream":40}],28:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;n>t;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;n>t;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],29:[function(e,t,n){"use strict";function i(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;t>i;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var l=new r.Buf8(256),u=0;256>u;u++)l[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;l[254]=l[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;s>o;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=new r.Buf8(l),a=0,o=0;l>a;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;i>n;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,a,s=t||e.length,u=new Array(2*s);for(r=0,n=0;s>n;)if(o=e[n++],128>o)u[r++]=o;else if(a=l[o],a>4)u[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&s>n;)o=o<<6|63&e[n++],a--;a>1?u[r++]=65533:65536>o?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return i(u,r)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+l[e[n]]>t?n:t}},{"./common":28}],30:[function(e,t,n){"use strict";function i(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,o=o+r|0;while(--a);r%=65521,o%=65521}return r|o<<16|0}t.exports=i},{}],31:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=o,a=i+n;e^=-1;for(var s=i;a>s;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}var o=i();t.exports=r},{}],33:[function(e,t,n){"use strict";function i(e,t){return e.msg=O[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(I.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){A._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,I.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=$(e.adler,t,r,n):2===e.state.wrap&&(e.adler=B(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-ce?e.strstart-(e.w_size-ce):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+ue,p=u[o+a-1],f=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,u[n+a]===f&&u[n+a-1]===p&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do;while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&h>o);if(i=ue-(h-o),o=h-ue,i>a){if(e.match_start=t,a=i,i>=s)break;p=u[o+a-1],f=u[o+a]}}while((t=d[t&c])>l&&0!==--r);return a<=e.lookahead?a:e.lookahead}function h(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-ce)){I.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--n);n=a,t=n;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=c(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=le)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+le-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<le)););}while(e.lookahead<ce&&0!==e.strm.avail_in)}function p(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===P)return ye;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return ye;if(e.strstart-e.block_start>=e.w_size-ce&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===V?(s(e,!0),0===e.strm.avail_out?be:we):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?ye:ye}function f(e,t){for(var n,i;;){if(e.lookahead<ce){if(h(e),e.lookahead<ce&&t===P)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ce&&(e.match_length=d(e,n)),e.match_length>=le)if(i=A._tr_tally(e,e.strstart-e.match_start,e.match_length-le),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=le){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=e.strstart<le-1?e.strstart:le-1,t===V?(s(e,!0),0===e.strm.avail_out?be:we):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:xe}function m(e,t){for(var n,i,r;;){if(e.lookahead<ce){if(h(e),e.lookahead<ce&&t===P)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=le-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ce&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===G||e.match_length===le&&e.strstart-e.match_start>4096)&&(e.match_length=le-1)),e.prev_length>=le&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-le,i=A._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-le),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=le-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return ye}else if(e.match_available){if(i=A._tr_tally(e,0,e.window[e.strstart-1]),i&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ye}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=A._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<le-1?e.strstart:le-1,t===V?(s(e,!0),0===e.strm.avail_out?be:we):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:xe}function g(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ue){if(h(e),e.lookahead<=ue&&t===P)return ye;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=le&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ue;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&o>r);e.match_length=ue-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=le?(n=A._tr_tally(e,1,e.match_length-le),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===V?(s(e,!0),0===e.strm.avail_out?be:we):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:xe}function _(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===P)return ye;break}if(e.match_length=0,n=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===V?(s(e,!0),0===e.strm.avail_out?be:we):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:xe}function v(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=E[e.level].max_lazy,e.good_match=E[e.level].good_length,e.nice_match=E[e.level].nice_length,e.max_chain_length=E[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=le-1,e.match_available=0,e.ins_h=0}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*ae),this.dyn_dtree=new I.Buf16(2*(2*re+1)),this.bl_tree=new I.Buf16(2*(2*oe+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(se+1),this.heap=new I.Buf16(2*ie+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*ie+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?he:_e,e.adler=2===t.wrap?0:1,t.last_flush=P,A._tr_init(t),F):i(e,H)}function w(e){var t=b(e);return t===F&&y(e.state),t}function C(e,t){return e&&e.state?2!==e.state.wrap?H:(e.state.gzhead=t,F):H}function S(e,t,n,r,o,a){if(!e)return H;var s=1;if(t===W&&(t=6),0>r?(s=0,r=-r):r>15&&(s=2,r-=16),1>o||o>Z||n!==X||8>r||r>15||0>t||t>9||0>a||a>Y)return i(e,H);8===r&&(r=9);var l=new x;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+le-1)/le),l.window=new I.Buf8(2*l.w_size),l.head=new I.Buf16(l.hash_size),l.prev=new I.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new I.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,w(e)}function k(e,t){return S(e,t,X,J,ee,K)}function D(e,t){var n,s,c,d;if(!e||!e.state||t>L||0>t)return e?i(e,H):H;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ve&&t!==V)return i(e,0===e.avail_out?j:H);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===he)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=B(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pe):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,Ce),s.status=_e);else{var h=X+(s.w_bits-8<<4)<<8,p=-1;p=s.strategy>=q||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=p<<6,0!==s.strstart&&(h|=de),h+=31-h%31,s.status=_e,u(s,h),0!==s.strstart&&(u(s,e.adler>>>16),u(s,65535&e.adler)),e.adler=1}if(s.status===pe)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=fe)}else s.status=fe;if(s.status===fe)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.status=ge)}else s.status=ge;if(s.status===ge&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=_e)):s.status=_e),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,F}else if(0===e.avail_in&&r(t)<=r(n)&&t!==V)return i(e,j);if(s.status===ve&&0!==e.avail_in)return i(e,j);if(0!==e.avail_in||0!==s.lookahead||t!==P&&s.status!==ve){var f=s.strategy===q?_(s,t):s.strategy===U?g(s,t):E[s.level].func(s,t);if((f===be||f===we)&&(s.status=ve),f===ye||f===be)return 0===e.avail_out&&(s.last_flush=-1),F;if(f===xe&&(t===M?A._tr_align(s):t!==L&&(A._tr_stored_block(s,0,0,!1),t===R&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,F}return t!==V?F:s.wrap<=0?z:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(u(s,e.adler>>>16),u(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?F:z)}function T(e){var t;return e&&e.state?(t=e.state.status,t!==he&&t!==pe&&t!==fe&&t!==me&&t!==ge&&t!==_e&&t!==ve?i(e,H):(e.state=null,t===_e?i(e,N):F)):H}var E,I=e("../utils/common"),A=e("./trees"),$=e("./adler32"),B=e("./crc32"),O=e("./messages"),P=0,M=1,R=3,V=4,L=5,F=0,z=1,H=-2,N=-3,j=-5,W=-1,G=1,q=2,U=3,Y=4,K=0,Q=2,X=8,Z=9,J=15,ee=8,te=29,ne=256,ie=ne+1+te,re=30,oe=19,ae=2*ie+1,se=15,le=3,ue=258,ce=ue+le+1,de=32,he=42,pe=69,fe=73,me=91,ge=103,_e=113,ve=666,ye=1,xe=2,be=3,we=4,Ce=3;E=[new v(0,0,0,0,p),new v(4,4,8,4,f),new v(4,5,16,8,f),new v(4,6,32,32,f),new v(4,4,16,16,m),new v(8,16,32,32,m),new v(8,16,128,128,m),new v(8,32,128,256,m),new v(32,128,258,1024,m),new v(32,258,258,4096,m)],n.deflateInit=k,n.deflateInit2=S,n.deflateReset=w,n.deflateResetKeep=b,n.deflateSetHeader=C,n.deflate=D,n.deflateEnd=T,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./messages":38,"./trees":39}],34:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],35:[function(e,t,n){"use strict";var i=30,r=12;t.exports=function(e,t){var n,o,a,s,l,u,c,d,h,p,f,m,g,_,v,y,x,b,w,C,S,k,D,T,E;n=e.state,o=e.next_in,T=e.input,a=o+(e.avail_in-5),s=e.next_out,E=e.output,l=s-(t-e.avail_out),u=s+(e.avail_out-257),c=n.dmax,d=n.wsize,h=n.whave,p=n.wnext,f=n.window,m=n.hold,g=n.bits,_=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,x=(1<<n.distbits)-1;e:do{15>g&&(m+=T[o++]<<g,g+=8,m+=T[o++]<<g,g+=8),b=_[m&y];t:for(;;){if(w=b>>>24,m>>>=w,g-=w,w=b>>>16&255,0===w)E[s++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=_[(65535&b)+(m&(1<<w)-1)];continue t}if(32&w){n.mode=r;break e}e.msg="invalid literal/length code",n.mode=i;break e}C=65535&b,w&=15,w&&(w>g&&(m+=T[o++]<<g,g+=8),C+=m&(1<<w)-1,m>>>=w,g-=w),15>g&&(m+=T[o++]<<g,g+=8,m+=T[o++]<<g,g+=8),b=v[m&x];n:for(;;){if(w=b>>>24,m>>>=w,g-=w,w=b>>>16&255,!(16&w)){if(0===(64&w)){b=v[(65535&b)+(m&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(S=65535&b,w&=15,w>g&&(m+=T[o++]<<g,g+=8,w>g&&(m+=T[o++]<<g,g+=8)),S+=m&(1<<w)-1,S>c){e.msg="invalid distance too far back",n.mode=i;break e}if(m>>>=w,g-=w,w=s-l,S>w){if(w=S-w,w>h&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(k=0,D=f,0===p){if(k+=d-w,C>w){C-=w;do E[s++]=f[k++];while(--w);k=s-S,D=E}}else if(w>p){if(k+=d+p-w,w-=p,C>w){C-=w;do E[s++]=f[k++];while(--w);if(k=0,C>p){w=p,C-=w;do E[s++]=f[k++];while(--w);k=s-S,D=E}}}else if(k+=p-w,C>w){C-=w;do E[s++]=f[k++];while(--w);k=s-S,D=E}for(;C>2;)E[s++]=D[k++],E[s++]=D[k++],E[s++]=D[k++],C-=3;C&&(E[s++]=D[k++],C>1&&(E[s++]=D[k++]))}else{k=s-S;do E[s++]=E[k++],E[s++]=E[k++],E[s++]=E[k++],C-=3;while(C>2);C&&(E[s++]=E[k++],C>1&&(E[s++]=E[k++]))}break}}break}}while(a>o&&u>s);C=g>>3,o-=C,g-=C<<3,m&=(1<<g)-1,e.next_in=o,e.next_out=s,e.avail_in=a>o?5+(a-o):5-(o-a),e.avail_out=u>s?257+(u-s):257-(s-u),n.hold=m,n.bits=g}},{}],36:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=R,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new _.Buf32(fe),t.distcode=t.distdyn=new _.Buf32(me),t.sane=1,t.back=-1,E):$}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):$}function s(e,t){var n,i;return e&&e.state?(i=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?$:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,a(e))):$}function l(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,n=s(e,t),n!==E&&(e.state=null),n):$}function u(e){return l(e,_e)}function c(e){if(ve){var t;for(m=new _.Buf32(512),g=new _.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(b(C,e.lens,0,288,m,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;b(S,e.lens,0,32,g,0,e.work,{bits:5}),ve=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function d(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new _.Buf8(o.wsize)),i>=o.wsize?(_.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),_.arraySet(o.window,t,n-i,r,o.wnext),i-=r,i?(_.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function h(e,t){var n,r,o,a,s,l,u,h,p,f,m,g,fe,me,ge,_e,ve,ye,xe,be,we,Ce,Se,ke,De=0,Te=new _.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return $;n=e.state,n.mode===U&&(n.mode=Y),s=e.next_out,o=e.output,u=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,h=n.hold,p=n.bits,f=l,m=u,Ce=E;e:for(;;)switch(n.mode){case R:if(0===n.wrap){n.mode=Y;break}for(;16>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(2&n.wrap&&35615===h){n.check=0,Te[0]=255&h,Te[1]=h>>>8&255,n.check=y(n.check,Te,2,0),h=0,p=0,n.mode=V;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=de;break}if((15&h)!==M){e.msg="unknown compression method",n.mode=de;break}if(h>>>=4,p-=4,we=(15&h)+8,0===n.wbits)n.wbits=we;else if(we>n.wbits){e.msg="invalid window size",n.mode=de;break}n.dmax=1<<we,e.adler=n.check=1,n.mode=512&h?G:U,h=0,p=0;break;case V:for(;16>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(n.flags=h,(255&n.flags)!==M){e.msg="unknown compression method",n.mode=de;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=de;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,n.check=y(n.check,Te,2,0)),h=0,p=0,n.mode=L;case L:for(;32>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}n.head&&(n.head.time=h),512&n.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,Te[2]=h>>>16&255,Te[3]=h>>>24&255,n.check=y(n.check,Te,4,0)),h=0,p=0,n.mode=F;case F:for(;16>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,n.check=y(n.check,Te,2,0)),h=0,p=0,n.mode=z;case z:if(1024&n.flags){for(;16>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,n.check=y(n.check,Te,2,0)),h=0,p=0}else n.head&&(n.head.extra=null);n.mode=H;case H:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(we=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),_.arraySet(n.head.extra,r,a,g,we)),512&n.flags&&(n.check=y(n.check,r,g,a)),l-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=N;case N:if(2048&n.flags){if(0===l)break e;g=0;do we=r[a+g++],n.head&&we&&n.length<65536&&(n.head.name+=String.fromCharCode(we));while(we&&l>g);if(512&n.flags&&(n.check=y(n.check,r,g,a)),l-=g,a+=g,we)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=j;case j:if(4096&n.flags){if(0===l)break e;g=0;do we=r[a+g++],n.head&&we&&n.length<65536&&(n.head.comment+=String.fromCharCode(we));while(we&&l>g);if(512&n.flags&&(n.check=y(n.check,r,g,a)),l-=g,a+=g,we)break e}else n.head&&(n.head.comment=null);n.mode=W;case W:if(512&n.flags){
for(;16>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=de;break}h=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=U;break;case G:for(;32>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}e.adler=n.check=i(h),h=0,p=0,n.mode=q;case q:if(0===n.havedict)return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=p,A;e.adler=n.check=1,n.mode=U;case U:if(t===D||t===T)break e;case Y:if(n.last){h>>>=7&p,p-=7&p,n.mode=le;break}for(;3>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}switch(n.last=1&h,h>>>=1,p-=1,3&h){case 0:n.mode=K;break;case 1:if(c(n),n.mode=te,t===T){h>>>=2,p-=2;break e}break;case 2:n.mode=Z;break;case 3:e.msg="invalid block type",n.mode=de}h>>>=2,p-=2;break;case K:for(h>>>=7&p,p-=7&p;32>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=de;break}if(n.length=65535&h,h=0,p=0,n.mode=Q,t===T)break e;case Q:n.mode=X;case X:if(g=n.length){if(g>l&&(g=l),g>u&&(g=u),0===g)break e;_.arraySet(o,r,a,g,s),l-=g,a+=g,u-=g,s+=g,n.length-=g;break}n.mode=U;break;case Z:for(;14>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(n.nlen=(31&h)+257,h>>>=5,p-=5,n.ndist=(31&h)+1,h>>>=5,p-=5,n.ncode=(15&h)+4,h>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=de;break}n.have=0,n.mode=J;case J:for(;n.have<n.ncode;){for(;3>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}n.lens[Ee[n.have++]]=7&h,h>>>=3,p-=3}for(;n.have<19;)n.lens[Ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},Ce=b(w,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,Ce){e.msg="invalid code lengths set",n.mode=de;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.nlen+n.ndist;){for(;De=n.lencode[h&(1<<n.lenbits)-1],ge=De>>>24,_e=De>>>16&255,ve=65535&De,!(p>=ge);){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(16>ve)h>>>=ge,p-=ge,n.lens[n.have++]=ve;else{if(16===ve){for(ke=ge+2;ke>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(h>>>=ge,p-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=de;break}we=n.lens[n.have-1],g=3+(3&h),h>>>=2,p-=2}else if(17===ve){for(ke=ge+3;ke>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}h>>>=ge,p-=ge,we=0,g=3+(7&h),h>>>=3,p-=3}else{for(ke=ge+7;ke>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}h>>>=ge,p-=ge,we=0,g=11+(127&h),h>>>=7,p-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=de;break}for(;g--;)n.lens[n.have++]=we}}if(n.mode===de)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=de;break}if(n.lenbits=9,Se={bits:n.lenbits},Ce=b(C,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,Ce){e.msg="invalid literal/lengths set",n.mode=de;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},Ce=b(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,Ce){e.msg="invalid distances set",n.mode=de;break}if(n.mode=te,t===T)break e;case te:n.mode=ne;case ne:if(l>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=p,x(e,m),s=e.next_out,o=e.output,u=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,h=n.hold,p=n.bits,n.mode===U&&(n.back=-1);break}for(n.back=0;De=n.lencode[h&(1<<n.lenbits)-1],ge=De>>>24,_e=De>>>16&255,ve=65535&De,!(p>=ge);){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(_e&&0===(240&_e)){for(ye=ge,xe=_e,be=ve;De=n.lencode[be+((h&(1<<ye+xe)-1)>>ye)],ge=De>>>24,_e=De>>>16&255,ve=65535&De,!(p>=ye+ge);){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}h>>>=ye,p-=ye,n.back+=ye}if(h>>>=ge,p-=ge,n.back+=ge,n.length=ve,0===_e){n.mode=se;break}if(32&_e){n.back=-1,n.mode=U;break}if(64&_e){e.msg="invalid literal/length code",n.mode=de;break}n.extra=15&_e,n.mode=ie;case ie:if(n.extra){for(ke=n.extra;ke>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=re;case re:for(;De=n.distcode[h&(1<<n.distbits)-1],ge=De>>>24,_e=De>>>16&255,ve=65535&De,!(p>=ge);){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(0===(240&_e)){for(ye=ge,xe=_e,be=ve;De=n.distcode[be+((h&(1<<ye+xe)-1)>>ye)],ge=De>>>24,_e=De>>>16&255,ve=65535&De,!(p>=ye+ge);){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}h>>>=ye,p-=ye,n.back+=ye}if(h>>>=ge,p-=ge,n.back+=ge,64&_e){e.msg="invalid distance code",n.mode=de;break}n.offset=ve,n.extra=15&_e,n.mode=oe;case oe:if(n.extra){for(ke=n.extra;ke>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=de;break}n.mode=ae;case ae:if(0===u)break e;if(g=m-u,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=de;break}g>n.wnext?(g-=n.wnext,fe=n.wsize-g):fe=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=o,fe=s-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do o[s++]=me[fe++];while(--g);0===n.length&&(n.mode=ne);break;case se:if(0===u)break e;o[s++]=n.length,u--,n.mode=ne;break;case le:if(n.wrap){for(;32>p;){if(0===l)break e;l--,h|=r[a++]<<p,p+=8}if(m-=u,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?y(n.check,o,m,s-m):v(n.check,o,m,s-m)),m=u,(n.flags?h:i(h))!==n.check){e.msg="incorrect data check",n.mode=de;break}h=0,p=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;32>p;){if(0===l)break e;l--,h+=r[a++]<<p,p+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=de;break}h=0,p=0}n.mode=ce;case ce:Ce=I;break e;case de:Ce=B;break e;case he:return O;case pe:default:return $}return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=p,(n.wsize||m!==e.avail_out&&n.mode<de&&(n.mode<le||t!==k))&&d(e,e.output,e.next_out,m-e.avail_out)?(n.mode=he,O):(f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?y(n.check,o,m,e.next_out-m):v(n.check,o,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===U?128:0)+(n.mode===te||n.mode===Q?256:0),(0===f&&0===m||t===k)&&Ce===E&&(Ce=P),Ce)}function p(e){if(!e||!e.state)return $;var t=e.state;return t.window&&(t.window=null),e.state=null,E}function f(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?$:(n.head=t,t.done=!1,E)):$}var m,g,_=e("../utils/common"),v=e("./adler32"),y=e("./crc32"),x=e("./inffast"),b=e("./inftrees"),w=0,C=1,S=2,k=4,D=5,T=6,E=0,I=1,A=2,$=-2,B=-3,O=-4,P=-5,M=8,R=1,V=2,L=3,F=4,z=5,H=6,N=7,j=8,W=9,G=10,q=11,U=12,Y=13,K=14,Q=15,X=16,Z=17,J=18,ee=19,te=20,ne=21,ie=22,re=23,oe=24,ae=25,se=26,le=27,ue=28,ce=29,de=30,he=31,pe=32,fe=852,me=592,ge=15,_e=ge,ve=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=u,n.inflateInit2=l,n.inflate=h,n.inflateEnd=p,n.inflateGetHeader=f,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./inffast":35,"./inftrees":37}],37:[function(e,t,n){"use strict";var i=e("../utils/common"),r=15,o=852,a=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,f,m,g,_,v){var y,x,b,w,C,S,k,D,T,E=v.bits,I=0,A=0,$=0,B=0,O=0,P=0,M=0,R=0,V=0,L=0,F=null,z=0,H=new i.Buf16(r+1),N=new i.Buf16(r+1),j=null,W=0;for(I=0;r>=I;I++)H[I]=0;for(A=0;f>A;A++)H[t[n+A]]++;for(O=E,B=r;B>=1&&0===H[B];B--);if(O>B&&(O=B),0===B)return m[g++]=20971520,m[g++]=20971520,v.bits=1,0;for($=1;B>$&&0===H[$];$++);for($>O&&(O=$),R=1,I=1;r>=I;I++)if(R<<=1,R-=H[I],0>R)return-1;if(R>0&&(e===s||1!==B))return-1;for(N[1]=0,I=1;r>I;I++)N[I+1]=N[I]+H[I];for(A=0;f>A;A++)0!==t[n+A]&&(_[N[t[n+A]]++]=A);if(e===s?(F=j=_,S=19):e===l?(F=c,z-=257,j=d,W-=257,S=256):(F=h,j=p,S=-1),L=0,A=0,I=$,C=g,P=O,M=0,b=-1,V=1<<O,w=V-1,e===l&&V>o||e===u&&V>a)return 1;for(var G=0;;){G++,k=I-M,_[A]<S?(D=0,T=_[A]):_[A]>S?(D=j[W+_[A]],T=F[z+_[A]]):(D=96,T=0),y=1<<I-M,x=1<<P,$=x;do x-=y,m[C+(L>>M)+x]=k<<24|D<<16|T|0;while(0!==x);for(y=1<<I-1;L&y;)y>>=1;if(0!==y?(L&=y-1,L+=y):L=0,A++,0===--H[I]){if(I===B)break;I=t[n+_[A]]}if(I>O&&(L&w)!==b){for(0===M&&(M=O),C+=$,P=I-M,R=1<<P;B>P+M&&(R-=H[P+M],!(0>=R));)P++,R<<=1;if(V+=1<<P,e===l&&V>o||e===u&&V>a)return 1;b=L&w,m[b]=O<<24|P<<16|C-g|0}}return 0!==L&&(m[C+L]=I-M<<24|64<<16|0),v.bits=O,0}},{"../utils/common":28}],38:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],39:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return 256>e?le[e]:le[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>K-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>K-e.bi_valid,e.bi_valid+=n-K):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){l(e,n[2*t],n[2*t+1])}function c(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var n,i,r,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(o=0;Y>=o;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;U>n;n++)i=e.heap[n],o=l[2*l[2*i+1]+1]+1,o>f&&(o=f,m++),l[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=p&&(a=h[i-p]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*i+1]+a)));if(0!==m){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(o=f;0!==o;o--)for(i=e.bl_count[o];0!==i;)r=e.heap[--n],r>u||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function p(e,t,n){var i,r,o=new Array(Y+1),a=0;for(i=1;Y>=i;i++)o[i]=a=a+n[i-1]<<1;for(r=0;t>=r;r++){var s=e[2*r+1];0!==s&&(e[2*r]=c(o[s]++,s))}}function f(){var e,t,n,i,o,a=new Array(Y+1);for(n=0,i=0;N-1>i;i++)for(ce[i]=n,e=0;e<1<<te[i];e++)ue[n++]=i;for(ue[n-1]=i,o=0,i=0;16>i;i++)for(de[i]=o,e=0;e<1<<ne[i];e++)le[o++]=i;for(o>>=7;G>i;i++)for(de[i]=o<<7,e=0;e<1<<ne[i]-7;e++)le[256+o++]=i;for(t=0;Y>=t;t++)a[t]=0;for(e=0;143>=e;)ae[2*e+1]=8,e++,a[8]++;for(;255>=e;)ae[2*e+1]=9,e++,a[9]++;for(;279>=e;)ae[2*e+1]=7,e++,a[7]++;for(;287>=e;)ae[2*e+1]=8,e++,a[8]++;for(p(ae,W+1,a),e=0;G>e;e++)se[2*e+1]=5,se[2*e]=c(e,5);he=new r(ae,te,j+1,W,Y),pe=new r(se,ne,0,G,Y),fe=new r(new Array(0),ie,0,q,Q)}function m(e){var t;for(t=0;W>t;t++)e.dyn_ltree[2*t]=0;for(t=0;G>t;t++)e.dyn_dtree[2*t]=0;for(t=0;q>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*X]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function _(e,t,n,i){g(e),i&&(s(e,n),s(e,~n)),B.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function v(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function y(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&v(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!v(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function x(e,t,n){var i,r,o,s,c=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===i?u(e,r,t):(o=ue[r],u(e,o+j+1,t),s=te[o],0!==s&&(r-=ce[o],l(e,r,s)),i--,o=a(i),u(e,o,n),s=ne[o],0!==s&&(i-=de[o],l(e,i,s)));while(c<e.last_lit);u(e,X,t)}function b(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=U,n=0;l>n;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=2>u?++u:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)y(e,o,n);r=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,y(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),p(o,u,e.bl_count)}function w(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;n>=i;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(u>s?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*Z]++):10>=s?e.bl_tree[2*J]++:e.bl_tree[2*ee]++,s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4))}function C(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,d=4;for(0===a&&(c=138,d=3),i=0;n>=i;i++)if(r=a,a=t[2*(i+1)+1],!(++s<c&&r===a)){if(d>s){do u(e,r,e.bl_tree);while(0!==--s)}else 0!==r?(r!==o&&(u(e,r,e.bl_tree),s--),u(e,Z,e.bl_tree),l(e,s-3,2)):10>=s?(u(e,J,e.bl_tree),l(e,s-3,3)):(u(e,ee,e.bl_tree),l(e,s-11,7));s=0,o=r,0===a?(c=138,d=3):r===a?(c=6,d=3):(c=7,d=4)}}function S(e){var t;for(w(e,e.dyn_ltree,e.l_desc.max_code),w(e,e.dyn_dtree,e.d_desc.max_code),b(e,e.bl_desc),t=q-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function k(e,t,n,i){var r;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),r=0;i>r;r++)l(e,e.bl_tree[2*re[r]+1],3);C(e,e.dyn_ltree,t-1),C(e,e.dyn_dtree,n-1)}function D(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return P;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return M;for(t=32;j>t;t++)if(0!==e.dyn_ltree[2*t])return M;return P}function T(e){me||(f(),me=!0),e.l_desc=new o(e.dyn_ltree,he),e.d_desc=new o(e.dyn_dtree,pe),e.bl_desc=new o(e.bl_tree,fe),e.bi_buf=0,e.bi_valid=0,m(e)}function E(e,t,n,i){l(e,(V<<1)+(i?1:0),3),_(e,t,n,!0)}function I(e){l(e,L<<1,3),u(e,X,ae),d(e)}function A(e,t,n,i){var r,o,a=0;e.level>0?(e.strm.data_type===R&&(e.strm.data_type=D(e)),b(e,e.l_desc),b(e,e.d_desc),a=S(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,r>=o&&(r=o)):r=o=n+5,r>=n+4&&-1!==t?E(e,t,n,i):e.strategy===O||o===r?(l(e,(L<<1)+(i?1:0),3),x(e,ae,se)):(l(e,(F<<1)+(i?1:0),3),k(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),x(e,e.dyn_ltree,e.dyn_dtree)),m(e),i&&g(e)}function $(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ue[n]+j+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var B=e("../utils/common"),O=4,P=0,M=1,R=2,V=0,L=1,F=2,z=3,H=258,N=29,j=256,W=j+1+N,G=30,q=19,U=2*W+1,Y=15,K=16,Q=7,X=256,Z=16,J=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(W+2));i(ae);var se=new Array(2*G);i(se);var le=new Array(oe);i(le);var ue=new Array(H-z+1);i(ue);var ce=new Array(N);i(ce);var de=new Array(G);i(de);var he,pe,fe,me=!1;n._tr_init=T,n._tr_stored_block=E,n._tr_flush_block=A,n._tr_tally=$,n._tr_align=I},{"../utils/common":28}],40:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}]},{},[10])(10)}),window.DevExpress&&DevExpress.MOD_CORE||(function(e,t){var n=function(){var n=function(){var t={};return function(n,i,r){var s,l=!1;this.load=function(){var e=t[n];if(e){if(l)throw"circular dependency to '"+n+"' module with AMD syntax is not allowed";return e.exports}return s().exports},s=function(){var s=t[n]={exports:{}};return null===r&&i.length?i.call(e,s,s.exports,o):(l=!0,s.exports=i.apply(e,a(r)),l=!1),s}}}(),i={},r=function(e){var t=i[e];if(!t)throw"'"+e+"' module definition is absent";return t.load()},o=function(e){switch(e){case"jquery":case"domReady":return t;case"domReady!":return e;case"require":return s;default:return r(e)}},a=function(e){return t.map(e||[],o)},s=function(n,i){if(!t.isArray(n))return o(n);n=a(n),i=i||t.noop;var r=function(){i.apply(e,n)};t.inArray("domReady!",n)?t(r):r()},l=function(e,r,o){if(t.isFunction(r)&&(o=r,r=null),i[e])throw"'"+e+"' module definition is already present";i[e]=new n(e,o,r)};return{require:s,define:l}}(),i=e.DevExpress=e.DevExpress||{};i.require=n.require,i.define=n.define}(this,jQuery),DevExpress.define("/utils/utils.animationFrame",["jquery"],function(e){var t,n=1e3/60,i=function(e){return this.setTimeout(e,n)},r=function(e){this.clearTimeout(e)},o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;return o&&a&&(i=o,r=a),o&&!a&&(t={},i=function(e){var n=o.call(window,function(){try{if(n in t)return;e.apply(this,arguments)}finally{delete t[n]}});return n},r=function(e){t[e]=!0}),i=e.proxy(i,window),r=e.proxy(r,window),{request:i,cancel:r}}),DevExpress.define("/utils/utils.array",["jquery","/utils/utils.common","/utils/utils.object"],function(e,t,n){var i=function(t){return e.isArray(t)&&!t.length},r=function(t){return e.isArray(t)?t:[t]},o=function(t,n){if(!e.isArray(t)||0===t.length||!e.isArray(n)||0===n.length)return[];var i=[];return e.each(t,function(t,r){var o=e.inArray(r,n);-1!==o&&i.push(r)}),i},a=function(t,n){if(!e.isArray(t)||0===t.length)return[];if(!e.isArray(n)||0===n.length)return t.slice();var i=[];return e.each(t,function(t,r){var o=e.inArray(r,n);-1===o&&i.push(r)}),i},s=function(i,r,o,a){var s={},l=0;return e.each(i,function(e,n){e=n[r],t.isDefined(e)&&(s[e]=s[e]||[],n===o?s[e].unshift(n):s[e].push(n),delete n[r])}),n.orderEach(s,function(t,n){e.each(n,function(){t>=0&&(this[r]=l++)})}),e.each(i,function(){t.isDefined(this[r])||a&&!a(this)||(this[r]=l++)}),l};return{isEmpty:i,wrapToArray:r,intersection:o,removeDublicates:a,normalizeIndexes:s}}),DevExpress.define("/utils/utils.browser",["jquery"],function(e){var t=/(webkit)[ \/]([\w.]+)/,n=/(msie) (\d{1,2}\.\d)/,i=/(trident).*rv:(\d{1,2}\.\d)/,r=/(edge)\/((\d+)?[\w\.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))/,a=function(e){e=e.toLowerCase();var a={},s=n.exec(e)||i.exec(e)||r.exec(e)||e.indexOf("compatible")<0&&o.exec(e)||t.exec(e)||[],l=s[1],u=s[2];return("trident"===l||"edge"===l)&&(l="msie"),l&&(a[l]=!0,a.version=u),a};return e.extend({_fromUA:a},a(navigator.userAgent))}),DevExpress.define("/utils/utils.caret",["jquery","/utils/utils.common","/utils/utils.browser"],function(e,t,n){var i=n.msie&&parseInt(n.version)<=11,r=function(e){return a(e)?s(e):{start:e.selectionStart,end:e.selectionEnd}},o=function(t,n){return a(t)?void l(t,n):void(e.contains(document,t)&&(t.selectionStart=n.start,t.selectionEnd=n.end))},a=function(e){return!e.setSelectionRange},s=function(e){var t=document.selection.createRange(),n=t.duplicate();return t.move("character",-e.value.length),t.setEndPoint("EndToStart",n),{start:t.text.length,end:t.text.length+n.text.length}},l=function(t,n){if(e.contains(document,t)){var i=t.createTextRange();i.collapse(!0),i.moveStart("character",n.start),i.moveEnd("character",n.end-n.start),i.select()}};return function(n,a){return n=e(n).get(0),t.isDefined(a)?void(i&&document.activeElement!==n||o(n,a)):r(n)}}),DevExpress.define("/utils/utils.common",["jquery"],function(e){var t=function(e){return null!==e&&void 0!==e},n=function(t){return"string"===e.type(t)},i=function(t){return"number"==typeof t&&isFinite(t)||e.isNumeric(t)},r=function(t){return"object"===e.type(t)},o=function(t){return"array"===e.type(t)},a=function(t){return"date"===e.type(t)},s=function(t){return"boolean"===e.type(t)},l=function(t){return"function"===e.type(t)},u=function(t){return-1===e.inArray(e.type(t),["object","array","function"])},c=function(e){return i(e)&&-1!==e.toString().indexOf("e")},d=function(e,n){return t(e)?e:n},h=function(e){var t=e||DevExpress.rtlEnabled;return t?"right":"left"},p=function(t,n){var i,r=e.Deferred(),o=n||this,a={promise:r.promise(),abort:function(){clearTimeout(i),r.rejectWith(o)}},s=function(){var n=t.call(o);n&&n.done&&e.isFunction(n.done)?n.done(function(){r.resolveWith(o)}):r.resolveWith(o)};return i=(arguments[2]||setTimeout)(s,0),a},f=function(t,n,i){var r=[],o=0;return e.each(n,function(n,a){var s=0,l=i?i(a):a;e.each(t,function(e,t){var n=l[e];return void 0!==n?m(n,t)?void s++:(s=-1,!1):void 0}),o>s||(s>o&&(r.length=0,o=s),r.push(a))}),r},m=function(t,n){if(e.isArray(t)&&e.isArray(n)){var i=!1;return e.each(t,function(e,t){return t!==n[e]?(i=!0,!1):void 0}),i?!1:!0}return t===n?!0:!1},g=function(e){switch(typeof e){case"string":return e.split(/\s+/,2);case"object":return[e.x||e.h,e.y||e.v];case"number":return[e];default:return e}},_=function(e){switch(typeof e){case"string":return e.split(/\s+/,4);case"object":return[e.x||e.h||e.left,e.y||e.v||e.top,e.x||e.h||e.right,e.y||e.v||e.bottom];case"number":return[e];default:return e}};return{isDefined:t,isString:n,isNumber:i,isObject:r,isArray:o,isDate:a,isBoolean:s,isFunction:l,isPrimitive:u,isExponential:c,ensureDefined:d,executeAsync:p,splitPair:g,splitQuad:_,findBestMatches:f,getDefaultAlignment:h}}),DevExpress.define("/utils/utils.console",["jquery"],function(e){var t=function(){function t(t){r&&e.isFunction(r.info)&&r.info(t)}function n(t){r&&e.isFunction(r.warn)&&r.warn(t)}function i(t){r&&e.isFunction(r.error)&&r.error(t)}var r=window.console;return{info:t,warn:n,error:i}}(),n=function(){function e(e,t){if(!e)throw new Error(t)}function t(t,n){e(null!==t&&void 0!==t,n)}return{assert:e,assertParam:t}}();return{logger:t,debug:n}}),DevExpress.define("/utils/utils.date",["jquery","/utils/utils.common","/utils/utils.inflector"],function(e,t,n){function i(e,t,n){var i=new Date(e.getTime()),r=o(t)?B(t.toLowerCase()):t;return r.years&&i.setFullYear(i.getFullYear()+r.years*n),r.quarters&&i.setMonth(i.getMonth()+3*r.quarters*n),r.months&&i.setMonth(i.getMonth()+r.months*n),r.weeks&&i.setDate(i.getDate()+7*r.weeks*n),r.days&&i.setDate(i.getDate()+r.days*n),r.hours&&i.setHours(i.getHours()+r.hours*n),r.minutes&&i.setMinutes(i.getMinutes()+r.minutes*n),r.seconds&&i.setSeconds(i.getSeconds()+r.seconds*n),r.milliseconds&&i.setMilliseconds(e.getMilliseconds()+r.milliseconds*n),i}var r=t.isObject,o=t.isString,a=t.isDate,s=t.isDefined,l=n.camelize,u=["millisecond","second","minute","hour","day","week","month","quarter","year"],c=function(e){switch(e){case"millisecond":return 1;case"second":return 1e3*c("millisecond");case"minute":return 60*c("second");case"hour":return 60*c("minute");case"day":return 24*c("hour");case"week":return 7*c("day");case"month":return 30*c("day");case"quarter":return 3*c("month");case"year":return 365*c("day");default:return 0}},d=function(e,t,n){var i=t.getTime()-e.getTime(),r=c(n)||1;return Math.floor(i/r)},h=function(e){for(var t,n,i=["millisecond","second","minute","hour","day","month","year"],r={},o=i.length-1;o>=0;o--)n=i[o],t=Math.floor(e/c(n)),t>0&&(r[n+"s"]=t,e-=f(n,t));return r},p=function(t){var n=0;return r(t)&&e.each(t,function(e,t){n+=f(e.substr(0,e.length-1),t)}),o(t)&&(n=f(t,1)),n},f=function(e,t){return c(e)*t},m=function(t){var n,i=-1;return o(t)?t:r(t)?(e.each(t,function(e,t){for(n=0;n<u.length;n++)t&&(e===u[n]+"s"||e===u[n])&&n>i&&(i=n)}),u[i]):""},g=function(e){return Math.floor(e/3)},_=function(e){return 3*g(e)},v=function(e,t,n){var i,r,o=new Date(e.getTime()),a=m(t);switch(a){case"second":e.setMilliseconds(0);break;case"minute":e.setSeconds(0,0);break;case"hour":e.setMinutes(0,0,0);break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":i=e.getDate(),0!==e.getDay()&&(i+=7-e.getDay()),e.setDate(i),e.setHours(0,0,0,0);break;case"quarter":r=_(e.getMonth()),e.getMonth()!==r&&e.setMonth(r),e.setDate(1),e.setHours(0,0,0,0)}n&&"hour"!==a&&"minute"!==a&&"second"!==a&&q(o,e)},y=function(e){return te.correctDateWithUnitBeginning(e,"day"),e},x=function(t,n){var i,r=0;return i={year:t.getFullYear()!==n.getFullYear(),month:t.getMonth()!==n.getMonth(),day:t.getDate()!==n.getDate(),hour:t.getHours()!==n.getHours(),minute:t.getMinutes()!==n.getMinutes(),second:t.getSeconds()!==n.getSeconds()},e.each(i,function(e,t){t&&r++}),i.count=r,i},b=function(e,t,n){var r=n?-1:1;return a(e)?i(e,t,r):e+t*r},w=function(e,t){return"month"===e?new Date(t.getFullYear(),t.getMonth(),1):"year"===e?new Date(t.getFullYear(),0,t.getDate()):"decade"===e?new Date(L(t),t.getMonth(),t.getDate()):"century"===e?new Date(V(t),t.getMonth(),t.getDate()):void 0},C=function(e,t){return"month"===e?new Date(t.getFullYear(),t.getMonth(),D(t)):"year"===e?new Date(t.getFullYear(),11,t.getDate()):"decade"===e?new Date(L(t)+9,t.getMonth(),t.getDate()):"century"===e?new Date(V(t)+90,t.getMonth(),t.getDate()):void 0},S=function(e,t){var n=new Date(t.getFullYear(),t.getMonth(),1);return"month"===e?n:(n.setMonth(0),"year"===e?n:("decade"===e&&n.setFullYear(L(t)),"century"===e&&n.setFullYear(V(t)),n))},k=function(e,t){var n=new Date(t.getFullYear(),t.getMonth(),D(t));return"month"===e?n:(n.setMonth(11),n.setDate(D(n)),"year"===e?n:("decade"===e&&n.setFullYear(L(t)+9),"century"===e&&n.setFullYear(V(t)+99),n))},D=function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0);return t.getDate()},T=function(e,t,n){return te[l("same "+e)](t,n)},E=function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},I=function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},A=function(e){var t=1;return"year"===e&&(t=12),"decade"===e&&(t=120),"century"===e&&(t=1200),t},$=function(e){var t=1;return"decade"===e&&(t=12),"century"===e&&(t=120),t},B=function(e){var t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.days=7;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t},O=function(e,t){return e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},P=function(e,t){return e&&t&&e.getFullYear()===t.getFullYear()},M=function(e,t){if(s(e)&&s(t)){var n=e.getFullYear()-e.getFullYear()%10,i=t.getFullYear()-t.getFullYear()%10;return e&&t&&n===i}},R=function(e,t){if(s(e)&&s(t)){var n=e.getFullYear()-e.getFullYear()%100,i=t.getFullYear()-t.getFullYear()%100;return e&&t&&n===i}},V=function(e){return e&&e.getFullYear()-e.getFullYear()%100},L=function(e){return e&&e.getFullYear()-e.getFullYear()%10},F=function(e){return Globalize.format(e,"yyyy'/'M'/'d")},z=function(e){return s(e)?new Date(e.getFullYear(),e.getMonth(),1):void 0},H=function(e){return s(e)?new Date(e.getFullYear(),e.getMonth()+1,0):void 0},N=function(e,t){t=t||Globalize.culture().calendar.firstDay;var n=(e.getDay()-t+7)%7,i=new Date(e);return i.setDate(e.getDate()-n),i},j=function(e,t){var n=te.getDatesInterval(e,t,"day"),i=new Date(e);return n>=6&&(i=new Date(i.setDate(i.getDate()+7))),i},W=function(e,t,n,i){return"date"===i&&(t=t&&new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=n&&new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())),G(e,t,n)===e},G=function(e,t,n){var i=e;return s(e)?(s(t)&&t>e&&(i=t),s(n)&&e>n&&(i=n),i):e},q=function(e,t){if(s(e)){var n,i,r=t.getHours()-e.getHours();0!==r&&(n=1===r||-23===r?-1:1,i=new Date(t.getTime()+36e5*n),(n>0||i.getDate()===t.getDate())&&t.setTime(i.getTime()))}},U=function(e,t){return 6e4*(t.getTimezoneOffset()-e.getTimezoneOffset())},Y=function(e){return e instanceof Date||(e=new Date(e)),e},K="number",Q="yyyy'/'MM'/'dd",X="yyyy'/'MM'/'dd HH:mm:ss",Z=function(e){return t.isNumber(e)?K:t.isString(e)?e.indexOf(":")>=0?X:Q:void 0},J=function(e,t){var n;return t&&t!==K&&t!==Q&&t!==X?void 0!==e?Globalize.parseDate(e,t):void 0:(n=t===K?e:!a(e)&&Date.parse(e),n?new Date(n):e)},ee=function(e,t){return t===K?e&&e.valueOf&&e.valueOf():t?Globalize.format(e,t):e},te={dateUnitIntervals:u,convertMillisecondsToDateUnits:h,dateToMilliseconds:p,convertDateUnitToMilliseconds:f,getDateUnitInterval:m,getDatesDifferences:x,correctDateWithUnitBeginning:v,trimTime:y,addDateInterval:i,addInterval:b,getDateIntervalByString:B,sameMonthAndYear:O,sameMonth:O,sameYear:P,sameDecade:M,sameCentury:R,sameView:T,getDifferenceInMonth:A,getDifferenceInMonthForCells:$,getFirstYearInDecade:L,getFirstDecadeInCentury:V,getShortDate:F,getViewFirstCellDate:w,getViewLastCellDate:C,getViewDown:I,getViewUp:E,getLastMonthDay:D,getLastMonthDate:H,getFirstMonthDate:z,getFirstWeekDate:N,normalizeDateByWeek:j,getQuarter:g,getFirstQuarterMonth:_,dateInRange:W,normalizeDate:G,getViewMinBoundaryDate:S,getViewMaxBoundaryDate:k,fixTimezoneGap:q,getTimezonesDifference:U,makeDate:Y,deserializeDate:J,serializeDate:ee,getDateSerializationFormat:Z,getDatesInterval:d};return te}),DevExpress.define("/utils/utils.dom",["jquery","/errors","/utils/utils.support","/utils/utils.window","/utils/utils.common","/devices"],function(e,t,n,i,r,o){var a=function(){var e=document.activeElement;e&&e!==document.body&&e.blur&&e.blur()},s=function(){return window.getSelection?window.getSelection():document.selection?document.selection:null},l=function(){var e=s();e&&"Caret"!==e.type&&(e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges())},u=function(t,n){for(var i=e(t).parents().addBack(),r=e(n).parents().addBack(),o=Math.min(i.length,r.length)-1,a=o;a>=0;a--)if(i.eq(a).is(r.eq(a)))return i.get(a)},c=function(t){var r,a,s;t=e.extend({},t);var l=o.real(),u=t.allowZoom,c=t.allowPan,d="allowSelection"in t?t.allowSelection:"generic"===l.platform,h="meta[name=viewport]";e(h).length||e("<meta />").attr("name","viewport").appendTo("head"),r=["width=device-width"],a=[],u?a.push("pinch-zoom"):r.push("initial-scale=1.0","maximum-scale=1.0, user-scalable=no"),c&&a.push("pan-x","pan-y"),c||u?e("html").css("-ms-overflow-style","-ms-autohiding-scrollbar"):e("html, body").css({"-ms-content-zooming":"none","-ms-user-select":"none",overflow:"hidden"}),!d&&n.supportProp("user-select")&&e(".dx-viewport").css(n.styleProp("user-select"),"none"),e(h).attr("content",r.join()),e("html").css("-ms-touch-action",a.join(" ")||"none"),l=o.real(),!n.touch||"win"===l.platform&&10===l.version[0]||e(document).off(".dxInitMobileViewport").on("dxpointermove.dxInitMobileViewport",function(e){var t=e.pointers.length,n="touch"===e.pointerType,i=!u&&t>1,r=!c&&1===t&&!e.isScrollingEvent;n&&(i||r)&&e.preventDefault()}),l.ios&&(s="file:"===document.location.protocol,s||i.resizeCallbacks.add(function(){var t=e(window).width();e("body").width(t)})),l.android&&i.resizeCallbacks.add(function(){document.activeElement.scrollIntoViewIfNeeded()})},d=function(t){var n=".dx-visibility-change-handler";return function(i){var r=e(i||"body"),o=r.find(n).add(r.filter(n));o.each(function(){e(this).triggerHandler(t)})}},h=function(){var e=0;return function(t){return(t||"")+e++}}(),p="data-options",f=function(n){var i,r=e(n).attr(p);"{"!==e.trim(r).charAt(0)&&(r="{"+r+"}");try{i=new Function("return "+r)()}catch(o){throw t.Error("E3018",o,r)}return i},m=function(t,n){var i=[],r="["+p+"]";return t.find(r).addBack(r).each(function(t,r){var o,a=e(r),s=f(r);for(o in s)(!n||e.inArray(o,n)>-1)&&a[o]&&(a[o](s[o]),i.push(a[o]("instance")))}),i},g=function(t){if(!window.WinJS)return e(t);var n=e("<div />");return window.WinJS.Utilities.setInnerHTMLUnsafe(n.get(0),t),n.contents()},_=function(t){var n=r.isDefined(t)&&(t.nodeType||t.jquery)?e(t):e("<div>").html(t).contents();return 1===n.length&&n.is("script")&&(n=_(n.html())),
n},v=function(e,t,n){n?e.attr(t,n):e.removeAttr(t)},y=function(e,t){var n=e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData;return 1===arguments.length?n&&n.getData("Text"):void(n&&n.setData("Text",t))};return{resetActiveElement:a,createMarkupFromString:g,triggerShownEvent:d("dxshown"),triggerHidingEvent:d("dxhiding"),triggerResizeEvent:d("dxresize"),initMobileViewport:c,getElementOptions:f,createComponents:m,normalizeTemplateElement:_,clearSelection:l,getSelection:s,uniqueId:h,closestCommonParent:u,clipboardText:y,toggleAttr:v}}),DevExpress.define("/utils/utils.error",["jquery","/utils/utils.console","/utils/utils.string","/version"],function(e,t,n,i){var r="http://js.devexpress.com/error/"+i.split(".").slice(0,2).join("_")+"/";return function(i,o){var a={ERROR_MESSAGES:e.extend(o,i),Error:function(){return c(e.makeArray(arguments))},log:function(n){var i="log";/^E\d+$/.test(n)?i="error":/^W\d+$/.test(n)&&(i="warn"),t.logger[i]("log"===i?n:s(e.makeArray(arguments)))}},s=function(e){var t=e[0];return e=e.slice(1),u(t,l(t,e))},l=function(e,t){return t=[a.ERROR_MESSAGES[e]].concat(t),n.format.apply(this,t).replace(/\.*\s*?$/,"")},u=function(e,t){return n.format.apply(this,["{0} - {1}. See:\n{2}",e,t,r+e])},c=function(t){var n,i,r;return n=t[0],t=t.slice(1),i=l(n,t),r=u(n,i),e.extend(new Error(r),{__id:n,__details:i})};return a}}),DevExpress.define("/utils/utils.formatHelper",["jquery","/utils/utils.common","/utils/utils.string","/utils/utils.date"],function(e,t,n,i){var r=4,o=10,a={currency:"C",fixedpoint:"N",exponential:"",percent:"P",decimal:"D"},s={1:"K",2:"M",3:"B",4:"T"},l={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},u={longdate:"D",longtime:"T",monthandday:"M",monthandyear:"Y",quarterandyear:"qq",shortdate:"d",shorttime:"t",millisecond:"fff",second:"T",minute:"t",hour:"t",day:"dd",week:"dd",month:"MMMM",quarter:"qq",year:"yyyy",longdatelongtime:"D",shortdateshorttime:"d",shortyear:"yy"},c={defaultQuarterFormat:"Q{0}",defaultLargeNumberFormatPostfixes:s,defaultDateTimeFormat:u,romanDigits:["I","II","III","IV"],_addFormatSeparator:function(e,t){var n=" ";return t?e+n+t:e},_getDateTimeFormatPattern:function(e){return Globalize.findClosestCulture().calendar.patterns[u[e.toLowerCase()]]},_isDateFormatContains:function(e){return e.toLowerCase()in u},_getQuarterString:function(e,t){var r=i.getQuarter(e.getMonth());switch(t){case"q":return c.romanDigits[r];case"qq":return n.format(c.defaultQuarterFormat,c.romanDigits[r]);case"Q":return(r+1).toString();case"QQ":return n.format(c.defaultQuarterFormat,(r+1).toString())}return""},_formatCustomString:function(e,t){var n,i=/qq|q|QQ|Q/g,r="",o=0;for(i.lastIndex=0;o<t.length;)n=i.exec(t),(!n||n.index>o)&&(r+=Globalize.format(e,t.substring(o,n?n.index:t.length))),n?(r+=c._getQuarterString(e,n[0]),o=n.index+n[0].length):o=t.length;return r},_parseNumberFormatString:function(t){var n,i={};return t&&"string"==typeof t?(n=t.toLowerCase().split(" "),e.each(n,function(e,t){t in a?i.formatType=t:t in l&&(i.power=l[t])}),i.power&&!i.formatType&&(i.formatType="fixedpoint"),i.formatType?i:void 0):void 0},_calculateNumberPower:function(e,t,n,i){var r=Math.abs(e),o=0;if(r>1)for(;r&&r>=t&&(void 0===i||i>o);)o++,r/=t;else if(r>0&&1>r)for(;1>r&&(void 0===n||o>n);)o--,r*=t;return o},_getNumberByPower:function(e,t,n){for(var i=e;t>0;)i/=n,t--;for(;0>t;)i*=n,t++;return i},_formatNumber:function(e,t,n){var i;return"auto"===t.power&&(t.power=c._calculateNumberPower(e,1e3,0,r)),t.power&&(e=c._getNumberByPower(e,t.power,1e3)),i=c.defaultLargeNumberFormatPostfixes[t.power]||"",c._formatNumberCore(e,t.formatType,n)+i},_formatNumberExponential:function(e,t){var n,i=c._calculateNumberPower(e,o),r=c._getNumberByPower(e,i,o);return t=void 0===t?1:t,r.toFixed(t||0)>=o&&(i++,r/=o),n=(i>=0?"+":"")+i.toString(),c._formatNumberCore(r,"fixedpoint",t)+"E"+n},_formatNumberCore:function(e,n,i){return"exponential"===n?c._formatNumberExponential(e,i):Globalize.format(e,a[n]+(t.isNumber(i)?i:0))},_formatDate:function(e,t){var n=u[t.toLowerCase()];return t=t.toLowerCase(),"quarterandyear"===t&&(n=c._getQuarterString(e,n)+" yyyy"),"quarter"===t?c._getQuarterString(e,n):"longdatelongtime"===t?c._formatDate(e,"longdate")+" "+c._formatDate(e,"longtime"):"shortdateshorttime"===t?c._formatDate(e,"shortDate")+" "+c._formatDate(e,"shortTime"):Globalize.format(e,n)},format:function(n,i,r){if(e.isPlainObject(i)&&i.format){if(i.dateType)return c._formatDateEx(n,i);if(t.isNumber(n)&&isFinite(n))return c._formatNumberEx(n,i)}return c._format(n,i,r)},_format:function(e,n,i){var r;return t.isString(n)&&""!==n&&(t.isNumber(e)||t.isDate(e))?(r=c._parseNumberFormatString(n),t.isNumber(e)&&r?c._formatNumber(e,r,i):t.isDate(e)&&c._isDateFormatContains(n)?c._formatDate(e,n):r||c._isDateFormatContains(n)?void 0:c._formatCustomString(e,n)):t.isDefined(e)?e.toString():""},_formatNumberEx:function(e,n){var i,r,o,s,l,u,d,h,p=c,f=a[n.format.toLowerCase()],m=Globalize.culture().numberFormat,g=n.currencyCulture&&Globalize.cultures[n.currencyCulture]?Globalize.cultures[n.currencyCulture].numberFormat.currency:m.currency,_=m.percent,v=p._getUnitFormatSettings(e,n),y=v.unitPower,x=v.precision,b=v.showTrailingZeros,w=v.includeGroupSeparator,C=m[","],S=m["."],k=/n|\$|-|%/g,D="";if(!t.isDefined(e))return"";switch(e=c._getNumberByPower(e,y,1e3),i=Math.abs(e),r=0>e,f){case a.decimal:if(o="n",i=Math[r?"ceil":"floor"](i),x>0){for(l=""+i,u=l.length;x>u;u+=1)l="0"+l;i=l}r&&(i="-"+i);break;case a.fixedpoint:s=m;case a.currency:s=s||g;case a.percent:s=s||_,o=r?s.pattern[0]:s.pattern[1]||"n",i=Globalize.format(i*(f===a.percent?100:1),"N"+x),b||(i=p._excludeTrailingZeros(i,S)),w||(i=i.replace(new RegExp("\\"+C,"g"),""));break;case a.exponential:return p._formatNumberExponential(e,x);default:throw"Illegal numeric format: '"+f+"'"}for(;d=k.lastIndex,h=k.exec(o),D+=o.slice(d,h?h.index:o.length),h;)switch(h[0]){case"-":/[1-9]/.test(i)&&(D+=m["-"]);break;case"$":D+=g.symbol;break;case"%":D+=_.symbol;break;case"n":D+=i+(y>0?c.defaultLargeNumberFormatPostfixes[y]:"")}return(n.plus&&e>0?"+":"")+D},_excludeTrailingZeros:function(e,t){var n,i,r=e.indexOf(t);if(0>r)return e;for(n=e.length,i=n-1;i>=r&&("0"===e[i]||i===r);i--)n--;return e.substring(0,n)},_getUnitFormatSettings:function(e,t){var n,i,r=t.unitPower||"",o=t.precision||0,a=t.includeGroupSeparator||!1,s=void 0===t.showTrailingZeros?!0:t.showTrailingZeros,l=t.significantDigits||1;if("auto"===r.toString().toLowerCase())if(s=!1,n=Math.abs(e),1>l&&(l=1),n>=1e9?(r=3,n/=1e9):n>=1e6?(r=2,n/=1e6):n>=1e3?(r=1,n/=1e3):r=0,0===n)o=0;else if(1>n)for(o=l,i=Math.pow(10,-l);i>n;)i/=10,o++;else o=n>=100?l-3:n>=10?l-2:l-1;return 0>o&&(o=0),{unitPower:r,precision:o,showTrailingZeros:s,includeGroupSeparator:a}},_formatDateEx:function(i,r){var o,a,s,l=c,u=r.format,d=r.dateType,h=Globalize.culture().calendars.standard;if(u=u.toLowerCase(),!t.isDefined(i))return"";if("num"===d&&"dayofweek"!==u)return i.toString();switch(u){case"monthyear":return l._formatDate(i,"monthandyear");case"quarteryear":return l._getQuarterString(i,"QQ")+" "+i.getFullYear();case"daymonthyear":return l._formatDate(i,d+"Date");case"datehour":return o=new Date(i.getTime()),o.setMinutes(0),s="timeOnly"===d?"":l._formatDate(i,d+"Date"),"timeOnly"===d?l._formatDate(o,"shorttime"):s+" "+l._formatDate(o,"shorttime");case"datehourminute":return s="timeOnly"===d?"":l._formatDate(i,d+"Date"),"timeOnly"===d?l._formatDate(i,"shorttime"):s+" "+l._formatDate(i,"shorttime");case"datehourminutesecond":return s="timeOnly"===d?"":l._formatDate(i,d+"Date"),"timeOnly"===d?l._formatDate(i,"longtime"):s+" "+l._formatDate(i,"longtime");case"year":return s=i.toString(),"abbr"===d?s.slice(2,4):s;case"dateyear":return"abbr"===d?l._formatDate(i,"shortyear"):l._formatDate(i,"year");case"quarter":return n.format(l.defaultQuarterFormat,i.toString());case"month":return a=i-1,"abbr"===d?h.months.namesAbbr[a]:h.months.names[a];case"hour":return"long"===d?(o=new Date,o.setHours(i),o.setMinutes(0),l._formatDate(o,"shorttime")):i.toString();case"dayofweek":return a=t.isString(i)?e.inArray(i,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]):i,"num"!==d?"abbr"===d?h.days.namesAbbr[a]:h.days.names[a]:((a-h.firstDay+1+7)%8).toString();default:return i.toString()}},getTimeFormat:function(e){return e?c._getDateTimeFormatPattern("longtime"):c._getDateTimeFormatPattern("shorttime")},getDateFormatByDifferences:function(e){var t="";return e.millisecond&&(t=u.millisecond),(e.hour||e.minute||e.second)&&(t=c._addFormatSeparator(c.getTimeFormat(e.second),t)),e.year&&e.month&&e.day?c._addFormatSeparator(c._getDateTimeFormatPattern("shortdate"),t):e.year&&e.month?u.monthandyear:e.year?u.year:e.month&&e.day?c._addFormatSeparator(c._getDateTimeFormatPattern("monthandday"),t):e.month?u.month:e.day?c._addFormatSeparator("dddd, dd",t):t},getDateFormatByTicks:function(e){var t,n,r,o;if(e.length>1)for(n=i.getDatesDifferences(e[0],e[1]),o=1;o<e.length-1;o++)r=i.getDatesDifferences(e[o],e[o+1]),n.count<r.count&&(n=r);else n={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0};return t=c.getDateFormatByDifferences(n)},getDateFormatByTickInterval:function(e,n,r){var o,a,s,l={quarter:"month",week:"day"},u=function(e,t,n){switch(t){case"year":e.month=n;case"quarter":case"month":e.day=n;case"week":case"day":e.hour=n;case"hour":e.minute=n;case"minute":e.second=n;case"second":e.millisecond=n}},d=function(e,t,n){!n.getMilliseconds()&&n.getSeconds()?n.getSeconds()-t.getSeconds()==1&&(e.millisecond=!0,e.second=!1):!n.getSeconds()&&n.getMinutes()?n.getMinutes()-t.getMinutes()==1&&(e.second=!0,e.minute=!1):!n.getMinutes()&&n.getHours()?n.getHours()-t.getHours()==1&&(e.minute=!0,e.hour=!1):!n.getHours()&&n.getDate()>1?n.getDate()-t.getDate()==1&&(e.hour=!0,e.day=!1):1===n.getDate()&&n.getMonth()?n.getMonth()-t.getMonth()==1&&(e.day=!0,e.month=!1):!n.getMonth()&&n.getFullYear()&&n.getFullYear()-t.getFullYear()==1&&(e.month=!0,e.year=!1)};return r=t.isString(r)?r.toLowerCase():r,a=i.getDatesDifferences(e,n),e!==n&&d(a,e>n?n:e,e>n?e:n),s=i.getDateUnitInterval(a),u(a,s,!0),s=i.getDateUnitInterval(r||"second"),u(a,s,!1),a[l[s]||s]=!0,o=c.getDateFormatByDifferences(a)}};return c}),DevExpress.define("/utils/utils.hardwareBack",["jquery"],function(e){var t=e.Callbacks();return{process:function(){t.fire()},processCallback:t}}),DevExpress.define("/utils/utils.icon",["jquery"],function(e){var t=function(e){return e&&"string"==typeof e?/data:.*base64|\.|\//.test(e)?"image":/^[\w-_]+$/.test(e)?"dxIcon":"fontIcon":!1},n=function(n){var i=t(n),r="dx-icon";switch(i){case"image":return e("<img>",{src:n}).addClass(r);case"fontIcon":return e("<i>",{"class":r+" "+n});case"dxIcon":return e("<i>",{"class":r+" "+r+"-"+n});default:return null}};return{getImageSourceType:t,getImageContainer:n}}),DevExpress.define("/utils/utils.inflector",["jquery"],function(e){var t=function(e){return void 0===e||null===e?"":String(e)},n=function(e){return t(e).charAt(0).toUpperCase()+e.substr(1)},i=function(e){return t(e).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},r=function(t){return e.map(i(t),function(e){return e.toLowerCase()}).join("-")},o=function(e){return r(e).replace(/-/g,"_")},a=function(t,r){return e.map(i(t),function(e,t){return e=e.toLowerCase(),(r||t>0)&&(e=n(e)),e}).join("")},s=function(e){return n(r(e).replace(/-/g," "))},l=function(t){return e.map(i(t),function(e){return n(e.toLowerCase())}).join(" ")},u=function(e){for(var t,n=[],i=!1,r=!1,o=0;o<e.length;o++)t=e.charAt(o),r=t===t.toUpperCase()||t in["0","1","2","3","4","5","6","7","8","9"],"_"===t||"."===t?(t=" ",r=!0):0===o?(t=t.toUpperCase(),r=!0):!i&&r&&n.length>0&&n.push(" "),n.push(t),i=r;return n.join("")};return{dasherize:r,camelize:a,humanize:s,titleize:l,underscore:o,captionize:u}}),DevExpress.define("/utils/utils.inkRipple",["jquery","/action"],function(e){var t="dx-inkripple",n="dx-inkripple-wave",i="dx-inkripple-showing",r="dx-inkripple-hiding",o=2,a=4e3,s=300,l=1e3,u=0,c=function(t){t=t||{},void 0===t.useHoldAnimation&&(t.useHoldAnimation=!0);var n={waveSizeCoefficient:t.waveSizeCoefficient||o,isCentered:t.isCentered||!1,wavesNumber:t.wavesNumber||1,durations:g(t.useHoldAnimation)};return{showWave:e.proxy(f,null,n),hideWave:e.proxy(v,null,n)}},d=function(n){var i=n.children("."+t);return 0===i.length&&(i=e("<div>").addClass(t).appendTo(n)),i},h=function(t,i){for(var r,o=d(t),a=o.children("."+n),s=a.length;i>s;s++)r=e("<div>").appendTo(o).addClass(n),a.push(r[0]);return a},p=function(e,t){var n,i,r=t.element,o=r.width(),s=r.height(),l=parseInt(Math.sqrt(o*o+s*s)),u=Math.min(a,parseInt(l*e.waveSizeCoefficient));if(e.isCentered)n=(o-u)/2,i=(s-u)/2;else{var c=t.jQueryEvent,d=t.element.offset(),h=c.pageX-d.left,p=c.pageY-d.top;n=h-u/2,i=p-u/2}return{left:n,top:i,height:u,width:u}},f=function(t,n){var i=h(n.element,t.wavesNumber).eq(n.wave||u);t.hidingTimeout&&clearTimeout(t.hidingTimeout),_(i),i.css(p(t,n)),setTimeout(e.proxy(m,null,t,i),0)},m=function(e,t){var n=e.durations.showingScale+"ms";t.addClass(i).css("transition-duration",n)},g=function(e){return{showingScale:e?l:s,hidingScale:s,hidingOpacity:s}},_=function(e){e.removeClass(r).css("transition-duration","")},v=function(t,n){var o,a=h(n.element,n.wavesNumber).eq(n.wave||u),s=t.durations,l=s.hidingScale+"ms, "+s.hidingOpacity+"ms";a.addClass(r).removeClass(i).css("transition-duration",l),o=Math.max(s.hidingScale,s.hidingOpacity),t.hidingTimeout=setTimeout(e.proxy(_,null,a),o)};return{render:c}}),DevExpress.define("/utils/utils.knockout",["/utils/utils.support"],function(e){var t=window.ko,n=function(n){return e.hasKo?t.utils.unwrapObservable(n):n},i=function(n){return e.hasKo&&t.isObservable(n)},r=function(n){return e.hasKo&&t.isWritableObservable(n)};return{unwrapObservable:n,isObservable:i,isWritableObservable:r}}),DevExpress.define("/utils/utils.locker",["jquery","/errors"],function(){return function(){var e={},t=function(t){return e[t]||0};return{obtain:function(n){e[n]=t(n)+1},release:function(n){var i=t(n);1===i?delete e[n]:e[n]=i-1},locked:function(e){return t(e)>0}}}}),DevExpress.define("/utils/utils.math",["/utils/utils.common"],function(e){var t=Math.PI,n=Math.LN10,i=Math.cos,r=Math.sin,o=Math.abs,a=Math.log,s=Math.floor,l=Math.ceil,u=Math.max,c=window.isNaN,d=window.Number,h=window.NaN,p=e.isNumber,f=e.isExponential,m=function(e){var t,n,i,r=e.toString(),o=r.indexOf(".");return f(e)?(i=k(e),0>i?Math.abs(i):0):-1!==o?(n=o+1,t=r.substring(n,n+20),t.length):0},g=function(e,t){return e?Math.log(e)/Math.log(t):h},_=function(e,t){return Math.pow(t,e)},v=function(e){return 0===e?0:e/o(e)},y=function(e){return(e%360+360)%360},x=function(e){return 90-e},b=function(e){return t*e/180},w=function(e){var t=b(e);return{cos:i(t),sin:r(t)}},C=1e-14,S=function(e,t,n,i){var r=n-e,o=i-t;return Math.sqrt(o*o+r*r)},k=function(e){var t,i=o(e);return c(i)?h:i>0?(i=a(i)/n,t=l(i),C>t-i?t:s(i)):0},D=function(e,t,n){var i,r=u(k(e),k(t)),a=-k(o(t-e)/n);return c(r)||c(a)?null:(o(r)<=4?(i="fixedPoint",0>a&&(a=0),a>4&&(a=4)):(i="exponential",a+=r-1,a>3&&(a=3)),{format:i,precision:a})},T=function(e){var t,n;return p(e)&&(t=e.toString(),n=t.indexOf("."),n>=0)?f(e)?t.substr(n+1,t.indexOf("e")-n-1):(t=e.toFixed(20),t.substr(n+1,t.length-n+1)):""},E=function(e){var t,n=T(e);if(n)for(t=0;t<n.length;t++)if("0"!==n.charAt(t))return t+1;return 0},I=function(e){var t,n,i=T(e);if(i)for(n=1;n<=i.length;n++)if(t=A(e,n),0!==t&&i[n-2]&&i[n-1]&&i[n-2]===i[n-1])return t;return e},A=function(e,t){return t>20&&(t=20),p(e)?d(f(e)?e.toExponential(t):e.toFixed(t)):void 0},$=function(e,t,n){var i=m(e),r=m(t);return A(n,r>i?r:i)},B=function(e,t,n){return Math.min(Math.max(e,t),n)},O=function(e){return e.toExponential().split("e")[1]};return{getPrecision:m,getLog:g,raiseTo:_,sign:v,normalizeAngle:y,convertAngleToRendererSpace:x,degreesToRadians:b,getCosAndSin:w,getDecimalOrder:k,getAppropriateFormat:D,getDistance:S,getFraction:T,adjustValue:I,roundValue:A,applyPrecisionByMinDelta:$,getSignificantDigitPosition:E,getPower:O,fitIntoRange:B}}),DevExpress.define("/utils/utils.memorizedCallbacks",["jquery"],function(e){return function(){var t=[],n=e.Callbacks();this.add=function(i){e.each(t,function(e,t){i.apply(i,t)}),n.add(i)},this.fire=function(){t.push(arguments),n.fire.apply(n,arguments)}}}),DevExpress.define("/utils/utils.object",["jquery","/utils/utils.common"],function(e,t){var n=function(){function e(){}return function(t){return e.prototype=t,new e}}(),i=function(e,t,n){var i,r;e=e||{};for(i in t)t.hasOwnProperty(i)&&(r=t[i],i in e&&!n||(e[i]=r));return e},r=function(e,n){var i,r,o=[];for(i in e)o.push(i);for(o.sort(function(e,n){var i=t.isNumber(e),r=t.isNumber(n);return i&&r?e-n:i&&!r?-1:!i&&r?1:n>e?-1:e>n?1:0}),r=0;r<o.length;r++)i=o[r],n(i,e[i])},o=function(t,n){var i,r,a;for(a in n)i=t[a],r=n[a],t!==r&&(!e.isPlainObject(r)||r instanceof e.Event?void 0!==r&&(t[a]=r):t[a]=o(e.isPlainObject(i)?i:{},r));return t};return{clone:n,extendFromObject:i,orderEach:r,deepExtendArraySafe:o}}),DevExpress.define("/utils/utils.position",function(e,t,n){var i,r=n("jquery"),o=n("/utils/utils.translator"),a=n("/utils/utils.string"),s=n("/utils/utils.support"),l=n("/utils/utils.common"),u=/left|right/,c=/top|bottom/,d=/fit|flip|none/,h=function(e){var t={h:"center",v:"center"},n=l.splitPair(e);return n&&r.each(n,function(){var e=String(this).toLowerCase();u.test(e)?t.h=e:c.test(e)&&(t.v=e)}),t},p=function(e){return a.pairToObject(e)},f=function(e){var t=l.splitPair(e),n=String(t&&t[0]).toLowerCase(),i=String(t&&t[1]).toLowerCase();return d.test(n)||(n="none"),d.test(i)||(i=n),{h:n,v:i}},m=function(e){switch(e){case"center":return.5;case"right":case"bottom":return 1;default:return 0}},g=function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return e}},_=function(e,t){var n=0;return e.myLocation<t.min&&(n+=t.min-e.myLocation),e.myLocation>t.max&&(n+=e.myLocation-t.max),n},v=function(e,t,n){return t.myLocation<n.min?"h"===e?"left":"top":t.myLocation>n.max?"h"===e?"right":"bottom":"none"},y=function(e){e.myLocation=e.atLocation+m(e.atAlign)*e.atSize-m(e.myAlign)*e.mySize+e.offset},x={fit:function(e,t){var n=!1;e.myLocation>t.max&&(e.myLocation=t.max,n=!0),e.myLocation<t.min&&(e.myLocation=t.min,n=!0),e.fit=n},flip:function(e,t){if(e.flip=!1,("center"!==e.myAlign||"center"!==e.atAlign)&&(e.myLocation<t.min||e.myLocation>t.max)){var n=r.extend({},e,{myAlign:g(e.myAlign),atAlign:g(e.atAlign),offset:-e.offset});y(n),n.oversize=_(n,t),(n.myLocation>=t.min&&n.myLocation<=t.max||e.oversize>n.oversize)&&(e.myLocation=n.myLocation,e.oversize=n.oversize,e.flip=!0)}},flipfit:function(e,t){this.flip(e,t),this.fit(e,t)},none:function(e){e.oversize=0}},b=function(){var e=r("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(r("body")),t=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove(),i=t},w={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},C=function(e,t){var n,o,a,l=r(e),u=l.offset(),c=r.extend(!0,{},w,{h:{location:u.left},v:{location:u.top}});if(!t)return c;var d=h(t.my),m=h(t.at),g=t.of||window,C=p(t.offset),S=f(t.collision),k=t.boundary,D=p(t.boundaryOffset),T={mySize:l.outerWidth(),myAlign:d.h,atAlign:m.h,offset:C.h,collision:S.h,boundaryOffset:D.h},E={mySize:l.outerHeight(),myAlign:d.v,atAlign:m.v,offset:C.v,collision:S.v,boundaryOffset:D.v};return g.preventDefault?(T.atLocation=g.pageX,E.atLocation=g.pageY,T.atSize=0,E.atSize=0):(g=r(g),r.isWindow(g[0])?(T.atLocation=g.scrollLeft(),E.atLocation=g.scrollTop(),T.atSize=g.width(),E.atSize=g.height()):9===g[0].nodeType?(T.atLocation=0,E.atLocation=0,T.atSize=g.width(),E.atSize=g.height()):(n=g.offset(),T.atLocation=n.left,E.atLocation=n.top,T.atSize=g.outerWidth(),E.atSize=g.outerHeight())),y(T),y(E),o=function(){var e,t,n,o,a=r(window),l=a.width(),u=a.height(),c=a.scrollLeft(),d=a.scrollTop(),h=document.width>document.documentElement.clientWidth,p=document.height>document.documentElement.clientHeight,f=s.touch?document.documentElement.clientWidth/(p?l-i:l):1,m=s.touch?document.documentElement.clientHeight/(h?u-i:u):1;return void 0===i&&b(),e=l,t=u,k&&(n=r(k),o=n.offset(),c=o.left,d=o.top,e=n.width(),t=n.height()),{h:{min:c+T.boundaryOffset,max:c+e/f-T.mySize-T.boundaryOffset},v:{min:d+E.boundaryOffset,max:d+t/m-E.mySize-E.boundaryOffset}}}(),T.oversize=_(T,o.h),E.oversize=_(E,o.v),T.collisionSide=v("h",T,o.h),E.collisionSide=v("v",E,o.v),x[T.collision]&&x[T.collision](T,o.h),x[E.collision]&&x[E.collision](E,o.v),a=function(e){return t.precise?e:Math.round(e)},r.extend(!0,c,{h:{location:a(T.myLocation),oversize:a(T.oversize),fit:T.fit,flip:T.flip,collisionSide:T.collisionSide},v:{location:a(E.myLocation),oversize:a(E.oversize),fit:E.fit,flip:E.flip,collisionSide:E.collisionSide},precise:t.precise}),c},S=function(e,t){var n=r(e);if(!t)return n.offset();o.resetPosition(n);var i=n.offset(),a=t.h&&t.v?t:C(n,t),s=function(e){return t.precise?e:Math.round(e)};return o.move(n,{left:a.h.location-s(i.left),top:a.v.location-s(i.top)}),a};r.extend(S,{inverseAlign:g,normalizeAlign:h}),e.exports={calculateScrollbarWidth:b,calculate:C,setup:S}}),DevExpress.define("/utils/utils.proxyUrlFormatter",["jquery"],function(e){var t=window.location,n="dxproxy.devexpress.com:8000",i=t.host===n,r={},o=function(){var t=document.createElement("a"),n=["protocol","hostname","port","pathname","search","hash"],i=function(e){return"/"!==e.charAt(0)&&(e="/"+e),e};return function(r){t.href=r;var o={};return e.each(n,function(){o[this]=t[this]}),o.pathname=i(o.pathname),o}}(),a=function(){return t.pathname.split("/")[1]};return{parseUrl:o,isProxyUsed:function(){return i},formatProxyUrl:function(e){var t,i,s=o(e);return/^(localhost$|127\.)/i.test(s.hostname)?(t=n+"/"+a()+"_"+s.port,r[t]=s.hostname+":"+s.port,i="http://"+t+s.pathname+s.search):e},formatLocalUrl:function(e){var t,i;if(e.indexOf(n)<0)return e;t=e;for(i in r)if(r.hasOwnProperty(i)&&e.indexOf(i)>=0){t=e.replace(i,r[i]);break}return t}}}),DevExpress.define("/utils/utils.publicComponent",["jquery","/utils/utils.weakMap","/utils/utils.common"],function(e,t,n){var i="dxComponents",r="dxPrivateComponent",o=new t,a=0;return{attachInstanceToElement:function(t,n,r){t=e(t).get(0),e.data(t,n,r),e.data(t,i)||e.data(t,i,[]),e.data(t,i).push(n)},getInstanceByElement:function(t,n){return t=e(t).get(0),e.data(t,n)},getName:function(e){if(n.isDefined(e))return void o.set(this,e);if(!o.has(this)){var t=r+a++;return o.set(this,t),t}return o.get(this)}}}),DevExpress.define("/utils/utils.queue",["jquery","/errors"],function(e){function t(t){function n(){for(;o.length;){a=!0;var t=o.shift(),i=t();if(void 0!==i&&i.then)return void e.when(i).always(n)}a=!1}function i(e,i){t?(o[0]&&i&&i(o[0]),o=[e]):o.push(e),a||n()}function r(){return a}var o=[],a=!1;return{add:i,busy:r}}return{create:t,enqueue:t().add}}),DevExpress.define("/utils/utils.recurrence",["jquery","/errors","/utils/utils.date"],function(e,t,n){var i={secondly:"seconds",minutely:"minutes",hourly:"hours",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},r={bysecond:function(e,t){e.setSeconds(t)},byminute:function(e,t){e.setMinutes(t)},byhour:function(e,t){e.setHours(t)},bymonth:function(e,t){e.setMonth(t)},bymonthday:function(e,t){e.setDate(t)},byday:function(e,t){e.setDate(e.getDate()-e.getDay()+t)}},o={bysecond:"getSeconds",byminute:"getMinutes",byhour:"getHours",bymonth:"getMonth",bymonthday:"getDate",byday:"getDay"},a=["freq","interval","byday","bymonth","bymonthday","count","until","byhour","byminute","bysecond"],s=["DAILY","WEEKLY","MONTHLY","YEARLY","SECONDLY","MINUTELY","HOURLY"],l={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},u=function(e,t,n,i,r){var o=[];return e&&(o=p(e,t,n,i,r)),!!o.length},c=function(e,t){var n={},r=i[e.toLowerCase()];return n[r]=t,n},d=function(e){var t,n,i,r=[];if(!e)return r;for(t=e.split(","),n=0,i=t.length;i>n;n++)r[n]=T(t[n]);return r},h=function(e,t){for(var n=!1,i=0,r=t.length;r>i;i++)e.getTime()===t[i].getTime()&&(n=!0);return n},p=function(e,t,i,r,o){var a,s,l=[],u=m(e);if(!u.isValid)return[];if(a=u.rule,!a.freq)return l;a.interval=c(a.freq,a.interval),r=n.normalizeDate(r,i,a.until);var p=0,g=0,_=A(a),v=P(_,t),y=v[0],x=new Date(t),b=d(o);for(n.correctDateWithUnitBeginning(x,a.interval),s=f(t,x);r>=y&&a.count!==p;)M(y,_)&&(y>=i&&!h(y,b)&&(i=new Date(y),i.setMilliseconds(i.getMilliseconds()+1),l.push(new Date(y))),p++),g++,y=v[g%v.length],g/v.length>=1&&(g=0,x=n.addInterval(x,a.interval),v=P(_,n.addInterval(x,s)),y=v[0]);return l},f=function(e,t){return{years:e.getFullYear()-t.getFullYear(),months:e.getMonth()-t.getMonth(),days:e.getDate()-t.getDate(),hours:e.getHours()-t.getHours(),minutes:e.getMinutes()-t.getMinutes(),seconds:e.getSeconds()-t.getSeconds()}},m=function(e){var t={rule:{},isValid:!1};return e&&(t.rule=D(e),t.isValid=_(t.rule,e)),t},g=[],_=function(t,n){return S(t)||-1===e.inArray(t.freq,s)||y(t)||w(t)||C(t)||x(t)||b(t)||v(t)?(k(n),!1):!0},v=function(e){var t=!1,n=e.until;return void 0===n||n instanceof Date||(t=!0),t},y=function(e){var t=!1,n=e.count;return n&&"string"==typeof n&&(t=!0),t},x=function(e){var t=!1,n=e.bymonthday;return n&&isNaN(parseInt(n))&&(t=!0),t},b=function(e){var t=!1,n=e.bymonth;return n&&isNaN(parseInt(n))&&(t=!0),t},w=function(e){var t=!1,n=e.interval;return n&&"string"==typeof n&&(t=!0),t},C=function(t){var n=E(t),i=!1;return e.each(n,function(e,t){return l.hasOwnProperty(t)?void 0:(i=!0,!1)}),i},S=function(t){var n=!1;return e.each(t,function(t){return-1===e.inArray(t,a)?(n=!0,!1):void 0}),n},k=function(n){-1===e.inArray(n,g)&&(t.log("W0006",n),g.push(n))},D=function(e){for(var t,n,i={},r=e.split(";"),o=0,a=r.length;a>o;o++){var s=r[o].split("="),l=s[0].toLowerCase(),u=s[1];i[l]=u}return t=parseInt(i.count),isNaN(t)||(i.count=t),i.interval?(n=parseInt(i.interval),isNaN(n)||(i.interval=n)):i.interval=1,i.freq&&i.until&&(i.until=T(i.until)),i},T=function(e){if("string"!=typeof e)return e;var t=Globalize.parseDate(e,"yyyyMMddTHHmmssZ")||Globalize.parseDate(e,"yyyyMMddTHHmmss");return t||(t=Globalize.parseDate(e,"yyyyMMdd")),t},E=function(e){var t=[];return e.byday&&(t=e.byday.split(",")),t},I=function(e){return e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+("0"+e.getMinutes()).slice(-2)+("0"+e.getSeconds()).slice(-2)+"Z"},A=function(e){var t,n,i,o=[];for(t in r)e[t]&&(n=e[t].split(","),i=$(t,n),o=o.length?O(i,o):i);return o},$=function(e,t){for(var n,i=[],r=0,o=t.length;o>r;r++)n={},n[e]=B(e,t[r]),i.push(n);return i},B=function(e,t){var n=parseInt(t);return"bymonth"===e&&(n-=1),"byday"===e&&(n=l[t]),n},O=function(t,n){for(var i,r,o=[],a=0,s=t.length;s>a;a++)for(i=0,r=n.length;r>i;i++)o.push(e.extend({},t[a],n[i]));return o},P=function(e,t){for(var n,i,o=new Date(t),a=[],s=0,l=e.length;l>s;s++){n=e[s];for(i in n)r[i](o,n[i]);a.push(new Date(o))}return a.length||a.push(o),a},M=function(e,t){for(var n,i,r,a=!1,s=0;s<t.length;s++){n=t[s],i=!0;for(r in n)n[r]!==e[o[r]]()&&(i=!1);a=a||i}return a||!t.length},R=function(e){var t,n,i;if(e&&e.freq){t="";for(n in e)i=e[n],"interval"===n&&2>i||("until"===n&&(i=I(i)),t+=n+"="+i+";");return t=t.substring(0,t.length-1),t.toUpperCase()}};return{getRecurrenceString:R,getRecurrenceRule:m,getAsciiStringByDate:I,getDatesByRecurrence:p,dateInRecurrenceRange:u,getDateByAsciiString:T,daysFromByDayRule:E}}),DevExpress.define("/utils/utils.storage",[],function(){var e=function(){var e;try{e=window.sessionStorage}catch(t){}return e};return{sessionStorage:e}}),DevExpress.define("/utils/utils.string",["jquery","/utils/utils.common"],function(e,t){var n=function(){var e=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(t){return String(t).replace(e[0],"&amp;").replace(e[1],"&quot;").replace(e[2],"&#39;").replace(e[3],"&lt;").replace(e[4],"&gt;")}}(),i=function(e){var n=t.splitPair(e),i=parseInt(n&&n[0],10),r=parseInt(n&&n[1],10);return isFinite(i)||(i=0),isFinite(r)||(r=i),{h:i,v:r}},r=function(e){var n=t.splitQuad(e),i=parseInt(n&&n[0],10),r=parseInt(n&&n[1],10),o=parseInt(n&&n[2],10),a=parseInt(n&&n[3],10);return isFinite(i)||(i=0),isFinite(r)||(r=i),isFinite(o)||(o=i),isFinite(a)||(a=r),{top:r,right:o,bottom:a,left:i}},o=function(){for(var t,n,i,r=arguments[0],o=0;o<arguments.length-1;o++)n=new RegExp("\\{"+o+"\\}","gm"),i=arguments[o+1],"string"===e.type(i)&&i.indexOf("$")>=0&&(t="$".replace("$","$$").length,i=i.replace("$",1===t?"$$$$":"$$")),r=r.replace(n,i);return r},a=function(){var e=function(e){return(e+"").replace(/([\+\*\?\\\.\[\^\]\$\(\)\{\}\><\|\=\!\:])/g,"\\$1")};return function(t,n,i){return t.replace(new RegExp("("+e(n)+")","gi"),i)}}(),s=function(){var e=/\s/g;return function(t){return!t||!t.replace(e,"")}}();return{encodeHtml:n,pairToObject:i,quadToObject:r,format:o,replaceAll:a,isEmpty:s}}),DevExpress.define("/utils/utils.support",["jquery","/utils/utils.inflector","/devices"],function(e,t,n){var i=t.camelize,r=["","Webkit","Moz","O","Ms"],o={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},a=document.createElement("dx").style,s={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MsTransitionEnd",transition:"transitionend"},l=function(e,t){var n,o,a;for(e=i(e,!0),o=0,a=r.length;a>o;o++){var s=r[o],l=s+e,u=i(l);if(n=t(u,s),void 0===n&&(n=t(l,s)),void 0!==n)break}return n},u=function(e){return l(e,function(e){return e in a?e:void 0})},c=function(e){return l(e,function(e,t){return e in a?o[t]:void 0})},d=function(e){return!!u(e)},h=function(){var t=n.real(),i=t.platform,r=t.version,o=r&&r[0]<4&&"android"===i;return!o&&e.inArray(i,["ios","android","win"])>-1||t.mac},p=function(e){if("text"===e)return!0;var t=document.createElement("input");try{return t.setAttribute("type",e),t.value="wrongValue",!t.value}catch(n){return!1}},f="ontouchstart"in window&&!("callPhantom"in window),m=!!window.navigator.pointerEnabled||!!window.navigator.msPointerEnabled,g=!!window.navigator.maxTouchPoints||!!window.navigator.msMaxTouchPoints;return{touchEvents:f,pointerEvents:m,touch:f||m&&g,transform:d("transform"),transition:d("transition"),transitionEndEventName:s[u("transition")],animation:d("animation"),nativeScrolling:h(),winJS:"WinJS"in window,styleProp:u,stylePropPrefix:c,supportProp:d,hasKo:!!window.ko,hasNg:!!window.angular,inputType:p}}),DevExpress.define("/utils/utils.topOverlay",["jquery"],function(e){var t=function(){var t=[];return{add:function(n){var i=e.inArray(n,t);-1===i&&t.push(n)},remove:function(n){var i=e.inArray(n,t);-1!==i&&t.splice(i,1)},fire:function(){var e=t.pop(),n=!!e;return n&&e(),n},hasCallback:function(){return t.length>0}}}();return{hide:function(){return t.fire()},hideCallback:t}}),DevExpress.define("/utils/utils.translator",["jquery","/utils/utils.support"],function(e,t){var n="dxTranslator",i=/matrix(3d)?\((.+?)\)/,r=/translate(?:3d)?\((.+?)\)/,o=function(e){var n=t.transform?u(e):l(e);return{left:n.x,top:n.y}},a=function(e,n){if(!t.transform)return void e.css(n);var i=u(e),r=n.left,o=n.top;void 0!==r&&(i.x=r||0),void 0!==o&&(i.y=o||0),e.css({transform:f(i)}),(s(r)||s(o))&&d(e)},s=function(t){return"string"===e.type(t)&&"%"===t[t.length-1]},l=function(e){var t,n;try{var i=e.css("top"),r=e.css("left"),o=e.position();e.css({transform:"none",top:0,left:0}),d(e),n=e.position(),t={x:o.left-n.left||parseInt(r)||0,y:o.top-n.top||parseInt(i)||0},e.css({top:i,left:r})}catch(a){t={x:0,y:0}}return t},u=function(t){var r=t.length?e.data(t.get(0),n):null;if(!r){var o=t.css("transform")||f({x:0,y:0}),a=o.match(i),s=a&&a[1];a?(a=a[2].split(","),"3d"===s?a=a.slice(12,15):(a.push(0),a=a.slice(4,7))):a=[0,0,0],r={x:parseFloat(a[0]),y:parseFloat(a[1]),z:parseFloat(a[2])},c(t,r)}return r},c=function(t,i){t.length&&e.data(t.get(0),n,i)},d=function(t){t.length&&e.removeData(t.get(0),n);
},h=function(e){e.css({left:0,top:0,transform:"none"}),d(e)},p=function(e){var t=e.match(r);return t&&t[1]?(t=t[1].split(","),t={x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])}):void 0},f=function(e){e.x=e.x||0,e.y=e.y||0;var t=s(e.x)?e.x:e.x+"px",n=s(e.y)?e.y:e.y+"px";return"translate("+t+", "+n+")"};return{move:a,locate:o,clearCache:d,parseTranslate:p,getTranslate:u,getTranslateCss:f,resetPosition:h}}),DevExpress.define("/utils/utils.version",["jquery"],function(){var e=function(e,t,n){function i(e){return"string"==typeof e?e.split("."):"number"==typeof e?[e]:e}var r,o,a,s;for(e=i(e),t=i(t),r=Math.max(e.length,t.length),isFinite(n)&&(r=Math.min(r,n)),o=0;r>o;o++){if(a=parseInt(e[o]||0,10),s=parseInt(t[o]||0,10),s>a)return-1;if(a>s)return 1}return 0};return{compare:e}}),DevExpress.define("/utils/utils.viewPort",["jquery"],function(e){var t=e.Callbacks(),n=function(){var i;return function(r){if(!arguments.length)return i;var o=e(r),a=!!o.length,s=n();i=a?o:e("body"),t.fire(a?n():e(),s)}}();return e(function(){n(".dx-viewport")}),{value:n,changeCallback:t}}),DevExpress.define("/utils/utils.weakMap",["jquery"],function(e){var t=window.WeakMap;return t||(t=function(){var t=[],n=[];this.set=function(i,r){var o=e.inArray(i,t);-1===o?(t.push(i),n.push(r)):n[o]=r},this.get=function(i){var r=e.inArray(i,t);return-1===r?void 0:n[r]},this.has=function(n){var i=e.inArray(n,t);return-1===i?!1:!0}}),t}),DevExpress.define("/utils/utils.window",["jquery"],function(e){var t=function(){var t,n=e.Callbacks(),i=e(window),r=!1,o=n.add,a=n.remove,s=function(){return[i.width(),i.height()].join()},l=function(){var e=s();e!==t&&(t=e,setTimeout(n.fire))};return t=s(),n.add=function(){var e=o.apply(n,arguments);return!r&&n.has()&&(i.on("resize",l),r=!0),e},n.remove=function(){var e=a.apply(n,arguments);return!n.has()&&r&&(i.off("resize",l),r=!1),e},n}();return{resizeCallbacks:t}}),DevExpress.define("/utils/utilsNamespace",["/coreNamespace"],function(e){return e.utils=e.utils||{}}),DevExpress.define("/utils/utils",["/utils/utilsNamespace","/utils/utils.animationFrame","/utils/utils.object","/utils/utils.dom","/utils/utils.date","/utils/utils.common"],function(e,t,n,i,r,o){return e.requestAnimationFrame=t.request,e.cancelAnimationFrame=t.cancel,e.initMobileViewport=i.initMobileViewport,e.extendFromObject=n.extendFromObject,e.createComponents=i.createComponents,e.triggerShownEvent=i.triggerShownEvent,e.triggerHiddingEvent=i.triggerHiddingEvent,e.makeDate=r.makeDate,e.resetActiveElement=i.resetActiveElement,e.findBestMatches=o.findBestMatches,e}),function(e,t){var n,i=t.require("/utils/utils.inflector").humanize;Globalize._findClosestNeutralCulture=function(e){var t=(e||this.cultureSelector||"").substring(0,2),n=this.findClosestCulture(t);return n||{messages:{}}},Globalize.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this._findClosestNeutralCulture(t).messages[e]||this.cultures["default"].messages[e]},n=function(){var t={};return{setup:function(e){this.localizeString=function(n){var r=new RegExp("(^|[^a-zA-Z_0-9"+e+"-]+)("+e+"{1,2})([a-zA-Z_0-9-]+)","g"),o=e+e;return n.replace(r,function(n,r,a,s){var l=r+e+s;return a!==o&&(Globalize.cultures["default"].messages[s]?l=r+Globalize.localize(s):t[s]=i(s)),l})}},localizeNode:function(t){var n=this;e(t).each(function(t,i){i.nodeType&&(3===i.nodeType?i.nodeValue=n.localizeString(i.nodeValue):e(i).is("iframe")||(e.each(i.attributes||[],function(e,t){if("string"==typeof t.value){var i=n.localizeString(t.value);t.value!==i&&(t.value=i)}}),e(i).contents().each(function(e,t){n.localizeNode(t)})))})},getDictionary:function(n){return n?t:e.extend({},t,Globalize.cultures["default"].messages)}}}(),n.setup("@"),t.localization=n}(jQuery,DevExpress),Globalize.addCultureInfo("default",{messages:{Yes:"Yes",No:"No",Cancel:"Cancel",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid"}}),Globalize.addCultureInfo("default",{messages:{"dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select file","dxFileUploader-dropFile":"or Drop file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadFailedMessage":"Upload failed","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-onText":"ON","dxSwitch-offText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required"}}),Globalize.addCultureInfo("default",{messages:{"dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-editingConfirmDeleteTitle":"","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export to","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceEvery":"Every","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code"}}),DevExpress.define("/coreNamespace",["/version","/actionExecutors"],function(e){var t=window.DevExpress=window.DevExpress||{};return t.VERSION=e,t.rtlEnabled=!1,t}),DevExpress.define("/componentRegistrator",["jquery","/errors","/coreNamespace","/utils/utils.memorizedCallbacks","/utils/utils.publicComponent"],function(e,t,n,i){var r,o=new i,a=function(e,t,i){i||(i=t,t=n),t[e]=i,i.publicName(e),o.fire(e,i)};return a.callbacks=o,r=function(n,i){e.fn[n]=function(r){var o,a,s,l="string"==typeof r;return l?(a=r,s=e.makeArray(arguments).slice(1),this.each(function(){var e,r,l=i.getInstance(this);if(!l)throw t.Error("E0009",n);e=l[a],r=e.apply(l,s),void 0===o&&(o=r)})):(this.each(function(){var e=i.getInstance(this);e?e.option(r):new i(this,r)}),o=this),o}},o.add(r),a}),DevExpress.define("/component",["jquery","/class","/eventsMixin","/action","/errors","/utils/utils.inflector","/utils/utils.common","/utils/utils.publicComponent","/devices"],function(e,t,n,i,r,o,a,s,l){var u=DevExpress.data.utils,c={},d={},h=t.inherit({_setDeprecatedOptions:function(){this._deprecatedOptions={}},_getDeprecatedOptions:function(){return this._deprecatedOptions},_setOptionAliases:function(){var t=this._optionAliases={};e.each(this._getDeprecatedOptions(),function(e,n){var i=n.alias;i&&(t[e]=i)})},_getOptionAliases:function(){return this._optionAliases},_getOptionAliasesByName:function(t){return e.map(this._getOptionAliases(),function(e,n){return t===n?e:void 0})},_getOptionDeprecatesByName:function(t){return e.map(this._getOptionAliases(),function(e,n){return t===e?n:void 0})},_getDefaultOptions:function(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}},_setDefaultOptions:function(){e.extend(this._options,this._getDefaultOptions())},_defaultOptionsRules:function(){return[]},_setOptionsByDevice:function(t){var n=this._defaultOptionsRules();this._customRules&&(n=n.concat(this._customRules)),e.isArray(t)&&(n=n.concat(t)),this.option(this._convertRulesToOptions(n))},_convertRulesToOptions:function(t){var n={},i=l.current(),r=function(t,n){return n=e.makeArray(n),1===n.length&&e.isEmptyObject(n[0])||a.findBestMatches(t,n).length>0};return e.each(t,function(t,o){var a,s=o.device||{};a=e.isFunction(s)?s(i):r(i,s),a&&e.extend(n,o.options)}),n},_isInitialOptionValue:function(e){var t=this._customRules&&this._convertRulesToOptions(this._customRules).hasOwnProperty(e),n=this.option(e)===this._initialOptions[e];return!t&&n},_setOptionsByReference:function(){this._optionsByReference={}},_getOptionsByReference:function(){return this._optionsByReference},ctor:function(t){this.NAME=this.constructor.publicName(),t=t||{},this._options={},this._updateLockCount=0,this._optionChangedCallbacks=t._optionChangedCallbacks||e.Callbacks(),this._disposingCallbacks=t._disposingCallbacks||e.Callbacks(),this.beginUpdate();try{this._suppressDeprecatedWarnings(),this._setOptionsByReference(),this._setDeprecatedOptions(),this._setOptionAliases(),this._setDefaultOptions(),this._setOptionsByDevice(t.defaultOptionsRules),this._resumeDeprecatedWarnings(),this._initialOptions=e.extend({},this.option()),this._initOptions(t)}finally{this.endUpdate()}},_initOptions:function(e){this.option(e)},_optionValuesEqual:function(e,t,n){if(t=u.toComparable(t,!0),n=u.toComparable(n,!0),t&&n&&t.jquery&&n.jquery)return n.is(t);var i=t!==t,r=n!==n;return i&&r?!0:null===t||"object"!=typeof t?t===n:!1},_init:function(){this._createOptionChangedAction(),this.on("disposing",function(e){this._disposingCallbacks.fireWith(this,[e])})},_createOptionChangedAction:function(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly","designMode"]})},_createDisposingAction:function(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly","designMode"]})},_optionChanged:function(e){switch(e.name){case"onOptionChanged":this._createOptionChangedAction()}},_dispose:function(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._disposeEvents(),this._disposed=!0},instance:function(){return this},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){if(this._updateLockCount=Math.max(this._updateLockCount-1,0),!this._updateLockCount&&!this._initializing&&!this._initialized){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._updateLockCount++,this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly","designMode"]})(),this._updateLockCount--,this._initialized=!0}}},_logWarningIfDeprecated:function(){},_suppressDeprecatedWarnings:function(){},_resumeDeprecatedWarnings:function(){},_optionChanging:e.noop,_notifyOptionChanged:function(t,n,i){var r,o=this;this._initialized&&(r=o._getOptionAliasesByName(t).concat(o._getOptionDeprecatesByName(t)).concat([t]),e.each(r,function(t,r){var a={name:r.split(/[.\[]/)[0],fullName:r,value:n,previousValue:i};o._optionChangedCallbacks.fireWith(o,[e.extend(o._defaultActionArgs(),a)]),o._optionChangedAction(e.extend({},a)),o._disposed||o._optionChanged(a)}))},initialOption:function(e){var t=this._initialOptions;return t[e]},_defaultActionConfig:function(){return{context:this,component:this}},_defaultActionArgs:function(){return{component:this}},_createAction:function(t,n){var r,o=this;return function(a){return arguments.length||(a={}),e.isPlainObject(a)||(a={actionValue:a}),r=r||new i(t,e.extend(n,o._defaultActionConfig())),r.execute.call(r,e.extend(a,o._defaultActionArgs()))}},_createActionByOptionCore:function(t,n){var i,a;if(n=n||{},"string"!=typeof t)throw r.Error("E0008");if(i=/^on(\w+)/.exec(t)){var s=o.camelize(i[1]),l=n.beforeExecute||e.noop,u=this;n.beforeExecute=function(e){return u.fireEvent(s,e.args),l.apply(this,arguments)}}return this._suppressDeprecatedWarnings(),a=this._createAction(this.option(t),n),this._resumeDeprecatedWarnings(),a},_createActionByOption:function(t,n){var i,r=this,o=function(){return i=i||r._createActionByOptionCore(t,n),i.apply(r,arguments)},a=this.option("onActionCreated")||e.noop;return o=a(this,o,n)||o},option:function(t){var n=this,i=t,r=arguments[1],o=this._getOptionAliases(),a=function(e){if(e){n._logWarningIfDeprecated(e);var t=o[e];t&&(e=t)}return e},s=function(e,t){if(e){var n=a(e);n&&n!==e&&p(n,t)}},l=function(e){var t=e.split(".");return t.pop(),t.join(".")},h=function(e){var t=e.split(".");return t.pop()},p=function(e,n){var i,r="";do r&&(r="."+r),r=h(e)+r,e=l(e),i=e?f(t,e,!1):t;while(!i);i[r]=n},f=function(e,t,n){return c[t]||(c[t]=u.compileGetter(t)),c[t](e,{functionsAsIs:!0,unwrapObservables:n})},m=function(e,t,i){d[t]||(d[t]=u.compileSetter(t)),d[t](e,i,{functionsAsIs:!0,merge:!n._getOptionsByReference()[t],unwrapObservables:!1})},g=function(t,n){e.isPlainObject(n)&&e.each(n,function(e,n){g(t+"."+e,n)}),s(t,n)},_=function(e,t){var i=f(n._options,e,!1);n._optionValuesEqual(e,i,t)||(n._initialized&&n._optionChanging(e,i,t),m(n._options,e,t),n._notifyOptionChanged(e,t,i))};if(arguments.length<2&&"object"!==e.type(i))return i=a(i),f(n._options,i);"string"==typeof i&&(t={},t[i]=r),n.beginUpdate();try{e.each(t,g),e.each(t,_)}finally{n.endUpdate()}}}).include(n);return h.publicName=s.getName,h}),DevExpress.define("/domComponent",["jquery","/component","/errors","/utils/utils.window","/utils/utils.common","/utils/utils.publicComponent","/ui/events/ui.events.remove"],function(e,t,n,i,r,o,a){var s=t["abstract"],l=i.resizeCallbacks,u="dx-rtl",c="dx-visibility-change-handler",d="VisibilityChange",h=t.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{width:void 0,height:void 0,rtlEnabled:DevExpress.rtlEnabled,disabled:!1})},ctor:function(t,n){this._$element=e(t),o.attachInstanceToElement(this._$element,this.constructor.publicName(),this),this.element().one(a.name,e.proxy(function(){this._dispose()},this)),this.callBase(n)},_visibilityChanged:s,_dimensionChanged:s,_init:function(){this.callBase(),this._attachWindowResizeCallback()},_attachWindowResizeCallback:function(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=e.proxy(this._dimensionChanged,this);l.add(t)}},_isDimensionChangeSupported:function(){return this._dimensionChanged!==s},_render:function(){this._toggleRTLDirection(this.option("rtlEnabled")),this._renderVisibilityChange(),this._renderDimensions()},_renderVisibilityChange:function(){this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()&&(this.element().addClass(c),this._attachVisiblityChangeHandlers())},_renderDimensions:function(){var e=this.option("width"),t=this.option("height"),n=this.element();n.outerWidth(e),n.outerHeight(t)},_attachDimensionChangeHandlers:function(){var e=this,t="dxresize."+this.NAME+d;e.element().off(t).on(t,function(){e._dimensionChanged()})},_attachVisiblityChangeHandlers:function(){var e=this,t="dxhiding."+this.NAME+d,n="dxshown."+this.NAME+d;e._isHidden=!e._isVisible(),e.element().off(t).on(t,function(){e._checkVisibilityChanged("hiding")}).off(n).on(n,function(){e._checkVisibilityChanged("shown")})},_isVisible:function(){return this.element().is(":visible")},_checkVisibilityChanged:function(e){"hiding"===e&&this._isVisible()&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):"shown"===e&&this._isVisible()&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0))},_isVisibilityChangeSupported:function(){return this._visibilityChanged!==s},_clean:e.noop,_modelByElement:function(){var t=this.option("modelByElement")||e.noop;return t(this.element())},_invalidate:function(){this._requireRefresh=!0},_refresh:function(){this._clean(),this._render()},_dispose:function(){this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback:function(){this._isDimensionChangeSupported()&&l.remove(this._windowResizeCallBack)},_toggleRTLDirection:function(e){this.element().toggleClass(u,e)},_createComponent:function(t,n,i){var o,a,s,l,u,c=this;return i=i||{},o=e.grep(["rtlEnabled","disabled"],function(e){return!(e in i)}),a=c.option("nestedComponentOptions")||e.noop,c._extendConfig(i,e.extend({rtlEnabled:this.option("rtlEnabled"),disabled:this.option("disabled")},a(this))),r.isString(n)?(l=e(t)[n](i),s=l[n]("instance")):(s=n.getInstance(t),s?s.option(i):s=new n(t,i)),s&&(u=function(t){e.inArray(t.name,o)>=0&&s.option(t.name,t.value)},c.on("optionChanged",u),s.on("disposing",function(){c.off("optionChanged",u)})),s},_extendConfig:function(t,n){e.each(n,function(e,n){t[e]=t.hasOwnProperty(e)?t[e]:n})},_defaultActionConfig:function(){return e.extend(this.callBase(),{context:this._modelByElement(this.element())})},_defaultActionArgs:function(){var t=this.element(),n=this._modelByElement(this.element());return e.extend(this.callBase(),{element:t,model:n})},_optionChanged:function(e){switch(e.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"disabled":break;default:this.callBase(e)}},endUpdate:function(){var e=!this._initializing&&!this._initialized;this.callBase.apply(this,arguments),this._updateLockCount||(e?this._render():this._requireRefresh&&(this._requireRefresh=!1,this._refresh()))},element:function(){return this._$element}});return h.getInstance=function(e){return o.getInstanceByElement(e,this.publicName())},h.defaultOptions=function(e){this.prototype._customRules=this.prototype._customRules||[],this.prototype._customRules.push(e)},h}),DevExpress.define("/version",[],function(){return"15.2.10"}),DevExpress.define("/errors",["/utils/utils.error"],function(e){return e({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'"})}),DevExpress.define("/eventsMixin",["jquery","/errors"],function(e){return{ctor:function(){this._events={}},fireEvent:function(e,t){var n=this._events[e];return n&&n.fireWith(this,t),this},on:function(t,n){if(e.isPlainObject(t))e.each(t,e.proxy(function(e,t){this.on(e,t)},this));else{var i,r=this._events[t];r||(r=e.Callbacks(),this._events[t]=r),i=r.originalAdd||r.add,i.call(r,n)}return this},off:function(t,n){var i=this._events[t];return i&&(e.isFunction(n)?i.remove(n):i.empty()),this},_disposeEvents:function(){e.each(this._events,function(){this.empty()})}}}),DevExpress.define("/class",["jquery","/errors"],function(e,t){var n=function(e,t,n){return function(){var i=this.callBase;this.callBase=e[t];try{return n.apply(this,arguments)}finally{this.callBase=i}}},i=function(e){var t=function(){};return t.prototype=e.prototype,new t},r=function(t){var i,r=this;return t?(i=e.map(t,function(e,t){return t}),e.each(["toString","toLocaleString","valueOf"],function(){t[this]&&i.push(this)}),e.each(i,function(){var i=e.isFunction(r.prototype[this])&&e.isFunction(t[this]);r.prototype[this]=i?n(r.parent.prototype,this,t[this]):t[this]}),r):r},o=function(){var n=this;return e.each(arguments,function(){this.ctor&&n._includedCtors.push(this.ctor),this.postCtor&&n._includedPostCtors.push(this.postCtor);for(var e in this)if("ctor"!==e&&"postCtor"!==e){if(e in n.prototype)throw t.Error("E0002",e);n.prototype[e]=this[e]}}),n},a=function(e){return this.parent===e?!0:this.parent&&this.parent.subclassOf?this.parent.subclassOf(e):!1},s=function(){throw t.Error("E0001")},l=function(){var t=Object.prototype.hasOwnProperty;return function(n,i){e.each(n,function(e){t.call(n,e)&&(i[e]=n[e])})}}(),u=function(){};return u.inherit=function(n){var u=function(){if(!this||this===window||"function"!=typeof this.constructor)throw t.Error("E0003");var n=this,i=n.ctor;e.each(n.constructor._includedCtors,function(){this.call(n)}),i&&i.apply(n,arguments),e.each(n.constructor._includedPostCtors,function(){this.call(n)})};return u.prototype=i(this),l(this,u),u.inherit=this.inherit,u["abstract"]=s,u.redefine=r,u.include=o,u.subclassOf=a,u.parent=this,u._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],u._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],u.prototype.constructor=u,u.redefine(n),u},u["abstract"]=s,u}),DevExpress.define("/devices",["jquery","/class","/eventsMixin","/errors","/utils/utils.storage","/utils/utils.viewPort","/utils/utils.window"],function(e,t,n,i,r,o,a){var s={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",win8:"MSAppHost",win8Phone:"Windows Phone 8.0",msSurface:"MSIE ARM Tablet PC",desktop:"desktop",win10Phone:"Windows Phone 10.0",win10:"MSAppHost/3.0"},l={deviceType:"",platform:"",version:[],phone:!1,tablet:!1,android:!1,ios:!1,win:!1,generic:!1,grade:"A",mac:!1};e.extend(l,{platform:"generic",deviceType:"desktop",generic:!0});var u={win:function(e){var t,n,i=/windows phone/i.test(e)||e.match(/WPDesktop/),r=!i&&/arm(.*)trident/i.test(e),o=!i&&!r&&/msapphost/i.test(e);return i||r||o?(t=e.match(/windows phone (\d+).(\d+)/i)||e.match(/windows nt (\d+).(\d+)/i),n=[],t?n.push(parseInt(t[1],10),parseInt(t[2],10)):(t=e.match(/msapphost(\/(\d+).(\d+))?/i),t&&n.push(3===parseInt(t[2],10)?10:8)),{deviceType:i?"phone":r?"tablet":"desktop",platform:"win",version:n,grade:"A"}):void 0},ios:function(e){if(/ip(hone|od|ad)/i.test(e)){var t=/ip(hone|od)/i.test(e),n=e.match(/os (\d+)_(\d+)_?(\d+)?/i),i=n?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||0,10)]:[],r=480===window.screen.height,o=r?"B":"A";return{deviceType:t?"phone":"tablet",platform:"ios",version:i,grade:o}}},android:function(e){if(/android|htc_|silk/i.test(e)){var t=/mobile/i.test(e),n=e.match(/android (\d+)\.(\d+)\.?(\d+)?/i),i=n?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||0,10)]:[],r=i.length>1&&(i[0]<4||4===i[0]&&i[1]<4),o=r?"B":"A";return{deviceType:t?"phone":"tablet",platform:"android",version:i,grade:o}}}},c=t.inherit({ctor:function(t){this._window=t&&t.window||window,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this.changed=e.Callbacks(),this._recalculateOrientation(),a.resizeCallbacks.add(e.proxy(this._recalculateOrientation,this))},current:function(e){if(!e){if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch(t){e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire()},real:function(){return e.extend({},this._realDevice)},orientation:function(){return this._currentOrientation},isForced:function(){return this._forced},isRippleEmulator:function(){return!!this._window.tinyHippos},_getCssClasses:function(e){var t=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(t.push("dx-device-"+e.deviceType),"desktop"!==e.deviceType&&t.push("dx-device-mobile")),t.push("dx-device-"+n.platform),n.version&&n.version.length&&t.push("dx-device-"+n.platform+"-"+n.version[0]),d.isSimulator()&&t.push("dx-simulator"),DevExpress.rtlEnabled&&t.push("dx-rtl"),t},attachCssClasses:function(t,n){this._deviceClasses=this._getCssClasses(n).join(" "),e(t).addClass(this._deviceClasses)},detachCssClasses:function(t){e(t).removeClass(this._deviceClasses)},isSimulator:function(){try{return this._isSimulator||this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch(e){return!1}},forceSimulator:function(){this._isSimulator=!0},_getDevice:function(t){if("genericPhone"===t&&(t={deviceType:"phone",platform:"generic",generic:!0}),e.isPlainObject(t))return this._fromConfig(t);var n;if(t){if(n=s[t],!n)throw i.Error("E0005")}else n=navigator.userAgent;return this._fromUA(n)},_getDeviceOrNameFromWindowScope:function(){var e;return(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e},_getDeviceNameFromSessionStorage:function(){var t,n=r.sessionStorage();if(n){t=n.getItem("dx-force-device");try{return e.parseJSON(t)}catch(i){return t}}},_fromConfig:function(t){
var n=e.extend({},l,this._currentDevice,t),i={phone:"phone"===n.deviceType,tablet:"tablet"===n.deviceType,android:"android"===n.platform,ios:"ios"===n.platform,win:"win"===n.platform,generic:"generic"===n.platform};return e.extend(n,i)},_fromUA:function(t){var n,i,r;return e.each(u,function(e,i){return n=i(t),!n}),n?this._fromConfig(n):(i=/(mac os)/.test(t.toLowerCase()),r=l,r.mac=i,r)},_changeOrientation:function(){var t=e(this._window),n=t.height()>t.width()?"portrait":"landscape";this._currentOrientation!==n&&(this._currentOrientation=n,this.fireEvent("orientationChanged",[{orientation:n}]))},_recalculateOrientation:function(){var t=e(this._window).width();this._currentWidth!==t&&(this._currentWidth=t,this._changeOrientation())}}).include(n),d=new c;return o.changeCallback.add(function(e,t){d.detachCssClasses(t),d.attachCssClasses(e)}),d.isForced()||"win"!==d.current().platform||d.current({version:[10]}),d}),DevExpress.define("/action",["jquery","/class"],function(e,t){var n=t.inherit({ctor:function(t,n){n=n||{},this._action=t,this._context=n.context||window,this._beforeExecute=n.beforeExecute,this._afterExecute=n.afterExecute,this._component=n.component,this._validatingTargetName=n.validatingTargetName;var i=this._excludeValidators={};e.each(n.excludeValidators||[],function(e,t){i[t]=!0})},execute:function(){var e,t,n={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},i=this._beforeExecute,r=this._afterExecute;return this._validateAction(n)?(i&&i.call(this._context,n),n.cancel?void 0:(e=this._executeAction(n),t=n.args[0],t&&t.cancel?void 0:(r&&r.call(this._context,n),e))):void 0},_validateAction:function(e){var t,i,r=this._excludeValidators,o=n.executors;for(t in o)if(!r[t]&&(i=o[t],i.validate&&i.validate(e),e.cancel))return!1;return!0},_executeAction:function(e){var t,i,r,o=n.executors;for(i in o)if(r=o[i],r.execute&&r.execute(e),e.handled){t=e.result;break}return t}});return n.executors={},n.registerExecutor=function(t,i){return e.isPlainObject(t)?void e.each(t,n.registerExecutor):void(n.executors[t]=i)},n.unregisterExecutor=function(){var t=e.makeArray(arguments);e.each(t,function(){delete n.executors[this]})},n}),DevExpress.define("/actionExecutors",["jquery","/action"],function(e,t){t.registerExecutor({undefined:{execute:function(e){e.action||(e.result=void 0,e.handled=!0)}},func:{execute:function(t){e.isFunction(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}},url:{execute:function(e){"string"==typeof e.action&&"#"!==e.action.charAt(0)&&(document.location=e.action)}},hash:{execute:function(e){"string"==typeof e.action&&"#"===e.action.charAt(0)&&("#_back"===e.action?window.history.back():document.location.hash=e.action)}}})}),DevExpress.define("/animator",["jquery","/class","/utils/utils.animationFrame"],function(e,t,n){var i=t["abstract"];return t.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=e.proxy(this._stepCore,this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,n.cancel(this._stepAnimationFrame)},_stepCore:function(){return this._isStopped()?void this._stop():this._isFinished()?(this._finished=!0,void this._complete()):(this._step(),void(this._stepAnimationFrame=n.request(this._proxiedStepCore)))},_step:i,_isFinished:e.noop,_stop:e.noop,_complete:e.noop,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}})}),DevExpress.define("/endpointSelector",["jquery","/errors","/utils/utils.proxyUrlFormatter"],function(e,t,n){function i(e){return/^(localhost$|127\.)/i.test(e)}var r=window.location,o="ms-appx:"===r.protocol,a=i(r.hostname),s=function(e){this.config=e};return s.prototype={urlFor:function(e){var i=this.config[e];if(!i)throw t.Error("E0006");return n.isProxyUsed()?n.formatProxyUrl(i.local):i.production&&(o&&!Debug.debuggerEnabled||!o&&!a)?i.production:i.local}},s}),DevExpress.define("/color",[],function(){function e(e){this.baseColor=e;var i;e&&(i=String(e).toLowerCase().replace(/ /g,""),i=f[i]?"#"+f[i]:i,i=t(i)),i||(this.colorIsInvalid=!0),i=i||{},this.r=n(i[0]),this.g=n(i[1]),this.b=n(i[2]),this.a=n(i[3],1,1),this.hsv=i[4]?{h:i[4][0],s:i[4][1],v:i[4][2]}:r(this.r,this.g,this.b),this.hsl=i[5]?{h:i[5][0],s:i[5][1],l:i[5][2]}:s(this.r,this.g,this.b)}function t(e){if("transparent"===e)return[0,0,0,0];for(var t,n=0,i=m.length;i>n;++n)if(t=m[n].re.exec(e))return m[n].process(t);return null}function n(e,t,n){return t=t||0,n=n||255,0>e||isNaN(e)?t:e>n?n:e}function i(e,t,n){return"#"+(16777216|e<<16|t<<8|n).toString(16).slice(1)}function r(e,t,n){var i,r,o,a=Math.max(e,t,n),s=Math.min(e,t,n),l=a-s;if(o=a,r=0===a?0:1-s/a,a===s)i=0;else switch(a){case e:i=60*((t-n)/l),n>t&&(i+=360);break;case t:i=60*((n-e)/l)+120;break;case n:i=60*((e-t)/l)+240}return r*=100,o*=100/255,{h:Math.round(i),s:Math.round(r),v:Math.round(o)}}function o(e,t,n){var i,r,o,a,s,l,u,c;switch(a=Math.floor(e%360/60),o=(100-t)*n/100,s=(n-o)*(e%60/60),r=o+s,i=n-s,a){case 0:l=n,u=r,c=o;break;case 1:l=i,u=n,c=o;break;case 2:l=o,u=n,c=r;break;case 3:l=o,u=i,c=n;break;case 4:l=r,u=o,c=n;break;case 5:l=n,u=o,c=i}return[Math.round(2.55*l),Math.round(2.55*u),Math.round(2.55*c)]}function a(e,t,n,i){var r=Math.max(e,t,n);switch(r){case e:return(t-n)/i+(n>t?6:0);case t:return(n-e)/i+2;case n:return(e-t)/i+4}}function s(e,t,n){var i;e=h(e,255),t=h(t,255),n=h(n,255);var r,o,s=Math.max(e,t,n),l=Math.min(e,t,n),u=s+l,c=u/2;return s===l?r=o=0:(i=s-l,o=c>.5?i/(2-u):i/u,r=a(e,t,n,i),r/=6),{h:g(360*r),s:g(100*o),l:g(100*c)}}function l(e,t){var n=t;return"r"===e&&(n=t+1/3),"b"===e&&(n=t-1/3),n}function u(e){return 0>e&&(e+=1),e>1&&(e-=1),e}function c(e,t,n){return n=u(n),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e}function d(e,t,n){var i,r,o,a,s;return e=h(e,360),t=h(t,100),n=h(n,100),0===t?i=r=o=n:(a=.5>n?n*(1+t):n+t-n*t,s=2*n-a,i=c(s,a,l("r",e)),r=c(s,a,l("g",e)),o=c(s,a,l("b",e))),[g(255*i),g(255*r),g(255*o)]}function h(e,t){return e=Math.min(t,Math.max(0,parseFloat(e))),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function p(e,t,n){return t=t||0,n=n||255,e%1!=0||t>e||e>n||"number"!=typeof e||isNaN(e)?!1:!0}var f={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},m=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10),r=o(t,n,i);return[r[0],r[1],r[2],1,[t,n,i]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10),r=d(t,n,i);return[r[0],r[1],r[2],1,null,[t,n,i]]}}],g=Math.round;return e.prototype={constructor:e,highlight:function(e){return e=e||10,this.alter(e).toHex()},darken:function(e){return e=e||10,this.alter(-e).toHex()},alter:function(t){var i=new e;return i.r=n(this.r+t),i.g=n(this.g+t),i.b=n(this.b+t),i},blend:function(t,i){var r=t instanceof e?t:new e(t),o=new e;return o.r=n(g(this.r*(1-i)+r.r*i)),o.g=n(g(this.g*(1-i)+r.g*i)),o.b=n(g(this.b*(1-i)+r.b*i)),o},toHex:function(){return i(this.r,this.g,this.b)},getPureColor:function(){var t=o(this.hsv.h,100,100);return new e("rgb("+t.join(",")+")")},isValidHex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isValidRGB:function(e,t,n){return p(e)&&p(t)&&p(n)?!0:!1},isValidAlpha:function(e){return isNaN(e)||0>e||e>1||"number"!=typeof e?!1:!0},colorIsInvalid:!1},e}),DevExpress.define("/data/data.errors",["/utils/utils.error","/errors"],function(e,t){return e(t.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with the a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown key type is detected: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed"})}),function(e,t,n){function i(e){return/^(or|\|\||\|)$/i.test(e)}function r(e){return/^(and|\&\&|\&)$/i.test(e)}var o=DevExpress.require("/class"),a=DevExpress.require("/data/data.errors"),s=t.require("/utils/utils.object"),l=t.require("/utils/utils.knockout"),u=l.unwrapObservable,c=l.isObservable,d=function(e){return e.replace(/\[/g,".").replace(/\]/g,"")},h=function(e,t){return"this"===t?e:e[t]},p=function(e,t,n,i){if("this"===t)throw new a.Error("E4016");var r=e[t];i.unwrapObservables&&c(r)?r(n):e[t]=n},f=function(e){return e=e||{},e.unwrapObservables=e.unwrapObservables!==n?e.unwrapObservables:!0,e},m=function(e,t){return t.unwrapObservables?u(e):e},g=function(t){if(arguments.length>1&&(t=e.makeArray(arguments)),!t||"this"===t)return function(e){return e};if("string"==typeof t){t=d(t);var n=t.split(".");return function(t,i){var r,o,a,s;for(i=f(i),r=i.functionsAsIs,o=m(t,i),a=0;a<n.length&&o;a++)s=m(o[n[a]],i),!r&&e.isFunction(s)&&(s=s.call(o)),o=s;return o}}return e.isArray(t)?_(t):e.isFunction(t)?t:void 0},_=function(t){for(var i,r={},o=0,a=t.length;a>o;o++)i=t[o],r[i]=g(i);return function(t,i){var o;return e.each(r,function(e){var r,a,s,l,u=this(t,i);if(u!==n){for(r=o||(o={}),a=e.split("."),s=a.length-1,l=0;s>l;l++)r=r[a[l]]={};r[a[l]]=u}}),o}},v=function(t){t=t||"this",t=d(t);var i=t.lastIndexOf("."),r=g(t.substr(0,i)),o=t.substr(1+i);return function(t,i,a){a=f(a);var l=r(t,{functionsAsIs:a.functionsAsIs,unwrapObservables:a.unwrapObservables}),u=h(l,o);a.functionsAsIs||!e.isFunction(u)||c(u)?(u=m(u,a),!a.merge||!e.isPlainObject(i)||u!==n&&!e.isPlainObject(u)||i instanceof e.Event?p(l,o,i,a):(u||p(l,o,{},a),s.deepExtendArraySafe(m(h(l,o),a),i))):l[o](i)}},y=function(e){return[e[0],e.length<3?"=":String(e[1]).toLowerCase(),e.length<2?!0:e[e.length-1]]},x=function(t){return e.isArray(t)||(t=[t]),e.map(t,function(t){return{selector:e.isFunction(t)||"string"==typeof t?t:t.getter||t.field||t.selector,desc:!(!t.desc&&"d"!==String(t.dir).charAt(0).toLowerCase())}})},b=o.inherit({ctor:function(e){e&&(e=String(e)),this._value=this._normalize(e||this._generate())},_normalize:function(e){for(e=e.replace(/[^a-f0-9]/gi,"").toLowerCase();e.length<32;)e+="0";return[e.substr(0,8),e.substr(8,4),e.substr(12,4),e.substr(16,4),e.substr(20,12)].join("-")},_generate:function(){for(var e="",t=0;32>t;t++)e+=Math.round(15*Math.random()).toString(16);return e},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),w=function(e,t){if(e instanceof Date)return e.getTime();if(e instanceof o&&e.valueOf){var i=e.valueOf();if(i!==n)return i}return t||"string"!=typeof e?e:e.toLowerCase()},C=function(t,n,i){var r,o,a;if(e.isArray(t)){for(r=e.map(n,function(e,t){return t}),a=0;a<r.length;a++)if(o=r[a],w(n[o],!0)!=w(i[o],!0))return!1;return!0}return w(n,!0)==w(i,!0)},S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=function(t){function n(e){return S.charAt(e)}var i,r;for(e.isArray(t)||(t=D(String(t))),i="",r=0;r<t.length;r+=3){var o=t[r],a=t[r+1],s=t[r+2];i+=e.map([o>>2,(3&o)<<4|a>>4,isNaN(a)?64:(15&a)<<2|s>>6,isNaN(s)?64:63&s],n).join("")}return i},D=function(e){for(var t,n=[],i=0;i<e.length;i++)t=e.charCodeAt(i),128>t?n.push(t):2048>t?n.push(192+(t>>6),128+(63&t)):65536>t?n.push(224+(t>>12),128+(t>>6&63),128+(63&t)):2097152>t&&n.push(240+(t>>18),128+(t>>12&63),128+(t>>6&63),128+(63&t));return n},T=function(){var e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},t=function(t){var n=e[t];return n?n:t};return function(e,n){return e.status<400?t(n):e.statusText}}(),E={count:{seed:0,step:function(e){return 1+e}},sum:{seed:0,step:function(e,t){return e+t}},min:{step:function(e,t){return e>t?t:e}},max:{step:function(e,t){return t>e?t:e}},avg:{seed:[0,0],step:function(e,t){return[e[0]+t,e[1]+1]},finalize:function(e){return e[1]?e[0]/e[1]:NaN}}},I=function(){var t,n=0,i=function(){0===n&&(t=e.Deferred()),n++},r=function(){n--,1>n&&t.resolve()},o=function(){var i=0===n?e.Deferred().resolve():t;return i.promise()},a=function(){n=0,t&&t.resolve()};return{obtain:i,release:r,promise:o,reset:a}}(),A=t.data={utils:{compileGetter:g,compileSetter:v,normalizeBinaryCriterion:y,normalizeSortingInfo:x,toComparable:w,keysEqual:C,errorMessageFromXhr:T,aggregators:E,isDisjunctiveOperator:i,isConjunctiveOperator:r,processRequestResultLock:I},Guid:b,base64_encode:k,queryImpl:{},queryAdapters:{},query:function(){var t=e.isArray(arguments[0])?"array":"remote";return A.queryImpl[t].apply(this,arguments)},errorHandler:null,_errorHandler:function(e){A.errorHandler&&A.errorHandler(e)}}}(jQuery,DevExpress),function(e,t,n){function i(e,t,n,r){var o=0;if(t>e)for(;o<n.items.length;o++)i(e+1,t,n.items[o],r);e===t&&r(n)}function r(e,t){var n,i;if("map"in e)return e.map(t);i=new Array(e.length);for(n in e)i[n]=t(e[n],n);return i}function o(e){return e!==e||""===e||null===e||e===n}function a(e){return e===d.aggregators.count}function s(e){var t=d.compileGetter(e.selector),n="skipEmptyValues"in e?e.skipEmptyValues:!0,i=e.aggregator;if("string"==typeof i&&(i=d.aggregators[i],!i))throw u.Error("E4001",e.aggregator);return{selector:t,aggregator:i,skipEmptyValues:n}}var l=DevExpress.require("/class"),u=DevExpress.require("/data/data.errors"),c=t.data,d=c.utils;c.AggregateCalculator=l.inherit({ctor:function(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=r(e.totalAggregates||[],s),this._groupAggregates=r(e.groupAggregates||[],s),this._totals=[]},calculate:function(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates:function(){return this._totals},_aggregate:function(e,t,n){for(var i,r=0;r<e.length;r++)if(a(e[r].aggregator))n[r]=(n[r]||0)+t.items.length;else for(i=0;i<t.items.length;i++)this._accumulate(r,e[r],n,t.items[i])},_calculateTotals:function(e,t){var n;if(0===e&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,t,this._totals);else for(n=0;n<t.items.length;n++)this._calculateTotals(e+1,t.items[n]);0===e&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups:function(t){function n(e){e.aggregates=a(),o===r?s(e,e.aggregates):i(o,r,e,function(t){s(t,e.aggregates)}),e.aggregates=l(e.aggregates)}for(var r=this._groupLevel,o=r+1,a=e.proxy(this._seed,this,this._groupAggregates),s=e.proxy(this._aggregate,this,this._groupAggregates),l=e.proxy(this._finalize,this,this._groupAggregates);--o>0;)i(0,o,t,n)},_seed:function(t){return r(t,function(t){var n=t.aggregator;return"seed"in n?e.isFunction(n.seed)?n.seed():n.seed:NaN})},_accumulate:function(e,t,n,i){var r=t.selector(i),a=t.aggregator,s=t.skipEmptyValues;s&&o(r)||(n[e]=n[e]!==n[e]?r:a.step(n[e],r))},_finalize:function(e,t){return r(e,function(e,n){var i=e.aggregator.finalize;return i?i(t[n]):t[n]})}})}(jQuery,DevExpress),function(e,t,n){var i=DevExpress.require("/class"),r=DevExpress.require("/data/data.errors"),o=t.require("/utils/utils.common"),a=t.data,s=a.queryImpl,l=a.utils.compileGetter,u=a.utils.toComparable,c=i.inherit({toArray:function(){var e=[];for(this.reset();this.next();)e.push(this.current());return e},countable:function(){return!1}}),d=c.inherit({ctor:function(e){this.array=e,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),h=c.inherit({ctor:function(e){this.iter=e},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),p=h.inherit({ctor:function(e,t){this.callBase(e),this.index=-1,this.mapper=t},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var e=this.callBase();return e&&this.index++,e}}),f=c.inherit({ctor:function(e,t,n){e instanceof p||(e=new p(e,this._wrap)),this.iter=e,this.rules=[{getter:t,desc:n}]},thenBy:function(e,t){var n=new f(this.sortedIter||this.iter,e,t);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(e.each(t.rules,function(){this.getter=l(this.getter)}),t.sortedIter=new p(new d(this.iter.toArray().sort(function(e,n){return t._compare(e,n)})),t._unwrap))},_wrap:function(e,t){return{index:t,value:e}},_unwrap:function(e){return e.value},_compare:function(e,t){var i,r,o=e.index,a=t.index;if(e=e.value,t=t.value,e===t)return o-a;for(i=0,r=this.rules.length;r>i;i++){var s=this.rules[i],l=u(s.getter(e)),c=u(s.getter(t)),d=s.desc?-1:1;if(null===l&&null!==c)return-d;if(null!==l&&null===c||l===n&&c!==n)return d;if(l!==n&&c===n||c>l)return-d;if(l>c)return d}return o-a}}),m=function(){function t(e,t,i){return function(r){r=u(e(r));var o=n(t)?r===t:r==t;return i&&(o=!o),o}}function n(e){return""===e||0===e||e===!1}var i=function(t){var n,i,o=0,s=[],l=[];return e.each(t,function(){if(e.isArray(this)||e.isFunction(this)){if(s.length>1&&n!==i)throw new r.Error("E4019");l.push(m(this)),s.push("op["+o+"](d)"),o++,n=i,i="&&"}else i=a.utils.isConjunctiveOperator(this)?"&&":"||"}),new Function("op","return function(d) { return "+s.join(" "+n+" ")+" }")(l)},s=function(e){return o.isDefined(e)?e.toString():""},c=function(e){e=a.utils.normalizeBinaryCriterion(e);var n=l(e[0]),i=e[1],o=e[2];switch(o=u(o),i.toLowerCase()){case"=":return t(n,o);case"<>":return t(n,o,!0);case">":return function(e){return u(n(e))>o};case"<":return function(e){return u(n(e))<o};case">=":return function(e){return u(n(e))>=o};case"<=":return function(e){return u(n(e))<=o};case"startswith":return function(e){return 0===u(s(n(e))).indexOf(o)};case"endswith":return function(e){var t=u(s(n(e))),i=s(o);return t.length<i.length?!1:t.lastIndexOf(o)===t.length-o.length};case"contains":return function(e){return u(s(n(e))).indexOf(o)>-1};case"notcontains":return function(e){return-1===u(s(n(e))).indexOf(o)}}throw r.Error("E4003",i)};return function(t){return e.isFunction(t)?t:e.isArray(t[0])?i(t):c(t)}}(),g=h.inherit({ctor:function(e,t){this.callBase(e),this.criteria=m(t)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),_=c.inherit({ctor:function(e,t){this.iter=e,this.getter=t},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){var t,n;if(!this.groupedIter){var i={},r=[],o=this.iter,a=l(this.getter);for(o.reset();o.next();)t=o.current(),n=a(t),n in i?i[n].push(t):(i[n]=[t],r.push(n));this.groupedIter=new d(e.map(r,function(e){return{key:e,items:i[e]}}))}}}),v=h.inherit({ctor:function(e,t){this.callBase(e),this.getter=l(t)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),y=h.inherit({ctor:function(e,t,n){this.callBase(e),this.skip=Math.max(0,t),this.take=Math.max(0,n),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}});s.array=function(t,i){i=i||{},t instanceof c||(t=new d(t));var o=function(e){var t=i.errorHandler;t&&t(e),a._errorHandler(e)},u=function(n){var i,r,a=e.Deferred().fail(o),s=n.step,l=n.finalize;try{for((t.reset(),i="seed"in n?n.seed:t.next()?t.current():NaN,r=i);t.next();)r=s(r,t.current());a.resolve(l?l(r):r)}catch(u){a.reject(u)}return a.promise()},h=function(e,t,n){return u(arguments.length<2?{step:arguments[0]}:{seed:e,step:t,finalize:n})},p=function(e){return u(a.utils.aggregators[e])},m=function(n){return e.isFunction(n)||e.isArray(n)||(n=e.makeArray(arguments)),b(new v(t,n))},x=function(e){return m(l(e))},b=function(e){return s.array(e,i)};return{toArray:function(){return t.toArray()},enumerate:function(){var n=e.Deferred().fail(o);try{n.resolve(t.toArray())}catch(i){n.reject(i)}return n.promise()},sortBy:function(e,n){return b(new f(t,e,n))},thenBy:function(e,n){if(t instanceof f)return b(t.thenBy(e,n));throw r.Error("E4004")},filter:function(n){return e.isArray(n)||(n=e.makeArray(arguments)),b(new g(t,n))},slice:function(e,i){return i===n&&(i=Number.MAX_VALUE),b(new y(t,e,i))},select:m,groupBy:function(e){return b(new _(t,e))},aggregate:h,count:function(){if(t.countable()){var n=e.Deferred().fail(o);try{n.resolve(t.count())}catch(i){n.reject(i)}return n.promise()}return p("count")},sum:function(e){return e?x(e).sum():p("sum")},min:function(e){return e?x(e).min():p("min")},max:function(e){return e?x(e).max():p("max")},avg:function(e){return e?x(e).avg():p("avg")}}}}(jQuery,DevExpress),function(e,t){var n=t.data,i=n.queryImpl,r=DevExpress.require("/data/data.errors");i.remote=function(t,o,a){a=a||[],o=o||{};var s=function(e,t){return{name:e,args:t}},l=function(l){function u(e){switch(e.name){case"sortBy":return m=[e.args],!0;case"thenBy":if(!m)throw r.Error("E4004");return m.push(e.args),!0}return!1}function c(){var t=p[0],n=[];t&&"multiSort"===t.name&&(p.shift(),e.each(t.args[0],function(){n.push(s(n.length?"thenBy":"sortBy",this))})),p=n.concat(p)}var d,h,p,f,m,g=e.Deferred(),_=function(e){var t=o.errorHandler;t&&t(e),n._errorHandler(e),g.reject(e)};try{for(d=o.adapter||"odata",e.isFunction(d)||(d=n.queryAdapters[d]),h=d(o),p=[].concat(a).concat(l);p.length;){if(f=p[0],!u(f)){if(m){p.unshift(s("multiSort",[m])),m=null;continue}if("enumerate"!==String(f.name)&&(!h[f.name]||h[f.name].apply(h,f.args)===!1))break}p.shift()}c(),h.exec(t).done(function(t,n){if(p.length){var r=i.array(t,{errorHandler:o.errorHandler});e.each(p,function(){r=r[this.name].apply(r,this.args)}),r.done(g.resolve).fail(g.reject)}else g.resolve(t,n)}).fail(_)}catch(v){_(v)}return g.promise()},u={};return e.each(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var e=String(this);u[e]=function(){return i.remote(t,o,a.concat(s(e,arguments)))}}),e.each(["count","min","max","sum","avg","aggregate","enumerate"],function(){var e=String(this);u[e]=function(){return l.call(this,s(e,arguments))}}),u}}(jQuery,DevExpress),function(e,t,n){function i(e,t,n){var i=[],r=function(e){return 10>e?"0".concat(e):String(e)},o=function(){return e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()<1};return i.push(e.getFullYear()),i.push("-"),i.push(r(e.getMonth()+1)),i.push("-"),i.push(r(e.getDate())),t&&o()||(i.push("T"),i.push(r(e.getHours())),i.push(":"),i.push(r(e.getMinutes())),i.push(":"),i.push(r(e.getSeconds())),e.getMilliseconds()&&(i.push("."),i.push(e.getMilliseconds())),n||i.push("Z")),i.join("")}function r(t){var n=new Date(6e4*new Date(0).getTimezoneOffset()),i=t.replace("Z","").split("T"),r=/(\d{4})-(\d{2})-(\d{2})/.exec(i[0]),o=/(\d{2}):(\d{2}):(\d{2})\.?(\d{0,7})?/.exec(i[1]);return n.setFullYear(Number(r[1])),n.setMonth(Number(r[2])-1),n.setDate(Number(r[3])),e.isArray(o)&&o.length&&(n.setHours(Number(o[1])),n.setMinutes(Number(o[2])),n.setSeconds(Number(o[3])),n.setMilliseconds(Number(String(o[4]).substr(0,3))||0)),n}function o(e){return/^(?:[a-z]+:)?\/\//i.test(e)}function a(e,t){function n(e){var t=e.indexOf("?");return t>-1?e.substr(0,t):e}var i,r=n(e).split("/"),o=t.split("/");for(r.pop();o.length;)i=o.shift(),".."===i?r.pop():r.push(i);return r.join("/")}var s=DevExpress.require("/class"),l=DevExpress.require("/data/data.errors"),u=t.data,c=u.Guid,d=t.require("/utils/utils.common"),h=d.isDefined,p=2,f=/^(\{{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}\}{0,1})$/,m=/^\/Date\((-?\d+)((\+|-)?(\d+)?)\)\/$/,g=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[-+]{1}\d{2}(:?)(\d{2})?)?$/,_="application/json;odata=verbose",v=function(t,n,r){function o(e){return JSON.stringify(e,function(e,n){if(!(this[e]instanceof Date))return n;switch(n=i(this[e]),t){case 2:return n.substr(0,n.length-1);case 3:case 4:return n;default:throw l.Error("E4002")}})}var a;n=e.extend({async:!0,method:"get",url:"",params:{},payload:null,headers:{},timeout:3e4},n),r=r||{},a=r.beforeSend,a&&a(n);var s=(n.method||"get").toLowerCase(),u="get"===s,c=u&&r.jsonp,d=e.extend({},n.params),h=u?d:o(n.payload),p=!u&&e.param(d),f=n.url,m=!u&&_;return p&&(f+=(f.indexOf("?")>-1?"&":"?")+p),c&&(h.$format="json"),{url:f,data:h,dataType:c?"jsonp":"json",jsonp:c&&"$callback",type:s,async:n.async,timeout:n.timeout,headers:n.headers,contentType:m,accepts:{json:[_,"text/plain"].join()},xhrFields:{withCredentials:r.withCredentials}}},y=function(t,n,i,r){var s=e.Deferred(),u=v(t,n,i);return e.ajax(u).always(function(e,n){var c,d=w(e,n,r),h=d.error,p=d.data,f=d.nextUrl;h?s.reject(h):i.countOnly?isFinite(d.count)?s.resolve(d.count):s.reject(new l.Error("E4018")):f?(o(f)||(f=a(u.url,f)),y(t,{url:f},i,r).fail(s.reject).done(function(e){s.resolve(p.concat(e))})):(isFinite(d.count)&&(c={totalCount:d.count}),s.resolve(p,c))}),s.promise()},x=function(e){var t,n=e;for(("message"in e&&(t=e.message.value?e.message.value:e.message));(n=n.innererror||n.internalexception)&&(t=n.message,!n.internalexception||-1!==t.indexOf("inner exception")););return t},b=function(t,n){var i;if("nocontent"===n)return null;var r=200,o="Unknown error",a=t;if("success"!==n){r=t.status,o=u.utils.errorMessageFromXhr(t,n);try{a=e.parseJSON(t.responseText)}catch(s){}}return(i=a&&(a.error||a["odata.error"]||a["@odata.error"]))?(o=x(i)||o,200===r&&(r=500),i.code&&(r=Number(i.code)),e.extend(Error(o),{httpStatus:r,errorDetails:i})):200!==r?e.extend(Error(o),{httpStatus:r}):void 0},w=function(t,n,i){var r,o=b(t,n);return o?{error:o}:e.isPlainObject(t)?(r="d"in t&&(d.isArray(t.d)||d.isObject(t.d))?C(t,n):S(t,n),D(r,i),r):{data:t}},C=function(e){var t=e.d;return h(t)?(t=t,h(t.results)&&(t=t.results),{data:t,nextUrl:e.d.__next,count:parseInt(e.d.__count,10)}):{error:Error("Malformed or unsupported JSON response received")}},S=function(e){var t=e;return h(t.value)&&(t=t.value),{data:t,nextUrl:e["@odata.nextLink"],count:parseInt(e["@odata.count"],10)}},k=s.inherit({ctor:function(e){this._value=e},valueOf:function(){return this._value}}),D=function(t,n){e.each(t,function(e,i){if(null!==i&&"object"==typeof i)"results"in i&&(t[e]=i.results),D(t[e],n);else if("string"==typeof i&&(f.test(i)&&(t[e]=new c(i)),n!==!1))if(i.match(m)){var o=new Date(Number(RegExp.$1)+6e4*RegExp.$2);t[e]=new Date(o.valueOf()+6e4*o.getTimezoneOffset())}else g.test(i)&&(t[e]=new Date(r(t[e]).valueOf()))})},T=function(e){return"datetime'"+i(e,!0,!0)+"'"},E=function(e){return"'"+e.replace(/'/g,"''")+"'"},I=function(e){return e instanceof k?e.valueOf():e.replace(/\./g,"/")},A=function(e){return e instanceof Date?i(e,!1,!1):e instanceof c?e.valueOf():$(e)},$=function(e){return e instanceof Date?T(e):e instanceof c?"guid'"+e+"'":e instanceof k?e.valueOf():"string"==typeof e?E(e):String(e)},B=function(e,t){switch(t){case 2:case 3:return $(e);case 4:return A(e);default:throw l.Error("E4002")}},O=function(t,n){if(e.isPlainObject(t)){var i=[];return e.each(t,function(e,t){i.push(I(e)+"="+B(t,n))}),i.join()}return B(t,n)},P={String:function(e){return e+""},Int32:function(e){return Math.floor(e)},Int64:function(e){
return e instanceof k?e:new k(e+"L")},Guid:function(e){return e instanceof c?e:new c(e)},Boolean:function(e){return!!e},Single:function(e){return e instanceof k?e:new k(e+"f")},Decimal:function(e){return e instanceof k?e:new k(e+"m")}},M=function(){var t=function(e){return function(t,n){return t+" "+e+" "+n}},n=function(e,t){return function(n,i){var r=[e,"("];return t?r.push(i,",",n):r.push(n,",",i),r.push(")"),r.join("")}},i={"=":t("eq"),"<>":t("ne"),">":t("gt"),">=":t("ge"),"<":t("lt"),"<=":t("le"),startswith:n("startswith"),endswith:n("endswith")},r=e.extend({},i,{contains:n("substringof",!0),notcontains:n("not substringof",!0)}),o=e.extend({},i,{contains:n("contains"),notcontains:n("not contains")}),a=function(e,t){e=u.utils.normalizeBinaryCriterion(e);var n=e[1],i=4===t?o:r,a=i[n.toLowerCase()];if(!a)throw l.Error("E4003",n);return a(I(e[0]),B(e[2],t))},s=function(t,n){var i,r,o=[];return e.each(t,function(t,a){if(e.isArray(a)){if(o.length>1&&i!==r)throw new l.Error("E4019");o.push("("+c(a,n)+")"),i=r,r="and"}else r=u.utils.isConjunctiveOperator(this)?"and":"or"}),o.join(" "+i+" ")},c=function(t,n){return e.isArray(t[0])?s(t,n):a(t,n)};return function(e,t){return c(e,t)}}(),R=function(t){var i,r,o,a,s=[],l=[],u=t.expand,c=t.version||p,d=function(){return r||o!==n},h=function(t){for(var n=0;n<t.length;n++)if(e.isFunction(t[n])||e.isArray(t[n])&&h(t[n]))return!0;return!1},f=function(){var t=function(e){return/\./.test(e)},r=function(){return i?4>c?I(i.join()):e.grep(i,t,!0).join():void 0},o=function(){var n=function(){var t={};return u&&e.each(e.makeArray(u),function(){t[I(this)]=1}),i&&e.each(e.makeArray(i),function(){var e=this.split(".");e.length<2||(e.pop(),t[I(e.join("."))]=1)}),e.map(t,function(e,t){return t}).join()},r=function(){var n=function(t){var n=function(t){var i="",r=[],o=[];return e.each(t,function(t,i){e.isArray(i)&&[].push.apply(r,i),e.isPlainObject(i)&&o.push(t+n(i))}),(r.length||o.length)&&(i+="(",r.length&&(i+="$select="+e.map(r,I).join()),o.length&&(r.length&&(i+=";"),i+="$expand="+e.map(o,I).join()),i+=")"),i},i=[];return e.each(t,function(e,t){i.push(e+n(t))}),i.join()},r=function(t,n,i){var r=function(e,t,n){var i=n(t,e.shift(),e);i!==!1&&r(e,i,n)};e.each(t,function(e,t){r(t.split("."),n,i)})},o={};return u||i?(u&&r(e.makeArray(u),o,function(e,t,n){return e[t]=e[t]||{},n.length?e[t]:!1}),i&&r(e.grep(e.makeArray(i),t),o,function(e,t,n){return n.length?e[t]=e[t]||{}:(e[t]=e[t]||[],e[t].push(t),!1)}),n(o)):void 0};return 4>c?n():r()};return{$select:r()||n,$expand:o()||n}},m=function(){var e,i={};return a||(s.length&&(i.$orderby=s.join(",")),r&&(i.$skip=r),o!==n&&(i.$top=o),e=f(),i.$select=e.$select,i.$expand=e.$expand),l.length&&(i.$filter=M(l.length<2?l[0]:l,c)),a&&(i.$top=0),(t.requireTotalCount||a)&&(4!==c?i.$inlinecount="allpages":i.$count="true"),i};return{exec:function(n){return y(c,{url:n,params:e.extend(m(),t&&t.params)},{beforeSend:t.beforeSend,jsonp:t.jsonp,withCredentials:t.withCredentials,countOnly:a},t.deserializeDates)},multiSort:function(e){var t,n,i,r,o;if(d())return!1;for(n=0;n<e.length;n++){if(i=e[n][0],r=!!e[n][1],"string"!=typeof i)return!1;o=I(i),r&&(o+=" desc"),t=t||[],t.push(o)}s=t},slice:function(e,t){return d()?!1:(r=e,void(o=t))},filter:function(t){return d()||(e.isArray(t)||(t=e.makeArray(arguments)),h(t))?!1:(l.length&&l.push("and"),void l.push(t))},select:function(t){return i||e.isFunction(t)?!1:(e.isArray(t)||(t=e.makeArray(arguments)),void(i=t))},count:function(){a=!0}}};e.extend(!0,u,{EdmLiteral:k,utils:{odata:{sendRequest:y,serializePropName:I,serializeValue:B,serializeKey:O,keyConverters:P}},queryAdapters:{odata:R}})}(jQuery,DevExpress),function(e,t){function n(t,i){return t=t.groupBy(i[0].selector),i.length>1&&(t=t.select(function(t){return e.extend({},t,{items:n(l.query(t.items),i.slice(1)).toArray()})})),t}function i(t,n){var i=[];return e.each(t,function(t,r){var o=e.grep(n,function(e){return r.selector===e.selector});o.length<1&&i.push(r)}),i.concat(n)}var r=DevExpress.require("/class"),o=t.require("/eventsMixin"),a=r["abstract"],s=DevExpress.require("/data/data.errors"),l=t.data,u=l.utils.normalizeSortingInfo;l.utils.multiLevelGroup=n,l.utils.arrangeSortingInfo=i,l.Store=r.inherit({ctor:function(t){var n=this;t=t||{},e.each(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onRemoved","onRemoving","onModified","onModifying"],function(e,i){i in t&&n.on(i.slice(2).toLowerCase(),t[i])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(e){return this._keyGetter||(this._keyGetter=l.utils.compileGetter(this.key())),this._keyGetter(e)},_requireKey:function(){if(!this.key())throw s.Error("E4005")},load:function(e){var t=this;return e=e||{},this.fireEvent("loading",[e]),this._withLock(this._loadImpl(e)).done(function(n){t.fireEvent("loaded",[n,e])})},_loadImpl:function(t){var r=t.filter,o=t.sort,a=t.select,s=t.group,l=t.skip,c=t.take,d=this.createQuery(t);return r&&(d=d.filter(r)),s&&(s=u(s)),(o||s)&&(o=u(o||[]),s&&(o=i(s,o)),e.each(o,function(e){d=d[e?"thenBy":"sortBy"](this.selector,this.desc)})),a&&(d=d.select(a)),s&&(d=n(d,s)),(c||l)&&(d=d.slice(l||0,c)),d.enumerate()},_withLock:function(n){var i=e.Deferred();return n.done(function(){var e=this,n=arguments;t.data.utils.processRequestResultLock.promise().done(function(){i.resolveWith(e,n)})}).fail(function(){i.rejectWith(this,arguments)}),i},createQuery:a,totalCount:function(e){return this._totalCountImpl(e)},_totalCountImpl:function(e){e=e||{};var t=this.createQuery(),i=e.group,r=e.filter;return r&&(t=t.filter(r)),i&&(i=u(i),t=n(t,i)),t.count()},byKey:function(e,t){return this._addFailHandlers(this._withLock(this._byKeyImpl(e,t)))},_byKeyImpl:a,insert:function(e){var t=this;return t.fireEvent("modifying"),t.fireEvent("inserting",[e]),t._addFailHandlers(t._insertImpl(e).done(function(e,n){t.fireEvent("inserted",[e,n]),t.fireEvent("modified")}))},_insertImpl:a,update:function(e,t){var n=this;return n.fireEvent("modifying"),n.fireEvent("updating",[e,t]),n._addFailHandlers(n._updateImpl(e,t).done(function(e,t){n.fireEvent("updated",[e,t]),n.fireEvent("modified")}))},_updateImpl:a,remove:function(e){var t=this;return t.fireEvent("modifying"),t.fireEvent("removing",[e]),t._addFailHandlers(t._removeImpl(e).done(function(e){t.fireEvent("removed",[e]),t.fireEvent("modified")}))},_removeImpl:a,_addFailHandlers:function(e){return e.fail(this._errorHandler,l._errorHandler)}}).include(o)}(jQuery,DevExpress),function(e,t,n){var i=t.data,r=i.Guid,o=DevExpress.require("/data/data.errors"),a=t.require("/utils/utils.object"),s=function(t,n){for(var i,r=e.makeArray(n);r.length;)if(i=r.shift(),i in t)return!0;return!1},l=function(){var t=e.Deferred();return t.resolve.apply(t,arguments).promise()},u=function(){var t=e.Deferred();return t.reject.apply(t,arguments).promise()};i.ArrayStore=i.Store.inherit({ctor:function(t){t=e.isArray(t)?{data:t}:t||{},this.callBase(t);var n=t.data;if(n&&!e.isArray(n))throw o.Error("E4006");this._array=n||[]},createQuery:function(){return i.query(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(e){var t=this._indexByKey(e);return-1===t?u(o.Error("E4009")):l(this._array[t])},_insertImpl:function(t){var i,a,s=this.key();if(a=e.isPlainObject(t)?e.extend({},t):t,s){if(i=this.keyOf(a),i===n||"object"==typeof i&&e.isEmptyObject(i)){if(e.isArray(s))throw o.Error("E4007");i=a[s]=String(new r)}else if(this._array[this._indexByKey(i)]!==n)return u(o.Error("E4008"))}else i=a;return this._array.push(a),l(t,i)},_updateImpl:function(e,t){var n,r,c=this.key();if(c){if(s(t,c)&&!i.utils.keysEqual(c,e,this.keyOf(t)))return u(o.Error("E4017"));if(n=this._indexByKey(e),0>n)return u(o.Error("E4009"));r=this._array[n]}else r=e;return a.deepExtendArraySafe(r,t),l(e,t)},_removeImpl:function(e){var t=this._indexByKey(e);return t>-1&&this._array.splice(t,1),l(e)},_indexByKey:function(e){for(var t=0,n=this._array.length;n>t;t++)if(i.utils.keysEqual(this.key(),this.keyOf(this._array[t]),e))return t;return-1},clear:function(){this.fireEvent("modifying"),this._array=[],this.fireEvent("modified")}})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=n["abstract"],r=DevExpress.require("/data/data.errors"),o=t.data,a=n.inherit({ctor:function(t,n){var i,r,o;this._store=t,this._dirty=!1,i=this._immediate=n.immediate,r=Math.max(100,n.flushInterval||1e4),i||(o=e.proxy(this.save,this),setInterval(o,r),e(window).on("beforeunload",o),window.cordova&&document.addEventListener("pause",o,!1))},notifyChanged:function(){this._dirty=!0,this._immediate&&this.save()},load:function(){this._store._array=this._loadImpl(),this._dirty=!1},save:function(){this._dirty&&(this._saveImpl(this._store._array),this._dirty=!1)},_loadImpl:i,_saveImpl:i}),s=a.inherit({ctor:function(e,t){this.callBase(e,t);var n=t.name;if(!n)throw r.Error("E4013");this._key="dx-data-localStore-"+n},_loadImpl:function(){var e=localStorage.getItem(this._key);return e?JSON.parse(e):[]},_saveImpl:function(e){e.length?localStorage.setItem(this._key,JSON.stringify(e)):localStorage.removeItem(this._key)}}),l={dom:s};o.LocalStore=o.ArrayStore.inherit({ctor:function(e){e="string"==typeof e?{name:e}:e||{},this.callBase(e),this._backend=new l[e.backend||"dom"](this,e),this._backend.load()},clear:function(){this.callBase(),this._backend.notifyChanged()},_insertImpl:function(t){var n=this._backend;return this.callBase(t).done(e.proxy(n.notifyChanged,n))},_updateImpl:function(t,n){var i=this._backend;return this.callBase(t,n).done(e.proxy(i.notifyChanged,i))},_removeImpl:function(t){var n=this._backend;return this.callBase(t).done(e.proxy(n.notifyChanged,n))}})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=DevExpress.require("/data/data.errors"),r=t.require("/utils/utils.proxyUrlFormatter"),o=t.require("/utils/utils.string"),a=t.require("/utils/utils.common"),s=t.data,l=s.utils.odata,u=2,c=function(t,n){return o.format("{0}({1})",t,e.map(n||{},function(e,t){return o.format("{0}={1}",t,e)}).join(","))},d=function(t,n){if(!t)return t;var i={};return e.each(t,function(e,t){i[e]=l.serializeValue(t,n)}),i},h=function(e,t){var n=l.keyConverters[e];if(!n)throw i.Error("E4014",e);return n(t)},p={_extractServiceOptions:function(e){e=e||{},this._url=String(e.url).replace(/\/+$/,""),this._beforeSend=e.beforeSend,this._jsonp=e.jsonp,this._version=e.version||u,this._withCredentials=e.withCredentials},_sendRequest:function(e,t,n,i){return l.sendRequest(this.version(),{url:e,method:t,params:n||{},payload:i},{beforeSend:this._beforeSend,jsonp:this._jsonp,withCredentials:this._withCredentials},this._deserializeDates)},version:function(){return this._version}},f=s.Store.inherit({ctor:function(e){this.callBase(e),this._extractServiceOptions(e),this._keyType=e.keyType,this._deserializeDates=e.deserializeDates,this._updateMethod=2===this.version()?"MERGE":"PATCH"},_customLoadOptions:function(){return["expand","customQueryParams"]},_byKeyImpl:function(t,n){var i={};return n&&n.expand&&(i.$expand=e.map(e.makeArray(n.expand),l.serializePropName).join()),this._sendRequest(this._byKeyUrl(t),"GET",i)},createQuery:function(e){var t,n,i;return e=e||{},n={beforeSend:this._beforeSend,errorHandler:this._errorHandler,jsonp:this._jsonp,version:this._version,withCredentials:this._withCredentials,deserializeDates:this._deserializeDates,expand:e.expand,requireTotalCount:e.requireTotalCount},t=a.isDefined(e.urlOverride)?e.urlOverride:this._url,"customQueryParams"in e&&(i=d(e.customQueryParams,this.version()),4===this.version()?t=c(t,i):n.params=i),s.query(t,n)},_insertImpl:function(t){this._requireKey();var n=this,i=e.Deferred();return e.when(this._sendRequest(this._url,"POST",null,t)).done(function(e){i.resolve(t,n.keyOf(e))}).fail(i.reject),i.promise()},_updateImpl:function(t,n){var i=e.Deferred();return e.when(this._sendRequest(this._byKeyUrl(t),this._updateMethod,null,n)).done(function(){i.resolve(t,n)}).fail(i.reject),i.promise()},_removeImpl:function(t){var n=e.Deferred();return e.when(this._sendRequest(this._byKeyUrl(t),"DELETE")).done(function(){n.resolve(t)}).fail(n.reject),n.promise()},_byKeyUrl:function(t,n){var i=t,o=this._keyType,a=n?r.formatLocalUrl(this._url):this._url;return e.isPlainObject(o)?(i={},e.each(o,function(e,n){i[e]=h(n,t[e])})):o&&(i=h(o,t)),a+"("+encodeURIComponent(l.serializeKey(i,this._version))+")"}}).include(p),m=n.inherit({ctor:function(t){var n=this;n._extractServiceOptions(t),n._errorHandler=t.errorHandler,e.each(t.entities||[],function(i,r){n[i]=new f(e.extend({},t,{url:n._url+"/"+encodeURIComponent(r.name||i)},r))})},get:function(e,t){return this.invoke(e,t,"GET")},invoke:function(t,n,i){n=n||{},i=(i||"POST").toLowerCase();var r,o=e.Deferred(),a=this._url+"/"+encodeURIComponent(t);return 4===this.version()&&("get"===i?(a=c(a,d(n,this.version())),n=null):"post"===i&&(r=n,n=null)),e.when(this._sendRequest(a,i,d(n,this.version()),r)).done(function(n){e.isPlainObject(n)&&t in n&&(n=n[t]),o.resolve(n)}).fail([this._errorHandler,s._errorHandler,o.reject]),o.promise()},objectLink:function(e,t){var n=this[e];if(!n)throw i.Error("E4015",e);return a.isDefined(t)?{__metadata:{uri:n._byKeyUrl(t,!0)}}:null}}).include(p);e.extend(s,{ODataStore:f,ODataContext:m})}(jQuery,DevExpress),function(e,t,n){function i(t){return t&&e.isFunction(t.then)}function r(t){return e.Deferred().resolve(t).promise()}function o(t,n){if(!e.isFunction(n))throw u.Error("E4011",t)}function a(e){throw u.Error("E4012",e)}function s(e){function t(e){var t=e[0],n=e[1];return t&&t.getResponseHeader?l.utils.errorMessageFromXhr(t,n):null}return function(n){var i;i=n instanceof Error?n:new Error(t(arguments)||n&&String(n)||"Unknown error"),e.reject(i)}}var l=t.data,u=DevExpress.require("/data/data.errors"),c="totalCount",d="load",h="byKey",p="insert",f="update",m="remove";l.CustomStore=l.Store.inherit({ctor:function(e){e=e||{},this.callBase(e),this._useDefaultSearch=!!e.useDefaultSearch,this._loadFunc=e[d],this._totalCountFunc=e[c],this._byKeyFunc=e[h],this._insertFunc=e[p],this._updateFunc=e[f],this._removeFunc=e[m]},createQuery:function(){throw u.Error("E4010")},_totalCountImpl:function(t){var n,l=this._totalCountFunc,u=e.Deferred();return o(c,l),n=l.apply(this,[t]),i(n)||(n=Number(n),isFinite(n)||a(c),n=r(n)),n.then(function(e){u.resolve(Number(e))},s(u)),this._addFailHandlers(u.promise())},_loadImpl:function(t){var l,u=this._loadFunc,c=e.Deferred();return o(d,u),l=u.apply(this,[t]),e.isArray(l)?l=r(l):null===l||l===n?l=r([]):i(l)||a(d),l.then(function(e,t){c.resolve(e,t)},s(c)),this._addFailHandlers(c.promise())},_byKeyImpl:function(t,n){var a,l=this._byKeyFunc,u=e.Deferred();return o(h,l),a=l.apply(this,[t,n]),i(a)||(a=r(a)),a.then(function(e){u.resolve(e)},s(u)),u.promise()},_insertImpl:function(t){var n,a=this._insertFunc,l=e.Deferred();return o(p,a),n=a.apply(this,[t]),i(n)||(n=r(n)),n.then(function(e){l.resolve(t,e)},s(l)),l.promise()},_updateImpl:function(t,n){var a,l=this._updateFunc,u=e.Deferred();return o(f,l),a=l.apply(this,[t,n]),i(a)||(a=r()),a.then(function(){u.resolve(t,n)},s(u)),u.promise()},_removeImpl:function(t){var n,a=this._removeFunc,l=e.Deferred();return o(m,a),n=a.apply(this,[t]),i(n)||(n=r()),n.then(function(){l.resolve(t)},s(l)),l.promise()}})}(jQuery,DevExpress),function(e,t,n){function i(){this._counter=-1,this._deferreds={}}function r(e){return"pending"===e.state()}function o(t){function i(){var n={};return e.each(["useDefaultSearch","key","load","byKey","lookup","totalCount","insert","update","remove"],function(){n[this]=t[this],delete t[this]}),new p(n)}function r(e){var t=h[c[e.type]];return delete e.type,new t(e)}function o(t){return new p({load:function(){return e.getJSON(t)}})}var a;return"string"==typeof t&&(t={paginate:!1,store:o(t)}),t===n&&(t=[]),t=e.isArray(t)||t instanceof h.Store?{store:t}:e.extend({},t),t.store===n&&(t.store=[]),a=t.store,"load"in t?a=i():e.isArray(a)?a=new h.ArrayStore(a):e.isPlainObject(a)&&(a=r(e.extend({},a))),t.store=a,t}function a(t){switch(t.length){case 0:return n;case 1:return t[0]}return e.makeArray(t)}function s(e){return function(){var t=a(arguments);return t===n?this._storeLoadOptions[e]:void(this._storeLoadOptions[e]=t)}}function l(t,n,i){function r(t,i){return y.isArray(t)?i?o(t,i):e.map(t,n):t}function o(t,n){return e.map(t,function(e){var t={key:e.key,items:r(e.items,n-1)};return"aggregates"in e&&(t.aggregates=e.aggregates),t})}return r(t,i?h.utils.normalizeSortingInfo(i).length:0)}var u,c,d,h=t.data,p=h.CustomStore,f=t.require("/class"),m=t.require("/eventsMixin"),g=t.require("/data/data.errors"),_=t.require("/utils/utils.array"),v=t.require("/utils/utils.queue"),y=t.require("/utils/utils.common"),x=y.isString,b=y.isNumber,w=y.isBoolean,C=y.isDefined,S="canceled";i.prototype.constructor=i,i.prototype.add=function(e){return this._counter+=1,this._deferreds[this._counter]=e,this._counter},i.prototype.remove=function(e){return delete this._deferreds[e]},i.prototype.cancel=function(e){return e in this._deferreds?(this._deferreds[e].reject(S),!0):!1},u=new i,c={jaydata:"JayDataStore",breeze:"BreezeStore",parse:"ParseStore",odata:"ODataStore",local:"LocalStore",array:"ArrayStore"},d=f.inherit({ctor:function(t){var i=this;t=o(t),this._store=t.store,this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=t.pageIndex!==n?t.pageIndex:0,this._pageSize=t.pageSize!==n?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,e.each(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],function(e,n){n in t&&i.on(n.substr(2,1).toLowerCase()+n.substr(3),t[n])}),this._init()},_init:function(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,C(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose:function(){this._disposeEvents(),delete this._store,this._delayedLoadTask&&this._delayedLoadTask.abort(),this._disposed=!0},_extractLoadOptions:function(t){var n={},i=["sort","filter","select","group","requireTotalCount"],r=this._store._customLoadOptions();return r&&(i=i.concat(r)),e.each(i,function(){n[this]=t[this]}),n},loadOptions:function(){return this._storeLoadOptions},items:function(){return this._items},pageIndex:function(e){return b(e)?(this._pageIndex=e,void(this._isLastPage=!this._paginate)):this._pageIndex},paginate:function(e){return w(e)?void(this._paginate!==e&&(this._paginate=e,this.pageIndex(0))):this._paginate},pageSize:function(e){return b(e)?void(this._pageSize=e):this._pageSize},isLastPage:function(){return this._isLastPage},sort:s("sort"),filter:function(){var e=a(arguments);return e===n?this._storeLoadOptions.filter:(this._storeLoadOptions.filter=e,void this.pageIndex(0))},group:s("group"),select:s("select"),requireTotalCount:function(e){return w(e)?void(this._storeLoadOptions.requireTotalCount=e):this._storeLoadOptions.requireTotalCount},searchValue:function(e){return arguments.length<1?this._searchValue:(this._searchValue=e,void this.pageIndex(0))},searchOperation:function(e){return x(e)?(this._searchOperation=e,void this.pageIndex(0)):this._searchOperation},searchExpr:function(t){var n=arguments.length;return 0===n?this._searchExpr:(n>1&&(t=e.makeArray(arguments)),this._searchExpr=t,this.pageIndex(0),void 0)},store:function(){return this._store},key:function(){return this._store&&this._store.key()},totalCount:function(){return this._totalCount},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._loadingCount>0},_createLoadQueue:function(){return v.create()},_changeLoadingCount:function(e){var t,n=this.isLoading();this._loadingCount+=e,t=this.isLoading(),n^t&&this.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks:function(e){var t=this;t._changeLoadingCount(1),e.always(function(){t._changeLoadingCount(-1)})},_scheduleFailCallbacks:function(e){var t=this;e.fail(function(){arguments[0]!==S&&t.fireEvent("loadError",arguments)})},_scheduleChangedCallbacks:function(e){var t=this;e.done(function(){t.fireEvent("changed")})},loadSingle:function(t,n){var i=this,r=e.Deferred(),o=this.key(),a=this._store,s=this._createStoreLoadOptions(),l=function(t){!C(t)||_.isEmpty(t)?r.reject(new g.Error("E4009")):r.resolve(i._applyMapFunction(e.makeArray(t))[0])};return this._scheduleFailCallbacks(r),arguments.length<2&&(n=t,t=o),delete s.skip,delete s.group,delete s.refresh,delete s.pageIndex,delete s.searchString,function(){return t===o||a instanceof h.CustomStore?a.byKey(n,s):(s.take=1,s.filter=s.filter?[s.filter,[t,n]]:[t,n],a.load(s))}().fail(r.reject).done(l),r.promise()},load:function(){function t(){return o._disposed?n:r(a)?o._loadFromStore(i,a):void 0}var i,o=this,a=e.Deferred();return this._scheduleLoadCallbacks(a),this._scheduleFailCallbacks(a),this._scheduleChangedCallbacks(a),i=this._createLoadOperation(a),this.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(function(){return"number"==typeof i.delay?o._delayedLoadTask=y.executeAsync(t,i.delay):t(),a.promise()}),a.promise({operationId:i.operationId})},_createLoadOperation:function(e){var t=u.add(e),n=this._createStoreLoadOptions();return e.always(function(){u.remove(t)}),{operationId:t,storeLoadOptions:n}},reload:function(){return this._init(),this.load()},cancel:function(e){return u.cancel(e)},_addSearchOptions:function(e){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(e):(e.searchOperation=this._searchOperation,e.searchValue=this._searchValue,e.searchExpr=this._searchExpr))},_createStoreLoadOptions:function(){var t=e.extend({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter:function(t){var n=this._searchValue,i=this._searchOperation,r=this._searchExpr,o=[];n&&(r||(r="this"),e.isArray(r)||(r=[r]),e.each(r,function(e,t){o.length&&o.push("or"),o.push([t,i,n])}),t.filter=t.filter?[o,t.filter]:o)},_loadFromStore:function(t,n){function i(i,a){function s(){var r;r=e.extend({data:i,extra:a},t),o.fireEvent("customizeLoadResult",[r]),e.when(r.data).done(function(e){r.data=e,o._processStoreLoadResult(r,n)}).fail(n.reject)}o._disposed||r(n)&&s()}var o=this;return t.data?e.Deferred().resolve(t.data).done(i):this.store().load(t.storeLoadOptions).done(i).fail(n.reject)},_processStoreLoadResult:function(t,n){function i(){return o._isLoaded=!0,o._totalCount=isFinite(s.totalCount)?s.totalCount:-1,n.resolve(a,s)}function r(){o.store().totalCount(l).done(function(e){s.totalCount=e,i()}).fail(n.reject)}var o=this,a=e.makeArray(t.data),s=t.extra,l=t.storeLoadOptions;o._disposed||(a=o._applyPostProcessFunction(o._applyMapFunction(a)),e.isPlainObject(s)||(s={}),o._items=a,(!a.length||!o._paginate||o._pageSize&&a.length<o._pageSize)&&(o._isLastPage=!0),l.requireTotalCount&&!isFinite(s.totalCount)?r():i())},_applyMapFunction:function(e){return this._mapFunc?l(e,this._mapFunc,this.group()):e},_applyPostProcessFunction:function(e){return this._postProcessFunc?this._postProcessFunc(e):e}}).include(m),e.extend(!0,h,{DataSource:d,utils:{storeTypeRegistry:c,normalizeDataSourceOptions:o}})}(jQuery,DevExpress),DevExpress.define("/ui/uiNamespace",["/coreNamespace","/ui/ui.themes","/ui/templates/ui.templateBase","/integration/jquery/jquery.template","/ui/ui.actionExecutors"],function(e,t,n,i){var r=e.ui=e.ui||{};return r.themes={current:t.current},r.setTemplateEngine=i.setTemplateEngine,r.templateRendered=n.renderedCallbacks,r}),DevExpress.define("/ui/ui.themes",["jquery","/ui/ui.errors","/utils/utils.dom","/devices","/utils/utils.viewPort"],function(e,t,n,i,r){function o(){var t,n=e("<div></div>",_).addClass("dx-theme-marker").appendTo(_.documentElement);try{return t=n.css("font-family"),t?(t=t.replace(/["']/g,""),t.substr(0,I.length)!==I?null:t.substr(I.length)):null}finally{n.remove()}}function a(t,n){function i(){b=null,n()}var r,o;b=t,s()?i():(o=e.now(),r=setInterval(function(){var t=s(),n=!t&&e.now()-o>15e3;(t||n)&&(clearInterval(r),i())},10))}function s(){return!b||o()===b}function l(){var t=e(k,_);t.length&&(y={},v=e(n.createMarkupFromString("<link rel=stylesheet>"),_),t.each(function(){var t=e(this,_),n=t.attr(D),i=t.attr("href"),r="true"===t.attr(T);y[n]={url:i,isActive:r}}),t.last().after(v),t.remove())}function u(t){var n=t.split("."),i=null;return y&&e.each(y,function(e,t){var r=e.split(".");return r[0]===n[0]?n[1]&&n[1]!==r[1]?void 0:n[2]&&n[2]!==r[2]?void 0:((!i||t.isActive)&&(i=e),t.isActive?!1:void 0):void 0}),i}function c(e){try{e!==_&&(y=null)}catch(t){y=null}_=e}function d(e){e=e||{},c(e.context||document),l(),x=void 0,h(e)}function h(e){if(!arguments.length)return x=x||o();g(C(),x),e=e||{},"string"==typeof e&&(e={theme:e});var n,r=e._autoInit,s=e.loadCallback;if(x=e.theme||x,r&&!x&&(x=p(i.current())),x=u(x),x&&(n=y[x]),n)v.attr("href",y[x].url),s?a(x,s):b&&(b=x);else{if(!r)throw t.Error("E0021",x);s&&s()}m(C(),x)}function p(e){var t=e.platform,n=e.version&&e.version[0];switch(t){case"ios":t+="7";break;case"android":t+="5";break;case"win":t+=n&&8===n?"8":"10"}return t}function f(e){e=e||h();var t=[],n=e&&e.split(".");return n&&(t.push("dx-theme-"+n[0],"dx-theme-"+n[0]+"-typography"),n.length>1&&t.push("dx-color-scheme-"+n[1])),t}function m(t,n){w=f(n).join(" "),e(t).addClass(w);var i=function(){var n,i=window.devicePixelRatio;!i||2>i||(n=e("<div>"),n.css("border",".5px solid transparent"),e("body").append(n),1===n.outerHeight()&&(e(t).addClass(E),w+=" "+E),n.remove())};i()}function g(t){e(t).removeClass(w)}var _,v,y,x,b,w,C=r.value,S=r.changeCallback,k="link[rel=dx-theme]",D="data-theme",T="data-active",E="dx-hairlines",I="dx.";return e.holdReady(!0),d({_autoInit:!0,loadCallback:function(){e.holdReady(!1)}}),e(function(){if(e(k,_).length)throw t.Error("E0022")}),S.add(function(e,t){g(t),m(e)}),i.changed.add(function(){d({_autoInit:!0})}),{init:d,current:h,attachCssClasses:m,detachCssClasses:g,themeNameFromDevice:p,waitForThemeLoad:a,resetTheme:function(){v.attr("href","about:blank"),x=null,b=null}}}),DevExpress.define("/ui/ui.keyboardProcessor",["jquery","/class","/ui/events/ui.events.utils"],function(e,t,n){var i=t.inherit({_keydown:n.addNamespace("keydown","KeyboardProcessor"),codes:{8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus"},ctor:function(t){var n=this;t=t||{},t.element&&(this._element=e(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._context=t.context,this._childProcessors=[],this._element&&(this._processFunction=function(e){n.process(e)},this._element.on(this._keydown,this._processFunction))},dispose:function(){this._element&&this._element.off(this._keydown,this._processFunction),this._element=void 0,this._handler=void 0,this._context=void 0,this._childProcessors=void 0},clearChildren:function(){this._childProcessors=[]},push:function(e){return this._childProcessors||this.clearChildren(),this._childProcessors.push(e),e},attachChildProcessor:function(){var e=new i;return this._childProcessors.push(e),e},reinitialize:function(e,t){return this._context=t,this._handler=e,this},process:function(t){if(this._focusTarget&&this._focusTarget!==t.target&&e.inArray(t.target,this._focusTarget)<0)return!1;var n={key:this.codes[t.which]||t.which,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,originalEvent:t},i=this._handler&&this._handler.call(this._context,n);i&&this._childProcessors&&e.each(this._childProcessors,function(e,n){n.process(t)})}});return i}),DevExpress.define("/ui/ui.widget",["jquery","/ui/ui.errors","/action","/utils/utils.dom","/utils/utils.common","/devices","/domComponent","/ui/templates/ui.templateBase","/ui/templates/ui.template.dynamic","/ui/templates/ui.template.empty","/ui/templates/ui.template.move","/integration/jquery/jquery.templateProvider","/ui/ui.keyboardProcessor","/integration/jquery/jquery.selectors","/ui/events/ui.events.utils","/ui/events/ui.events.hover","/ui/events/ui.events.emitter.feedback"],function(e,t,n,i,r,o,a,s,l,u,c,d,h,p,f,m,g){var _="UIFeedback",v="dx-widget",y="dx-state-active",x="dx-state-disabled",b="dx-state-invisible",w="dx-state-hover",C="dx-state-focused",S=30,k=400,D="Focus",T="template",E=3,I="[data-options*='dxTemplate']",A="dx-template-wrapper";return a.inherit({_supportedKeys:function(){return{}},_getDefaultOptions:function(){return e.extend(this.callBase(),{disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:null,onFocusIn:null,onFocusOut:null,templateProvider:d,_keyboardProcessor:void 0,_templates:{}})},_init:function(){this.callBase(),this._feedbackShowTimeout=S,this._feedbackHideTimeout=k,this._tempTemplates=[],this._dynamicTemplates={},this._initTemplates(),this._initContentReadyAction()},_initTemplates:function(){this._extractTemplates(),this._extractAnonymousTemplate()},_extractTemplates:function(){var n=this.option("_templates"),r=this.element().contents().filter(I),o={};r.each(function(n,r){var a=i.getElementOptions(r).dxTemplate;if(a){if(!a.name)throw t.Error("E0023");e(r).addClass(A).detach(),o[a.name]=o[a.name]||[],o[a.name].push(r)}}),e.each(o,e.proxy(function(e,t){var i=this._findTemplateByDevice(t);i&&(n[e]=this._createTemplate(i,this))},this))},_findTemplateByDevice:function(t){var n=r.findBestMatches(o.current(),t,function(e){return i.getElementOptions(e).dxTemplate})[0];return e.each(t,function(t,i){i!==n&&e(i).remove()}),n},_extractAnonymousTemplate:function(){var t=this.option("_templates"),n=this._getAnonymousTemplateName(),i=this.element().contents().detach(),r=i.filter(function(t,n){var i=n.nodeType===E,r=e.trim(e(n).text()).length<1;return!(i&&r)}),o=r.length<1;t[n]||o||(t[n]=this._createTemplate(i,this))},_getAriaTarget:function(){return this._focusTarget()},_getAnonymousTemplateName:function(){return T},_getTemplateByOption:function(e){return this._getTemplate(this.option(e))},_getTemplate:function(t){if(e.isFunction(t)){var n=this;return new l(function(){var e=t.apply(n,arguments);return r.isDefined(e)?n._acquireTemplate(e,this,!0):new u},this)}return this._acquireTemplate(t,this)},_acquireTemplate:function(t,n,r){var o,a,l;return null==t?this._createTemplate(i.normalizeTemplateElement(t),n):t instanceof s?t:t.nodeType||t.jquery?(t=e(t),r&&!t.is("script")?new c(t,n):this._createTemplate(t,n)):"string"==typeof t?(o=this.option("_templates")[t])?o:(a=this._dynamicTemplates[t])?a:(l=this.option("templateProvider").getTemplates(this)[t])?l:this._createTemplate(i.normalizeTemplateElement(t),n):this._acquireTemplate(t.toString(),n)},_createTemplate:function(e,t){var n=this.option("templateProvider").createTemplate(e,t);return this._tempTemplates.push(n),n},_cleanTemplates:function(){var t=this;e.each(this.option("_templates"),function(e,n){t===n.owner()&&n.dispose()}),e.each(this._tempTemplates,function(e,t){t.dispose()})},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["designMode","disabled","readOnly"]})},_render:function(){this.element().addClass(v),this.callBase(),this._toggleDisabledState(this.option("disabled")),this._toggleVisibility(this.option("visible")),this._renderHint(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents()},_renderHint:function(){i.toggleAttr(this.element(),"title",this.option("hint"))},_renderContent:function(){this._renderContentImpl(),this._fireContentReadyAction()},_renderContentImpl:e.noop,_fireContentReadyAction:function(){
this._contentReadyAction()},_dispose:function(){this._cleanTemplates(),this._contentReadyAction=null,this.callBase()},_clean:function(){this._cleanFocusState(),this.callBase(),this.element().empty()},_toggleVisibility:function(e){this.element().toggleClass(b,!e),this.setAria("hidden",!e||void 0)},_renderFocusState:function(){this.option("focusStateEnabled")&&!this.option("disabled")&&(this._renderFocusTarget(),this._attachFocusEvents(),this._attachKeyboardEvents(),this._renderAccessKey())},_renderAccessKey:function(){var t,n=this._focusTarget();n.attr("accesskey",this.option("accessKey")),t=f.addNamespace("dxclick",_),n.off(t),this.option("accessKey")&&n.on(t,e.proxy(function(e){f.isFakeClickEvent(e)&&(e.stopImmediatePropagation(),this.focus())},this))},_eventBindingTarget:function(){return this.element()},_focusTarget:function(){return this._getActiveElement()},_getActiveElement:function(){var e=this._eventBindingTarget();return this._activeStateUnit&&(e=e.find(this._activeStateUnit).not("."+x)),e},_renderFocusTarget:function(){this._focusTarget().attr("tabindex",this.option("tabIndex"))},_keyboardEventBindingTarget:function(){return this._eventBindingTarget()},_detachFocusEvents:function(){var e=this._focusTarget(),t=f.addNamespace("focusin",this.NAME+D),n=f.addNamespace("focusout",this.NAME+D),i=f.addNamespace("beforeactivate",this.NAME+D);e.off(t+" "+n+" "+i)},_attachFocusEvents:function(){var t=f.addNamespace("focusin",this.NAME+D),n=f.addNamespace("focusout",this.NAME+D),i=f.addNamespace("beforeactivate",this.NAME+D);this._focusTarget().on(t,e.proxy(this._focusInHandler,this)).on(n,e.proxy(this._focusOutHandler,this)).on(i,function(t){e(t.target).is(p.focusable)||t.preventDefault()})},_refreshFocusEvent:function(){this._detachFocusEvents(),this._attachFocusEvents()},_focusInHandler:function(e){var t=this;t._createActionByOption("onFocusIn",{beforeExecute:function(){t._updateFocusState(e,!0)},excludeValidators:["readOnly"]})({jQueryEvent:e})},_focusOutHandler:function(e){var t=this;t._createActionByOption("onFocusOut",{beforeExecute:function(){t._updateFocusState(e,!1)},excludeValidators:["readOnly"]})({jQueryEvent:e})},_updateFocusState:function(t,n){var i=t.target;-1!==e.inArray(i,this._focusTarget())&&this._toggleFocusClass(n,i)},_toggleFocusClass:function(t,n){var i=e(n||this._focusTarget());i.toggleClass(C,t)},_hasFocusClass:function(t){var n=e(t||this._focusTarget());return n.hasClass(C)},_attachKeyboardEvents:function(){var e=this.option("_keyboardProcessor")||new h({element:this._keyboardEventBindingTarget(),focusTarget:this._focusTarget()});this._keyboardProcessor=e.reinitialize(this._keyboardHandler,this)},_keyboardHandler:function(t){var n,i=t.originalEvent,r=t.key,o=this._supportedKeys(),a=o[r];return void 0!==a?(n=e.proxy(a,this),n(i)||!1):!0},_refreshFocusState:function(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState:function(){var e=this._focusTarget();this._detachFocusEvents(),this._toggleFocusClass(!1),e.removeAttr("tabindex"),this._keyboardProcessor&&this._keyboardProcessor.dispose()},_attachHoverEvents:function(){var t,i=this,r=i._activeStateUnit,o=f.addNamespace(m.start,_),a=f.addNamespace(m.end,_);i._eventBindingTarget().off(o,r).off(a,r),i.option("hoverStateEnabled")?(t=new n(function(e){i._hoverStartHandler(e.event);var t=e.element;i._refreshHoveredElement(t)},{excludeValidators:["readOnly"]}),i._eventBindingTarget().on(o,r,function(n){t.execute({element:e(n.target),event:n})}).on(a,r,function(e){i._hoverEndHandler(e),i._forgetHoveredElement()})):i._toggleHoverClass(!1)},_hoverStartHandler:e.noop,_hoverEndHandler:e.noop,_attachFeedbackEvents:function(){var t,i,r,o=this,a=o._activeStateUnit,s=f.addNamespace(g.active,_),l=f.addNamespace(g.inactive,_);o._eventBindingTarget().off(s,a).off(l,a),o.option("activeStateEnabled")&&(r=function(e){var t=e.element,n=e.value,i=e.jQueryEvent;o._toggleActiveState(t,n,i)},o._eventBindingTarget().on(s,a,{timeout:o._feedbackShowTimeout},function(i){t=t||new n(r),t.execute({element:e(i.currentTarget),value:!0,jQueryEvent:i})}).on(l,a,{timeout:o._feedbackHideTimeout},function(t){i=i||new n(r,{excludeValidators:["disabled","readOnly"]}),i.execute({element:e(t.currentTarget),value:!1,jQueryEvent:t})}))},_toggleActiveState:function(e,t){this._toggleHoverClass(!t),e.toggleClass(y,t)},_refreshHoveredElement:function(e){var t=this._activeStateUnit||this._eventBindingTarget();this._forgetHoveredElement(),this._hoveredElement=e.closest(t),this._toggleHoverClass(!0)},_forgetHoveredElement:function(){this._toggleHoverClass(!1),delete this._hoveredElement},_toggleHoverClass:function(e){this._hoveredElement&&this._hoveredElement.toggleClass(w,e&&this.option("hoverStateEnabled"))},_toggleDisabledState:function(e){this.element().toggleClass(x,Boolean(e)),this._toggleHoverClass(!e),this.setAria("disabled",e||void 0)},_setWidgetOption:function(t,n){var i,r,o;if(this[t]){if(e.isPlainObject(n[0]))return void e.each(n[0],e.proxy(function(e,n){this._setWidgetOption(t,[e,n])},this));i=n[0],r=n[1],1===n.length&&(r=this.option(i)),o=this[t+"OptionMap"],this[t].option(o?o(i):i,r)}},_createComponent:function(e,t,n){return n=n||{},this._extendConfig(n,{templateProvider:this.option("templateProvider"),_templates:this.option("_templates")}),this.callBase(e,t,n)},_optionChanged:function(e){switch(e.name){case"disabled":this._toggleDisabledState(e.value),this._refreshFocusState();break;case"hint":this._renderHint();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents();break;case"tabIndex":case"_keyboardProcessor":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":break;case"accessKey":this._renderAccessKey();break;case"visible":var t=e.value;this._toggleVisibility(t),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(e.value?"shown":"hiding");break;case"onContentReady":this._initContentReadyAction();break;case"_templates":case"templateProvider":break;default:this.callBase(e)}},_isVisible:function(){return this.callBase()&&this.option("visible")},beginUpdate:function(){this._ready(!1),this.callBase()},endUpdate:function(){this.callBase(),this._initialized&&this._ready(!0)},_ready:function(e){return 0===arguments.length?this._isReady:void(this._isReady=e)},setAria:function(){var t,n=function(t){var n=e.inArray(t.name,["role","id"])+1?t.name:"aria-"+t.name,r=t.value;r=null===r||void 0===r?void 0:r.toString(),i.toggleAttr(t.target,n,r)};e.isPlainObject(arguments[0])?(t=arguments[1]||this._getAriaTarget(),e.each(arguments[0],function(e,i){n({name:e,value:i,target:t})})):n({name:arguments[0],value:arguments[1],target:arguments[2]||this._getAriaTarget()})},isReady:function(){return this._ready()},repaint:function(){this._refresh()},focus:function(){this._focusTarget().focus()},registerKeyHandler:function(t,n){var i=this._supportedKeys(),r={};r[t]=n,this._supportedKeys=function(){return e.extend(i,r)}}})}),DevExpress.define("/ui/ui.validationMixin",["jquery"],function(){return{_findGroup:function(){var e,t=this.option("validationGroup");return t||(e=this.element().parents(".dx-validationgroup:first"),t=e.length?e.dxValidationGroup("instance"):this._modelByElement(this.element())),t}}}),DevExpress.define("/ui/ui.editor",["jquery","/ui/uiNamespace","/utils/utils.common","/ui/ui.themes","/ui/ui.widget","/ui/ui.validationMixin"],function(e,t,n,i,r,o){var a="dx-state-readonly",s="dx-invalid",l="dx-invalid-message",u="dx-invalid-message-auto",c="dx-invalid-message-always",d=100;return r.inherit({_init:function(){this.callBase(),this.validationRequest=e.Callbacks();var t=this.element();t&&(t.data("dx-validation-target",this),this.on("disposing",function(){t.data("dx-validation-target",null)}))},_getDefaultOptions:function(){return e.extend(this.callBase(),{value:null,onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=(i.current()||"").split(".")[0];return"android5"===e},options:{validationMessageOffset:{v:-8}}}])},_attachKeyboardEvents:function(){this.option("readOnly")||(this.callBase.apply(this,arguments),this._attachChildKeyboardEvents())},_attachChildKeyboardEvents:e.noop,_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_render:function(){this.callBase(),this._renderValidationState(),this._toggleReadOnlyState()},_raiseValueChangeAction:function(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))},_valueChangeArgs:function(e,t){return{value:e,previousValue:t,jQueryEvent:this._valueChangeEventInstance}},_saveValueChangeEvent:function(e){this._valueChangeEventInstance=e},_renderValidationState:function(){var t=this.option("isValid"),n=this.option("validationError"),i=this.option("validationMessageMode"),r=this.element();r.toggleClass(s,!t),this.setAria("invalid",!t||void 0),this._$validationMessage&&(this._$validationMessage.remove(),this._$validationMessage=null),!t&&n&&n.message&&(this._$validationMessage=e("<div/>",{"class":l}).text(n.message).appendTo(r),this._createComponent(this._$validationMessage,"dxOverlay",{target:this._getValidationMessageTarget(),shading:!1,width:"auto",height:"auto",container:r,position:this._getValidationMessagePosition("below"),closeOnOutsideClick:!1,closeOnTargetScroll:!1,animation:null,visible:!0,propagateOutsideClick:!0}),this._$validationMessage.toggleClass(u,"auto"===i).toggleClass(c,"always"===i),this._setValidationMessageMaxWidth())},_setValidationMessageMaxWidth:function(){if(this._$validationMessage){var e=Math.max(d,this._getValidationMessageTarget().outerWidth());this._$validationMessage.dxOverlay("option","maxWidth",e)}},_getValidationMessageTarget:function(){return this.element()},_getValidationMessagePosition:function(e){var t=this.option("rtlEnabled"),i=n.getDefaultAlignment(t),r=this.option("validationMessageOffset"),o={h:r.h,v:r.v},a="below"===e?[" top"," bottom"]:[" bottom"," top"];return t&&(o.h=-o.h),"below"!==e&&(o.v=-o.v),{offset:o,boundary:this.option("validationBoundary"),my:i+a[0],at:i+a[1],collision:"none flip"}},_toggleReadOnlyState:function(){this.element().toggleClass(a,this.option("readOnly")),this.setAria("readonly",this.option("readOnly")||void 0)},_optionChanged:function(e){switch(e.name){case"onValueChanged":this._createValueChangeAction();break;case"isValid":case"validationError":case"validationBoundary":case"validationMessageMode":this._renderValidationState();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":this._valueChangeActionSuppressed||(this._raiseValueChangeAction(e.value,e.previousValue),this._saveValueChangeEvent(void 0)),e.value!=e.previousValue&&this.validationRequest.fire({value:e.value,editor:this});break;case"width":this.callBase(e),this._setValidationMessageMaxWidth();break;default:this.callBase(e)}},reset:function(){this.option("value",null)}}).include(o)}),DevExpress.define("/ui/ui.errors",["/utils/utils.error","/errors"],function(e,t){return e(t.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' must be inheritor of DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' must be inheritor of DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' is not exists",E1007:"State storing can not be provided due to the restrictions of your browser",E1010:"A template should contain dxTextBox widget",E1011:"You have to implement 'remove' method in dataStore used by dxList to be able to delete items",E1012:"Editing type '{0}' with name '{1}' not supported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called when using a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"Type can not be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:"Markers option should be an array",E1023:"Routes option should be an array",E1024:"Google provider cannot be used in WinJS application",E1025:"This layout is too complex to render",E1026:"The 'custom' value is set to a summary item's summaryType option, but a function for calculating the custom summary is not assigned to the grid's calculateCustomSummary option",E1030:"Unknown dxScrollView refresh strategy: '{0}'",E1031:"Unknown subscription is detected in the dxScheduler widget: '{0}'",E1032:"Unknown start date is detected in an appointment of the dxScheduler widget: '{0}'",E1033:"Unknown step is specified for the scheduler's navigator: '{0}'",E1034:"The current browser does not implement an API required for saving files",E1035:"The editor could not be created because of the internal error: {0}",E1036:"Validation rules are not defined for any form item",E1037:"Invalid structure of grouped data",E1038:"Your browser does not support local storage for local web pages",W1001:"Key option can not be modified after initialization",W1002:"Item '{0}' you are trying to select does not exist",W1003:"Group with key '{0}' in which you are trying to select items does not exist",W1004:"Item '{0}' you are trying to select in group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns."})}),DevExpress.define("/ui/ui.actionExecutors",["jquery","/action"],function(e,t){var n=function(e){return function(t){if(t.args.length){var n=t.args[0],i=n[t.validatingTargetName]||n.element;i&&e(i)&&(t.cancel=!0)}}};t.registerExecutor({designMode:{validate:function(e){DevExpress.designMode&&(e.cancel=!0)}},disabled:{validate:n(function(e){return e.is(".dx-state-disabled, .dx-state-disabled *")})},readOnly:{validate:n(function(e){return e.is(".dx-state-readonly, .dx-state-readonly *")})}})}),DevExpress.define("/ui/ui.dialog",["jquery","/component","/action","/ui/ui.errors","/utils/utils.dom","/utils/utils.viewPort","/devices","/ui/ui.themes"],function(e,t,n,i,r,o,a,s){var l={text:"OK",onClick:function(){return!0}},u="dx-dialog",c=u+"-wrapper",d=u+"-root",h=u+"-content",p=u+"-message",f=u+"-buttons",m=u+"-button",g=t.inherit({ctor:function(e,t){this.callBase(t)},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{width:276}},{device:{platform:"android"},options:{lWidth:"60%",pWidth:"80%"}},{device:function(e){var t=(s.current()||"").split(".")[0];return!e.phone&&"win8"===t},options:{width:function(){return e(window).width()}}},{device:function(e){var t=(s.current()||"").split(".")[0];return e.phone&&"win8"===t},options:{position:{my:"top center",at:"top center",of:window,offset:"0 0"}}}])}}),_=function(t){function s(){return x.show(),v.promise()}function _(e){v.resolve(e),x.hide().done(function(){x.element().remove()})}var v,y,x;if(!DevExpress.ui.dxPopup)throw i.Error("E0018");v=e.Deferred(),y=(new g).option(),t=e.extend(y,t);var b=e("<div>").addClass(u).appendTo(o.value()),w=e("<div>").addClass(p).html(String(t.message)),C=[];return e.each(t.buttons||[l],function(){var t=new n(this.onClick,{context:x});C.push({toolbar:"bottom",location:a.current().android?"after":"center",widget:"button",options:e.extend({},this,{onClick:function(){var e=t.execute(arguments);_(e)}})})}),x=b.dxPopup({title:t.title||this.title,showTitle:function(){return void 0===t.showTitle?!0:t.showTitle}(),height:"auto",width:function(){var n=e(window).height()>e(window).width(),i=(n?"p":"l")+"Width",r=t.hasOwnProperty(i)?t[i]:t.width;return e.isFunction(r)?r():r},showCloseButton:t.showCloseButton||!1,focusStateEnabled:!1,onContentReady:function(e){e.component.content().addClass(h).append(w)},onShowing:function(e){e.component.bottomToolbar().addClass(f).find(".dx-button").addClass(m),r.resetActiveElement()},onShown:function(e){e.component.bottomToolbar().find(".dx-button").first().focus()},onHiding:function(){v.reject()},buttons:C,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:DevExpress.rtlEnabled,boundaryOffset:{h:10,v:0}}).dxPopup("instance"),x._wrapper().addClass(c),t.position&&x.option("position",t.position),x._wrapper().addClass(d),{show:s,hide:_}},v=function(t,n,i){var r,o=e.isPlainObject(t)?t:{title:n,message:t,showTitle:i};return r=this.custom(o),r.show()},y=function(t,n,i){var r,o=e.isPlainObject(t)?t:{title:n,message:t,showTitle:i,buttons:[{text:Globalize.localize("Yes"),onClick:function(){return!0}},{text:Globalize.localize("No"),onClick:function(){return!1}}]};return r=this.custom(o),r.show()},x=null,b=function(t,i,r){var a,s=e.isPlainObject(t)?t:{message:t};return DevExpress.ui.dxToast?(a=s.onHidden,e.extend(s,{type:i,displayTime:r,onHidden:function(e){e.element.remove(),new n(a,{context:e.model}).execute(arguments)}}),x=e("<div>").appendTo(o.value()).dxToast(s),x.dxToast("instance").show(),void 0):void v(s.message)};return{FakeDialogComponent:g,notify:b,custom:_,alert:v,confirm:y}}),DevExpress.define("/ui/templates/ui.templateBase",["jquery","/utils/utils.dom","/class"],function(e,t,n){var i=t.triggerShownEvent,r=n["abstract"],o=e.Callbacks(),a=n.inherit({ctor:function(t,n){this._element=e(t),this._owner=n},owner:function(){return this._owner},render:function(e,t,n){e instanceof jQuery&&(t=e,e=void 0),t&&(e=this._prepareDataForContainer(e,t));var i=this._renderCore(e,n,t);return this._ensureResultInContainer(i,t),o.fire(i,t),i},_ensureResultInContainer:function(t,n){var r,o;n&&(r=e.contains(n.get(0),t.get(0)),n.append(t),r||(o=e.contains(document.body,n.get(0)))&&i(t))},source:function(){return this._element.clone()},_prepareDataForContainer:function(e){return e},_renderCore:r,dispose:function(){this._owner=null}});return a.renderedCallbacks=o,a}),DevExpress.define("/ui/templates/ui.template.function",["jquery","/ui/templates/ui.templateBase","/utils/utils.dom"],function(e,t,n){return t.inherit({ctor:function(t,n){this.callBase(e(),n),this._render=t},_renderCore:function(e,t,i){return n.normalizeTemplateElement(this._render(e,t,i))}})}),DevExpress.define("/ui/templates/ui.template.dynamic",["jquery","/ui/templates/ui.templateBase"],function(e,t){return t.inherit({ctor:function(t,n){this.callBase(e(),n),this._compileFunction=t},_renderCore:function(e,t,n){void 0===e&&void 0===t&&(e=n,n=void 0);var i=void 0===t?this._compileFunction(e,n):this._compileFunction(e,t,n),r=i.render(e,n,t);return i.owner()===this&&i.dispose(),r}})}),DevExpress.define("/ui/templates/ui.template.empty",["jquery","/ui/templates/ui.templateBase"],function(e,t){return t.inherit({ctor:function(t){this.callBase(e(),t)},_renderCore:function(){return e()}})}),DevExpress.define("/ui/templates/ui.template.move",["jquery","/ui/templates/ui.templateBase"],function(e,t){return t.inherit({_renderCore:function(){return this._element}})}),DevExpress.define("/ui/templates/ui.templateProviderBase",["jquery","/class"],function(e,t){var n=t["abstract"];return t.inherit({ctor:function(){this.widgetTemplatesCache={}},createTemplate:n,getTemplates:function(e){return this._getWidgetTemplates(e.constructor)},_getWidgetTemplates:function(e){return e.publicName?this._getCachedWidgetTemplates(e):{}},_getCachedWidgetTemplates:function(t){var n=t.publicName(),i=this.widgetTemplatesCache;return i[n]||(i[n]=e.extend({},this._getWidgetTemplates(t.parent),this._templatesForWidget(n))),i[n]},_templatesForWidget:n})}),DevExpress.define("/ui/events/ui.events.eventRegistrator",["jquery","/utils/utils.memorizedCallbacks"],function(e,t){var n,i=e.event,r=i.fixHooks,o=e.event.special,a={props:i.mouseHooks.props.concat(["pointerType","pointerId","pointers"])},s=new t,l=function(t,n){var i={};"noBubble"in n&&(i.noBubble=n.noBubble),"bindType"in n&&(i.bindType=n.bindType),"delegateType"in n&&(i.delegateType=n.delegateType),e.each(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(t,r){n[r]&&(i[r]=function(){var t=e.makeArray(arguments);return t.unshift(this),n[r].apply(n,t)})}),r[t]=a,s.fire(t,i)};return l.callbacks=s,n=function(e,t){o[e]=t},s.add(n),l}),DevExpress.define("/ui/events/ui.events.utils",["jquery","/ui/ui.errors"],function(e){var t=e.event,n=t.fixHooks,i=function(){var t={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i};return function(n){var i="other";return e.each(t,function(e){return this.test(n.type)?(i=e,!1):void 0}),i}}(),r=function(e){return"dx"===i(e)},o=function(e){return"mouse"===i(e)},a=function(e){return"touch"===i(e)},s=function(e){return"pointer"===i(e)},l=function(e){return o(e)||(s(e)||r(e))&&"mouse"===e.pointerType},u=function(e){return a(e)||(s(e)||r(e))&&"touch"===e.pointerType},c=function(e){return"keyboard"===i(e)},d=function(e){return 0===e.screenX&&!e.offsetX&&0===e.pageX},h=function(e){return{x:e.pageX,y:e.pageY,time:e.timeStamp}},p=function(e,t){return{x:t.x-e.x,y:t.y-e.y,time:t.time-e.time||1}},f=function(e){return a(e)?(e.originalEvent.touches||[]).length:r(e)?(e.pointers||[]).length:0},m=function(t){var n=e(t.target),i=n.is("input, textarea, select");return n.is(".dx-skip-gesture-event *, .dx-skip-gesture-event")?!0:"dxmousewheel"===t.type?n.is("input[type='number'], textarea, select")&&n.is(":focus"):l(t)?i||t.which>1:u(t)?i&&n.is(":focus"):void 0},g=function(i,r){for(var o,a=e.Event(i),s=n[i.type]||t.mouseHooks,l=s.props?t.props.concat(s.props):t.props,u=l.length;u--;)o=l[u],a[o]=i[o];return r&&e.extend(a,r),s.filter?s.filter(a,i):a},_=function(e){var n=g(e.originalEvent,e);return t.trigger(n,null,e.delegateTarget||n.target),n},v=function(t,n){return"string"==typeof t?v(t.split(/\s+/g),n):(e.each(t,function(e,i){t[e]=i+"."+n}),t.join(" "))};return{eventSource:i,isPointerEvent:s,isMouseEvent:l,isTouchEvent:u,isKeyboardEvent:c,isFakeClickEvent:d,hasTouches:f,eventData:h,eventDelta:p,needSkipEvent:m,createEvent:g,fireEvent:_,addNamespace:v}}),DevExpress.define("/ui/events/ui.events.remove",["jquery","/ui/events/ui.events.eventRegistrator"],function(e,t){var n="dxremove",i="dxRemoveEvent",r=e.cleanData;return e.cleanData=function(t){for(var o,a=0;a<t.length;a++)o=e(t[a]),o.prop(i)&&(o.removeProp(i),o.triggerHandler(n));return r(t)},t(n,{noBubble:!0,setup:function(t){e(t).prop(i,!0)}}),{name:n}}),DevExpress.define("/ui/events/pointer/ui.events.pointer.touchHooks",["jquery"],function(e){var t={filter:function(t,n){var i=n.touches.length?n.touches:n.changedTouches;return e.each(["pageX","pageY","screenX","screenY","clientX","clientY"],function(){t[this]=i[0][this]}),t},props:e.event.mouseHooks.props.concat(["touches","changedTouches","targetTouches","detail","result","originalTarget","charCode","prevValue"])};e.each(["touchstart","touchmove","touchend","touchcancel"],function(){e.event.fixHooks[this]=t})}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mspointerHooks",["jquery"],function(e){var t={2:"touch",3:"pen",4:"mouse"},n={filter:function(n,i){var r=i.pointerType;return e.isNumeric(r)&&(n.pointerType=t[r]),n},props:e.event.mouseHooks.props.concat(["pointerId","pointerType","originalTarget","width","height","pressure","result","tiltX","charCode","tiltY","detail","isPrimary","prevValue"])};e.each(["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel","MSPointerOver","MSPointerOut","mouseenter","mouseleave","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave"],function(){e.event.fixHooks[this]=n})}),DevExpress.define("/ui/events/pointer/ui.events.pointer.base",["jquery","/utils/utils.browser","/class","/ui/events/ui.events.utils"],function(e,t,n,i){var r="dxPointerEvents";return n.inherit({ctor:function(e,t){this._eventName=e,this._originalEvents=i.addNamespace(t,r),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var e=this._eventName;return"dxpointerenter"===e||"dxpointerleave"===e},_handler:function(e){var n=this._getDelegateTarget(e);return this._fireEvent({type:this._eventName,pointerType:e.pointerType||i.eventSource(e),originalEvent:e,delegateTarget:n,timeStamp:t.mozilla?+new Date:e.timeStamp})},_getDelegateTarget:function(e){var t;return this.noBubble&&(t=e.delegateTarget),t},_fireEvent:function(e){return i.fireEvent(e)},setup:function(){return!0},add:function(t,n){if(this._handlerCount<=0||this.noBubble){this._selector=n.selector,t=this.noBubble?t:document;var i=this;e(t).on(this._originalEvents,this._selector,function(e){i._handler(e)})}this.noBubble||this._handlerCount++},remove:function(){this.noBubble||this._handlerCount--},teardown:function(t){(!this._handlerCount||this.noBubble)&&(t=this.noBubble?t:document,this._originalEvents!=="."+r&&e(t).off(this._originalEvents,this._selector))},dispose:function(t){t=this.noBubble?t:document,e(t).off(this._originalEvents)}})}),DevExpress.define("/ui/events/pointer/ui.events.pointer.observer",["jquery"],function(e){var t=function(t,n){t=t.split(" "),e.each(t,function(e,t){document.addEventListener?document.addEventListener(t,n,!0):document.attachEvent("on"+t,n)})};return function(n,i){var r=[],o=function(t){var n=-1;return e.each(r,function(e,r){return i(t,r)?(n=e,!1):!0}),n},a=function(e){-1===o(e)&&r.push(e)},s=function(e){var t=o(e);t>-1&&r.splice(t,1)},l=function(e){r[o(e)]=e};t(n.dxpointerdown,a),t(n.dxpointermove,l),t(n.dxpointerup,s),t(n.dxpointercancel,s),this.pointers=function(){return r},this.reset=function(){r=[]}}}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mouse",["jquery","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.observer"],function(e,t,n){var i,r={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},o=function(e){return e.pointerId=1,{pointers:i.pointers(),pointerId:1}},a=!1,s=function(){a||(i=new n(r,function(){return!0}),a=!0)},l=t.inherit({ctor:function(){this.callBase.apply(this,arguments),s()},_fireEvent:function(t){return this.callBase(e.extend(o(t.originalEvent),t))}});return l.map=r,l.normalize=o,l.activate=s,l.resetObserver=function(){i.reset()},l}),DevExpress.define("/ui/events/pointer/ui.events.pointer.touch",["jquery","/devices","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.touchHooks"],function(e,t,n){var i={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},r=function(t){var n=[];return e.each(t.touches,function(t,i){n.push(e.extend({pointerId:i.identifier},i))}),{pointers:n,pointerId:t.changedTouches[0].identifier}},o=function(e){return"ios"===t.real().platform&&("dxpointerdown"===e||"dxpointerup"===e)},a=n.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(e){if(o(this._eventName)){var t=e.changedTouches[0];if(this._pointerId===t.identifier&&0!==this._pointerId)return;this._pointerId=t.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(e.extend(r(t.originalEvent),t))}});return a.map=i,a.normalize=r,a}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mouseAndTouch",["jquery","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.mouse","/ui/events/pointer/ui.events.pointer.touch","/ui/events/ui.events.utils"],function(e,t,n,i,r){var o={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},a=!1,s=function(){a||(n.activate(),a=!0)},l=t.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),s()},_handler:function(e){var t,n=r.isMouseEvent(e);return n||(this._skipNextEvents=!0),n&&this._mouseLocked?void 0:n&&this._skipNextEvents?(this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer),t=this,this._unlockMouseTimer=setTimeout(function(){t._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT),void 0):this.callBase(e)},_fireEvent:function(t){var o=r.isMouseEvent(t.originalEvent),a=o?n.normalize:i.normalize;return this.callBase(e.extend(a(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});return l.map=o,l.resetObserver=n.resetObserver,l}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mspointer",["jquery","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.observer","/utils/utils.browser","/ui/events/pointer/ui.events.pointer.mspointerHooks"],function(e,t,n,i){var r,o=i.msie&&10===parseInt(i.version),a={dxpointerdown:"MSPointerDown pointerdown",dxpointermove:"MSPointerMove pointermove",dxpointerup:"MSPointerUp pointerup",dxpointercancel:"MSPointerCancel pointercancel",dxpointerover:"MSPointerOver pointerover",dxpointerout:"MSPointerOut pointerout",dxpointerenter:o?"mouseenter":"MSPointerEnter pointerenter",dxpointerleave:o?"mouseleave":"MSPointerLeave pointerleave"},s=!1,l=function(){s||(r=new n(a,function(e,t){return e.pointerId===t.pointerId}),s=!0)},u=t.inherit({ctor:function(){this.callBase.apply(this,arguments),l()},_fireEvent:function(t){return this.callBase(e.extend({pointers:r.pointers(),pointerId:t.originalEvent.pointerId},t))}});return u.map=a,u.resetObserver=function(){r.reset()},u}),DevExpress.define("/ui/events/pointer/ui.events.pointer",["jquery","/utils/utils.support","/devices","/ui/events/ui.events.eventRegistrator","/ui/events/pointer/ui.events.pointer.touch","/ui/events/pointer/ui.events.pointer.mspointer","/ui/events/pointer/ui.events.pointer.mouse","/ui/events/pointer/ui.events.pointer.mouseAndTouch"],function(e,t,n,i,r,o,a,s){var l=function(){if(t.pointerEvents)return o;var e=n.real();return!t.touch||e.tablet||e.phone?t.touch?r:a:s}();return e.each(l.map,function(e,t){i(e,new l(e,t))}),{down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"}}),DevExpress.define("/ui/events/ui.events.wheel",["jquery","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils"],function(e,t,n){var i,r,o="dxmousewheel",a="dxWheel";return e.event.fixHooks.wheel=e.event.mouseHooks,i=void 0!==document.onwheel?"wheel":"mousewheel",r={setup:function(t){var o=e(t);o.on(n.addNamespace(i,a),e.proxy(r._wheelHandler,r))},teardown:function(t){var n=e(t);n.off("."+a)},_wheelHandler:function(e){var t=this._getWheelDelta(e.originalEvent);n.fireEvent({type:o,originalEvent:e,delta:t,pointerType:"mouse"}),e.stopPropagation()},_getWheelDelta:function(e){return e.wheelDelta?e.wheelDelta:30*-e.deltaY}},t(o,r),{name:o}}),DevExpress.define("/ui/events/ui.events.hover",["jquery","/class","/devices","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(e,t,n,i,r,o){var a="dxHoverStart",s="dxhoverstart",l=r.addNamespace(o.enter,a),u="dxHoverEnd",c="dxhoverend",d=r.addNamespace(o.leave,u),h=t.inherit({noBubble:!0,add:function(t,n){var i=this,r=e(t);r.off(this._originalEventName).on(this._originalEventName,n.selector,function(e){
i._handler(e)})},_handler:function(e){r.isTouchEvent(e)||n.isSimulator()||r.fireEvent({type:this._eventName,originalEvent:e,delegateTarget:e.delegateTarget})},teardown:function(t){e(t).off(this._originalEventName)}}),p=h.inherit({ctor:function(){this._eventName=s,this._originalEventName=l,this._isMouseDown=!1},_handler:function(e){var t=e.pointers||[];t.length||this.callBase(e)}}),f=h.inherit({ctor:function(){this._eventName=c,this._originalEventName=d}});return i(s,new p),i(c,new f),{start:s,end:c}}),DevExpress.define("/ui/events/ui.events.emitterRegistrator",["jquery","/class","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter.gesture","/ui/events/ui.events.wheel"],function(e,t,n,i,r,o,a){var s="dxEventManager",l="dxEmitter",u=t.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=e.proxy(this._cancelHandler,this),this._proxiedAcceptHandler=e.proxy(this._acceptHandler,this)},_attachHandlers:function(){e(document).on(i.addNamespace(r.down,s),e.proxy(this._pointerDownHandler,this)).on(i.addNamespace(r.move,s),e.proxy(this._pointerMoveHandler,this)).on(i.addNamespace([r.up,r.cancel].join(" "),s),e.proxy(this._pointerUpHandler,this)).on(i.addNamespace(a.name,s),e.proxy(this._mouseWheelHandler,this))},_eachEmitter:function(e){for(var t,n=this._activeEmitters||[],i=0;n.length>i&&(t=n[i],e(t)!==!1);)n[i]===t&&i++},_applyToEmitters:function(e,t){this._eachEmitter(function(n){n[e].call(n,t)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(e){this._proxiedCancelHandler(e)},_pointerDownHandler:function(e){i.isMouseEvent(e)&&e.which>1||this._updateEmitters(e)},_updateEmitters:function(e){this._isSetChanged(e)&&(this._cleanEmitters(e),this._fetchEmitters(e))},_isSetChanged:function(t){var n=this._closestEmitter(t),i=this._emittersSet||[],r=n.length!==i.length;return e.each(n,function(e,t){return r=r||i[e]!==t,!r}),this._emittersSet=n,r},_closestEmitter:function(t){function n(e,n){!!n&&n.validatePointers(t)&&n.validate(t)&&(n.addCancelCallback(r._proxiedCancelHandler),n.addAcceptCallback(r._proxiedAcceptHandler),o.push(n))}for(var i,r=this,o=[],a=e(t.target);a.length;)i=e.data(a.get(0),l)||[],e.each(i,n),a=a.parent();return o},_acceptHandler:function(e,t){var n=this;this._eachEmitter(function(i){i!==e&&n._cancelEmitter(i,t)})},_cancelHandler:function(e,t){this._cancelEmitter(e,t)},_cancelEmitter:function(t,n){var i,r=this._activeEmitters;n?t.cancel(n):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback(),i=e.inArray(t,r),i>-1&&r.splice(i,1)},_cleanEmitters:function(e){this._applyToEmitters("end",e),this.reset(e)},_fetchEmitters:function(e){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",e)},_pointerMoveHandler:function(e){this._applyToEmitters("move",e)},_pointerUpHandler:function(e){this._updateEmitters(e)},_mouseWheelHandler:function(e){this._allowInterruptionByMousewheel()&&(e.pointers=[null],this._pointerDownHandler(e),this._adjustWheelEvent(e),this._pointerMoveHandler(e),e.pointers=[],this._pointerUpHandler(e))},_allowInterruptionByMousewheel:function(){var e=!0;return this._eachEmitter(function(t){return e=t.allowInterruptionByMousewheel()&&e}),e},_adjustWheelEvent:function(e){var t=null;if(this._eachEmitter(function(n){if(n instanceof o){var i=n.getDirection(e);if("horizontal"!==i&&!e.shiftKey||"vertical"!==i&&e.shiftKey)return t=n,!1}}),t){var n=t.getDirection(e),i="both"===n&&!e.shiftKey||"vertical"===n,r=i?"pageY":"pageX";e[r]+=e.delta}},isActive:function(e){var t=!1;return this._eachEmitter(function(n){t=t||n.getElement().is(e)}),t}}),c=new u,d="dxEmitterSubscription";return function(t){var i=t.emitter,r=t.events[0],o=t.events;e.each(o,function(a,s){n(s,{noBubble:!t.bubble,setup:function(t){var n=e.data(t,d)||{},o=e.data(t,l)||{},a=o[r]||new i(t);n[s]=!0,o[r]=a,e.data(t,l,o),e.data(t,d,n)},add:function(t,n){var i=e.data(t,l),o=i[r];o.configurate(e.extend({delegateSelector:n.selector},n.data),n.type)},teardown:function(t){var n,i=e.data(t,d),a=e.data(t,l),u=a[r];delete i[s],n=!0,e.each(o,function(e,t){return n=n&&!i[t]}),n&&(c.isActive(t)&&c.resetEmitter(u),u&&u.dispose(),delete a[r])}})})}}),DevExpress.define("/ui/events/ui.events.emitter",["jquery","/class","/ui/events/ui.events.utils"],function(e,t,n){return t.inherit({ctor:function(t){this._$element=e(t),this._cancelCallback=e.Callbacks(),this._acceptCallback=e.Callbacks()},getElement:function(){return this._$element},validate:function(e){return"dxmousewheel"!==e.type},validatePointers:function(e){return 1===n.hasTouches(e)},allowInterruptionByMousewheel:function(){return!0},configurate:function(t){e.extend(this,t)},addCancelCallback:function(e){this._cancelCallback.add(e)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(e){this._cancelCallback.fire(this,e)},addAcceptCallback:function(e){this._acceptCallback.add(e)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(e){this._acceptCallback.fire(this,e)},_requestAccept:function(e){this._acceptRequestEvent=e},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:e.noop,move:e.noop,end:e.noop,cancel:e.noop,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,i,r){var o=e.extend({type:t,originalEvent:i,target:this._getEmitterTarget(i),delegateTarget:this.getElement().get(0)},r);return i=n.fireEvent(o),i.cancel&&this._cancel(i),i},_getEmitterTarget:function(t){return(this.delegateSelector?e(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:e.noop})}),DevExpress.define("/ui/events/ui.events.emitter.gesture",["jquery","/devices","/utils/utils.support","/utils/utils.browser","/utils/utils.dom","/utils/utils.math","/utils/utils.common","/ui/events/ui.events.utils","/ui/events/ui.events.emitter"],function(e,t,n,i,r,o,a,s,l){var u=o.sign,c=Math.abs,d=0,h=1,p=2,f=10,m=0,g=180,_=function(e){return e&&"dxmousewheel"===e.type},v=function(){var e=n.styleProp("pointer-events"),t=i.msie&&parseInt(i.version,10)<11;return e&&!t},y=function(){var n,i="dx-gesture-cover",r="generic"===t.real().platform;return v()&&r?(n=e("<div>").addClass(i).css("pointerEvents","none"),n.on("dxmousewheel",function(e){e.preventDefault()}),e(function(){n.appendTo("body")}),function(e,t){n.css("pointerEvents",e?"all":"none"),e&&n.css("cursor",t)}):e.noop}(),x=l.inherit({configurate:function(e){this.getElement().css("msTouchAction",e.immediate?"pinch-zoom":""),this.callBase(e)},allowInterruptionByMousewheel:function(){return this._stage!==p},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=d},start:function(e){return s.needSkipEvent(e)?void this._cancel(e):(this._startEvent=s.createEvent(e),this._startEventData=s.eventData(e),this._prevEventData=this._startEventData,this._stage=h,this._init(e),this._setupImmediateTimer(),void 0)},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immedeateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout(e.proxy(function(){this._immedeateAccepted=!0},this),g))},move:function(e){if(this._stage===h&&this._directionConfirmed(e)){if(this._stage=p,this._resetActiveElement(),this._toggleGestureCover(!0,e),this._clearSelection(e),this._adjustStartEvent(e),this._start(this._startEvent),this._prevEventData=s.eventData(this._startEvent),this._stage===d)return;this._requestAccept(e),this._move(e),this._forgetAccept()}else this._stage===p&&(this._clearSelection(e),this._move(e));this._prevEventData=s.eventData(e)},_directionConfirmed:function(e){var t=this._getTouchBoundary(e),n=s.eventDelta(this._startEventData,s.eventData(e)),i=c(n.x),r=c(n.y),o=this._validateMove(t,i,r),a=this._validateMove(t,r,i),l=this.getDirection(e),u="both"===l&&(o||a),d="horizontal"===l&&o,h="vertical"===l&&a;return u||d||h||this._immedeateAccepted},_validateMove:function(e,t,n){return t&&t>=e&&(this.immediate?t>=n:!0)},_getTouchBoundary:function(e){return this.immediate||_(e)?m:f},_adjustStartEvent:function(e){var t=this._getTouchBoundary(e),n=s.eventDelta(this._startEventData,s.eventData(e));this._startEvent.pageX+=u(n.x)*t,this._startEvent.pageY+=u(n.y)*t},_resetActiveElement:function(){"ios"===t.real().platform&&e(":focus",this.getElement()).length&&r.resetActiveElement()},_toggleGestureCover:function(e){var t=this._stage===p;t&&y(e,this.getElement().css("cursor"))},_clearSelection:function(e){_(e)||s.isTouchEvent(e)||r.clearSelection()},end:function(e){this._toggleGestureCover(!1,e),this._stage===p?this._end(e):this._stage===h&&this._stop(e),this._stage=d},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:e.noop,_start:e.noop,_move:e.noop,_stop:e.noop,_end:e.noop});return x.initialTouchBoundary=f,x.touchBoundary=function(e){return a.isDefined(e)?void(f=e):f},x}),DevExpress.define("/ui/events/ui.events.emitter.feedback",["jquery","/class","/utils/utils.common","/devices","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter","/ui/events/ui.events.emitterRegistrator"],function(e,t,n,i,r,o,a,s){var l,u="dxactive",c="dxinactive",d=30,h=400,p=t.inherit({ctor:function(e,t){this._timeout=e,this._fire=t},start:function(){var e=this;this._schedule(function(){e.force()})},_schedule:function(e){this._timer=window.setTimeout(e,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),f=a.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new p(0,e.noop),this._inactive=new p(0,e.noop)},configurate:function(e,t){switch(t){case u:e.activeTimeout=e.timeout;break;case c:e.inactiveTimeout=e.timeout}this.callBase(e)},start:function(t){if(l){var n=e.contains(this.getElement().get(0),l.getElement().get(0)),i=!l._active.fired();if(n&&i)return void this._cancel();l._inactive.force()}l=this,this._initEvents(t),this._active.start()},_initEvents:function(e){var t=this,o=this._getEmitterTarget(e),a=r.isMouseEvent(e),s=i.isSimulator(),f=s||!a,m=n.ensureDefined(this.activeTimeout,d),g=n.ensureDefined(this.inactiveTimeout,h);this._active=new p(f?m:0,function(){t._fireEvent(u,e,{target:o})}),this._inactive=new p(f?g:0,function(){t._fireEvent(c,e,{target:o}),l=null})},cancel:function(e){this.end(e)},end:function(e){var t=e.type!==o.up;t?this._active.stop():this._active.force(),this._inactive.start(),t&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),l=null,this._cancel(),e.proxy(this._inactive.force,this._inactive)}});return f.lock=function(t){var n=l?l.lockInactive():e.noop;e.when(t).always(n)},s({emitter:f,events:[u,c]}),{lock:f.lock,active:u,inactive:c}}),function(e,t,n){var i=t.require("/errors"),r=t.require("/utils/utils.translator"),o=t.require("/utils/utils.animationFrame"),a=t.require("/utils/utils.support"),s=t.require("/utils/utils.position"),l=t.require("/ui/events/ui.events.remove"),u=t.require("/ui/events/ui.events.utils"),c=a.transitionEndEventName+".dxFX",d=u.addNamespace(l.name,"dxFX"),h=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,p=/^([+-])=(.*)/i,f="dxAnimData",m="dxAnimQueue",g="transform",_={initAnimation:function(t,n){t.css({transitionProperty:"none"}),"string"==typeof n.from?t.addClass(n.from):X(t,n.from);var i=this,r=e.Deferred(),o=n.cleanupWhen;n.transitionAnimation={deferred:r,finish:function(){i._finishTransition(t,n),o?e.when(r,o).always(function(){i._cleanup(t,n)}):i._cleanup(t,n),r.resolveWith(t,[n,t])}},this._completeAnimationCallback(t,n).done(function(){n.transitionAnimation.finish()}).fail(function(){r.rejectWith(t,[n,t])}),n.duration||n.transitionAnimation.finish(),t.css("transform")},animate:function(e,t){return this._startAnimation(e,t),t.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(n,i){var r,o,a=this,s=e.now()+i.delay,l=e.Deferred(),u=e.Deferred(),h=e.Deferred();return i.transitionAnimation.cleanup=function(){clearTimeout(r),clearTimeout(o),n.off(c),n.off(d)},n.one(c,function(){e.now()-s>=i.duration&&u.reject()}).off(d).on(d,function(){a.stop(n,i),l.reject()}),o=setTimeout(function(){r=setTimeout(function(){h.reject()},i.duration+i.delay+t.fx._simulatedTransitionEndDelay),e.when(u,h).fail(e.proxy(function(){l.resolve()},this))}),l.promise()},_startAnimation:function(e,t){e.css({transitionProperty:"all",transitionDelay:t.delay+"ms",transitionDuration:t.duration+"ms",transitionTimingFunction:t.easing}),"string"==typeof t.to?e[0].className+=" "+t.to:t.to&&X(e,t.to)},_finishTransition:function(e){e.css("transition","none")},_cleanup:function(e,t){t.transitionAnimation.cleanup(),"string"==typeof t.from&&(e.removeClass(t.from),e.removeClass(t.to))},stop:function(t,n,i){n&&(i?n.transitionAnimation.finish():(e.isPlainObject(n.to)&&e.each(n.to,function(e){t.css(e,t.css(e))}),this._finishTransition(t,n),this._cleanup(t,n)))}},v={initAnimation:function(e,t){X(e,t.from)},animate:function(t,i){var a=e.Deferred(),s=this;return i?(e.each(i.to,function(e){i.from[e]===n&&(i.from[e]=s._normalizeValue(t.css(e)))}),i.to[g]&&(i.from[g]=s._parseTransform(i.from[g]),i.to[g]=s._parseTransform(i.to[g])),i.frameAnimation={to:i.to,from:i.from,currentValue:i.from,easing:C(i.easing),duration:i.duration,startTime:(new Date).valueOf(),finish:function(){this.currentValue=this.to,this.draw(),o.cancel(i.frameAnimation.animationFrameId),a.resolve()},draw:function(){if(i.draw)return void i.draw(this.currentValue);var n=e.extend({},this.currentValue);n[g]&&(n[g]=e.map(n[g],function(e,t){return"translate"===t?r.getTranslateCss(e):"scale"===t?"scale("+e+")":"rotate"===t.substr(0,t.length-1)?t+"("+e+"deg)":void 0}).join(" ")),t.css(n)}},i.delay?(i.frameAnimation.startTime+=i.delay,i.frameAnimation.delayTimeout=setTimeout(function(){s._startAnimation(t,i)},i.delay)):s._startAnimation(t,i),a.promise()):a.reject().promise()},_startAnimation:function(e,t){e.off(d).on(d,function(){t.frameAnimation&&o.cancel(t.frameAnimation.animationFrameId)}),this._animationStep(e,t)},_parseTransform:function(t){var n={};return e.each(t.match(/(\w|\d)+\([^\)]*\)\s*/g),function(e,t){var i=r.parseTranslate(t),o=t.match(/scale\((.+?)\)/),a=t.match(/(rotate.)\((.+)deg\)/);i&&(n.translate=i),o&&o[1]&&(n.scale=parseFloat(o[1])),a&&a[1]&&(n[a[1]]=parseFloat(a[2]))}),n},stop:function(e,t,n){var i=t&&t.frameAnimation;i&&(o.cancel(i.animationFrameId),clearTimeout(i.delayTimeout),n&&i.finish(),delete t.frameAnimation)},_animationStep:function(e,t){var n,i,r=t&&t.frameAnimation;if(r){if(n=(new Date).valueOf(),n>=r.startTime+r.duration)return void r.finish();r.currentValue=this._calcStepValue(r,n-r.startTime),r.draw(),i=this,r.animationFrameId=o.request(function(){i._animationStep(e,t)})}},_calcStepValue:function(t,n){var i=function(r,o){var a=e.isArray(o)?[]:{},s=function(i){var a=n/t.duration,s=n,l=1*r[i],u=o[i]-r[i],c=t.duration;return e.easing[t.easing](a,s,l,u,c)};return e.each(o,function(e,t){return"string"==typeof t&&parseFloat(t,10)===!1?!0:void(a[e]="object"==typeof t?i(r[e],t):s(e))}),a};return i(t.from,t.to)},_normalizeValue:function(e){var t=parseFloat(e,10);return t===!1?e:t}},y={initAnimation:function(){},animate:function(){return e.Deferred().resolve().promise()},stop:e.noop,isSynchronous:!0},x={transition:a.transition?_:v,frame:v,noAnimation:y},b=function(e){e=e||{};var t=e.strategy||"transition";return"css"!==e.type||a.transition||(t="noAnimation"),x[t]},w={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},C=function(t){var n,i,r;return t=w[t]||t,n=t.match(h),n?(n=n.slice(1,5),e.each(n,function(e,t){n[e]=parseFloat(t)}),i="cubicbezier_"+n.join("_").replace(/\./g,"p"),e.isFunction(e.easing[i])||(r=function(e,t,n,i){var r=3*e,o=3*(n-e)-r,a=1-r-o,s=3*t,l=3*(i-t)-s,u=1-s-l,c=function(e){return e*(r+e*(o+e*a))},d=function(e){return e*(s+e*(l+e*u))},h=function(e){for(var t,n=e,i=0;14>i&&(t=c(n)-e,!(Math.abs(t)<.001));)n-=t/p(n),i++;return n},p=function(e){return r+e*(2*o+3*e*a)};return function(e){return d(h(e))}},e.easing[i]=function(e,t,i,o,a){return o*r(n[0],n[1],n[2],n[3])(t/a)+i}),i):"linear"},S=function(t,n,r,o){e.each(["from","to"],function(){if(!r(t[this]))throw i.Error("E0010",n,this,o)})},k=function(t,n){return S(t,n,function(t){return e.isPlainObject(t)},"a plain object")},D=function(e,t){return S(e,t,function(e){return"string"==typeof e},"a string")},T={setup:function(){}},E={validateConfig:function(e){D(e,"css")},setup:function(){}},I={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},A={validateConfig:function(e){k(e,"slide")},setup:function(t,n){var i,o=r.locate(t);"slide"!==n.type&&(i="slideIn"===n.type?n.from:n.to,i.position=e.extend({of:window},I[n.direction]),Q(t,i)),this._setUpConfig(o,n.from),this._setUpConfig(o,n.to),r.clearCache(t),a.transform||"static"!==t.css("position")||t.css("position","relative")},_setUpConfig:function(e,t){t.left="left"in t?t.left:"+=0",t.top="top"in t?t.top:"+=0",this._initNewPosition(e,t)},_initNewPosition:function(e,t){var i,o,s={left:t.left,top:t.top};delete t.left,delete t.top,i=this._getRelativeValue(s.left),i!==n?s.left=i+e.left:t.left=0,i=this._getRelativeValue(s.top),i!==n?s.top=i+e.top:t.top=0,o={x:0,y:0},a.transform?o={x:s.left,y:s.top}:(t.left=s.left,t.top=s.top),t[g]=r.getTranslateCss(o)},_getRelativeValue:function(e){var t;return"string"==typeof e&&(t=p.exec(e))?parseInt(t[1]+"1")*t[2]:void 0}},$={setup:function(t,n){var i,r=n.from,o=e.isPlainObject(r)?n.skipElementInitialStyles?0:t.css("opacity"):String(r);switch(n.type){case"fadeIn":i=1;break;case"fadeOut":i=0;break;default:i=String(n.to)}n.from={visibility:"visible",opacity:o},n.to={opacity:i}}},B={validateConfig:function(e){k(e,"pop")},setup:function(e,t){var n,i=t.from,o=t.to,a="opacity"in i?i.opacity:e.css("opacity"),s="opacity"in o?o.opacity:1,l="scale"in i?i.scale:0,u="scale"in o?o.scale:1;t.from={opacity:a},n=r.getTranslate(e),t.from[g]=this._getCssTransform(n,l),t.to={opacity:s},t.to[g]=this._getCssTransform(n,u)},_getCssTransform:function(e,t){return r.getTranslateCss(e)+"scale("+t+")"}},O={custom:T,slide:A,slideIn:A,slideOut:A,fade:$,fadeIn:$,fadeOut:$,pop:B,css:E},P=function(e){var t=O[e.type];if(!t)throw i.Error("E0011",e.type);return t},M={type:"custom",from:{},to:{},duration:400,start:e.noop,complete:e.noop,easing:"ease",delay:0},R={duration:400,easing:"ease",delay:0},V=function(){var e=this,n=e.element,i=e.config;Q(n,i.from),Q(n,i.to),e.configurator.setup(n,i),n.data(f,e),t.fx.off&&(i.duration=0,i.delay=0),e.strategy.initAnimation(n,i),i.start&&i.start.apply(this,[n,i])},L=function(e){var t=e.element,n=e.config;t.removeData(f),n.complete&&n.complete.apply(this,[t,n]),e.deferred.resolveWith(this,[t,n])},F=function(){var e=this,t=e.element,n=e.config;return e.isStarted=!0,e.strategy.animate(t,n).done(function(){L(e)}).fail(function(){e.deferred.rejectWith(this,[t,n])})},z=function(e){var t=this,n=t.element,i=t.config;clearTimeout(t.startTimeout),t.isStarted||t.start(),t.strategy.stop(n,i,e)},H=function(t,n){var i="css"===n.type?R:M,r=e.extend(!0,{},i,n),o=P(r),a=b(r),s={element:e(t),config:r,configurator:o,strategy:a,isSynchronous:a.isSynchronous,setup:V,start:F,stop:z,deferred:e.Deferred()};return e.isFunction(o.validateConfig)&&o.validateConfig(r),s},N=function(t,n){var i,r=e(t);return r.length?(i=H(r,n),j(r,i),i.deferred.promise()):e.Deferred().resolve().promise()},j=function(e,t){var n=W(e);G(e,n),n.push(t),U(e)||Y(e,n)},W=function(e){return e.data(m)||[]},G=function(e,t){e.data(m,t)},q=function(e){e.removeData(m)},U=function(e){return!!e.data(f)},Y=function(e,t){if(t=W(e),t.length){var n=t.shift();0===t.length&&q(e),K(n).done(function(){U(e)||Y(e)})}},K=function(e){if(e.setup(),t.fx.off||e.isSynchronous)e.start();else{e.startTimeout=setTimeout(function(){e.start()});var n=u.addNamespace(l.name,"dxFXStartAnimation");e.element.off(n).on(n,function(){clearTimeout(e.startTimeout)})}return e.deferred.promise()},Q=function(t,n){if(n&&n.position){var i=s.calculate(t,n.position),r=t.offset(),o=t.position();e.extend(n,{left:i.h.location-r.left+o.left,top:i.v.location-r.top+o.top}),delete n.position}},X=function(t,n){e.each(n,function(e,n){try{t.css(e,n)}catch(i){}})},Z=function(t,n){var i,r=e(t),o=W(r);e.each(o,function(e,t){t.config.delay=0,t.config.duration=0,t.isSynchronous=!0}),U(r)||Y(r,o),i=r.data(f),i&&i.stop(n),r.removeData(f),q(r)};t.fx={off:!1,animationTypes:O,animate:N,createAnimation:H,isAnimating:U,stop:Z,_simulatedTransitionEndDelay:100}}(jQuery,DevExpress),DevExpress.define("/validationEngine",function(e,t,n){var i=n("jquery"),r=n("/class"),o=n("/eventsMixin"),a=n("/errors"),s=n("/utils/utils.common"),l={required:{validate:function(e,t){return s.isDefined(e)?e===!1?!1:(e=String(e),(t.trim||!s.isDefined(t.trim))&&(e=i.trim(e)),""!==e):!1},defaultMessage:function(){return Globalize.localize("validation-required")},defaultFormattedMessage:function(){return Globalize.localize("validation-required-formatted")}},numeric:{validate:function(e,t){return l.required.validate(e,{})?t.useCultureSettings&&s.isString(e)?!isNaN(Globalize.parseFloat(e)):i.isNumeric(e):!0},defaultMessage:function(){return Globalize.localize("validation-numeric")},defaultFormattedMessage:function(){return Globalize.localize("validation-numeric-formatted")}},range:{validate:function(e,t){if(!l.required.validate(e,{}))return!0;var n=l.numeric.validate(e,t),i=s.isDefined(e),r=n?parseFloat(e):i&&e.valueOf(),o=t.min,u=t.max;if(!n&&!s.isDate(e)&&!i)return!1;if(s.isDefined(o))return s.isDefined(u)?r>=o&&u>=r:r>=o;if(s.isDefined(u))return u>=r;throw a.Error("E0101")},defaultMessage:function(){return Globalize.localize("validation-range")},defaultFormattedMessage:function(){return Globalize.localize("validation-range-formatted")}},stringLength:{validate:function(e,t){return e=s.isDefined(e)?String(e):"",(t.trim||!s.isDefined(t.trim))&&(e=i.trim(e)),l.range.validate(e.length,i.extend({},t))},defaultMessage:function(){return Globalize.localize("validation-stringLength")},defaultFormattedMessage:function(){return Globalize.localize("validation-stringLength-formatted")}},custom:{validate:function(e,t){return t.validationCallback({value:e,validator:t.validator,rule:t})},defaultMessage:function(){return Globalize.localize("validation-custom")},defaultFormattedMessage:function(){return Globalize.localize("validation-custom-formatted")}},compare:{validate:function(e,t){if(!t.comparisonTarget)throw a.Error("E0102");i.extend(t,{reevaluate:!0});var n=t.comparisonTarget(),r=t.comparisonType||"==";switch(r){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return n>e;case"<=":return n>=e}},defaultMessage:function(){return Globalize.localize("validation-compare")},defaultFormattedMessage:function(){return Globalize.localize("validation-compare-formatted")}},pattern:{validate:function(e,t){if(!l.required.validate(e,{}))return!0;var n=t.pattern;return s.isString(n)&&(n=new RegExp(n)),n.test(e)},defaultMessage:function(){return Globalize.localize("validation-pattern")},defaultFormattedMessage:function(){return Globalize.localize("validation-pattern-formatted")}},email:{validate:function(e,t){return l.required.validate(e,{})?l.pattern.validate(e,i.extend({},t,{pattern:/^[\d\w\._\-]+@([\d\w\._\-]+\.)+[\w]+$/i})):!0},defaultMessage:function(){return Globalize.localize("validation-email")},defaultFormattedMessage:function(){return Globalize.localize("validation-email-formatted")}}},u=r.inherit({ctor:function(e){this.group=e,this.validators=[]},validate:function(){var e={isValid:!0,brokenRules:[],validators:[]};return i.each(this.validators,function(t,n){var i=n.validate();e.isValid=e.isValid&&i.isValid,i.brokenRule&&e.brokenRules.push(i.brokenRule),e.validators.push(n)}),this.fireEvent("validated",[{validators:e.validators,brokenRules:e.brokenRules,isValid:e.isValid}]),e},reset:function(){i.each(this.validators,function(e,t){t.reset()})}}).include(o),c={groups:[],getGroupConfig:function(e){var t=i.grep(this.groups,function(t){return t.group===e});return t.length?t[0]:void 0},initGroups:function(){this.groups=[],this.addGroup()},addGroup:function(e){var t=this.getGroupConfig(e);return t||(t=new u(e),this.groups.push(t)),t},removeGroup:function(e){var t=this.getGroupConfig(e),n=i.inArray(t,this.groups);return n>-1&&this.groups.splice(n,1),t},_setDefaultMessage:function(e,t,n){s.isDefined(e.message)||(e.message=t.defaultFormattedMessage&&s.isDefined(n)?t.defaultFormattedMessage().replace(/\{0\}/,n):t.defaultMessage())},validate:function(e,t,n){var r={name:n,value:e,brokenRule:null,isValid:!0,validationRules:t},o=this;return i.each(t||[],function(t,i){var u,c=l[i.type];if(!c)throw a.Error("E0100");return s.isDefined(i.isValid)&&i.value===e&&!i.reevaluate?i.isValid?!0:(r.isValid=!1,r.brokenRule=i,!1):(i.value=e,u=c.validate(e,i),i.isValid=u,u||(r.isValid=!1,o._setDefaultMessage(i,c,n),r.brokenRule=i),i.isValid?void 0:!1)}),r},registerValidatorInGroup:function(e,t){var n=c.addGroup(e);i.inArray(t,n.validators)<0&&n.validators.push(t)},removeRegistredValidator:function(e,t){var n=c.getGroupConfig(e),r=n&&n.validators,o=i.inArray(t,r);o>-1&&r.splice(o,1)},validateGroup:function(e){var t=c.getGroupConfig(e);if(!t)throw a.Error("E0110");return t.validate()},resetGroup:function(e){var t=c.getGroupConfig(e);if(!t)throw a.Error("E0110");return t.reset()}};c.initGroups(),e.exports=c}),function(e,t){var n=DevExpress.require("/class"),i=t.require("/utils/utils.common"),r=t.require("/component"),o=t.require("/devices"),a={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"},s="dx-animating",l=n.inherit({ctor:function(){this._accumulatedDelays={enter:0,leave:0},this._animations=[],this.reset()},_createAnimations:function(t,n,i,r){var o,a=this,l=[];return i=i||{},o=this._prepareElementAnimationConfig(n,i,r),o&&t.each(function(){var t=a._createAnimation(e(this),o,i);t&&(t.element.addClass(s),t.setup(),l.push(t))}),l},_prepareElementAnimationConfig:function(n,i,r){var o,s,l,u;return"string"==typeof n&&(s=n,n=t.animationPresets.getPreset(s)),n?e.isFunction(n[r])?o=n[r]:(o=e.extend({skipElementInitialStyles:!0,cleanupWhen:this._completePromise},n,i),o.type&&"css"!==o.type||(l="dx-"+r,u=(o.extraCssClasses?" "+o.extraCssClasses:"")+a[o.direction],o.type="css",o.from=(o.from||l)+u,o.to=o.to||l+"-active"),o.staggerDelay=o.staggerDelay||0,o.delay=o.delay||0,o.staggerDelay&&(o.delay+=this._accumulatedDelays[r],this._accumulatedDelays[r]+=o.staggerDelay)):o=void 0,o},_createAnimation:function(n,i,r){var o;return e.isPlainObject(i)?o=t.fx.createAnimation(n,i):e.isFunction(i)&&(o=i(n,r)),o},_startAnimations:function(){for(var e=this._animations,t=0;t<e.length;t++)e[t].start()},_stopAnimations:function(){for(var e=this._animations,t=0;t<e.length;t++)e[t].stop()},_clearAnimations:function(){for(var e=this._animations,t=0;t<e.length;t++)e[t].element.removeClass(s);this._animations.length=0},reset:function(){this._accumulatedDelays.enter=0,this._accumulatedDelays.leave=0,this._clearAnimations(),this._completeDeferred=e.Deferred(),this._completePromise=this._completeDeferred.promise()},enter:function(e,t,n){var i=this._createAnimations(e,t,n,"enter");this._animations.push.apply(this._animations,i)},leave:function(e,t,n){var i=this._createAnimations(e,t,n,"leave");this._animations.push.apply(this._animations,i)},start:function(){var t,n,r=this;return this._animations.length?(n=e.map(this._animations,function(t){var n=e.Deferred();return t.deferred.always(function(){n.resolve()}),n.promise()}),t=e.when.apply(e,n).always(function(){r._completeDeferred.resolve(),r.reset()}),i.executeAsync(function(){r._startAnimations()})):(r.reset(),t=e.Deferred().resolve().promise()),t},stop:function(){this._stopAnimations()}}),u="preset_",c=r.inherit({ctor:function(){this.callBase.apply(this,arguments),this._customRules=[],this._registeredPresets=[],this.resetToDefaults()},_getDefaultOptions:function(){return e.extend(this.callBase(),{defaultAnimationDuration:400,defaultAnimationDelay:0,defaultStaggerAnimationDuration:300,defaultStaggerAnimationDelay:40,defaultStaggerAnimationStartDelay:500})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return e.phone},options:{defaultStaggerAnimationDuration:350,defaultStaggerAnimationDelay:50,defaultStaggerAnimationStartDelay:0}},{device:function(){return o.current().android||o.real.android},options:{defaultAnimationDelay:100}}])},_getPresetOptionName:function(e){return u+e},_createAndroidSlideAnimationConfig:function(e,n){var i=this,r=function(e){return{type:"slide",delay:void 0===e.delay?i.option("defaultAnimationDelay"):e.delay,duration:void 0===e.duration?i.option("defaultAnimationDuration"):e.duration}};return{enter:function(i,o){var a=i.parent().width()*n,s=o.direction,l=r(o);return l.to={left:0,opacity:1},l.from="forward"===s?{left:a,opacity:e}:"backward"===s?{left:-a,opacity:e}:{left:0,opacity:0},t.fx.createAnimation(i,l)},leave:function(i,o){var a=i.parent().width()*n,s=o.direction,l=r(o);return l.from={left:0,opacity:1},l.to="forward"===s?{left:-a,opacity:e}:"backward"===s?{left:a,opacity:e}:{left:0,opacity:0},t.fx.createAnimation(i,l)}}},_createOpenDoorConfig:function(){var e=this,n=function(t){return{type:"css",extraCssClasses:"dx-opendoor-animation",delay:void 0===t.delay?e.option("defaultAnimationDelay"):t.delay,duration:void 0===t.duration?e.option("defaultAnimationDuration"):t.duration}};return{enter:function(e,i){var r=i.direction,o=n(i);return o.delay="none"===r?o.delay:o.duration,o.from="dx-enter dx-opendoor-animation"+a[r],o.to="dx-enter-active",t.fx.createAnimation(e,o)},leave:function(e,i){var r=i.direction,o=n(i);return o.from="dx-leave dx-opendoor-animation"+a[r],o.to="dx-leave-active",t.fx.createAnimation(e,o)}}},_createWinPopConfig:function(){var e=this,n={type:"css",extraCssClasses:"dx-win-pop-animation",duration:e.option("defaultAnimationDuration")};return{enter:function(i,r){var o=n,s=r.direction;return o.delay="none"===s?e.option("defaultAnimationDelay"):e.option("defaultAnimationDuration")/2,o.from="dx-enter dx-win-pop-animation"+a[s],o.to="dx-enter-active",t.fx.createAnimation(i,o)},leave:function(i,r){var o=n,s=r.direction;return o.delay=e.option("defaultAnimationDelay"),o.from="dx-leave dx-win-pop-animation"+a[s],o.to="dx-leave-active",t.fx.createAnimation(i,o)}}},resetToDefaults:function(){this.clear(),this.registerDefaultPresets(),this.applyChanges()},clear:function(t){var n=this,i=[];e.each(this._registeredPresets,function(e,r){t&&t!==r.name?i.push(r):n.option(n._getPresetOptionName(r.name),void 0)}),this._registeredPresets=i,this.applyChanges()},registerPreset:function(e,t){this._registeredPresets.push({name:e,config:t})},applyChanges:function(){var t=this;this._customRules.length=0,e.each(this._registeredPresets,function(e,n){var i={device:n.config.device,options:{}};i.options[t._getPresetOptionName(n.name)]=n.config.animation,t._customRules.push(i)}),this._setOptionsByDevice()},getPreset:function(e){for(var t=e;"string"==typeof t;)t=this.option(this._getPresetOptionName(t));return t},registerDefaultPresets:function(){this.registerPreset("pop",{animation:{extraCssClasses:"dx-android-pop-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")
}}),this.registerPreset("openDoor",{animation:this._createOpenDoorConfig()}),this.registerPreset("win-pop",{animation:this._createWinPopConfig()}),this.registerPreset("fade",{animation:{extraCssClasses:"dx-fade-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("slide",{device:function(){return o.current().android||o.real.android},animation:this._createAndroidSlideAnimationConfig(1,1)}),this.registerPreset("slide",{device:function(){return!o.current().android&&!o.real.android},animation:{extraCssClasses:"dx-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-slide",{animation:{extraCssClasses:"dx-ios7-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("overflow",{animation:{extraCssClasses:"dx-overflow-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return!o.current().android&&!o.real.android},animation:{extraCssClasses:"dx-ios7-toolbar-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return o.current().android||o.real.android},animation:this._createAndroidSlideAnimationConfig(0,.4)}),this.registerPreset("stagger-fade",{animation:{extraCssClasses:"dx-fade-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-slide",{animation:{extraCssClasses:"dx-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-slide",{animation:{extraCssClasses:"dx-fade-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-drop",{animation:{extraCssClasses:"dx-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-drop",{animation:{extraCssClasses:"dx-fade-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-rise",{animation:{extraCssClasses:"dx-fade-rise-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-3d-drop",{animation:{extraCssClasses:"dx-3d-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-zoom",{animation:{extraCssClasses:"dx-fade-zoom-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}})}});t.TransitionExecutor=l,t.AnimationPresetCollection=c,t.animationPresets=new c}(jQuery,DevExpress),DevExpress.define("/integration/jquery/jquery.defaultTemplates",["jquery","/utils/utils.inflector","/utils/utils.icon","/utils/utils.date","/utils/utils.common"],function(e,t,n,i,r){var o,a,s,l,u,c,d=t.camelize,h={},p=function(){return e()},f="dx-item-content-placeholder";h.CollectionWidget={item:function(t){var n=e("<div>");return e.isPlainObject(t)?(t.text&&n.text(t.text),t.html&&n.html(t.html)):n.text(String(t)),n},itemFrame:function(t){var n,i=e("<div>");return i.toggleClass("dx-state-invisible",void 0!==t.visible&&!t.visible),i.toggleClass("dx-state-disabled",!!t.disabled),n=e("<div>").addClass(f),i.append(n),i}},o="dx-button-text",h.dxButton={content:function(t){var i=e("<div>"),r=n.getImageContainer(t.icon),a=t.text?e("<span>").text(t.text).addClass(o):void 0;return i.append(r).append(a),i}};var m="dx-list-item-badge-container",g="dx-list-item-badge",_="dx-badge",v="dx-list-item-chevron-container",y="dx-list-item-chevron";h.dxList={item:function(t){var n,i=h.CollectionWidget.item(t);return t.key&&(n=e("<div>").text(t.key),n.appendTo(i)),i},itemFrame:function(t){var n,i,r,o,a=h.CollectionWidget.itemFrame(t);return t.badge&&(n=e("<div>").addClass(m),i=e("<div>").addClass(g).addClass(_),i.text(t.badge),n.append(i).appendTo(a)),t.showChevron&&(r=e("<div>").addClass(v),o=e("<div>").addClass(y),r.append(o).appendTo(a)),a},group:function(t){var n=e("<div>");return e.isPlainObject(t)?t.key&&n.text(t.key):n.html(String(t)),n}},h.dxDropDownMenu={item:h.dxList.item,content:h.dxButton.content},h.dxDropDownList={item:h.dxList.item},h.dxRadioGroup={item:h.CollectionWidget.item},h.dxScheduler={item:function(t){var n=h.CollectionWidget.item(t),r=e("<div>").addClass("dx-scheduler-appointment-content-details");return t.startDate&&e("<div>").text(Globalize.format(i.makeDate(t.startDate),"t")).addClass("dx-scheduler-appointment-content-date").appendTo(r),t.endDate&&(e("<div>").text(" - ").addClass("dx-scheduler-appointment-content-date").appendTo(r),e("<div>").text(Globalize.format(i.makeDate(t.endDate),"t")).addClass("dx-scheduler-appointment-content-date").appendTo(r)),r.appendTo(n),t.recurrenceRule&&e("<span>").addClass("dx-scheduler-appointment-recurrence-icon dx-icon-repeat").appendTo(n),n},appointmentTooltip:p,appointmentPopup:p},h.dxOverlay={content:p},h.dxSlideOutView={menu:p,content:p},h.dxSlideOut={menuItem:h.dxList.item,menuGroup:h.dxList.group,content:p},h.dxAccordion={title:function(t){var i=e("<div>"),r=t.icon,o=t.iconSrc,a=n.getImageContainer(r||o);return e.isPlainObject(t)?t.title&&i.text(t.title):i.html(String(t)),a&&a.prependTo(i),i},item:h.CollectionWidget.item},h.dxActionSheet={item:function(t){return e("<div>").append(e("<div>").dxButton(e.extend({onClick:t.click},t)))}},a="dx-gallery-item-image",h.dxGallery={item:function(t){var n=e("<div>"),i=e("<img>").addClass(a);return e.isPlainObject(t)?i.attr({src:t.imageSrc,alt:t.imageAlt}).appendTo(n):i.attr("src",String(t)).appendTo(n),n}};var x="dx-menu-item-text",b="dx-menu-item-popout",w="dx-menu-item-popout-container";return h.dxMenuBase={item:function(t){var i,o,a,s=e("<div>"),l=t.icon,u=t.iconSrc,c=n.getImageContainer(l||u);return c&&c.appendTo(s),!r.isPrimitive(t)&&t.text?i=e("<span>").addClass(x).text(t.text):e.isPlainObject(t)||(i=e("<span>").addClass(x).html(String(t))),s.append(i),t.items&&t.items.length>0&&(a=e("<span>").addClass(w).appendTo(s),o=e("<div>").addClass(b).appendTo(a)),s}},s="dx-panorama-item-title",h.dxPanorama={itemFrame:function(t){var n,i=h.CollectionWidget.itemFrame(t);return t.title&&(n=e("<div>").addClass(s).text(t.title),i.prepend(n)),i}},h.dxPivotTabs={item:function(t){var n,i=e("<div>");return n=t&&t.title?e("<span>").text(t.title):e("<span>").text(String(t)),i.html(n),i}},h.dxPivot={title:h.dxPivotTabs.item,content:p},l="dx-tab-text",h.dxTabs={item:function(t){var i=h.CollectionWidget.item(t);if(t.html)return i;var r=t.icon,o=t.iconSrc,a=n.getImageContainer(r||o);return t.html||i.wrapInner(e("<span>").addClass(l)),a&&a.prependTo(i),i},itemFrame:function(t){var n=e(),i=h.CollectionWidget.itemFrame(t);return t.badge&&(n=e("<div>",{"class":"dx-tabs-item-badge dx-badge"}).text(t.badge)),i.append(n),i}},h.dxTabPanel={item:h.CollectionWidget.item,title:function(t){var n,i=t;return e.isPlainObject(t)&&(i=e.extend({},t,{text:t.title,html:null})),n=h.dxTabs.item(i)}},u="dx-navbar-item-badge",h.dxNavBar={itemFrame:function(t){var n,i=h.CollectionWidget.itemFrame(t);return t.badge&&(n=e("<div>").addClass(u).addClass(_),n.text(t.badge),n.appendTo(i)),i}},h.dxToolbar={item:function(t){var n,i,r=h.CollectionWidget.item(t),o=t.widget;return o?(n=e("<div>").appendTo(r),i=t.options||{},("button"===o||"tabs"===o||"dropDownMenu"===o)&&(o=d("dx-"+o)),n[o](i)):t.text&&r.wrapInner("<div>"),r},menuItem:h.dxList.item,actionSheetItem:h.dxActionSheet.item},h.dxTreeView={item:function(t){var i=e("<div>"),r=t.icon,o=t.iconSrc,a=n.getImageContainer(r||o);return t.html?i.html(t.html):(a&&a.appendTo(i),e("<span>").text(t.text).appendTo(i)),i}},c=function(t){return e("<div>").append(e("<div>").dxToolbar({items:t}))},h.dxPopup={title:c,bottom:c},h.dxLookup={title:h.dxPopup.title,group:h.dxList.group},h.dxTagBox={tag:function(t){return e("<div>").append(e("<span>").text(t))}},h.dxCalendar={cell:function(t){return e("<div>").append(e("<span>").text(t.text||String(t)))}},h}),DevExpress.define("/integration/jquery/jquery.template",["jquery","/ui/templates/ui.templateBase","/errors","/utils/utils.common","/utils/utils.dom"],function(e,t,n,i,r){var o,a,s,l={},u=function(e,t){l[e]=t},c=function(t){t=e(t);var n=t.length&&t[0].nodeName.toLowerCase();return"script"===n?t.html():(t=e("<div>").append(t),t.html())};return u("default",{compile:function(e){return r.normalizeTemplateElement(e)},render:function(e){return e.clone()}}),u("jquery-tmpl",{compile:function(e){return c(e)},render:function(t,n){return e.tmpl(t,n)}}),u("jsrender",{compile:function(t){return e.templates(c(t))},render:function(e,t){return e.render(t)}}),u("mustache",{compile:function(e){return Mustache.compile(c(e))},render:function(e,t){return e(t)}}),u("hogan",{compile:function(e){return Hogan.compile(c(e))},render:function(e,t){return e.render(t)}}),u("underscore",{compile:function(e){return _.template(c(e))},render:function(e,t){return e(t)}}),u("handlebars",{compile:function(e){return Handlebars.compile(c(e))},render:function(e,t){return e(t)}}),u("doT",{compile:function(e){return doT.template(c(e))},render:function(e,t){return e(t)}}),a=function(e){if(i.isString(e)){if(o=l[e],!o)throw n.Error("E0020",e)}else o=e},a("default"),s=t.inherit({ctor:function(e,t){this.callBase(e,t),this._compiledTemplate=o.compile(e)},_renderCore:function(t){return e("<div>").append(o.render(this._compiledTemplate,t)).contents()}}),s.setTemplateEngine=a,s}),DevExpress.define("/integration/jquery/jquery.templateProvider",["jquery","/ui/templates/ui.templateProviderBase","/integration/jquery/jquery.template","/ui/templates/ui.template.function","/integration/jquery/jquery.defaultTemplates"],function(e,t,n,i,r){var o=t.inherit({createTemplate:function(e,t){return new n(e,t)},_templatesForWidget:function(t){var n=r[t]||{},o={};return e.each(n,function(e,t){o[e]=new i(function(){var n=t.apply(this,arguments);return"itemFrame"!==e&&(n=n.contents()),n},a)}),o}}),a=new o;return a}),DevExpress.define("/integration/jquery/jquery.selectors",["jquery"],function(e){var t=function(e,t){var i=e.nodeName.toLowerCase(),r=!isNaN(t),o=n(e),a=e.disabled,s=/^(input|select|textarea|button|object|iframe)$/.test(i),l="a"===i,u=!0;return u=s?!a:l?e.href||r:r,o?u:!1},n=function(t){var n=e(t);return n.is(":visible")&&"hidden"!==n.css("visibility")&&"hidden"!==n.parents().css("visibility")},i=function(t,n){var i=!1;return e.each(e(t).contents(),function(e,t){return 3===t.nodeType&&(t.textContent||t.nodeValue||"").toLowerCase().indexOf((n||"").toLowerCase())>-1?(i=!0,!1):void 0}),i};return e.extend(e.expr[":"],{"dx-focusable":function(n){return t(n,e.attr(n,"tabindex"))},"dx-tabbable":function(n){var i=e.attr(n,"tabindex");return(isNaN(i)||i>=0)&&t(n,i)},"dx-icontains":e.expr.createPseudo(function(e){return function(t){return i(t,e)}})}),{focusable:":dx-focusable",tabbable:":dx-tabbable",icontains:":dx-icontains"}}),DevExpress.define("/integration/knockout/ko.componentRegistrator",["jquery","/componentRegistrator","/errors","/ui/ui.widget","/integration/knockout/ko.templateProvider","/ui/ui.editor","/utils/utils.locker"],function(e,t,n,i,r,o,a){var s=window.ko,l="dxKoLocks",u="dxKoCreation",c=[],d=function(t,n){n.subclassOf(o)&&c.push(t),s.bindingHandlers[t]={init:function(o,c){var d=e(o),h=e.Callbacks(),p={templateProvider:r,modelByElement:function(e){return e.length?s.dataFor(e.get(0)):void 0},nestedComponentOptions:function(e){return{modelByElement:e.option("modelByElement"),nestedComponentOptions:e.option("nestedComponentOptions")}},_optionChangedCallbacks:h},f={},m=function(e,n){var i=d.data(t),r=d.data(l),o=s.unwrap(n);if(s.isWriteableObservable(n)&&(f[e]=n),i){if(r.locked(e))return;r.obtain(e);try{s.ignoreDependencies?s.ignoreDependencies(i.option,i,[e,o]):i.option(e,o)}finally{r.release(e)}}else p[e]=o},g=function(e){var t,n,i=e.fullName,r=e.value;if(i in f&&(t=this._$element,n=t.data(l),!n.locked(i))){n.obtain(i);try{f[i](r)}finally{n.release(i)}}},_=function(){h.add(g),d.data(u,!0).data(l,new a)[t](p),p=null},v=function(t,n,i){var r;s.computed(function(){var e=t[n];m(i,e),r=s.unwrap(e)},null,{disposeWhenNodeIsRemoved:o}),e.isPlainObject(r)&&y(r,i)},y=function(e,t){for(var n in e)e.hasOwnProperty(n)&&v(e,n,t?[t,n].join("."):n)};return s.computed(function(){var e=d.data(t),n=s.unwrap(c());e&&e.beginUpdate(),y(n),e?e.endUpdate():_()},null,{disposeWhenNodeIsRemoved:o}),{controlsDescendantBindings:n.subclassOf(i)}}},"dxValidator"===t&&(s.bindingHandlers.dxValidator.after=c)};t.callbacks.add(function(e,t){d(e,t)})}),DevExpress.define("/integration/knockout/ko.components",["jquery","/utils/utils.icon","/utils/utils.inflector","/action"],function(e,t,n,i){var r=window.ko;r.bindingHandlers.dxAction={update:function(t,n,o,a){var s,l=e(t),u=r.utils.unwrapObservable(n()),c=u,d={context:t};u.execute&&(c=u.execute,e.extend(d,u)),s=new i(c,d),l.off(".dxActionBinding").on("dxclick.dxActionBinding",function(e){s.execute({element:l,model:a,evaluate:function(e){var n,i=a;return e.length>0&&"$"===e[0]&&(i=r.contextFor(t)),(n=DevExpress.data.utils.compileGetter(e))(i)},jQueryEvent:e}),d.bubbling||e.stopPropagation()})}},r.bindingHandlers.dxControlsDescendantBindings={init:function(e,t){return{controlsDescendantBindings:r.unwrap(t())}}},r.bindingHandlers.dxPolymorphWidget={init:function(t,i,o,a,s){var l,u,c=r.utils.unwrapObservable(i()).name;return c?(r.virtualElements.emptyNode(t),("button"===c||"tabs"===c||"dropDownMenu"===c)&&(c=n.camelize("dx-"+c)),l=e('<div data-bind="'+c+': options">').get(0),r.virtualElements.prepend(t,l),u=s.extend(i),r.applyBindingsToDescendants(u,t),{controlsDescendantBindings:!0}):void 0}},r.virtualElements.allowedBindings.dxPolymorphWidget=!0,r.bindingHandlers.dxIcon={init:function(e,n){var i=r.utils.unwrapObservable(n())||{},o=t.getImageContainer(i);r.virtualElements.emptyNode(e),o&&r.virtualElements.prepend(e,o.get(0))},update:function(e,n){var i=r.utils.unwrapObservable(n())||{},o=t.getImageContainer(i);r.virtualElements.emptyNode(e),o&&r.virtualElements.prepend(e,o.get(0))}},r.virtualElements.allowedBindings.dxIcon=!0}),DevExpress.define("/integration/knockout/ko.defaultTemplates",["jquery"],function(e){var t,n,i,r,o,a={},s=function(t,n,i,r){i=void 0===i?!0:i;var o=e.map(n,function(e,t){return t+":"+e}).join(",");return r=r||"","<"+t+' data-bind="'+o+'" '+r+">"+(i?"</"+t+">":"")},l={css:"{ 'dx-state-disabled': $data.disabled, 'dx-state-invisible': !($data.visible === undefined || ko.unwrap($data.visible)) }"},u=function(){return""};a.CollectionWidget={itemFrame:function(){var e=[s("div",l,!1),"<div class='dx-item-content-placeholder'></div>","</div>"];return e.join("")},item:function(){var e=s("div",{html:"html"}),t=s("div",{text:"text"}),n=s("div",{text:"String($data)"}),i=["<div>","<!-- ko if: $data.html -->",e,"<!-- /ko -->","<!-- ko if: !$data.html && $data.text -->",t,"<!-- /ko -->","<!-- ko ifnot: $.isPlainObject($data) -->",n,"<!-- /ko -->","</div>"];return i.join("")}},t="dx-button-text",a.dxButton={content:function(){var e=s("span",{text:"$data.text",css:"{ '"+t+"' : !!$data.text }"}),n=["<div>","<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->",e,"</div>"];return n.join("")}};var c="dx-list-item-badge-container",d="dx-list-item-badge",h="dx-badge",p="dx-list-item-chevron-container",f="dx-list-item-chevron";return a.dxList={item:function(){var e=a.CollectionWidget.item(),t=s("div",{text:"key"});return e=[e.substring(0,e.length-6),"<!-- ko if: $data.key -->"+t+"<!-- /ko -->","</div>"],e.join("")},itemFrame:function(){var e=a.CollectionWidget.itemFrame(),t=s("div",{text:"badge"},!0,'class="'+d+" "+h+'"'),n=[e.substring(0,e.length-6),"<!-- ko if: $data.badge -->",'<div class="'+c+'">',t,"</div>","<!-- /ko -->","<!-- ko if: $data.showChevron -->",'<div class="'+p+'">','<div class="'+f+'"></div>',"</div>","<!-- /ko -->","</div>"];return n.join("")},group:function(){var e=s("div",{text:"key"}),t=s("div",{text:"String($data)"}),n=["<div>","<!-- ko if: $data.key -->",e,"<!-- /ko -->","<!-- ko ifnot: $.isPlainObject($data) -->",t,"<!-- /ko -->","</div>"];return n.join("")}},a.dxDropDownMenu={item:a.dxList.item,content:a.dxButton.content},a.dxDropDownList={item:a.dxList.item},a.dxRadioGroup={item:a.CollectionWidget.item},a.dxScheduler={item:function(){var e=a.CollectionWidget.item(),t=s("div class='dx-scheduler-appointment-content-date'",{text:"Globalize.format(DevExpress.utils.makeDate($data.startDate), 't')"}),n=s("div class='dx-scheduler-appointment-content-date'",{text:"Globalize.format(DevExpress.utils.makeDate($data.endDate), 't')"}),i=s("div class='dx-scheduler-appointment-content-date'",{text:"' - '"});return e=[e.substring(0,e.length-6),"<div class='dx-scheduler-appointment-content-details'>","<!-- ko if: $data.startDate -->"+t+"<!-- /ko -->","<!-- ko if: $data.endDate -->"+i+"<!-- /ko -->","<!-- ko if: $data.endDate -->"+n+"<!-- /ko -->","</div>","<!-- ko if: $data.recurrenceRule --><span class='dx-scheduler-appointment-recurrence-icon dx-icon-repeat'></span><!-- /ko -->","</div>"],e.join("")},appointmentTooltip:u,appointmentPopup:u},a.dxOverlay={content:u},a.dxSlideOutView={menu:u,content:u},a.dxSlideOut={menuItem:a.dxList.item,menuGroup:a.dxList.group,content:u},a.dxAccordion={title:function(){var e=s("span",{text:"$.isPlainObject($data) ? $data.title : String($data)"}),t=["<div>","<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->",e,"</div>"];return t.join("")},item:a.CollectionWidget.item},a.dxResponsiveBox={item:a.CollectionWidget.item},a.dxPivotTabs={item:function(){var e=s("span",{text:"title"}),t=s("div",{text:"String($data)"}),n=["<div>","<!-- ko if: $data.title -->",e,"<!-- /ko -->","<!-- ko ifnot: $data.title || $.isPlainObject($data) -->",t,"<!-- /ko -->","</div>"];return n.join("")}},a.dxPivot={title:a.dxPivotTabs.item,content:u},n="dx-panorama-item-title",a.dxPanorama={itemFrame:function(){var e=a.CollectionWidget.itemFrame(),t=s("div",{text:"title"},!0,'class="'+n+'"'),i=e.indexOf(">")+1;return e=[e.substring(0,i),"<!-- ko if: $data.title -->",t,"<!-- /ko -->",e.substring(i,e.length)],e.join("")}},a.dxActionSheet={item:function(){return["<div>",s("div",{dxButton:"{ text: $data.text, onClick: $data.clickAction || $data.onClick, type: $data.type, disabled: !!ko.unwrap($data.disabled) }"}),"</div>"].join("")}},a.dxToolbar={item:function(){var e=a.CollectionWidget.item();return e=[e.substring(0,e.length-6),"<!-- ko if: $data.widget -->"],e.push("<!-- ko dxPolymorphWidget: { name: $data.widget, options: $data.options } --><!-- /ko -->"),e.push("<!-- /ko -->"),e.join("")},menuItem:a.dxList.item,actionSheetItem:a.dxActionSheet.item},i="dx-gallery-item-image",a.dxGallery={item:function(){var e=a.CollectionWidget.item(),t=s("div",{text:"String($data)"}),n=s("img",{attr:"{ src: String($data) }"},!1,'class="'+i+'"');return e=[e.substring(0,e.length-6).replace(t,n),"<!-- ko if: $data.imageSrc -->",s("img",{attr:"{ src: $data.imageSrc, alt: $data.imageAlt }"},!1,'class="'+i+'"'),"<!-- /ko -->"].join("")}},a.dxTabs={item:function(){var e=a.CollectionWidget.item(),t=s("div",{text:"String($data)"}),n='<span class="dx-tab-text" data-bind="text: String($data)"></span>',i=s("div",{text:"text"}),r='<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko --><span class="dx-tab-text" data-bind="text: $data.text"></span>';return e=e.replace("<!-- ko if: !$data.html && $data.text -->","<!-- ko if: !$data.html && ($data.text || $data.icon || $data.iconSrc) -->").replace(t,n).replace(i,r)},itemFrame:function(){var e=a.CollectionWidget.itemFrame(),t=s("div",{attr:"{ 'class': 'dx-tabs-item-badge dx-badge' }",text:"badge"}),n=[e.substring(0,e.length-6),"<!-- ko if: $data.badge -->",t,"<!-- /ko -->","</div>"];return n.join("")}},a.dxTabPanel={item:a.CollectionWidget.item,title:function(){var e=a.dxTabs.item(),t="<!-- ko if: $data.html -->"+s("div",{html:"html"})+"<!-- /ko -->";return e.replace(/\$data\.text/g,"$data.title").replace(/\!\$data\.html\ \&\&\ /,"").replace(t,"")}},r="dx-navbar-item-badge",a.dxNavBar={itemFrame:function(){var e=a.CollectionWidget.itemFrame(),t=s("div",{text:"badge"},!0,'class="'+r+" "+h+'"'),n=[e.substring(0,e.length-6),"<!-- ko if: $data.badge -->",t,"<!-- /ko -->","</div>"];return n.join("")}},a.dxMenuBase={item:function(){var e=[s("div",l,!1)],t=s("span",{text:"text",css:"{ 'dx-menu-item-text': true }"}),n=s("span",{text:"String($data)",css:"{ 'dx-menu-item-text': true }"}),i="<span class='dx-menu-item-popout-container'><div class='dx-menu-item-popout'></div></span>";return e.push("<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->","<!-- ko if: $data.text -->",t,"<!-- /ko -->","<!-- ko ifnot: $.isPlainObject($data) || $data.text -->",n,"<!-- /ko -->","<!-- ko if: $data.items -->",i,"<!-- /ko -->","</div>"),e.join("")}},a.dxTreeView={item:function(){var e=[],t=s("span",{text:"text"},!0),n=s("div",{html:"html"});return e.push("<div>","<!-- ko if: $data.html && !$data.text -->",n,"<!-- /ko -->","<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->","<!-- ko if: !$data.html && $data.text -->"+t+"<!-- /ko -->","</div>"),e.join("")}},o=function(){return["<div>",s("div",{dxToolbar:"{ items: $data }"}),"</div>"].join("")},a.dxPopup={title:o,bottom:o},a.dxLookup={title:a.dxPopup.title,group:a.dxList.group},a.dxTagBox={tag:function(){return["<div>",s("span",{text:"$data"})].join("")}},a}),DevExpress.define("/integration/knockout/ko.template",["jquery","/ui/templates/ui.templateBase","/utils/utils.dom"],function(e,t,n){var i=window.ko;return t.inherit({ctor:function(t,i){this.callBase(t,i),this._template=e("<div>").append(n.normalizeTemplateElement(t)),this._registerKoTemplate()},_registerKoTemplate:function(){var e=this._template.get(0);new i.templateSources.anonymousTemplate(e).nodes(e)},_prepareDataForContainer:function(e,t){var n,r,o=e;return t.length&&(n=t.get(0),e=void 0!==e?e:i.dataFor(n)||{},r=i.contextFor(n),o=r?e===r.$data?r:r.createChildContext(e):e),o},_renderCore:function(t,n,r){var o,a=e("<div>").appendTo(r);return i.renderTemplate(this._template.get(0),t,{afterRender:function(t){o=e(t)}},a.get(0),"replaceNode"),o},dispose:function(){this.callBase(),this._template.remove()}})}),DevExpress.define("/integration/knockout/ko.templateProvider",["jquery","/utils/utils.dom","/integration/jquery/jquery.templateProvider","/integration/knockout/ko.template","/integration/knockout/ko.defaultTemplates"],function(e,t,n,i,r){var o=window.ko,a=n.constructor.inherit({createTemplate:function(e,t){return new i(e,t)},applyTemplate:function(e,t){o.applyBindings(t,e)},_templatesForWidget:function(n){var o,a=r[n];return a?(o={},e.each(a,function(e,n){var r=t.createMarkupFromString(n());"itemFrame"!==e&&(r=r.contents()),o[e]=new i(r,s)}),o):this.callBase(n)}}),s=new a;return s}),DevExpress.define("/integration/knockout/ko.validation",["jquery","/class","/eventsMixin","/validationEngine"],function(e,t,n,i){var r=window.ko,o=t.inherit({ctor:function(t,n){var i=this;i.target=t,i.validationRules=n.validationRules,i.name=n.name,i.isValid=r.observable(!0),i.validationError=r.observable(),e.each(this.validationRules,function(e,t){t.validator=i})},validate:function(){var e=i.validate(this.target(),this.validationRules,this.name);return this._applyValidationResult(e),e},reset:function(){this.target(null);var e={isValid:!0,brokenRule:null};return this._applyValidationResult(e),e},_applyValidationResult:function(e){e.validator=this,this.target.dxValidator.isValid(e.isValid),this.target.dxValidator.validationError(e.brokenRule),this.fireEvent("validated",[e])}}).include(n);r.extenders.dxValidator=function(t,n){return t.dxValidator=new o(t,n),t.subscribe(e.proxy(t.dxValidator.validate,t.dxValidator)),t},i.registerModelForValidation=function(t){e.each(t,function(e,n){r.isObservable(n)&&n.dxValidator&&i.registerValidatorInGroup(t,n.dxValidator)})},i.validateModel=i.validateGroup}),DevExpress.define("/integration/knockout/ko.eventRegistrator",["jquery","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils"],function(e,t,n){var i=window.ko;t.callbacks.add(function(t){var r=n.addNamespace(t,t+"Binding");i.bindingHandlers[t]={update:function(t,n,o,a){var s=e(t),l=i.utils.unwrapObservable(n()),u=l.execute?l.execute:l;s.off(r).on(r,e.isPlainObject(l)?l:{},function(e){u.call(a,a,e)})}}})}),DevExpress.define("/integration/knockout/ko.cleanNode",["jquery"],function(e){var t=window.ko,n=e.cleanData;e.cleanData=function(e){for(var i=n(e),r=0;r<e.length;r++)e[r].cleanedByJquery=!0;for(r=0;r<e.length;r++)e[r].cleanedByKo||t.cleanNode(e[r]),delete e[r].cleanedByKo;for(r=0;r<e.length;r++)delete e[r].cleanedByJquery;return i},t.utils.domNodeDisposal.cleanExternalData=function(t){t.cleanedByKo=!0,t.cleanedByJquery||e.cleanData([t])}}),DevExpress.define("/integration/knockout/ko.cleanNodeIE8",["jquery"],function(e){var t,n,i,r=window.ko,o=function(e,t){var n=function(){r.cleanNode(this)};t?e.each(n):e.find("*").each(n)},a=e.fn.empty;e.fn.empty=function(){return o(this,!1),a.apply(this,arguments)},t=e.fn.remove,e.fn.remove=function(e,n){if(!n){var i=this;e&&(i=i.filter(e)),o(i,!0)}return t.call(this,e,n)},n=e.fn.html,e.fn.html=function(e){return"string"==typeof e&&o(this,!1),n.apply(this,arguments)},i=e.fn.replaceWith,e.fn.replaceWith=function(){var e=i.apply(this,arguments);return this.parent().length||o(this,!0),e}}),DevExpress.define("/integration/angular/ng.componentRegistrator",["jquery","/componentRegistrator","/class","/utils/utils.common","/utils/utils.dom","/ui/ui.widget","/ui/ui.editor","/integration/angular/ng.templateProvider","/integration/angular/ng.module","/utils/utils.locker"],function(e,t,n,i,r,o,a,s,l,u){var c,d,h=DevExpress.data.utils.compileSetter,p=DevExpress.data.utils.compileGetter,f="dxItemAlias",m="scopeValue",g="dxElementModel",_=["rendering"],v=function(e,t){t.$root.$$phase?e(t):t.$apply(function(){e(t)})},y=n.inherit({ctor:function(t){this._componentDisposing=e.Callbacks(),this._optionChangedCallbacks=e.Callbacks(),this._ngLocker=new u,this._scope=t.scope,this._$element=t.$element,this._$element.data(g,this._scope),this._$templates=t.$templates,this._componentClass=t.componentClass,this._parse=t.parse,this._compile=t.compile,this._itemAlias=t.itemAlias,this._transcludeFn=t.transcludeFn,this._digestCallbacks=t.dxDigestCallbacks,this._normalizeOptions(t.ngOptions),this._initComponentBindings(),this._initComponent(this._scope),t.ngOptions?this._triggerResizeEvent():this._addOptionsStringWatcher(t.ngOptionsString)},_addOptionsStringWatcher:function(e){var t=this,n=t._scope.$watch(e,function(e){e&&(n(),t._normalizeOptions(e),t._initComponentBindings(),t._component.option(t._evalOptions(t._scope)),t._triggerResizeEvent())});t._componentDisposing.add(n)},_normalizeOptions:function(t){var n=this;n._ngOptions=e.extend({},t),t&&(t.bindingOptions&&e.each(t.bindingOptions,function(t,i){"string"===e.type(i)&&(n._ngOptions.bindingOptions[t]={dataPath:i})}),t.data&&n._initDataScope(t.data))},_triggerResizeEvent:function(){var e=this;clearTimeout(e._shownEventTimer),e._shownEventTimer=setTimeout(function(){r.triggerResizeEvent(e._$element)}),e._componentDisposing.add(function(){clearTimeout(e._shownEventTimer)})},_initDataScope:function(t){if("string"==typeof t){var n=t,i=this._scope;t=i.$eval(t),this._scope=i.$new(),this._synchronizeDataScopes(i,this._scope,t,n)}e.extend(this._scope,t)},_synchronizeDataScopes:function(t,n,i,r){var o=this;e.each(i,function(e){o._synchronizeScopeField({parentScope:t,childScope:n,fieldPath:e,parentPrefix:r})})},_initComponent:function(e){this._component=new this._componentClass(this._$element,this._evalOptions(e)),this._component._isHidden=!0},_handleDigestPhase:function(){var e=this,t=function(){e._component.beginUpdate()},n=function(){e._component.endUpdate()};e._digestCallbacks.begin.add(t),e._digestCallbacks.end.add(n),e._componentDisposing.add(function(){e._digestCallbacks.begin.remove(t),e._digestCallbacks.end.remove(n)})},_initComponentBindings:function(){var t=this,n={};t._ngOptions.bindingOptions&&(t._handleDigestPhase(),e.each(t._ngOptions.bindingOptions,function(i,r){var o,a,s,l,u=i.search(/\[|\./),c=u>-1?i.substring(0,u):i,d=r.dataPath,h=!0,p=!1;void 0!==r.deep&&(p=h=!!r.deep),n[c]||(n[c]={}),n[c][i]=d,s=function(e,n){t._ngLocker.locked(i)||(t._ngLocker.obtain(i),t._component.option(i,e),l(),e===n&&t._ngLocker.locked(i)&&t._ngLocker.release(i))},l=function(){var n=e.isArray(t._scope.$eval(d))&&!p?"$watchCollection":"$watch";o!==n&&(a&&a(),a=t._scope[n](d,s,h),o=n)},l(),t._componentDisposing.add(a)}),t._optionChangedCallbacks.add(function(i){var r=i.name,o=i.fullName,a=i.component;if(t._ngLocker.locked(r))return void t._ngLocker.release(r);if("$digest"!==t._scope.$root.$$phase&&n&&n[r])try{t._ngLocker.obtain(o),v(function(){e.each(n[r],function(e,n){var i=a.option(e);t._parse(n).assign(t._scope,i)})},t._scope)}finally{t._ngLocker.release(o)}}))},_compilerByTemplate:function(t){var n=this,r=this._getScopeItemsPath();return function(o,a,s){var l,u,c=e(t).clone();return c.appendTo(s),!i.isDefined(o)&&r&&(o={}),i.isDefined(o)?(u=o.constructor===n._scope.$root.constructor,l=u?o:n._createScopeWithData(o),c.on("$destroy",function(){var e=!l.$parent;e||l.$destroy()})):l=n._scope,r&&n._synchronizeScopes(l,r,a),v(n._compile(c,n._transcludeFn),l),c}},_getScopeItemsPath:function(){return this._componentClass.subclassOf(DevExpress.ui.CollectionWidget)&&this._ngOptions.bindingOptions&&this._ngOptions.bindingOptions.items?this._ngOptions.bindingOptions.items.dataPath:void 0},_createScopeWithData:function(t){var n=this._scope.$new(!0);return t=this._enshureDataIsPlainObject(t),e.extend(n,t),n},_synchronizeScopes:function(t,n,i){var r=this,o=p(n+"["+i+"]")(this._scope);o=r._enshureDataIsPlainObject(o),e.each(o,function(e){r._synchronizeScopeField({parentScope:r._scope,childScope:t,fieldPath:e,parentPrefix:n,itemIndex:i})})},_synchronizeScopeField:function(e){var t,n,i,r=e.parentScope,o=e.childScope,a=e.fieldPath,s=e.parentPrefix,l=e.itemIndex,u=a===(this._itemAlias||m)?"":"."+a,c=void 0!==l,d=[s];c&&d.push("[",l,"]"),d.push(u),t=d.join(""),n=r.$watch(t,function(e,t){e!==t&&h(a)(o,e)}),i=o.$watch(a,function(e,n){if(e!==n){if(c&&!p(s)(r)[l])return void i();h(t)(r,e)}}),this._componentDisposing.add([n,i])},_evalOptions:function(t){var n=e.extend({},this._ngOptions);return delete n.data,delete n.bindingOptions,this._ngOptions.bindingOptions&&e.each(this._ngOptions.bindingOptions,function(e,i){n[e]=t.$eval(i.dataPath)}),n._optionChangedCallbacks=this._optionChangedCallbacks,n._disposingCallbacks=this._componentDisposing,n.templateProvider=s,n.templateCompiler=e.proxy(function(e){return this._compilerByTemplate(e)},this),n.modelByElement=function(e){return e.length?e.data(g):void 0},n.onActionCreated=function(t,i,r){return r&&e.inArray(r.category,_)>-1?i:function(){var e=this,r=n.modelByElement(t.element()),o=arguments;return r&&r.$root&&!r.$root.$$phase?r.$apply(function(){return i.apply(e,o)}):i.apply(e,o)}},n.nestedComponentOptions=function(e){return{templateCompiler:e.option("templateCompiler"),
modelByElement:e.option("modelByElement"),onActionCreated:e.option("onActionCreated"),nestedComponentOptions:e.option("nestedComponentOptions")}},n.templatesRenderAsynchronously=!0,n},_enshureDataIsPlainObject:function(t){var n;return e.isPlainObject(t)?n=t:(n={},n[m]=t),this._itemAlias&&(n[this._itemAlias]=t),n}});y=y.inherit({ctor:function(e){this._componentName=e.componentName,this._ngModel=e.ngModel,this._ngModelController=e.ngModelController,this.callBase.apply(this,arguments)},_isNgModelRequired:function(){return this._componentClass.subclassOf(a)&&this._ngModel},_initComponentBindings:function(){this.callBase.apply(this,arguments),this._initNgModelBinding()},_initNgModelBinding:function(){if(this._isNgModelRequired()){var e=this,t=this._scope.$watch(this._ngModel,function(t,n){e._ngLocker.locked(e._ngModelOption())||t!==n&&e._component.option(e._ngModelOption(),t)});e._optionChangedCallbacks.add(function(t){e._ngLocker.obtain(e._ngModelOption());try{if(t.name!==e._ngModelOption())return;e._ngModelController.$setViewValue(t.value)}finally{e._ngLocker.release(e._ngModelOption())}}),this._componentDisposing.add(t)}},_ngModelOption:function(){return e.inArray(this._componentName,["dxFileUploader","dxTagBox"])>-1?"values":"value"},_evalOptions:function(){if(!this._isNgModelRequired())return this.callBase.apply(this,arguments);var e=this.callBase.apply(this,arguments);return e[this._ngModelOption()]=this._parse(this._ngModel)(this._scope),e}}),c={},d=function(e){var t="dxValidator"!==e?1:10;l.directive(e,["$compile","$parse","dxDigestCallbacks",function(n,i,r){return{restrict:"A",require:"^?ngModel",priority:t,compile:function(t){var a=c[e],s=a.subclassOf(o)?t.contents().detach():null;return function(t,o,l,u,c){o.append(s),v(function(){new y({componentClass:a,componentName:e,compile:n,parse:i,$element:o,scope:t,ngOptionsString:l[e],ngOptions:l[e]?t.$eval(l[e]):{},ngModel:l.ngModel,ngModelController:u,transcludeFn:c,itemAlias:l[f],dxDigestCallbacks:r})},t)}}}}])},t.callbacks.add(function(e,t){c[e]||d(e),c[e]=t})}),DevExpress.define("/integration/angular/ng.components",["jquery","/integration/angular/ng.module","/utils/utils.icon","/utils/utils.inflector"],function(e,t,n,i){t.filter("dxGlobalize",function(){return function(e,t){return Globalize.format(e,t)}}),t.directive("dxIcon",["$compile",function(e){return{restrict:"E",link:function(t,i){var r,o=n.getImageContainer(t.icon||t.iconSrc);o&&(r=e(o.get(0))(t),i.replaceWith(r))}}}]),t.directive("dxPolymorphWidget",["$compile",function(t){return{restrict:"E",scope:{name:"=",options:"="},link:function(n,r){var o,a=n.name;a&&(("button"===a||"tabs"===a||"dropDownMenu"===a)&&(a=i.camelize("dx-"+a)),o=e("<div "+i.dasherize(a)+'="options">').get(0),r.after(o),t(o)(n))}}}]),t.service("dxDigestCallbacks",["$rootScope",function(t){var n=e.Callbacks(),i=e.Callbacks(),r=!1;return t.$watch(function(){r||(r=!0,n.fire(),t.$$postDigest(function(){r=!1,i.fire()}))}),{begin:n,end:i}}])}),DevExpress.define("/integration/angular/ng.defaultTemplates",["jquery"],function(e){var t,n,i,r,o,a,s={},l="dx-template-wrapper",u={container:function(){return e("<div>").addClass(l)},html:function(){return e("<div>").attr("ng-if","html").attr("ng-bind-html","html")},text:function(t){return t=t||"<div>",e(t).attr("ng-if","text").attr("ng-if","!html").attr("ng-bind","text")},primitive:function(){return e("<div>").attr("ng-if","scopeValue && !scopeValue.text").attr("ng-bind","'' + scopeValue")}},c=function(){return e()};s.CollectionWidget={item:function(){return u.container().append(u.html()).append(u.text()).append(u.primitive())},itemFrame:function(){var t=e("<div>").attr("ng-class","{ 'dx-state-invisible': !visible && visible != undefined, 'dx-state-disabled': !!disabled }"),n=e("<div>").addClass("dx-item-content-placeholder");return t.append(n),t}},t="dx-button-text",s.dxButton={content:function(){var n=e("<span>").attr("ng-bind","text").attr("ng-class","{ '"+t+"' : !!text }"),i=e("<dx-icon>");return u.container().append(i).append(n).append(u.primitive())}};var d="dx-list-item-badge-container",h="dx-list-item-badge",p="dx-badge",f="dx-list-item-chevron-container",m="dx-list-item-chevron";return s.dxList={item:function(){return s.CollectionWidget.item().append(e("<div>").attr("ng-if","key").attr("ng-bind","key"))},itemFrame:function(){var t=e("<div>").addClass(d).attr("ng-if","badge"),n=e("<div>").addClass(h).addClass(p).attr("ng-bind","badge"),i=e("<div>").addClass(f).attr("ng-if","showChevron"),r=e("<div>").addClass(m);return s.CollectionWidget.itemFrame().append(t.append(n)).append(i.append(r))},group:function(){var t=e("<div>").attr("ng-if","key").attr("ng-bind","key");return u.container().append(t).append(u.primitive())}},s.dxDropDownMenu={item:s.dxList.item,content:s.dxButton.content},s.dxDropDownList={item:s.dxList.item},s.dxRadioGroup={item:s.CollectionWidget.item},s.dxScheduler={item:function(){var t=s.CollectionWidget.item(),n=e("<div>").addClass("dx-scheduler-appointment-content-details");return e("<div>").attr("ng-if","startDate").addClass("dx-scheduler-appointment-content-date").text("{{startDate | date : 'shortTime' }}").appendTo(n),e("<div>").attr("ng-if","endDate").addClass("dx-scheduler-appointment-content-date").text(" - ").appendTo(n),e("<div>").attr("ng-if","endDate").addClass("dx-scheduler-appointment-content-date").text("{{endDate | date : 'shortTime' }}").appendTo(n),n.appendTo(t),e("<span>").attr("ng-if","recurrenceRule").addClass("dx-scheduler-appointment-recurrence-icon dx-icon-repeat").appendTo(t),t},appointmentTooltip:c,appointmentPopup:c},s.dxOverlay={content:c},s.dxSlideOutView={menu:c,content:c},s.dxSlideOut={menuItem:s.dxList.item,menuGroup:s.dxList.group,content:c},s.dxAccordion={title:function(){var t=e("<span>").attr("ng-if","title").attr("ng-bind","title"),n=e("<dx-icon>");return u.container().append(n).append(t).append(u.primitive())},content:s.CollectionWidget.item},s.dxPivotTabs={item:function(){return u.container().append(e("<span>").attr("ng-if","title || scopeValue && scopeValue.title").attr("ng-bind","title || scopeValue && scopeValue.title")).append(u.primitive().attr("ng-if","scopeValue && !scopeValue.title"))}},s.dxPivot={title:s.dxPivotTabs.item,content:c},n="dx-panorama-item-title",s.dxPanorama={itemFrame:function(){return s.CollectionWidget.itemFrame().prepend(e("<div>").addClass(n).attr("ng-if","title").attr("ng-bind","title"))}},s.dxActionSheet={item:function(){return u.container().append(e("<div>").attr("dx-button","{ bindingOptions: { text: 'text', onClick: 'onClick', type: 'type', disabled: 'disabled' } }"))}},s.dxToolbar={item:function(){var t=s.CollectionWidget.item();return e('<dx-polymorph-widget name="widget" options="options">').appendTo(t),t},menuItem:s.dxList.item,actionSheetItem:s.dxActionSheet.item},i="dx-gallery-item-image",s.dxGallery={item:function(){return u.container().append(u.html()).append(u.text()).append(e("<img>").addClass(i).attr("ng-if","scopeValue").attr("ng-src","{{'' + scopeValue}}")).append(e("<img>").addClass(i).attr("ng-if","imageSrc").attr("ng-src","{{imageSrc}}").attr("ng-attr-alt","{{imageAlt}}"))}},r="dx-tab-text",s.dxTabs={item:function(){var t=u.container(),n=e("<dx-icon>"),i=u.text("<span>").addClass(r);return t.append(u.html()).append(n).append(i).append(u.primitive().addClass(r))},itemFrame:function(){var t=e("<div>").addClass("dx-tabs-item-badge dx-badge").attr("ng-bind","badge").attr("ng-if","badge");return s.CollectionWidget.itemFrame().append(t)}},o="dx-navbar-item-badge",s.dxNavBar={itemFrame:function(){var t=e("<div>").addClass(o).addClass(p).attr("ng-if","badge").attr("ng-bind","badge");return s.CollectionWidget.itemFrame().append(t)}},s.dxMenuBase={item:function(){var t=u.container(),n=e("<span>").attr("ng-if","text || scopeValue.text").addClass("dx-menu-item-text").attr("ng-bind","text || scopeValue.text"),i=e("<dx-icon>"),r=e("<span>").addClass("dx-menu-item-popout-container").attr("ng-if","items").append(e("<div>").addClass("dx-menu-item-popout"));return t.append(u.html()).append(i).append(n).append(r).append(u.primitive()).appendTo(t),t}},s.dxTreeView={item:function(){var t=u.container(),n=e("<span/>").attr("ng-bind","text"),i=e("<dx-icon>");return t.append(u.html()).append(i).append(n).append(u.primitive()),t}},s.dxTabPanel={item:s.CollectionWidget.item,title:function(){var e=s.dxTabs.item();return e.find(".dx-tab-text").eq(0).attr("ng-bind","title").attr("ng-if","title"),e.find("[ng-if='html']").remove(),e}},a=function(){return e("<div>").attr("dx-toolbar","{ bindingOptions: { items: 'scopeValue' } }")},s.dxPopup={title:a,bottom:a},s.dxLookup={title:s.dxPopup.title,group:s.dxList.group},s.dxTagBox={tag:function(){return e("<div>").append(e("<span>").attr("ng-bind","scopeValue"))}},s}),DevExpress.define("/integration/angular/ng.template",["jquery","/ui/templates/ui.templateBase","/utils/utils.dom"],function(e,t,n){return t.inherit({ctor:function(e,t){this.callBase(e,t),this.setCompiler(this._getParentTemplateCompiler())},_getParentTemplateCompiler:function(){for(var t=null,n=this.owner();!t&&n;)t=e.isFunction(n.option)?n.option("templateCompiler"):null,n=e.isFunction(n.owner)?n.owner():null;return t},_renderCore:function(t,n,i){var r=this._compiledTemplate;return e.isFunction(r)?r(t,n,i):r},setCompiler:function(e){e&&(this._compiledTemplate=e(n.normalizeTemplateElement(this._element)))}})}),DevExpress.define("/integration/angular/ng.templateProvider",["jquery","/utils/utils.dom","/integration/jquery/jquery.templateProvider","/integration/angular/ng.template","/integration/angular/ng.defaultTemplates"],function(e,t,n,i,r){var o=n.constructor.inherit({createTemplate:function(e,t){return new i(e,t)},getTemplates:function(t){var n=t.option("templateCompiler"),i=this.callBase.apply(this,arguments);return e.each(i,function(e,t){t.setCompiler&&t.setCompiler(n)}),i},_templatesForWidget:function(n){var o,s=r[n];return s?(o={},e.each(s,function(e,n){var r=t.createMarkupFromString(n());o[e]=new i(r.wrap(),a)}),o):this.callBase(n)}}),a=new o;return a}),DevExpress.define("/integration/angular/ng.eventRegistrator",["jquery","/ui/events/ui.events.eventRegistrator","/integration/angular/ng.module"],function(e,t,n){t.callbacks.add(function(t){var i=t.slice(0,2)+t.charAt(2).toUpperCase()+t.slice(3);n.directive(i,["$parse",function(n){return function(r,o,a){var s,l=e.trim(a[i]),u={};"{"===l.charAt(0)?(u=r.$eval(l),s=n(u.execute)):s=n(a[i]),o.on(t,u,function(e){r.$apply(function(){s(r,{$event:e})})})}}])})}),DevExpress.define("/integration/angular/ng.module",[],function(){return window.angular.module("dx",["ngSanitize"])}),DevExpress.define("/ui/events/ui.events",["/ui/uiNamespace","/ui/events/pointer/ui.events.pointer"],function(e){e.events={}}),DevExpress.require("/ui/events/ui.events"),DevExpress.define("/core",["/coreNamespace","/errors","/utils/utils.animationFrame","/utils/utils.viewPort","/utils/utils.hardwareBack","/utils/utils.topOverlay","/utils/utils.queue","/eventsMixin","/endpointSelector","/color","/devices","/componentRegistrator","/validationEngine","/utils/utils"],function(e,t,n,i,r,o,a,s,l,u,c,d,h){return e.requestAnimationFrame=function(){return t.log("W0000","DevExpress.requestAnimationFrame","15.2","Use the 'DevExpress.utils.requestAnimationFrame' method instead."),n.request.apply(n,arguments)},e.cancelAnimationFrame=function(){return t.log("W0000","DevExpress.cancelAnimationFrame","15.2","Use the 'DevExpress.utils.cancelAnimationFrame' method instead."),n.cancel.apply(n,arguments)},e.processHardwareBackButton=r.process,e.hideTopOverlay=o.hide,e.registerComponent=d,e.EventsMixin=s,e.EndpointSelector=l,e.devices=c,e.createQueue=a.create,e.viewPort=i.value,e.Color=u,e.validationEngine=h,e}),DevExpress.require(["/core"]),DevExpress.define("/ui/ui",["/ui/uiNamespace","/ui/ui.dialog","/core","/ui/events/ui.events"],function(e,t){return e.notify=t.notify,e.dialog={custom:t.custom,alert:t.alert,confirm:t.confirm},e}),DevExpress.require(["/ui/ui"]),DevExpress.define("/integration/jquery/jquery",["jquery","/errors","/utils/utils.version"],function(e,t,n){if(n.compare(e.fn.jquery,[1,10])<0)throw t.Error("E0012")}),DevExpress.require(["/integration/jquery/jquery"]),DevExpress.define("/integration/knockout/ko",["jquery","/utils/utils.support","/errors","/utils/utils.version","require"],function(e,t,n,i,r){if(t.hasKo){var o=window.ko;if(i.compare(o.version,[2,3])<0)throw n.Error("E0013");r(["/integration/knockout/ko.componentRegistrator","/integration/knockout/ko.eventRegistrator","/integration/knockout/ko.components","/integration/knockout/ko.validation"]),r(i.compare(e.fn.jquery,[2,0])>=0?["/integration/knockout/ko.cleanNode"]:["/integration/knockout/ko.cleanNodeIE8"])}}),DevExpress.require(["/integration/knockout/ko"]),DevExpress.define("/integration/angular/ng",["/utils/utils.support","require"],function(e,t){e.hasNg&&t(["/integration/angular/ng.componentRegistrator","/integration/angular/ng.eventRegistrator","/integration/angular/ng.components"])}),DevExpress.require(["/integration/angular/ng"]),function(e,t){var n=Math.abs,i=(t.ui.events,t.require("/devices")),r=t.require("/utils/utils.dom"),o=t.require("/utils/utils.animationFrame"),a=t.require("/ui/events/ui.events.utils"),s=t.require("/ui/events/pointer/ui.events.pointer"),l=t.require("/ui/events/ui.events.emitter"),u=t.require("/ui/events/ui.events.emitterRegistrator"),c="dxclick",d=10,h=function(t){return e(t).is("input, textarea, select, button ,:focus, :focus *")},p={requestAnimationFrame:o.request},f=l.inherit({ctor:function(t){this.callBase(t),this._makeElementClickable(e(t))},_makeElementClickable:function(e){e.attr("onclick")||e.attr("onclick","void(0)")},start:function(e){this._blurPrevented=e.isDefaultPrevented(),this._startTarget=e.target,this._startEventData=a.eventData(e)},end:function(t){return this._eventOutOfElement(t,this.getElement().get(0))||t.type===s.cancel?void this._cancel(t):(h(t.target)||this._blurPrevented||r.resetActiveElement(),this._accept(t),p.requestAnimationFrame(e.proxy(function(){this._fireClickEvent(t)},this)),void 0)},_eventOutOfElement:function(t,i){var r=t.target,o=!e.contains(i,r)&&i!==r,s=a.eventDelta(a.eventData(t),this._startEventData),l=n(s.x)>d||n(s.y)>d;return o||l},_fireClickEvent:function(e){this._fireEvent(c,e,{target:r.closestCommonParent(this._startTarget,e.target)})}});!function(){function t(t){return o||e(t.target).closest("."+r).length}var n,r="dx-native-click",o=i.real().generic,s=null;f=f.inherit({configurate:function(e){this.callBase(e),e.useNative&&this.getElement().addClass(r)},start:function(e){s=null,t(e)||this.callBase(e)},end:function(e){t(e)||this.callBase(e)},cancel:function(){s=!0}}),n=function(e){e.which&&1!==e.which||s||!t(e)||a.fireEvent({type:c,originalEvent:e})},e(document).on(a.addNamespace("click","NATIVE_DXCLICK_STRATEGY"),n)}(),function(){var t=i.real().generic;if(!t){var n=null,o=!1,l=function(e){n=e.target,o=e.isDefaultPrevented()},u=function(t){var i=e(t.target);o||!n||i.is(n)||e(n).is("label")||!h(i)||r.resetActiveElement(),n=null,o=!1},c="NATIVE_CLICK_FIXER";e(document).on(a.addNamespace(s.down,c),l).on(a.addNamespace("click",c),u)}}(),u({emitter:f,bubble:!0,events:[c]})}(jQuery,DevExpress),function(e,t){var n=t.require("/ui/events/ui.events.utils"),i=t.require("/ui/events/ui.events.emitter"),r=t.require("/ui/events/ui.events.emitterRegistrator"),o=Math.abs,a="dxhold",s=750,l=5,u=i.inherit({start:function(e){this._startEventData=n.eventData(e),this._startTimer(e)},_startTimer:function(t){var n="timeout"in this?this.timeout:s;this._holdTimer=setTimeout(e.proxy(function(){this._requestAccept(t),this._fireEvent(a,t,{target:t.target}),this._forgetAccept()},this),n)},move:function(e){this._touchWasMoved(e)&&this._cancel(e)},_touchWasMoved:function(e){var t=n.eventDelta(this._startEventData,n.eventData(e));return o(t.x)>l||o(t.y)>l},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()}});r({emitter:u,bubble:!0,events:[a]})}(jQuery,DevExpress),DevExpress.define("/ui/events/ui.events.emitter.scroll",function(e,t,n){var i,r=n("jquery"),o=n("/class"),a=o["abstract"],s=n("/ui/events/ui.events.utils"),l=n("/ui/events/ui.events.emitter.gesture"),u=n("/ui/events/ui.events.emitterRegistrator"),c=n("/utils/utils.animationFrame"),d=n("/devices").real(),h=n("/utils/utils.version").compare,p="dxscrollinit",f="dxscrollstart",m="dxscroll",g="dxscrollend",_="dxscrollstop",v="dxscrollcancel",y=function(e){return"dxmousewheel"===e.type},x=o.inherit(function(){var e=s.addNamespace("scroll","dxScrollEmitter");return{ctor:function(t){this._element=t,this._locked=!1;var n=this;this._proxiedScroll=function(e){n._scroll(e)},r(this._element).on(e,this._proxiedScroll)},_scroll:a,check:function(e,t){this._locked&&t()},dispose:function(){r(this._element).off(e,this._proxiedScroll)}}}()),b=x.inherit(function(){return{ctor:function(e,t){this.callBase(e),this._timeout=t},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var e=this;this._timer=setTimeout(function(){e._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}}()),w=b.inherit(function(){var e=400;return{ctor:function(t){this.callBase(t,e),this._lastWheelDirection=null},check:function(e,t){this._checkDirectionChanged(e),this.callBase(e,t)},_checkDirectionChanged:function(e){if(!y(e))return void(this._lastWheelDirection=null);var t=e.shiftKey||!1,n=null!==this._lastWheelDirection&&t!==this._lastWheelDirection;this._lastWheelDirection=t,this._locked=this._locked&&!n}}}()),C=b.inherit(function(){var e=400;return{ctor:function(t){this.callBase(t,e)}}}());!function(){var e=d.ios&&h(d.version,[8])>=0,t=d.android&&h(d.version,[5])>=0;(e||t)&&(C=x.inherit(function(){return{_scroll:function(){this._locked=!0;var e=this;this._scrollFrame=c.request(function(){e._locked=!1})},check:function(e,t){c.cancel(this._scrollFrame),c.cancel(this._checkFrame);var n=this,i=this.callBase;this._checkFrame=c.request(function(){i.call(n,e,t),n._locked=!1})},dispose:function(){this.callBase(),c.cancel(this._scrollFrame),c.cancel(this._checkFrame)}}}()))}(),i=l.inherit(function(){var e=100,t=200,n=Math.round(1e3/60);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new C(e),this._wheelLocker=new w(e)},validate:function(){return!0},_init:function(e){var t=this;this._wheelLocker.check(e,function(){y(e)&&t._accept(e)}),this._pointerLocker.check(e,function(){y(e)||t._accept(e)}),this._fireEvent(p,e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=s.eventData(e),this._fireEvent(f,e,{delta:s.eventDelta(this._savedEventData,s.eventData(e))})},_move:function(e){var n,i=s.eventData(e);this._fireEvent(m,e,{delta:s.eventDelta(this._prevEventData,i)}),n=s.eventDelta(this._savedEventData,i),n.time>t&&(this._savedEventData=this._prevEventData)},_end:function(t){var i,r,o=s.eventDelta(this._prevEventData,s.eventData(t)),a={x:0,y:0};!y(t)&&o.time<e&&(i=s.eventDelta(this._savedEventData,this._prevEventData),r=n/i.time,a={x:i.x*r,y:i.y*r}),this._fireEvent(g,t,{velocity:a})},_stop:function(e){this._fireEvent(_,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(v,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()}}}()),u({emitter:i,events:[p,f,m,g,_,v]}),e.exports={init:p,start:f,move:m,end:g,stop:_,cancel:v}}),function(e,t){var n=t.require("/ui/events/ui.events.utils"),i=t.require("/ui/events/ui.events.emitter.gesture"),r=t.require("/ui/events/ui.events.emitterRegistrator"),o="dxswipestart",a="dxswipe",s="dxswipeend",l={defaultItemSizeFunc:function(){return this.getElement().width()},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(e){var t=n.eventData(e);return(t.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=n.eventData(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.x-this._tickData.x)>=t.time-this._tickData.time}},u={defaultItemSizeFunc:function(){return this.getElement().height()},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(e){var t=n.eventData(e);return(t.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=n.eventData(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.y-this._tickData.y)>=t.time-this._tickData.time}},c={horizontal:l,vertical:u},d=i.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(e){this.callBase(e),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return c[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(e){this._tickData=n.eventData(e)},_start:function(e){this._savedEventData=n.eventData(e),e=this._fireEvent(o,e),e.cancel||(this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset)},_move:function(e){var t=this._getStrategy(),i=n.eventData(e),r=t.calcOffsetRatio.call(this,e);r=this._fitOffset(r,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(a,e,{offset:r}),e.preventDefault()},_end:function(e){var t=this._getStrategy(),n=t.calcOffsetRatio.call(this,e),i=t.isFastSwipe.call(this,e),r=n,o=this._calcTargetOffset(n,i);r=this._fitOffset(r,this.elastic),o=this._fitOffset(o,!1),this._fireEvent(s,e,{offset:r,targetOffset:o})},_fitOffset:function(e,t){var n=this._getStrategy(),i=n.getBounds.call(this);return e<-i[0]?t?(-2*i[0]+e)/3:-i[0]:e>i[1]?t?(2*i[1]+e)/3:i[1]:e},_calcTargetOffset:function(e,t){var n;return t?(n=Math.ceil(Math.abs(e)),0>e&&(n=-n)):n=Math.round(e),n}});r({emitter:d,events:[o,a,s]})}(jQuery,DevExpress),function(e,t,n){var i=t.require("/utils/utils.array").wrapToArray,r=t.require("/ui/events/ui.events.eventRegistrator"),o=t.require("/ui/events/ui.events.utils"),a=t.require("/ui/events/ui.events.emitter.gesture"),s=t.require("/ui/events/ui.events.emitterRegistrator"),l="dxdragstart",u="dxdrag",c="dxdragend",d="dxdragenter",h="dxdragleave",p="dxdrop",f=[],m=[],g=[],_={setup:function(t,n){var i=-1!==e.inArray(t,f);i||(f.push(t),m.push([]),g.push(n||{}))},add:function(t,n){var i=e.inArray(t,f),r=n.selector;-1===e.inArray(r,m[i])&&m[i].push(r)},teardown:function(t){var n,i=e._data(t,"events"),r=0;e.each([d,h,p],function(e,t){var n=i[t];n&&(r+=n.length)}),r||(n=e.inArray(t,f),f.splice(n,1),m.splice(n,1),g.splice(n,1))}};r(d,_),r(h,_),r(p,_);var v=function(t){var i=e.inArray(t.get(0),f),r=m[i],o=t.find(r.join(", "));return-1!==e.inArray(n,r)&&(o=o.addBack()),o},y=function(t){var n=e.inArray(t.get(0),f);return g[n]},x=function(e,t){return e.itemPositionFunc?e.itemPositionFunc(t):t.offset()},b=function(e,t){return e.itemSizeFunc?e.itemSizeFunc(t):{width:t.width(),height:t.height()}},w=a.inherit({ctor:function(e){this.callBase(e),this.direction="both"},_init:function(e){this._initEvent=e},_start:function(t){t=this._fireEvent(l,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset;var n=i(t.targetElements||(null===t.targetElements?[]:f));this._dropTargets=e.map(n,function(t){return e(t).get(0)})},_move:function(e){var t=o.eventData(e),n=this._calculateOffset(t);this._fireEvent(u,e,{offset:n}),this._processDropTargets(e,n),e.preventDefault()},_calculateOffset:function(e){return{x:this._calculateXOffset(e),y:this._calculateYOffset(e)}},_calculateXOffset:function(e){if("vertical"!==this.direction){var t=e.x-this._startEventData.x;return this._fitOffset(t,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(e){if("horizontal"!==this.direction){var t=e.y-this._startEventData.y;return this._fitOffset(t,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(e,t,n){return null!=t&&(e=Math.max(e,-t)),null!=n&&(e=Math.min(e,n)),e},_processDropTargets:function(e){var t=this._findDropTarget(e),n=t===this._currentDropTarget;n||(this._fireDropTargetEvent(e,h),this._currentDropTarget=t,this._fireDropTargetEvent(e,d))},_fireDropTargetEvent:function(e,t){if(this._currentDropTarget){var n={type:t,originalEvent:e,draggingElement:this._$element.get(0),target:this._currentDropTarget};o.fireEvent(n)}},_findDropTarget:function(t){var n,i=this;return e.each(f,function(r,o){if(i._checkDropTargetActive(o)){var a=e(o);e.each(v(a),function(r,o){var s=e(o);i._checkDropTarget(y(a),s,t)&&(n=o)})}}),n},_checkDropTargetActive:function(t){var n=!1;return e.each(this._dropTargets,function(i,r){return n=n||r===t||e.contains(r,t),!n}),n},_checkDropTarget:function(e,t,n){var i,r,o=t.get(0)===this._$element.get(0);return o?!1:(i=x(e,t),n.pageX<i.left?!1:n.pageY<i.top?!1:(r=b(e,t),n.pageX>i.left+r.width?!1:n.pageY>i.top+r.height?!1:t))},_end:function(e){var t=o.eventData(e);this._fireEvent(c,e,{offset:this._calculateOffset(t)}),this._fireDropTargetEvent(e,p),delete this._currentDropTarget}});s({emitter:w,events:[l,u,c]})}(jQuery,DevExpress),function(e,t){var n=t.require("/utils/utils.math"),i=t.require("/ui/ui.errors"),r=t.require("/ui/events/ui.events.utils"),o=t.require("/ui/events/ui.events.emitter"),a=t.require("/ui/events/ui.events.emitterRegistrator"),s="dx",l="transform",u="translate",c="zoom",d="pinch",h="rotate",p="start",f="",m="end",g=[],_=function(e,t){g.push({name:e,args:t})};_(l,{scale:!0,deltaScale:!0,rotation:!0,deltaRotation:!0,translation:!0,deltaTranslation:!0}),_(u,{translation:!0,deltaTranslation:!0}),_(c,{scale:!0,deltaScale:!0}),_(d,{scale:!0,deltaScale:!0}),_(h,{rotation:!0,deltaRotation:!0});var v=function(e,t){return{x:t.pageX-e.pageX,y:-t.pageY+e.pageY,centerX:.5*(t.pageX+e.pageX),centerY:.5*(t.pageY+e.pageY)}},y=function(e){var t=e.pointers;return v(t[0],t[1])},x=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},b=function(e,t){return x(e)/x(t)},w=function(e,t){var i,r,o=e.x*t.x+e.y*t.y,a=x(e)*x(t);return 0===a?0:(i=n.sign(e.x*t.y-t.x*e.y),r=Math.acos(n.fitIntoRange(o/a,-1,1)),i*r)},C=function(e,t){return{x:e.centerX-t.centerX,y:e.centerY-t.centerY}},S=o.inherit({configurate:function(e,t){t.indexOf(c)>-1&&i.log("W0005",t,"15.1","Use '"+t.replace(c,d)+"' event instead"),this.callBase(e)},validatePointers:function(e){return r.hasTouches(e)>1},start:function(e){this._accept(e);var t=y(e);this._startVector=t,this._prevVector=t,this._fireEventAliases(p,e)},move:function(e){var t=y(e),n=this._getEventArgs(t);this._fireEventAliases(f,e,n),this._prevVector=t},end:function(e){var t=this._getEventArgs(this._prevVector);this._fireEventAliases(m,e,t)},_getEventArgs:function(e){return{scale:b(e,this._startVector),deltaScale:b(e,this._prevVector),rotation:w(e,this._startVector),deltaRotation:w(e,this._prevVector),translation:C(e,this._startVector),deltaTranslation:C(e,this._prevVector)}},_fireEventAliases:function(t,n,i){i=i||{},e.each(g,e.proxy(function(r,o){var a={};e.each(o.args,function(e){e in i&&(a[e]=i[e])}),this._fireEvent(s+o.name+t,n,a)},this))}});a({emitter:S,events:e.map(g,function(t){var n=[];return e.each([p,f,m],function(e,i){n.push(s+t.name+i)}),n})})}(jQuery,DevExpress),function(e,t){var n=t.require("/utils/utils.dom"),i=t.require("/class"),r=t.require("/ui/events/ui.events.eventRegistrator"),o=t.require("/ui/events/ui.events.utils"),a="dxdblclick",s="dxDblClick",l=o.addNamespace("dxclick",s),u=300,c=i.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-u},add:function(){this._handlerCount<=0&&e(document).on(l,e.proxy(this._clickHandler,this)),this._handlerCount++},_clickHandler:function(t){var i=t.timeStamp||e.now();i-this._lastClickTimeStamp<u?(o.fireEvent({type:a,target:n.closestCommonParent(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=i)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),e(document).off(l))}});r(a,new c)}(jQuery,DevExpress),function(e,t){var n=t.require("/utils/utils.support"),i=t.require("/devices"),r=t.require("/class"),o=t.require("/ui/events/ui.events.eventRegistrator"),a=t.require("/ui/events/ui.events.utils"),s="dxContexMenu",l=a.addNamespace("contextmenu",s),u=a.addNamespace("dxhold",s),c="dxcontextmenu",d=r.inherit({setup:function(t){var r=e(t);r.on(l,e.proxy(this._contextMenuHandler,this)),(n.touch||i.isSimulator())&&r.on(u,e.proxy(this._holdHandler,this))},_holdHandler:function(e){(!a.isMouseEvent(e)||i.isSimulator())&&this._fireContextMenu(e)},_contextMenuHandler:function(e){e=this._fireContextMenu(e),e.cancel||e._cancel||e.preventDefault()},_fireContextMenu:function(e){return a.fireEvent({type:c,originalEvent:e})},teardown:function(t){e(t).off("."+s)}});o(c,new d)}(jQuery,DevExpress),DevExpress.define("/ui/ui.dataHelper",["jquery"],function(e){var t=DevExpress.data,n="_dataSourceOptions",i="_dataSourceChangedHandler",r="_dataSourceLoadErrorHandler",o="_dataSourceLoadingChangedHandler";return{postCtor:function(){this.on("disposing",function(){this._disposeDataSource()})},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var i,r,o=this.option("dataSource");this._disposeDataSource(),o&&(o instanceof t.DataSource?(this._isSharedDataSource=!0,this._dataSource=o):(i=n in this?this[n]():{},r=this._dataSourceType?this._dataSourceType():t.DataSource,this._dataSource=new r(e.extend(!0,{},i,t.utils.normalizeDataSourceOptions(o)))),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){i in this&&this._addDataSourceChangeHandler(),r in this&&this._addDataSourceLoadErrorHandler(),o in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",e.proxy(function(e){this._ready&&this._ready(!e)},this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=e.proxy(function(){this[i](t.items())},this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=e.proxy(this[r],this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=e.proxy(this[o],this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var e=this._dataSource;e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load()}},_loadSingle:function(e,t){return e="this"===e?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,t)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,
delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)}}}),DevExpress.define("/ui/ui.dataExpression",["jquery","/utils/utils.knockout","/utils/utils.common","/ui/templates/ui.template.function","/ui/ui.dataHelper"],function(e,t,n,i,r){var o=DevExpress.data.utils;return e.extend(r,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new DevExpress.data.DataSource({store:new DevExpress.data.ArrayStore(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=o.compileGetter(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=o.compileGetter(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var i=e.Deferred();return t=this._unwrappedValue(t),n.isDefined(t)?(this._loadSingle(this._valueGetterExpr(),t).done(e.proxy(function(e){this._isValueEquals(this._valueGetter(e),t)?i.resolve(e):i.reject()},this)).fail(function(){i.reject()}),i.promise()):i.reject().promise()},_unwrappedValue:function(e){if(e=n.isDefined(e)?e:this.option("value"),e&&this._dataSource&&"this"===this._valueGetterExpr()){var i=this._dataSource.key();i&&"object"==typeof e&&(e=e[i])}return t.unwrapObservable(e)},_isValueEquals:function(e,i){var r,o,a=n.isDefined,s=n.ensureDefined,l=t.unwrapObservable,u=this._dataSource&&this._dataSource.key(),c=this._compareValues(e,i);return!c&&a(e)&&a(i)&&u&&(r=s(l(e[u]),e),o=s(l(i[u]),i),c=this._compareValues(r,o)),c},_compareValues:function(e,t){return o.toComparable(e)===o.toComparable(t)},_initDynamicTemplates:function(){this._displayGetterExpr()?this._dynamicTemplates.item=new i(e.proxy(function(t){return e("<div/>").text(this._displayGetter(t)).html()},this)):delete this._dynamicTemplates.item},_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this._getTemplateByOption("itemTemplate"))},_dataExpressionOptionChanged:function(e){switch(e.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._setCollectionWidgetItemTemplate()}}})}),function(e,t,n){var i=t.ui,r=t.require("/utils/utils.dom"),o=t.require("/utils/utils.common"),a=t.require("/action"),s=t.require("/ui/ui.widget"),l=t.require("/ui/events/ui.events.utils"),u=t.require("/ui/events/pointer/ui.events.pointer"),c=t.require("/ui/ui.dataHelper"),d=t.require("/integration/jquery/jquery.selectors"),h="dx-collection",p="dx-item",f="-content",m="dx-item-content-placeholder",g="dxItemData",_="dxItemIndex",v="tmpl-",y="[data-options*='dxItem']",x="dx-item-selected",b="dx-item-response-wait",w="dx-empty-collection",C="dx-template-wrapper",S="dx-state-disabled",k="dx-state-invisible",D=/^items[\[\.](\d+)[\.\]].(\w+)/,T="up",E="down",I="left",A="right",$="pageup",B="pagedown",O="last",P="first",M=s.inherit({_activeStateUnit:"."+p,_supportedKeys:function(){var t=function(e){var t=this.option("focusedElement");t&&(e.target=t,e.currentTarget=t,this._itemClickHandler(e))},n=function(e,t){t.preventDefault(),t.stopPropagation(),this._moveFocus(e,t)};return e.extend(this.callBase(),{space:t,enter:t,leftArrow:e.proxy(n,this,I),rightArrow:e.proxy(n,this,A),upArrow:e.proxy(n,this,T),downArrow:e.proxy(n,this,E),pageUp:e.proxy(n,this,T),pageDown:e.proxy(n,this,E),home:e.proxy(n,this,P),end:e.proxy(n,this,O)})},_getDefaultOptions:function(){return e.extend(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:Globalize.localize("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null})},_getAnonymousTemplateName:function(){return"item"},_init:function(){this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_initTemplates:function(){this._initItemsFromMarkup(),this.callBase()},_initItemsFromMarkup:function(){var t,n=this.element().contents().filter(y);n.length&&!this.option("items").length&&(t=e.map(n,e.proxy(function(t){var n=e(t),i=r.getElementOptions(t).dxItem,o=e.trim(n.html())&&!i.template;return o?i.template=this._prepareItemTemplate(n):n.remove(),i},this)),this.option("items",t))},_prepareItemTemplate:function(e){var n=v+new t.data.Guid,i='dxTemplate: { name: "'+n+'" }';return e.detach().clone().attr("data-options",i).data("options",i).appendTo(this.element()),n},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.element()},_focusInHandler:function(t){var n,i;this.callBase.apply(this,arguments),-1!==e.inArray(t.target,this._focusTarget())&&(n=this.option("focusedElement"),n&&n.length?this._setFocusedItem(n):(i=this._getActiveItem(),this.option("focusedElement",i)))},_focusOutHandler:function(){this.callBase.apply(this,arguments);var e=this.option("focusedElement");e&&this._toggleFocusClass(!1,e)},_getActiveItem:function(e){var t=this.option("focusedElement");if(t&&t.length)return t;var n=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,i=this._getActiveElement(),r=i.length-1;return 0>n&&(n=e?r:0),i.eq(n)},_renderFocusTarget:function(){this.callBase.apply(this,arguments),this._refreshActiveDescendant()},_moveFocus:function(e){var t,n=this._itemElements().filter(":visible").not(".dx-state-disabled");switch(e){case $:case T:t=this._prevItem(n);break;case B:case E:t=this._nextItem(n);break;case A:t=this.option("rtlEnabled")?this._prevItem(n):this._nextItem(n);break;case I:t=this.option("rtlEnabled")?this._nextItem(n):this._prevItem(n);break;case P:t=n.first();break;case O:t=n.last();break;default:return!1}0!==t.length&&this.option("focusedElement",t)},_prevItem:function(t){var n=this._getActiveItem(),i=t.index(n),r=t.last(),o=e(t[i-1]),a=this.option("loopItemFocus");return 0===o.length&&a&&(o=r),o},_nextItem:function(t){var n=this._getActiveItem(!0),i=t.index(n),r=t.first(),o=e(t[i+1]),a=this.option("loopItemFocus");return 0===o.length&&a&&(o=r),o},_selectFocusedItem:function(e){this.selectItem(e)},_removeFocusedItem:function(e){e&&e.length&&(this._toggleFocusClass(!1,e),e.removeAttr("id"))},_refreshActiveDescendant:function(){this.setAria("activedescendant",""),this.setAria("activedescendant",this.getFocusedItemId())},_setFocusedItem:function(e){e&&e.length&&(e.attr("id",this.getFocusedItemId()),this._toggleFocusClass(!0,e),this.onFocusedItemChanged(this.getFocusedItemId()),this._refreshActiveDescendant(),this.option("selectOnFocus")&&this._selectFocusedItem(e))},_findItemElementByIndex:function(t){var n=e();return this.itemElements().each(function(){var i=e(this);return i.data(_)===t?(n=i,!1):void 0}),n},_itemOptionChanged:function(e,t,n){var i=this._findItemElementByIndex(e),r=this._getItemData(i);switch(t){case"visible":this._renderItemVisibleState(i,n);break;case"disabled":this._renderItemDisableState(i,n);break;default:this._renderItem(e,r,null,i)}},_renderItemVisibleState:function(e,t){e.toggleClass(k,!t)},_renderItemDisableState:function(e,t){e.toggleClass(S,!!t)},_optionChanged:function(e){if("items"===e.name){var t=e.fullName.match(D);if(t&&t.length)return void this._itemOptionChanged(parseInt(t[1],10),t[2],e.value)}switch(e.name){case"items":case"_itemAttributes":case"itemTemplateProperty":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._dataSource||this.option("items",[]),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._removeFocusedItem(e.previousValue),this._setFocusedItem(e.value);break;default:this.callBase(e)}},_loadNextPage:function(){var e=this._dataSource;return this._expectNextPageLoading(),e.pageIndex(1+e.pageIndex()),e.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&t&&this._shouldAppendItems()?(this._renderedItemsCount=t.length,this._isLastPage()&&-1===this._startIndexForAppendedItems||(this.option().items=t.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._renderContent(),this._renderFocusTarget()):this.option("items",e)},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return null!=this._startIndexForAppendedItems&&this._allowDinamicItemsAppend()},_allowDinamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){this._itemContainer().empty()},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.element()},_itemClass:function(){return p},_itemContentClass:function(){return this._itemClass()+f},_selectedItemClass:function(){return x},_itemResponseWaitClass:function(){return b},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return g},_itemIndexKey:function(){return _},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_render:function(){this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.callBase(),this.element().addClass(h),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var t=this._itemSelector(),n=l.addNamespace("dxclick",this.NAME),i=l.addNamespace(u.down,this.NAME),r=this,o=new a(function(e){var t=e.event;r._itemPointerDownHandler(t)});this._itemContainer().off(n,t).off(i,t).on(n,t,e.proxy(function(e){this._itemClickHandler(e)},this)).on(i,t,function(t){o.execute({element:e(t.target),event:t})})},_itemClickHandler:function(e,t,n){this._itemJQueryEventHandler(e,"onItemClick",t,n)},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var n=e(t.target),i=n.closest(this._itemElements()),r=n.closest(d.focusable);i.length&&-1!==e.inArray(r.get(0),this._focusTarget())&&this.option("focusedElement",i)}},_attachHoldEvent:function(){var t=this._itemContainer(),n=this._itemSelector(),i=l.addNamespace("dxhold",this.NAME);t.off(i,n),this._shouldAttachHoldEvent()&&t.on(i,n,{timeout:this._getHoldTimeout()},e.proxy(this._itemHoldHandler,this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldAttachHoldEvent:function(){return this.option("onItemHold")},_itemHoldHandler:function(e){this._itemJQueryEventHandler(e,"onItemHold")},_attachContextMenuEvent:function(){var t=this._itemContainer(),n=this._itemSelector(),i=l.addNamespace("dxcontextmenu",this.NAME);t.off(i,n),this._shouldAttachContextMenuEvent()&&t.on(i,n,e.proxy(this._itemContextMenuHandler,this))},_shouldAttachContextMenuEvent:function(){return this.option("onItemContextMenu")},_itemContextMenuHandler:function(e){this._itemJQueryEventHandler(e,"onItemContextMenu")},_renderContentImpl:function(){var e=this.option("items")||[];this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e)},_renderItems:function(t){t.length&&e.each(t,e.proxy(this._renderItem,this)),this._renderEmptyMessage()},_renderItem:function(t,n,i,r){var o,a,s,l;return i=i||this._itemContainer(),o=this._renderItemFrame(t,n,i,r),this._setElementData(o,n,t),o.attr(this.option("_itemAttributes")),this._attachItemClickEvent(n,o),a=o.find("."+m),a.removeClass(m),s=this._renderItemContent({index:t,itemData:n,container:a,contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),l=this,e.when(s).done(function(e){l._postprocessRenderItem({itemElement:o,itemContent:e,itemData:n,itemIndex:t}),l._executeItemRenderAction(t,n,o)}),o},_attachItemClickEvent:function(t,n){t&&t.onClick&&n.on("dxclick",e.proxy(function(e){this._itemEventHandlerByHandler(n,t.onClick,{jQueryEvent:e})},this))},_renderItemContent:function(e){var t,n=this._getItemTemplateName(e),i=this._getTemplate(n);return this._addItemContentClasses(e),t=this._createItemByTemplate(i,e),t.hasClass(C)?this._renderItemContentByNode(e,t):e.container},_renderItemContentByNode:function(e,t){return e.container.replaceWith(t),e.container=t,this._addItemContentClasses(e),t},_addItemContentClasses:function(e){var t=[p+f,e.contentClass];e.container.addClass(t.join(" "))},_renderItemFrame:function(e,t,n,i){var r=this.option("templateProvider").getTemplates(this).itemFrame,a=r.render(o.isDefined(t)?t:{},n,e);return i&&i.length?i.replaceWith(a):a.appendTo(n),a},_postprocessRenderItem:e.noop,_executeItemRenderAction:function(e,t,n){this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t})},_setElementData:function(e,t,n){e.addClass([p,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),n)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["designMode","disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(e){var t=e.itemData,n=e.templateProperty||this.option("itemTemplateProperty"),i=t&&t[n];return i||e.defaultTemplateName},_createItemByTemplate:function(e,t){return e.render(t.itemData,t.container,t.index,"ignoreTarget")},_emptyMessageComtainer:function(){return this._itemContainer()},_renderEmptyMessage:function(){var t=this.option("noDataText"),i=this.option("items"),r=!t||i&&i.length||this._isDataSourceLoading();r&&this._$nodata&&(this._$nodata.remove(),this._$nodata=null,this.setAria("label",n)),r||(this._$nodata=this._$nodata||e("<div>").addClass("dx-empty-message"),this._$nodata.appendTo(this._emptyMessageComtainer()).html(t),this.setAria("label",t)),this.element().toggleClass(w,!r)},_itemJQueryEventHandler:function(t,n,i,r){this._itemEventHandler(t.target,n,e.extend(i,{jQueryEvent:t}),r)},_itemEventHandler:function(t,n,i,r){var o=this._createActionByOption(n,e.extend({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(t,o,i)},_itemEventHandlerByHandler:function(t,n,i,r){var o=this._createAction(n,e.extend({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(t,o,i)},_itemEventHandlerImpl:function(t,n,i){var r=this._closestItemElement(e(t));return n(e.extend(this._extendActionArgs(r),i))},_extendActionArgs:function(e){return{itemElement:e,itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}},_closestItemElement:function(t){return e(t).closest(this._itemSelector())},_getItemData:function(t){return e(t).data(this._itemDataKey())},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId=new DevExpress.data.Guid),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(c);M.publicName("CollectionWidget"),i.CollectionWidget=M}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/ui/ui.errors"),o=t.require("/utils/utils.array"),a=t.require("/utils/utils.common"),s="dxItemDeleting",l=i.CollectionWidget.inherit({_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return e.extend(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedIndex:-1,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},_init:function(){this._initEditStrategy(),this.callBase(),this._selectedItemIndices=[],"multi"===this.option("selectionMode")&&this.option("selectionMode","multiple")},_initEditStrategy:function(){var e=i.CollectionWidget.PlainEditStrategy;this._editStrategy=new e(this)},_forgetNextPageLoading:function(){this.callBase(),this._selectedItemIndices=this._editStrategy.selectedItemIndices()},_render:function(){this._syncSelectionOptions(),this._normalizeSelectedItems(),this._initSelectedItems(),this.callBase(),this._renderSelection(this._selectedItemIndices,[])},_syncSelectionOptions:function(e){e=e||this._chooseSelectOption();var t,n;switch(e){case"selectedIndex":t=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),a.isDefined(t)?(this._setOptionSilent("selectedItems",[t]),this._setOptionSilent("selectedItem",t)):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedItem",null));break;case"selectedItems":n=this.option("selectedItems")||[],this._setOptionSilent("selectedItem",n[0]),this._setOptionSilent("selectedIndex",this._editStrategy.getIndexByItemData(n[0]));break;case"selectedItem":t=this.option("selectedItem"),a.isDefined(t)?(this._setOptionSilent("selectedItems",[t]),this._setOptionSilent("selectedIndex",this._editStrategy.getIndexByItemData(t))):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedIndex",-1))}},_chooseSelectOption:function(){var e="selectedIndex";return this.option("selectedItems").length?e="selectedItems":a.isDefined(this.option("selectedItem"))&&(e="selectedItem"),e},_normalizeSelectedItems:function(){var e,t;"none"===this.option("selectionMode")?(this._setOptionSilent("selectedItems",[]),this._syncSelectionOptions("selectedItems")):"single"===this.option("selectionMode")&&(e=this._editStrategy.selectedItemIndices(this.option("selectedItems")),(e.length>1||!e.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length)&&(t=[e[0]||this._selectedItemIndices[0]||0],this._setOptionSilent("selectedItems",this._editStrategy.fetchSelectedItems(t)),this._syncSelectionOptions("selectedItems")))},_initSelectedItems:function(){this._selectedItemIndices=this._editStrategy.selectedItemIndices(this.option("selectedItems"))},_renderSelection:e.noop,_itemClickHandler:function(t){this._createAction(e.proxy(function(e){this._itemSelectHandler(e.jQueryEvent)},this),{validatingTargetName:"itemElement"})({itemElement:e(t.currentTarget),jQueryEvent:t}),this.callBase.apply(this,arguments)},_itemSelectHandler:function(e){if(this.option("selectionByClick")){var t=e.currentTarget;this.isItemSelected(t)?this.unselectItem(e.currentTarget):this.selectItem(e.currentTarget)}},_selectedItemElement:function(e){return this._itemElements().eq(e)},_postprocessRenderItem:function(t){var n=e(t.itemElement);this._isItemSelected(this._editStrategy.getNormalizedIndex(n))?(n.addClass(this._selectedItemClass()),this._setAriaSelected(n,"true")):this._setAriaSelected(n,"false")},_updateSelectedItems:function(){var t,n=this,i=this._selectedItemIndices.slice(),r=this._editStrategy.selectedItemIndices(),a=o.removeDublicates(r,i),s=o.removeDublicates(i,r);e.each(s,function(e,t){n._removeSelection(t)}),e.each(a,function(e,t){n._addSelection(t)}),(s.length||a.length)&&(t=this._selectionChangePromise,this._updateSelection(a,s),e.when(t).done(function(){n._fireSelectionChangeEvent(a,s)}))},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})(this._editStrategy.fetchSelectionDifference(e,t))},_updateSelection:function(){this._renderSelection.apply(this,arguments)},_setAriaSelected:function(e,t){this.setAria("selected",t,e)},_removeSelection:function(t){var n=this._editStrategy.getItemElement(t),i=e.inArray(t,this._selectedItemIndices);i>-1&&(n.removeClass(this._selectedItemClass()),this._setAriaSelected(n,"false"),this._selectedItemIndices.splice(i,1),n.triggerHandler("stateChanged"))},_addSelection:function(e){var t=this._editStrategy.getItemElement(e);e>-1&&!this._isItemSelected(e)&&(t.addClass(this._selectedItemClass()),this._setAriaSelected(t,"true"),this._selectedItemIndices.push(e),t.triggerHandler("stateChanged"))},_isItemSelected:function(t){return e.inArray(t,this._selectedItemIndices)>-1},_optionChanged:function(e){if(!this._cancelOptionChange)switch(e.name){case"selectionMode":"multi"===e.value?this.option("selectionMode","multiple"):this._invalidate();break;case"selectedIndex":case"selectedItem":case"selectedItems":this._syncSelectionOptions(e.name),this._normalizeSelectedItems(),this._updateSelectedItems();break;case"selectionRequired":this._normalizeSelectedItems(),this._updateSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":break;default:this.callBase(e)}},_clearSelectedItems:function(){this._selectedItemIndices=[],this._setOptionSilent("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_setOptionSilent:function(e,t){this._cancelOptionChange=!0,this.option(e,t),this._cancelOptionChange=!1},_waitDeletingPrepare:function(t){if(t.data(s))return e.Deferred().resolve().promise();t.data(s,!0);var n=e.Deferred(),i=this._itemEventHandler(t,"onItemDeleting",{},{excludeValidators:["disabled","readOnly"]});return e.when(i).always(e.proxy(function(e){var r=!i,o=!r&&"resolved"===i.state(),a=!!arguments.length,l=r||o&&!a||o&&e;t.data(s,!1),l?n.resolve():n.reject()},this)),n.promise()},_deleteItemFromDS:function(t){if(!this._dataSource)return e.Deferred().resolve().promise();var i=e.Deferred(),o=this.option("disabled"),a=this._dataSource.store();if(this.option("disabled",!0),!a.remove)throw r.Error("E1011");return a.remove(a.keyOf(this._getItemData(t))).done(function(e){e!==n?i.resolve():i.reject()}).fail(function(){i.reject()}),i.always(e.proxy(function(){this.option("disabled",o)},this)),i},_tryRefreshLastPage:function(){var t=e.Deferred();return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(t){var n=e.inArray(t,this._selectedItemIndices);n>-1&&this._selectedItemIndices.splice(n,1),this._editStrategy.updateSelectionAfterDelete(t),this.option("selectedItems",this._editStrategy.fetchSelectedItems())},_simulateOptionChange:function(e){var n=this.option(e);n instanceof t.data.DataSource||this._optionChangedAction({name:e,fullName:e,value:n})},isItemSelected:function(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))},selectItem:function(t){var n,i,r=this._editStrategy.getNormalizedIndex(t);-1!==r&&(n=e.inArray(r,this._selectedItemIndices),-1===n)&&("single"===this.option("selectionMode")?this.option("selectedItems",this._editStrategy.fetchSelectedItems([r])):(i=this._selectedItemIndices.slice(),i.push(r),this.option("selectedItems",this._editStrategy.fetchSelectedItems(i))))},unselectItem:function(t){var n,i,r=this._editStrategy.getNormalizedIndex(t);-1!==r&&(n=e.inArray(r,this._selectedItemIndices),-1!==n)&&(i=this._selectedItemIndices.slice(),i.splice(n,1),this.option("selectionRequired")&&0===i.length||this.option("selectedItems",this._editStrategy.fetchSelectedItems(i)))},deleteItem:function(t){var n=this,i=e.Deferred(),r=this._editStrategy.getItemElement(t),o=this._editStrategy.getNormalizedIndex(t),a=this._dataSource?"dataSource":"items",s=this._itemResponseWaitClass();return o>-1?this._waitDeletingPrepare(r).done(function(){r.addClass(s);var e=n._extendActionArgs(r);n._deleteItemFromDS(r).done(function(){n._editStrategy.deleteItemAtIndex(o),n._simulateOptionChange(a),n._updateSelectionAfterDelete(o),n._itemEventHandler(r,"onItemDeleted",e,{beforeExecute:function(){r.detach()},excludeValidators:["disabled","readOnly"]}),n._renderEmptyMessage(),n._tryRefreshLastPage().done(function(){i.resolveWith(n)})}).fail(function(){r.removeClass(s),i.rejectWith(n)})}).fail(function(){i.rejectWith(n)}):i.rejectWith(n),i.promise()},reorderItem:function(t,n){var i=e.Deferred(),r=this,o=this._editStrategy,a=o.getItemElement(t),s=o.getItemElement(n),l=o.getNormalizedIndex(t),u=o.getNormalizedIndex(n),c=this._dataSource?"dataSource":"items",d=l>-1&&u>-1&&l!==u;return d?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){s[o.itemPlacementFunc(l,u)](a);var e=o.getSelectedItemsAfterReorderItem(l,u);o.moveItemAtIndexToIndex(l,u),r._selectedItemIndices=o.selectedItemIndices(e),r.option("selectedItems",o.fetchSelectedItems()),"items"===c&&r._simulateOptionChange(c),r._itemEventHandler(a,"onItemReordered",{fromIndex:o.getIndex(l),toIndex:o.getIndex(u)},{excludeValidators:["disabled","readOnly"]})})}});i.CollectionWidget=l}(jQuery,DevExpress),function(e,t){var n=t.ui,i=DevExpress.require("/class"),r=i["abstract"];n.CollectionWidget.EditStrategy=i.inherit({ctor:function(e){this._collectionWidget=e},getIndexByItemData:r,getItemDataByIndex:r,getNormalizedIndex:function(e){return this._isNormalisedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._isDOMNode(e)?this._getNormalizedItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))},getIndex:function(e){return this._isNormalisedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this._isDOMNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this.getIndexByItemData(e)},getItemElement:function(t){return this._isNormalisedItemIndex(t)?this._getItemByNormalizedIndex(t):this._isItemIndex(t)?this._getItemByNormalizedIndex(this._normalizeItemIndex(t)):this._isDOMNode(t)?e(t):this._getItemByNormalizedIndex(this.getIndexByItemData(t))},deleteItemAtIndex:r,updateSelectionAfterDelete:r,fetchSelectedItems:r,fetchSelectionDifference:function(e,t){return{addedItems:this.fetchSelectedItems(e),removedItems:this.fetchSelectedItems(t)}},selectedItemIndices:r,itemPlacementFunc:function(e,t){return this._itemsFromSameParent(e,t)&&t>e?"after":"before"},moveItemAtIndexToIndex:r,getSelectedItemsAfterReorderItem:function(){return this._collectionWidget.option("selectedItems")},_isNormalisedItemIndex:function(t){return e.isNumeric(t)},_isDOMNode:function(t){var n=e(t);return n.length&&n.get(0).nodeType},_isItemIndex:r,_getNormalizedItemIndex:r,_normalizeItemIndex:r,_denormalizeItemIndex:r,_getItemByNormalizedIndex:r,_itemsFromSameParent:r})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=(t.require("/ui/ui.errors"),t.require("/utils/utils.array"));n.CollectionWidget.PlainEditStrategy=n.CollectionWidget.EditStrategy.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){return e.inArray(t,this._getPlainItems())},getItemDataByIndex:function(e){return this._getPlainItems()[e]},deleteItemAtIndex:function(e){this._getPlainItems().splice(e,1)},updateSelectionAfterDelete:function(t){var n=this._collectionWidget._selectedItemIndices;e.each(n,function(e,i){i>t&&(n[e]-=1)})},fetchSelectedItems:function(t){var n,i,r,o;return t=t||this._collectionWidget._selectedItemIndices,t.sort(function(e,t){return e-t}),n=this._getPlainItems(),i=[],e.each(t,function(e,t){i.push(n[t])}),this._collectionWidget._dataSource&&(r=this._collectionWidget.option("selectedItems"),o=e.grep(r,function(t){return-1===e.inArray(t,n)}),i=i.concat(o)),i},fetchSelectionDifference:function(t,n){var r=this.callBase(t,n);if(this._collectionWidget._dataSource){var o=r.addedItems,a=r.removedItems,s=i.intersection(o,a);e.each(s,function(t,n){var i=e.inArray(n,o),r=e.inArray(n,a);o.splice(i,1),a.splice(r,1)})}return r},selectedItemIndices:function(){var t=[],n=this._getPlainItems(),i=this._collectionWidget.option("selectedItems");this._collectionWidget._dataSource;return e.each(i,function(i,r){var o=e.inArray(r,n);-1!==o&&t.push(o)}),t},moveItemAtIndexToIndex:function(e,t){var n=this._getPlainItems(),i=n[e];n.splice(e,1),n.splice(t,0,i)},_isItemIndex:function(t){return e.isNumeric(t)},_getNormalizedItemIndex:function(e){return this._collectionWidget._itemElements().index(e)},_normalizeItemIndex:function(e){return e},_denormalizeItemIndex:function(e){return e},_getItemByNormalizedIndex:function(e){return e>-1?this._collectionWidget._itemElements().eq(e):null},_itemsFromSameParent:function(){return!0}})}(jQuery,DevExpress),DevExpress.define("/ui/hierarchicalCollectionWidget/ui.hierarchicalCollectionWidget",["jquery","/devices","/ui/templates/ui.template.function","/utils/utils.icon"],function(e,t,n,i){var r=DevExpress.ui,o=DevExpress.data.utils,a="dx-state-disabled";return r.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new r.HierarchicalDataAdapter(e.extend({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:e.noop,_initDynamicTemplates:function(){return this._useCustomExpressions()?void(this._dynamicTemplates.item=new n(e.proxy(function(t){return e("<div>").append(this._getIconContainer(t)).append(this._getTextContainer(t)).append(this._getPopoutContainer(t))},this))):void delete this._dynamicTemplates.item},_useCustomExpressions:function(){return"text"!==this.option("displayExpr")&&"html"!==this.option("displayExpr")},_getIconContainer:function(e){var t=e.icon||e.iconSrc;return t?i.getImageContainer(t):void 0},_getTextContainer:function(t){return e("<span>").text(this._displayGetter(t))},_getPopoutContainer:e.noop,_initAccessors:function(){var t=this;e.each(this._getAccessors(),function(e,n){t._compileAccessor(n)})},_getAccessors:function(){return["key","display","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var n=this,i=[];return e.each(t.internalFields.childrenKeys,function(e,t){var r=n._dataAdapter.getNodeByKey(t);i.push(r)}),i},_hasChildren:function(e){return e&&e.internalFields.childrenKeys.length},_compileAccessor:function(t){var n="_"+t+"Getter",i="_"+t+"Setter",r=this.option(t+"Expr");return e.isFunction(r)?(this[i]=function(e,t){e[r()]=t},void(this[n]=function(e){return e[r()]})):(this[n]=o.compileGetter(r),void(this[i]=o.compileSetter(r)))},_createDataAdapterAccessors:function(){var t=this,n={getters:{},setters:{}};return e.each(this._getAccessors(),function(e,i){var r="_"+i+"Getter",o="_"+i+"Setter",a="parentId"===i?"parentKey":i;n.getters[a]=t[r],n.setters[a]=t[o]}),n},_render:function(){this.callBase(),this._focusTarget().addClass(this._widgetClass())},_widgetClass:e.noop,_renderItemFrame:function(e,t){var n=this.callBase.apply(this,arguments);
return n.toggleClass(a,!!this._disabledGetter(t)),n},_optionChanged:function(e){switch(e.name){case"displayExpr":case"keyExpr":this._dynamicTemplates.item||this._initDynamicTemplates(),this._initAccessors(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(e);break;default:this.callBase(e)}}})}),function(e,t,n){var i=t.ui,r=t.data,o=t.require("/class"),a=t.require("/utils/utils.common"),s="expanded",l="selected",u=o.inherit({ctor:function(t){this.options={},e.extend(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},_defaultOptions:function(){return{dataAccessors:n,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",dataConverter:new i.HierarchicalDataConverter}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(l)},_updateExpansion:function(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(s)},_updateNodesKeysArray:function(t){var n=this,i=[];return e.each(this._dataStructure,function(e,r){n._isNodeVisible(r)&&(!r.internalFields[t]||(t===s||n.options.multipleSelection?i.push(r.internalFields.key):i=[r.internalFields.key]))}),i},_isNodeVisible:function(e){return e.internalFields.item.visible!==!1},_getByKey:function(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e,t)},_setChildrenSelection:function(){var t=this;e.each(this._dataStructure,function(e,n){if(n.internalFields.childrenKeys.length){var i=n.internalFields.selected;i===!0&&t._toggleChildrenSelection(n,i)}})},_setParentSelection:function(){for(var e,t,n,i=this._dataStructure.length,r=i-1;r>=0;r--)e=this._dataStructure[r],t=this.options.dataConverter._getByKey(e.internalFields.parentKey),e.internalFields.parentKey!==this.options.rootValue&&(n=this._calculateSelectedState(t),this._setFieldState(t,n,l))},_setParentExpansion:function(){var t=this;e.each(this._dataStructure,function(e,n){n.internalFields.expanded&&t._updateOneBranch(n.internalFields.key)})},_updateOneBranch:function(e){var t=this,n=this.getNodeByKey(e);t._iterateParents(n,function(e){t._setFieldState(e,!0,s)})},_iterateChildren:function(t,n,i){var r=this;e.each(t.internalFields.childrenKeys,function(t,o){var a=r.options.dataConverter._getByKey(o);e.isFunction(i)&&i(a),a.internalFields.childrenKeys.length&&n&&r._iterateChildren(a,n,i)})},_iterateParents:function(t,n){if(t.internalFields.parentKey!==this.options.rootValue){var i=this.options.dataConverter._getByKey(t.internalFields.parentKey);e.isFunction(n)&&n(i),i.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(i,n)}},_calculateSelectedState:function(e){for(var t=e.internalFields.childrenKeys.length,i=0,r=0,o=!1,a=0;t-1>=a;a++){var s=this.options.dataConverter._getByKey(e.internalFields.childrenKeys[a]),l=s.internalFields.item.visible===!1,u=s.internalFields.selected;l?r++:u?i++:u===n&&(i+=.5)}return i&&(o=i===t-r?!0:n),o},_toggleChildrenSelection:function(e,t){var n=this;this._iterateChildren(e,!0,function(e){n._isNodeVisible(e)&&n._setFieldState(e,t,l)})},_setFieldState:function(e,t,n){e.internalFields[n]!==t&&(e.internalFields[n]=t,e.internalFields.publicNode&&(e.internalFields.publicNode[n]=t),this.options.dataAccessors.setters[n](e.internalFields.item,t))},_markChildren:function(t){var n=this;e.each(t,function(e,t){var i=n.getIndexByKey(t),r=n.getNodeByKey(t);n._dataStructure[i]=0,r.internalFields.childrenKeys.length&&n._markChildren(r.internalFields.childrenKeys)})},_removeNode:function(t){var n=this.getNodeByKey(t);this._dataStructure[this.getIndexByKey(t)]=0,this._markChildren(n.internalFields.childrenKeys);var i=this,r=0,o=e.extend([],this._dataStructure);e.each(o,function(e,t){t||(i._dataStructure.splice(e-r,1),r++)})},_addNode:function(e){var t=this.options.dataConverter,n=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(n),this._initialDataStructure=this._initialDataStructure.concat(n),t._dataStructure=t._dataStructure.concat(n)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getNodeByItem:function(t){var n=null;return e.each(this._dataStructure,function(e,i){return i.internalFields.item===t?(n=i,!1):void 0}),n},getNodeByKey:function(e){return this._getByKey(this._dataStructure,e)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(e){return e.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(e){return r.query(this._dataStructure).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey:function(e){return this.options.dataConverter.getIndexByKey(e)},addItem:function(e){this._addNode(e),this._updateFields()},removeItem:function(e){this._removeNode(e),this._updateFields()},toggleSelection:function(e,t,n){var i=this._getByKey(this._dataStructure,e);this._setFieldState(i,t,l),this.options.recursiveSelection&&!n&&(t?this._setChildrenSelection():this._toggleChildrenSelection(i,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(l)},toggleSelectAll:function(t){if(a.isDefined(t)){var n=this;e.each(this._dataStructure,function(e,i){n._isNodeVisible(i)&&(n._setFieldState(i,t,l),n._selectedNodesKeys=n._updateNodesKeysArray(l))})}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:n:!1},toggleExpansion:function(e,t){var n=this._getByKey(this._dataStructure,e);this._setFieldState(n,t,s),t&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(s)},_filterDataStructure:function(e){for(var t,n=[],i=this._initialDataStructure,r=new RegExp(e,"i"),o=0,a=i.length;a>o;o++)t=this.options.dataAccessors.getters.display(i[o]),r.test(t)&&n.push(i[o]);return n},search:function(t){function n(t,r){for(var a,l,u=t.length;u>r;)a=t[r].internalFields.parentKey,a!==i.options.rootValue?(l=o._getByKey(a),l.internalFields.expanded||i._setFieldState(l,!0,s),e.inArray(l,t)>-1?r++:(t.splice(r,0,l),n(t,r))):r++}var i=this,r=this._filterDataStructure(t),o=this.options.dataConverter;return n(r,0),o._indexByKey={},e.each(r,function(e,t){t.internalFields.childrenKeys=[],o._indexByKey[t.internalFields.key]=e}),o._dataStructure=r,o.setChildrenKeys(),o._dataStructure}});t.ui.HierarchicalDataAdapter=u}(jQuery,DevExpress),function(e,t,n){var i=t.require("/class"),r=t.require("/utils/utils.common"),o=i.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,n){var i=this;e.each(t,function(e,t){var o=r.isDefined(n)?n:i._getParentId(t),a=i._convertItemToNode(t,o);i._dataStructure.push(a),i._indexByKey[a.internalFields.key]=i._dataStructure.length-1,i._itemHasChildren(t)&&i._convertItemsToNodes(i._dataAccessors.getters.items(t),a.internalFields.key)})},_getParentId:function(e){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(e):n},_itemHasChildren:function(e){var t=this._dataAccessors.getters.items(e);return t&&t.length},_convertItemToNode:function(t,n){this._itemsCount++,t.visible!==!1&&this._visibleItemsCount++;var i=this,o={internalFields:{disabled:i._dataAccessors.getters.disabled(t)||!1,expanded:i._dataAccessors.getters.expanded(t)||!1,selected:i._dataAccessors.getters.selected(t)||!1,key:r.isDefined(i._dataAccessors.getters.key(t))?i._dataAccessors.getters.key(t):i.getItemsCount(),parentKey:r.isDefined(n)?n:i._rootValue,item:i._makeObjectFromPrimitive(t),childrenKeys:[]}};return e.extend(!0,o,t),delete o.items,o},setChildrenKeys:function(){var t=this;e.each(this._dataStructure,function(e,n){if(n.internalFields.parentKey!==t._rootValue){var i=t._getByKey(n.internalFields.parentKey);i.internalFields.childrenKeys.push(n.internalFields.key)}})},_makeObjectFromPrimitive:function(e){if(r.isPrimitive(e)){var t=e;e={},this._dataAccessors.setters.key(e,t)}return e},_convertToPublicNode:function(e,t){if(!e)return null;var n={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t||null,itemData:e.internalFields.item,children:[],items:[]};return n.parent&&(n.parent.children.push(n),n.parent.items.push(n)),n},convertToPublicNodes:function(t,n){if(!t.length)return[];var i=this,o=[];return e.each(t,function(e,t){t=r.isPrimitive(t)?i._getByKey(t):t;var a=i._convertToPublicNode(t,n);a.children=i.convertToPublicNodes(t.internalFields.childrenKeys,a),o.push(a),t.internalFields.publicNode=a}),o},setDataAccessors:function(e){this._dataAccessors=e},_getByKey:function(e){return this._dataStructure[this.getIndexByKey(e)]||null},getByKey:function(t,n){var i=null,r=this,o=function(t,n){return e.each(t,function(e,t){var a=t.internalFields&&t.internalFields.key||r._dataAccessors.getters.key(t),s=r._dataAccessors.getters.items(t);return a===n?(i=t,!1):void(s&&o(s,n))}),i};return o(t,n)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var t=this;this._indexByKey={},e.each(this._dataStructure,function(e,n){t._indexByKey[n.internalFields.key]=e})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},e.each(this._dataStructure,function(e,t){t.internalFields.childrenKeys=[]})},getIndexByKey:function(e){return this._indexByKey[e]},createPlainStructure:function(e,t,n){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=n,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}});t.ui.HierarchicalDataConverter=o}(jQuery,DevExpress),DevExpress.define("/ui/ui.tooltip",["jquery","/utils/utils.viewPort"],function(e,t){var n=null,i=function(n){n=e.extend({position:"top"},n);var i=n.content;return delete n.content,e("<div />").html(i).appendTo(t.value()).dxTooltip(n)},r=function(){n&&(n.remove(),n=null)};return{show:function(e){return r(),n=i(e),n.dxTooltip("show")},hide:function(){return n?n.dxTooltip("hide").done(r).promise():e.when()}}}),DevExpress.define("/ui/ui.loading",["jquery","/utils/utils.viewPort"],function(e,t){var n=null,i=function(n){return e("<div>").appendTo(n&&n.container||t.value()).dxLoadPanel(n)},r=function(){n&&(n.remove(),n=null)};return{show:function(e){return r(),n=i(e),n.dxLoadPanel("show")},hide:function(){return n&&n.length?n.dxLoadPanel("hide").done(r).promise():e.when()}}}),DevExpress.MOD_CORE=!0),!window.DevExpress||!DevExpress.MOD_WIDGETS_BASE){if(!window.DevExpress||!DevExpress.MOD_CORE)throw Error("Required module is not referenced: core");!function(e,t,n){var i=t.ui,r=t.require("/utils/utils.support"),o=t.require("/utils/utils.browser"),a=t.require("/utils/utils.common"),s=t.require("/devices"),l=t.require("/componentRegistrator"),u=t.require("/domComponent"),c=t.require("/integration/jquery/jquery.selectors"),d=t.require("/ui/events/ui.events.utils"),h=t.require("/ui/events/ui.events.emitter.scroll"),p="dxScrollable",f="dxScrollableStrategy",m="dx-scrollable",g="dx-scrollable-disabled",_="dx-scrollable-container",v="dx-scrollable-content",y="vertical",x="horizontal",b="both",w=function(){return[{device:function(){return!r.nativeScrolling},options:{useNative:!1}},{device:function(e){return!r.nativeScrolling&&!s.isSimulator()&&"generic"===s.real().platform&&"generic"===e.platform},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:r.touch,showScrollbar:"onHover"}}]};l(p,i,u.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{disabled:!1,onScroll:null,direction:y,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,onStop:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,pushBackValue:0})},_defaultOptionsRules:function(){return this.callBase().concat(w(),[{device:function(){return r.nativeScrolling&&"android"===s.real().platform},options:{useSimulatedScrollbar:!0}},{device:function(){return"ios"===s.real().platform},options:{pushBackValue:1}}])},_initOptions:function(e){this.callBase(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this._initialOptions.useSimulatedScrollbar||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initMarkup(),this._attachNativeScrollbarsCustomizationCss(),this._locked=!1},_visibilityChanged:function(e){this.element().is(":hidden")||(e?(this.update(),this._toggleRTLDirection(this.option("rtlEnabled")),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset())},_initMarkup:function(){var t=this.element().addClass(m),n=this._$container=e("<div>").addClass(_),i=this._$content=e("<div>").addClass(v);t.on(d.addNamespace("beforeactivate",p),function(t){e(t.target).is(c.focusable)||t.preventDefault()}),i.append(t.contents()).appendTo(n),n.appendTo(t)},_dimensionChanged:function(){this.update()},_attachNativeScrollbarsCustomizationCss:function(){navigator.platform.indexOf("Mac")>-1&&o.webkit||this.element().addClass("dx-scrollable-customizable-scrollbars")},_render:function(){this._renderPushBackOffset(),this._renderDirection(),this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase()},_renderPushBackOffset:function(){var e=this.option("pushBackValue");(e||this._lastPushBackValue)&&(this._$content.css({paddingTop:e,paddingBottom:e}),this._lastPushBackValue=e)},_toggleRTLDirection:function(e){this.callBase(e),e&&this.option("direction")!==y&&this.scrollTo({left:this.scrollWidth()-this.clientWidth()})},_attachEventHandlers:function(){var t=this._strategy,n={getDirection:e.proxy(t.getDirection,t),validate:e.proxy(this._validate,this),isNative:this.option("useNative")};this._$container.off("."+p).on(d.addNamespace("scroll",p),e.proxy(t.handleScroll,t)).on(d.addNamespace(h.init,p),n,e.proxy(this._initHandler,this)).on(d.addNamespace(h.start,p),e.proxy(t.handleStart,t)).on(d.addNamespace(h.move,p),e.proxy(t.handleMove,t)).on(d.addNamespace(h.end,p),e.proxy(t.handleEnd,t)).on(d.addNamespace(h.cancel,p),e.proxy(t.handleCancel,t)).on(d.addNamespace(h.stop,p),e.proxy(t.handleStop,t))},_validate:function(e){return this._isLocked()?!1:(this.update(),this._strategy.validate(e))},_initHandler:function(){var e=this._strategy;e.handleInit.apply(e,arguments)},_renderDisabledState:function(){this.element().toggleClass(g,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.element().removeClass("dx-scrollable-"+x).removeClass("dx-scrollable-"+y).removeClass("dx-scrollable-"+b).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.element().data(f,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new i.dxScrollable.NativeStrategy(this):new i.dxScrollable.SimulatedStrategy(this)},_createActions:function(){this._strategy.createActions()},_clean:function(){this._strategy.dispose()},_optionChanged:function(e){switch(e.name){case"onStart":case"onEnd":case"onStop":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":case"pushBackValue":this._invalidate();break;case"disabled":this._renderDisabledState();break;default:this.callBase(e)}},_resetInactiveDirection:function(){var e,t=this._getInactiveProp();t&&(e=this.scrollOffset(),e[t]=0,this.scrollTo(e))},_getInactiveProp:function(){var e=this.option("direction");return e===y?"left":e===x?"top":void 0},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){var i,r,o;return e.isPlainObject(t)?(i=a.ensureDefined(t.left,t.x),r=a.ensureDefined(t.top,t.y),{left:a.isDefined(i)?-i:n,top:a.isDefined(r)?-r:n}):(o=this.option("direction"),{left:o!==y?-t:n,top:o!==x?-t:n})},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(e){var t=this.option("direction");return e===y?t!==x:e===x?t!==y:t===e},_updateAllowedDirection:function(){var e=this._strategy._allowedDirections();this._allowedDirectionValue=this._isDirection(b)&&e.vertical&&e.horizontal?b:this._isDirection(x)&&e.horizontal?x:this._isDirection(y)&&e.vertical?y:null},_allowedDirection:function(){return this._allowedDirectionValue},_container:function(){return this._$container},content:function(){return this._$content},scrollOffset:function(){var e=this._location();return{top:-e.top,left:-e.left}},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return this._$container.height()},scrollHeight:function(){return this.content().outerHeight()-2*this.option("pushBackValue")},clientWidth:function(){return this._$container.width()},scrollWidth:function(){return this.content().outerWidth()},update:function(){return this._strategy.update(),this._updateAllowedDirection(),e.when().promise()},scrollBy:function(e){e=this._normalizeLocation(e),(e.top||e.left)&&(this.update(),this._strategy.scrollBy(e))},scrollTo:function(e){e=this._normalizeLocation(e),this.update();var t=this._location(),n=this._normalizeLocation({left:t.left-a.ensureDefined(e.left,t.left),top:t.top-a.ensureDefined(e.top,t.top)});(n.top||n.left)&&this._strategy.scrollBy(n)},scrollToElement:function(t,n){var i,r;n=n||{};var o=e(t),a=this.content().find(t).length,s=o.parents("."+m).length-o.parents("."+v).length==0;a&&s&&(i={top:0,left:0},r=this.option("direction"),r!==y&&(i.left=this._scrollToElementPosition(o,x,n)),r!==x&&(i.top=this._scrollToElementPosition(o,y,n)),this.scrollTo(i))},_scrollToElementPosition:function(e,t,n){var i=t===y,r=(i?n.top:n.left)||0,o=(i?n.bottom:n.right)||0,a=i?this.option("pushBackValue"):0,s=this._elementPositionRelativeToContent(e,i?"top":"left"),l=s-a,u=e[i?"outerHeight":"outerWidth"](),c=i?this.scrollTop():this.scrollLeft(),d=i?this.clientHeight():this.clientWidth(),h=c-l+r,p=c-l-u+d-o;return 0>=h&&p>=0?c:c-(Math.abs(h)>Math.abs(p)?p:h)},_elementPositionRelativeToContent:function(e,t){for(var n=0;this._hasScrollContent(e);)n+=e.position()[t],e=e.offsetParent();return n},_hasScrollContent:function(e){var t=this.content();return e.closest(t).length&&!e.is(t)}})),i.dxScrollable.deviceDependentOptions=w}(jQuery,DevExpress),function(e,t){var n,i=t.ui,r=t.require("/utils/utils.translator"),o=t.require("/componentRegistrator"),a=t.require("/ui/ui.widget"),s=t.require("/ui/events/ui.events.utils"),l=t.require("/ui/events/pointer/ui.events.pointer"),u="dxScrollbar",c="dx-scrollable-scrollbar",d=c+"-active",h="dx-scrollable-scroll",p="dx-scrollable-scroll-content",f="dx-scrollbar-hoverable",m="horizontal",g=15,_={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"};o(u,i.dxScrollable,a.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:_.onScroll,containerSize:0,contentSize:0,expandable:!0})},_init:function(){this.callBase(),this._isHovered=!1},_render:function(){this._renderThumb(),this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.element().toggleClass(f,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=e("<div>").addClass(h),e("<div>").addClass(p).appendTo(this._$thumb),this.element().addClass(c).append(this._$thumb)},isThumb:function(e){return!!this.element().find(e).length},_isHoverMode:function(){var e=this.option("visibilityMode");return(e===_.onHover||e===_.always)&&this.option("expandable")},_renderDirection:function(){var e=this.option("direction");this.element().addClass("dx-scrollbar-"+e),this._dimension=e===m?"width":"height",this._prop=e===m?"left":"top"},_attachPointerDownHandler:function(){this._$thumb.on(s.addNamespace(l.down,u),e.proxy(this.feedbackOn,this))},feedbackOn:function(){this.element().addClass(d),n=this},feedbackOff:function(){this.element().removeClass(d),n=null},cursorEnter:function(){this._isHovered=!0,this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.outerHeight(this.option("height")),this._$thumb.outerWidth(this.option("width"))},_toggleVisibility:function(e){this.option("visibilityMode")===_.onScroll&&this._$thumb.css("opacity"),e=this._adjustVisibility(e),this.option().visible=e,this._$thumb.toggleClass("dx-state-invisible",!e)},_adjustVisibility:function(e){if(this.containerToContentRatio()&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case _.onHover:e=e||!!this._isHovered;break;case _.never:e=!1;break;case _.always:e=!0}return e},moveTo:function(t){if(!this._isHidden()){e.isPlainObject(t)&&(t=t[this._prop]||0);var n={};n[this._prop]=this._calculateScrollBarPosition(t),r.move(this._$thumb,n)}},_calculateScrollBarPosition:function(e){return-e*this._thumbRatio},_update:function(){var e,t=this.option("containerSize"),n=this.option("contentSize");this._containerToContentRatio=t/n,e=Math.round(Math.max(Math.round(t*this._containerToContentRatio),g)),this._thumbRatio=(t-e)/(n-t),this.option(this._dimension,e),this.element().toggle(this._needScrollbar())},_isHidden:function(){return this.option("visibilityMode")===_.never},_needScrollbar:function(){return!this._isHidden()&&this._containerToContentRatio<1},containerToContentRatio:function(){return this._containerToContentRatio},_normalizeSize:function(t){return e.isPlainObject(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===n&&(n=null),this._$thumb.off("."+u)},_optionChanged:function(e){if(!this._isHidden())switch(e.name){case"containerSize":case"contentSize":this.option()[e.name]=this._normalizeSize(e.value),this._update();break;case"visibilityMode":case"direction":this._invalidate();break;default:this.callBase.apply(this,arguments)}},update:function(){this._adjustVisibility()&&this.option("visible",!0)}})),n=null,e(document).on(s.addNamespace(l.up,u),function(){n&&n.feedbackOff()})}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/devices"),o=DevExpress.require("/class"),a="dxNativeScrollable",s="dx-scrollable-native",l="dx-scrollable-scrollbar-simulated",u="dx-scrollable-scrollbars-hidden",c="vertical",d="horizontal",h=500;i.dxScrollable.NativeStrategy=o.inherit({ctor:function(e){this._init(e)},_init:function(t){this._component=t,this._$element=t.element(),this._$container=t._$container,this._$content=t._$content,this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this._showScrollbar=t.option("showScrollbar"),this.option=e.proxy(t.option,t),this._createActionByOption=e.proxy(t._createActionByOption,t),this._isLocked=e.proxy(t._isLocked,t),this._isDirection=e.proxy(t._isDirection,t),this._allowedDirection=e.proxy(t._allowedDirection,t)},render:function(){var e=r.real(),t=e.platform;this._$element.addClass(s).addClass(s+"-"+t).toggleClass(u,!this._showScrollbar),this._showScrollbar&&this._useSimulatedScrollbar&&this._renderScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(l),this._renderScrollbar(c),this._renderScrollbar(d)},_renderScrollbar:function(t){if(this._isDirection(t)){var n=e("<div>").dxScrollbar({direction:t,expandable:this._component.option("scrollByThumb")}).appendTo(this._$element);this._scrollbars[t]=n.dxScrollbar("instance")}},handleInit:e.noop,handleStart:function(){this._disablePushBack=!0},handleMove:function(e){return this._isLocked()?void(e.cancel=!0):void(this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0))},handleEnd:function(){this._disablePushBack=!1},handleStop:e.noop,_eachScrollbar:function(t){t=e.proxy(t,this),e.each(this._scrollbars||{},function(e,n){t(n,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var e=this.location();return{jQueryEvent:this._eventForUserAction,scrollOffset:{top:-e.top,left:-e.left},reachedLeft:this._isDirection(d)?e.left>=0:n,reachedRight:this._isDirection(d)?e.left<=this._containerSize.width-this._componentContentSize.width:n,reachedTop:this._isDirection(c)?e.top>=0:n,reachedBottom:this._isDirection(c)?e.top<=this._containerSize.height-this._componentContentSize.height:n}},handleScroll:function(e){return this._isScrollLocationChanged()?(this._eventForUserAction=e,this._moveScrollbars(),this._scrollAction(this._createActionArgs()),this._lastLocation=this.location(),this._pushBackFromBoundary(),void 0):void e.stopImmediatePropagation()},_pushBackFromBoundary:function(){var e=this.option("pushBackValue");if(e&&!this._disablePushBack){var t=this._containerSize.height-this._contentSize.height,n=this._$container.scrollTop(),i=t+n-2*e;n?i||this._$container.scrollTop(e-t):this._$container.scrollTop(e)}},_isScrollLocationChanged:function(){var e=this.location(),t=this._lastLocation||{},n=t.top!==e.top,i=t.left!==e.left;return n||i},_moveScrollbars:function(){this._eachScrollbar(function(e){e.moveTo(this.location()),e.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(e.proxy(function(){this._eachScrollbar(function(e){e.option("visible",!1)})},this),h)},location:function(){return{left:-this._$container.scrollLeft(),top:this.option("pushBackValue")-this._$container.scrollTop()}},disabledChanged:e.noop,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:this._$container.height(),width:this._$container.width()},this._componentContentSize={height:this._component.content().height(),width:this._component.content().width()},this._contentSize={height:this._$content.height(),width:this._$content.width()},this._pushBackFromBoundary()},_updateScrollbars:function(){this._eachScrollbar(function(e,t){var n=t===c?"height":"width";e.option({containerSize:this._containerSize[n],contentSize:this._componentContentSize[n]}),e.update()})},_allowedDirections:function(){return{vertical:this._isDirection(c)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(d)&&this._contentSize.width>this._containerSize.width}},dispose:function(){this._$element.removeClass(function(e,t){var n=new RegExp(s+"\\S*","g");return n.test(t)?t.match(n).join(" "):void 0}),this._$element.off("."+a),this._$container.off("."+a),this._removeScrollbars(),clearTimeout(this._gestureEndTimer),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(e){e.element().remove()})},scrollBy:function(e){var t=this.location();this._$container.scrollTop(-t.top-e.top+this.option("pushBackValue")),this._$container.scrollLeft(-t.left-e.left)},validate:function(){return!this.option("disabled")&&this._allowedDirection()},getDirection:function(){return this._allowedDirection()}})}(jQuery,DevExpress),function(e,t,n){var i,r,o=t.ui,a=Math,s=t.require("/utils/utils.inflector").titleize,l=t.require("/utils/utils.translator"),u=t.require("/class"),c=t.require("/animator"),d=t.require("/devices"),h=t.require("/ui/events/ui.events.utils"),p=t.require("/ui/events/pointer/ui.events.pointer"),f=d.real,m="win"===f.platform||"android"===f.platform,g="dxSimulatedScrollable",_="dxScrollableStrategy",v=g+"Cursor",y=g+"Keyboard",x="dx-scrollable-simulated",b="dx-scrollable-scrollbars-hidden",w="dx-scrollable-scrollbars-alwaysvisible",C="dx-scrollable-scrollbar",S="vertical",k="horizontal",D=m?.95:.92,T=.5,E=1,I=a.round(1e3/60),A=20,$=E/5,B=m?300:400,O=B/I,P=(1-a.pow(D,O))/(1-D),M={PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},R=function(){var t,n,i=e.Callbacks(),r=50,o=null;return e(window).on(h.addNamespace("focus",_),function(){o=e.now()}),e(document).on(h.addNamespace(p.down,_),function(){o=e.now()}),t=function(t){var n=e.now()-o>r,a=t.target===document.activeElement;n&&a&&i.fire(t.target)},window.addEventListener?(n="onactivate"in document,n?window.addEventListener("activate",t,!0):window.addEventListener("focus",t,!0)):window.attachEvent("onfocusin",t),i}(),V=c.inherit({ctor:function(e){this.callBase(),this.scroller=e},VELOCITY_LIMIT:E,_isFinished:function(){return a.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?D:T},_complete:function(){this.scroller._scrollComplete()},_stop:function(){this.scroller._stopComplete()}}),L=V.inherit({VELOCITY_LIMIT:$,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return D},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),F=function(e){return"dxmousewheel"===e.type},z=o.dxScrollable.Scroller=u.inherit({ctor:function(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===k?"x":"y",this._prop=t.direction===k?"left":"top",this._dimension=t.direction===k?"width":"height",this._scrollProp=t.direction===k?"scrollLeft":"scrollTop",this._pushBackCorrection=t.direction===S?2*t.pushBackValue:0,e.each(t,e.proxy(function(e,t){this["_"+e]=t},this))},_initAnimators:function(){this._inertiaAnimator=new V(this),this._bounceAnimator=new L(this)},_initScrollbar:function(){this._$scrollbar=e("<div>").dxScrollbar({direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),containerSize:this._containerSize(),contentSize:this._contentSize(),
expandable:this._scrollByThumb}).appendTo(this._$container),this._scrollbar=this._$scrollbar.dxScrollbar("instance")},_visibilityModeNormalize:function(e){return e===!0?"onScroll":e===!1?"never":e},_scrollStep:function(e){var t=this._location;this._location+=e,this._suppressBounce(),this._move(),Math.abs(t-this._location)<1||(this._scrollAction(),this._$container.triggerHandler({type:"scroll",simulated:!0}))},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(e){return e=e!==n?e:this._location,a.max(a.min(e,this._maxOffset),this._minOffset)},_move:function(e){this._location=e!==n?e:this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var e={};e[this._prop]=this._location,l.move(this._$content,e)},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._correctLocation(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_correctLocation:function(){this._location=a.round(this._location),this._move()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var e=this._bounceLocation=this._boundLocation(),t=e-this._location;this._velocity=t/P},_inBounds:function(e){return e=e!==n?e:this._location,this._boundLocation(e)===e},_crossBoundOnNextStep:function(){var e=this._location,t=e+this._velocity;return e<this._minOffset&&t>=this._minOffset||e>this._maxOffset&&t<=this._maxOffset},_initHandler:function(t){return this._stopDeferred=e.Deferred(),this._stopScrolling(),this._prepareThumbScrolling(t),this._stopDeferred.promise()},_stopScrolling:function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()},_prepareThumbScrolling:function(t){if(!F(t.originalEvent)){var n=e(t.originalEvent.target),i=this._isScrollbar(n);i&&this._moveToMouseLocation(t),this._thumbScrolling=i||this._isThumb(n),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(n),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(e){return this._isThumb(e)},_moveToMouseLocation:function(e){var t=e["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],n=this._location+t/this._containerToContentRatio()-this._$container.height()/2;this._scrollStep(-n)},_stopComplete:function(){this._stopDeferred&&this._stopDeferred.resolve()},_startHandler:function(){this._showScrollbar()},_moveHandler:function(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-e[this._axis]/this._containerToContentRatio()),this._scrollBy(e))},_scrollBy:function(e){e=e[this._axis],this._inBounds()||(e*=T),this._scrollStep(e)},_scrollByHandler:function(e){this._scrollBy(e),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=e.Deferred(),this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressIntertia(),this._inertiaAnimator.start()},_suppressIntertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){this._stopScrolling(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),this._moveScrollbar(),this._scrollbar.update()},_updateLocation:function(){this._location=l.locate(this._$content)[this._prop]},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return a.min(this._containerSize()-this._contentSize(),0)},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()})},_moveToBounds:function(){var e=this._boundLocation(),t=e!==this._location;this._location=e,this._move(),t&&this._scrollAction()},_createActionsHandler:function(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._$container[this._dimension]()},_contentSize:function(){var e,t="hidden"===this._$content.css("overflow-"+this._axis),n=this._$content[this._dimension]();return t||(e=this._$content[0]["scroll"+s(this._dimension)],n=a.max(e-this._pushBackCorrection,n)),n},_validateEvent:function(t){var n=e(t.originalEvent.target);return this._isThumb(n)||this._isScrollbar(n)?(t.preventDefault(),!0):this._isContent(n)},_isThumb:function(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)},_isScrollbar:function(e){return this._scrollByThumb&&e&&e.is(this._$scrollbar)},_isContent:function(e){return this._scrollByContent&&!!e.closest(this._$element).length},_reachedMin:function(){return this._location<=this._minOffset},_reachedMax:function(){return this._location>=this._maxOffset},_cursorEnterHandler:function(){this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:e.noop});o.dxScrollable.SimulatedStrategy=u.inherit({ctor:function(e){this._init(e)},_init:function(t){this._component=t,this._$element=t.element(),this._$container=t._$container,this._$content=t._$content,this.option=e.proxy(t.option,t),this._createActionByOption=e.proxy(t._createActionByOption,t),this._isLocked=e.proxy(t._isLocked,t),this._isDirection=e.proxy(t._isDirection,t),this._allowedDirection=e.proxy(t._allowedDirection,t),this._proxiedActiveElementChangeHandler=e.proxy(this._activeElementChangeHandler,this),R.add(this._proxiedActiveElementChangeHandler)},_activeElementChangeHandler:function(e){this._component.scrollToElement(e)},render:function(){this._$element.addClass(x),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabindex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(k)&&this._createScroller(k),this._isDirection(S)&&this._createScroller(S),this._$element.toggleClass(w,"always"===this.option("showScrollbar")),this._$element.toggleClass(b,!this.option("showScrollbar"))},_createScroller:function(e){this._scrollers[e]=new z(this._scrollerOptions(e))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$element:this._$element,scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:e.proxy(this._isAnyThumbScrolling,this),pushBackValue:this.option("pushBackValue")}},_isAnyThumbScrolling:function(e){var t=!1;return this._eventHandler("isThumbScrolling",e).done(function(e,n){t=e||n}),t},handleInit:function(e){this._supressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e).done(this._stopAction)},_supressDirections:function(e){return F(e.originalEvent)?void this._prepareDirections(!0):(this._prepareDirections(),void this._eachScroller(function(t,n){var i=t._validateEvent(e);this._validDirections[n]=i}))},_prepareDirections:function(e){e=e||!1,this._validDirections={},this._validDirections[k]=e,this._validDirections[S]=e},_eachScroller:function(t){t=e.proxy(t,this),e.each(this._scrollers,function(e,n){t(n,e)})},handleStart:function(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)},_saveActive:function(){r=this},_resetActive:function(){r===this&&(r=null)},handleMove:function(e){return this._isLocked()?(e.cancel=!0,void this._resetActive()):(this._saveActive(),e.preventDefault&&e.preventDefault(),this._adjustDistance(e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta),void 0)},_adjustDistance:function(e){e.x*=this._validDirections[k],e.y*=this._validDirections[S]},handleEnd:function(e){return this._resetActive(),this._refreshCursorState(e.originalEvent&&e.originalEvent.target),this._adjustDistance(e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)},handleCancel:function(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(e){if(!e.simulated){var t={left:this.option("direction")!==S?-this._$container.scrollLeft():0,top:this.option("direction")!==k?-this._$container.scrollTop():0};(t.left||t.top)&&(this._$container.scrollLeft(0),this._$container.scrollTop(0),this.scrollBy(t))}},_attachKeyboardHandler:function(){this._$element.off("."+y),!this.option("disabled")&&this.option("useKeyboard")&&this._$element.on(h.addNamespace("keydown",y),e.proxy(this._keyDownHandler,this))},_keyDownHandler:function(e){if(this._$container.is(document.activeElement)){var t=!0;switch(e.keyCode){case M.DOWN:this._scrollByLine({y:1});break;case M.UP:this._scrollByLine({y:-1});break;case M.RIGHT:this._scrollByLine({x:1});break;case M.LEFT:this._scrollByLine({x:-1});break;case M.PAGE_DOWN:this._scrollByPage(1);break;case M.PAGE_UP:this._scrollByPage(-1);break;case M.HOME:this._scrollToHome();break;case M.END:this._scrollToEnd();break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}},_scrollByLine:function(e){this.scrollBy({top:(e.y||0)*-A,left:(e.x||0)*-A})},_scrollByPage:function(e){var t=this._wheelProp(),n=this._dimensionByProp(t),i={};i[t]=e*-this._$container[n](),this.scrollBy(i)},_dimensionByProp:function(e){return"left"===e?"width":"height"},_scrollToHome:function(){var e=this._wheelProp(),t={};t[e]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var e=this._wheelProp(),t=this._dimensionByProp(e),n={};n[e]=this._$content[t]()-this._$container[t](),this._component.scrollTo(n)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._stopAction=this._createActionHandler("onStop"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._eventHandler("createActions",{scroll:this._createActionHandler("onScroll"),bounce:this._createActionHandler("onBounce")})},_createActionHandler:function(t){var n=this,i=n._createActionByOption(t);return function(){i(e.extend(n._createActionArgs(),arguments))}},_createActionArgs:function(){var e=this._scrollers[k],t=this._scrollers[S];return{jQueryEvent:this._eventForUserAction,scrollOffset:{top:t&&-t._location,left:e&&-e._location},reachedLeft:e&&e._reachedMax(),reachedRight:e&&e._reachedMin(),reachedTop:t&&t._reachedMax(),reachedBottom:t&&t._reachedMin()}},_eventHandler:function(t){var n=e.makeArray(arguments).slice(1),i=e.map(this._scrollers,function(e){return e["_"+t+"Handler"].apply(e,n)});return e.when.apply(e,i).promise()},location:function(){return l.locate(this._$content)},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){this._$element.off("."+v),!this.option("disabled")&&this._isHoverMode()&&this._$element.on(h.addNamespace("mouseenter",v),e.proxy(this._cursorEnterHandler,this)).on(h.addNamespace("mouseleave",v),e.proxy(this._cursorLeaveHandler,this))},_isHoverMode:function(){return"onHover"===this.option("showScrollbar")},_cursorEnterHandler:function(e){e=e||{},e.originalEvent=e.originalEvent||{},r||e.originalEvent._hoverHandled||(i&&i._cursorLeaveHandler(),i=this,this._eventHandler("cursorEnter"),e.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(e){i===this&&r!==i&&(this._eventHandler("cursorLeave"),i=null,this._refreshCursorState(e&&e.relatedTarget))},_refreshCursorState:function(t){if(this._isHoverMode()||t&&!r){var n=e(t),o=n.closest("."+x+":not(.dx-state-disabled)"),a=o.length&&o.data(_);i&&i!==a&&i._cursorLeaveHandler(),a&&a._cursorEnterHandler()}},update:function(){var e=this._eventHandler("update").done(this._updateAction),t=this._allowedDirections(),n=t.vertical||t.horizontal;return this._$container.css("touchAction",n?"none":""),e},_allowedDirections:function(){var e=this.option("bounceEnabled"),t=this._scrollers[S],n=this._scrollers[k];return{vertical:t&&(t._minOffset<0||e),horizontal:n&&(n._minOffset<0||e)}},scrollBy:function(e){var t=this._scrollers[S],n=this._scrollers[k];t&&(e.top=t._boundLocation(e.top+t._location)-t._location),n&&(e.left=n._boundLocation(e.left+n._location)-n._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:e.left,y:e.top}),this._endAction()},validate:function(e){return this.option("disabled")?!1:this.option("bounceEnabled")?!0:F(e)?this._validateWheel(e):this._validateMove(e)},_validateWheel:function(e){var t=this._scrollers[this._wheelDirection(e)],n=t._reachedMin(),i=t._reachedMax(),r=!n||!i,o=!n&&!i,a=n&&e.delta>0,s=i&&e.delta<0;return r&&(o||a||s)},_validateMove:function(t){return this.option("scrollByContent")||e(t.target).closest("."+C).length?this._allowedDirection():!1},getDirection:function(e){return F(e)?this._wheelDirection(e):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===k?"left":"top"},_wheelDirection:function(e){switch(this.option("direction")){case k:return k;case S:return S;default:return e&&e.shiftKey?k:S}},dispose:function(){R.remove(this._proxiedActiveElementChangeHandler),this._resetActive(),i===this&&(i=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(x),this._eventForUserAction=null,clearTimeout(this._gestureEndTimer)},_detachEventHandlers:function(){this._$element.off("."+v),this._$container.off("."+y)}})}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/devices"),o=t.require("/componentRegistrator"),a="dx-scrollview",s=a+"-content",l=a+"-top-pocket",u=a+"-bottom-pocket",c=a+"-pull-down",d=a+"-scrollbottom",h=d+"-indicator",p=d+"-text",f=a+"-loadpanel";o("dxScrollView",i,i.dxScrollable.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{pullingDownText:Globalize.localize("dxScrollView-pullingDownText"),pulledDownText:Globalize.localize("dxScrollView-pulledDownText"),refreshingText:Globalize.localize("dxScrollView-refreshingText"),reachBottomText:Globalize.localize("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=r.real();return"android"===e.platform},options:{refreshStrategy:"swipeDown"}},{device:function(){return"win"===r.real().platform},options:{refreshStrategy:"slideDown"}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initMarkup:function(){this.callBase(),this.element().addClass(a),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=e("<div>").addClass(s);this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=e("<div>").addClass(l),n=this._$pullDown=e("<div>").addClass(c);t.append(n),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=e("<div>").addClass(u),n=this._$reachBottom=e("<div>").addClass(d),i=e("<div>").addClass(h),r=e("<div>").dxLoadIndicator(),o=this._$reachBottomText=e("<div>").addClass(p);this._updateReachBottomText(),n.append(i.append(r)).append(o),t.append(n),this._$content.append(t)},_initLoadPanel:function(){this._loadPanel=this._createComponent(e("<div>").addClass(f).appendTo(this.element()),"dxLoadPanel",{shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.element()}})},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",n=i.dxScrollView.refreshStrategies[t];if(!n)throw Error("E1030",this.option("refreshStrategy"));this._strategy=new n(this),this._strategy.pullDownCallbacks.add(e.proxy(this._pullDownHandler,this)),this._strategy.releaseCallbacks.add(e.proxy(this._releaseHandler,this)),this._strategy.reachBottomCallbacks.add(e.proxy(this._reachBottomHandler,this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._pullDownEnable(!!this.option("onPullDown")&&!t.designMode),this._reachBottomEnable(!!this.option("onReachBottom")&&!t.designMode)},_pullDownEnable:function(e){return 0===arguments.length?this._pullDownEnabled:(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e,void 0)},_reachBottomEnable:function(e){return 0===arguments.length?this._reachBottomEnabled:(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e,void 0)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(e){return arguments.length<1?this._loadingIndicatorEnabled:void(this._loadingIndicatorEnabled=e)},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(e)}},isEmpty:function(){return!this.content().children().length},content:function(){return this._$content.children().eq(1)},release:function(e){return e!==n&&this.toggleLoading(!e),this._strategy.release()},toggleLoading:function(e){this._reachBottomEnable(e)},isFull:function(){return this.content().height()>this._$container.height()},refresh:function(){this.option("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.element().remove()}})),i.dxScrollView.refreshStrategies={}}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.translator"),r="dx-scrollview-pull-down-loading",o="dx-scrollview-pull-down-ready",a="dx-scrollview-pull-down-image",s="dx-scrollview-pull-down-indicator",l="dx-scrollview-pull-down-text",u=0,c=1,d=2,h=3,p=n.dxScrollable.NativeStrategy.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$bottomPocket=e._$bottomPocket,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=e.content(),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=e.Callbacks(),this.releaseCallbacks=e.Callbacks(),this.reachBottomCallbacks=e.Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=e("<div>").addClass(a),n=e("<div>").addClass(s),i=e("<div>").dxLoadIndicator(),r=this._$pullDownText=e("<div>").addClass(l);this._$pullingDownText=e("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=e("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=e("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(t).append(n.append(i)).append(r)},_releaseState:function(){this._state=u,this._refreshPullDownText()},_pushBackFromBoundary:function(){this._isLocked()||this._component.isEmpty()||this.callBase()},_refreshPullDownText:function(){this._$pullingDownText.css("opacity",this._state===u?1:0),this._$pulledDownText.css("opacity",this._state===c?1:0),this._$refreshingText.css("opacity",this._state===d?1:0)},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===c&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(e.proxy(function(){this._pullDownRefreshing()},this),400))},_setPullDownOffset:function(e){i.move(this._$topPocket,{top:e}),i.move(this._$scrollViewContent,{top:e})},handleScroll:function(e){this.callBase(e),this._state!==d&&(this._location=this.location().top,this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottom():this._stateReleased())},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this._state!==h&&(this._state=h,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==c&&(this._state=c,this._$pullDown.addClass(o),this._refreshPullDownText())},_stateReleased:function(){this._state!==u&&(this._$pullDown.removeClass(r).removeClass(o),this._releaseState())},_pullDownRefreshing:function(){this._state!==d&&(this._state=d,this._$pullDown.addClass(r).removeClass(o),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=c},release:function(){var t=e.Deferred();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(e.proxy(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()},this),400),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});n.dxScrollView.refreshStrategies.pullDown=p}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.translator"),r=t.require("/ui/events/ui.events.utils"),o="dx-scrollview-pull-down-loading",a="dx-scrollview-pull-down-indicator",s="dx-scrollview-pull-down-refreshing",l="dx-icon-pulldown",u=0,c=1,d=2,h=4,p=5,f=n.dxScrollable.NativeStrategy.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=e.content(),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=e.Callbacks(),this.releaseCallbacks=e.Callbacks(),this.reachBottomCallbacks=e.Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=e("<div>").addClass(a),n=e("<div>").dxLoadIndicator({});this._$icon=e("<div>").addClass(l),this._$pullDown.empty().append(this._$icon).append(t.append(n))},_releaseState:function(){this._state=u,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},handleInit:function(e){this.callBase(e),this._state===u&&0===this._location&&(this._startClientY=r.eventData(e.originalEvent).y,this._state=h)},handleMove:function(e){this.callBase(e),this._deltaY=r.eventData(e.originalEvent).y-this._startClientY,this._state===h&&(this._pullDownEnabled&&this._deltaY>0?this._state=p:this._complete()),this._state===p&&(e.preventDefault(),this._movePullDown())},_movePullDown:function(){var e=this._getPullDownHeight(),t=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),n=180*t/e/3;this._$pullDown.css({opacity:1}).toggleClass(s,e>t),i.move(this._$pullDown,{top:t}),this._$icon.css({transform:"rotate("+n+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===p&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*this._$element.outerHeight())},_getPullDownStartPosition:function(){return-Math.round(1.5*this._$pullDown.outerHeight())},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===h||this._state===p)&&this._releaseState()},handleScroll:function(e){if(this.callBase(e),this._state!==d){var t=this.location().top,n=this._location-t;this._location=t,n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==u&&(this._$pullDown.removeClass(o),this._releaseState())},_pullDownRefreshing:function(){this._state=d,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(o),i.move(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(e){this._$topPocket.toggle(e),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=c},release:function(){var t=e.Deferred();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(e.proxy(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()},this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});n.dxScrollView.refreshStrategies.swipeDown=f}(jQuery,DevExpress),function(e,t){var n=t.ui,i=0,r=1,o=2,a=80,s=n.dxScrollable.NativeStrategy.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=e.Callbacks(),this.releaseCallbacks=e.Callbacks(),this.reachBottomCallbacks=e.Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._renderBottom(),this._releaseState(),this._updateDimensions()},_renderPullDown:function(){this._$topPocket.empty()},_renderBottom:function(){this._$bottomPocket.empty().append("<progress>")},_releaseState:function(){this._state!==i&&(this._state=i)},_updateDimensions:function(){this._scrollOffset=this._$container.prop("scrollHeight")-this._$container.prop("clientHeight"),this._containerSize={height:this._$container.prop("clientHeight"),width:this._$container.prop("clientWidth")},this._contentSize=this._componentContentSize={height:this._$container.prop("scrollHeight"),width:this._$container.prop("scrollWidth")}},handleScroll:function(e){this.callBase(e),this._isReachBottom(this._lastLocation.top)&&this._reachBottom()},_isReachBottom:function(e){return this._scrollContent=this._$container.prop("scrollHeight")-this._$container.prop("clientHeight"),this._reachBottomEnabled&&e<-this._scrollContent+a},_reachBottom:function(){this._state!==o&&(this._state=o,this.reachBottomCallbacks.fire())},pullDownEnable:function(e){this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e,this._$bottomPocket.toggle(e)},pendingRelease:function(){this._state=r},release:function(){var t=e.Deferred();return this._state=i,this.releaseCallbacks.fire(),this.update(),t.resolve().promise()}});n.dxScrollView.refreshStrategies.slideDown=s}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.common"),r=Math,o="dx-scrollview-pull-down-loading",a="dx-scrollview-pull-down-ready",s="dx-scrollview-pull-down-image",l="dx-scrollview-pull-down-indicator",u="dx-scrollview-pull-down-text",c=0,d=1,h=2,p=3,f=n.dxScrollView.Scroller=n.dxScrollable.Scroller.inherit({ctor:function(){this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=c,this._refreshPullDownText()},_refreshPullDownText:function(){this._$pullingDownText.css("opacity",this._state===c?1:0),this._$pulledDownText.css("opacity",this._state===d?1:0),this._$refreshingText.css("opacity",this._state===h?1:0)},_initCallbacks:function(){this.pullDownCallbacks=e.Callbacks(),this.releaseCallbacks=e.Callbacks(),this.reachBottomCallbacks=e.Callbacks()},_updateBounds:function(){var e="horizontal"!==this._direction;this._topPocketSize=e?this._$topPocket[this._dimension]():0,this._bottomPocketSize=e?this._$bottomPocket[this._dimension]():0,this.callBase(),this._bottomBound=this._minOffset+this._bottomPocketSize},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==c&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._bottomBound},_scrollComplete:function(){this._inBounds()&&this._state===d?this._pullDownRefreshing():this._inBounds()&&this._state===p?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==p&&(this._state=p,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return r.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==d&&(this._state=d,this._maxOffset=0,this._$pullDown.addClass(a),this._refreshPullDownText())},_stateReleased:function(){this._state!==c&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(o).removeClass(a),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==h&&(this._state=h,this._$pullDown.addClass(o).removeClass(a),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===c&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=i.executeAsync(e.proxy(this._release,this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())},_pullDownEnablingHandler:function(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=this._$topPocket.height()||-this._topPocketSize,this._move()},_pendingReleaseHandler:function(){
this._state=d},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),m=n.dxScrollable.SimulatedStrategy.inherit({_init:function(e){this.callBase(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=e.Callbacks(),this.releaseCallbacks=e.Callbacks(),this.reachBottomCallbacks=e.Callbacks()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=e("<div>").addClass(s),n=e("<div>").addClass(l),i=e("<div>").dxLoadIndicator(),r=this._$pullDownText=e("<div>").addClass(u);this._$pullingDownText=e("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=e("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=e("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(t).append(n.append(i)).append(r)},pullDownEnable:function(e){this._eventHandler("pullDownEnabling",e)},reachBottomEnable:function(e){this._eventHandler("reachBottomEnabling",e)},_createScroller:function(e){var t=this,n=t._scrollers[e]=new f(t._scrollerOptions(e));n.pullDownCallbacks.add(function(){t.pullDownCallbacks.fire()}),n.releaseCallbacks.add(function(){t.releaseCallbacks.fire()}),n.reachBottomCallbacks.add(function(){t.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return e.extend(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var e=this.callBase();return e.top+=this._$topPocket.height(),e},dispose:function(){e.each(this._scrollers,function(){this.dispose()}),this.callBase()}});n.dxScrollView.refreshStrategies.simulated=m}(jQuery,DevExpress),DevExpress.define("/ui/widgets/map/ui.map.provider",["jquery","/class","/ui/events/ui.events.utils"],function(e,t,n){var i=t["abstract"];return t.inherit({_defaultRouteWeight:function(){return 5},_defaultRouteOpacity:function(){return.5},_defaultRouteColor:function(){return"#0000FF"},cancelEvents:!1,ctor:function(e,t){this._mapWidget=e,this._$container=t},render:function(t,n){var i=e.Deferred();return this._renderImpl().done(e.proxy(function(){var r=this._applyFunctionIfNeeded("addMarkers",t),o=this._applyFunctionIfNeeded("addRoutes",n);e.when(r,o).done(function(){i.resolve(!0)})},this)),i.promise()},_renderImpl:i,updateDimensions:i,updateMapType:i,updateBounds:i,updateCenter:i,updateZoom:i,updateControls:i,updateMarkers:function(t,n){var i=e.Deferred(),r=this;return this._applyFunctionIfNeeded("removeMarkers",t).done(function(){r._applyFunctionIfNeeded("addMarkers",n).done(function(){i.resolve.apply(i,arguments)})}),i.promise()},addMarkers:i,removeMarkers:i,adjustViewport:i,updateRoutes:function(t,n){var i=e.Deferred(),r=this;return this._applyFunctionIfNeeded("removeRoutes",t).done(function(){r._applyFunctionIfNeeded("addRoutes",n).done(function(){i.resolve.apply(i,arguments)})}),i.promise()},addRoutes:i,removeRoutes:i,clean:i,map:function(){return this._map},_option:function(e,t){return void 0===t?this._mapWidget.option(e):void this._mapWidget.setOptionSilent(e,t)},_keyOption:function(e){var t=this._option("key");return void 0===t[e]?t:t[e]},_parseTooltipOptions:function(e){return{text:e.text||e,visible:e.isShown||!1}},_getLatLng:function(t){if("string"==typeof t){var n=e.map(t.split(","),e.trim),i=/[-+]?[0-9]*\.?[0-9]*/;if(2===n.length&&n[0].match(i)&&n[1].match(i))return{lat:parseFloat(n[0]),lng:parseFloat(n[1])}}else{if(e.isArray(t)&&2===t.length)return{lat:t[0],lng:t[1]};if(e.isPlainObject(t)&&e.isNumeric(t.lat)&&e.isNumeric(t.lng))return t}return null},_isBoundsSetted:function(){return this._option("bounds.northEast")&&this._option("bounds.southWest")},_addEventNamespace:function(e){return n.addNamespace(e,this._mapWidget.NAME)},_applyFunctionIfNeeded:function(t,n){return n.length?this[t](n):e.Deferred().resolve().promise()},_createAction:function(){var e=this._mapWidget;return e._createAction.apply(e,arguments)},_fireAction:function(e,t){var n=this._option(e);n&&this._createAction(n)(t)},_fireClickAction:function(e){this._fireAction("onClick",e)},_fireMarkerAddedAction:function(e){this._fireAction("onMarkerAdded",e)},_fireMarkerRemovedAction:function(e){this._fireAction("onMarkerRemoved",e)},_fireRouteAddedAction:function(e){this._fireAction("onRouteAdded",e)},_fireRouteRemovedAction:function(e){this._fireAction("onRouteRemoved",e)}})}),DevExpress.define("/ui/widgets/map/ui.map.provider.googleStatic",["jquery","/ui/widgets/map/ui.map.provider","/color"],function(e,t,n){var i="https://maps.google.com/maps/api/staticmap?";return t.inherit({_locationToString:function(e){var t=this._getLatLng(e);return t?t.lat+","+t.lng:e.toString().replace(/ /g,"+")},_renderImpl:function(){return this._updateMap()},updateDimensions:function(){return this._updateMap()},updateMapType:function(){return this._updateMap()},updateBounds:function(){return e.Deferred().resolve().promise()},updateCenter:function(){return this._updateMap()},updateZoom:function(){return this._updateMap()},updateControls:function(){return e.Deferred().resolve().promise()},addMarkers:function(t){var n=this;return this._updateMap().done(function(){e.each(t,function(e,t){n._fireMarkerAddedAction({options:t})})})},removeMarkers:function(t){var n=this;return this._updateMap().done(function(){e.each(t,function(e,t){n._fireMarkerRemovedAction({options:t})})})},adjustViewport:function(){return e.Deferred().resolve().promise()},addRoutes:function(t){var n=this;return this._updateMap().done(function(){e.each(t,function(e,t){n._fireRouteAddedAction({options:t})})})},removeRoutes:function(t){var n=this;return this._updateMap().done(function(){e.each(t,function(e,t){n._fireRouteRemovedAction({options:t})})})},clean:function(){return this._$container.css("background-image","none"),this._$container.off(this._addEventNamespace("dxclick")),e.Deferred().resolve().promise()},mapRendered:function(){return!0},_updateMap:function(){var t,n=this._keyOption("googleStatic"),r=this._$container,o=["sensor=false","size="+r.width()+"x"+r.height(),"maptype="+this._option("type"),"center="+this._locationToString(this._option("center")),"zoom="+this._option("zoom"),this._markersSubstring()];return o.push.apply(o,this._routeSubstrings()),n&&o.push("key="+n),t=i+o.join("&"),this._$container.css("background",'url("'+t+'") no-repeat 0 0'),this._attachClickEvent(),e.Deferred().resolve(!0).promise()},_markersSubstring:function(){var t=this,n=[],i=this._option("markerIconSrc");return i&&n.push("icon:"+i),e.each(this._option("markers"),function(e,i){n.push(t._locationToString(i.location))}),"markers="+n.join("|")},_routeSubstrings:function(){var t=this,i=[];return e.each(this._option("routes"),function(r,o){var a=new n(o.color||t._defaultRouteColor()).toHex().replace("#","0x"),s=Math.round(255*(o.opacity||t._defaultRouteOpacity())).toString(16),l=o.weight||t._defaultRouteWeight(),u=[];e.each(o.locations,function(e,n){u.push(t._locationToString(n))}),i.push("path=color:"+a+s+"|weight:"+l+"|"+u.join("|"))}),i},_attachClickEvent:function(){var e=this,t=this._addEventNamespace("dxclick");this._$container.off(t).on(t,function(t){e._fireClickAction({jQueryEvent:t})})}})}),DevExpress.define("/ui/widgets/map/ui.map.provider.dynamic",["jquery","/ui/widgets/map/ui.map.provider"],function(e,t){var n=t["abstract"];return t.inherit({cancelEvents:!0,_renderImpl:function(){var t=e.Deferred();return this._load().done(e.proxy(function(){this._init().done(e.proxy(function(){var n=this.updateMapType(),i=this._isBoundsSetted()?this.updateBounds():this.updateCenter();e.when(n,i).done(e.proxy(function(){this._attachHandlers(),setTimeout(function(){t.resolve()})},this))},this))},this)),t.promise()},_load:function(){return this._mapsLoader||(this._mapsLoader=e.Deferred(),this._loadImpl().done(e.proxy(function(){this._mapsLoader.resolve()},this))),this._markers=[],this._routes=[],this._mapsLoader.promise()},_loadImpl:n,_init:n,_attachHandlers:n,addMarkers:function(t){var n=e.Deferred(),i=this,r=e.map(t,function(e){return i._addMarker(e)});return e.when.apply(e,r).done(function(){var t=e.map(e.makeArray(arguments),function(e){return e.marker});n.resolve(!1,t)}),n.done(function(){i._fitBounds()}),n.promise()},_addMarker:function(t){var n=this;return this._renderMarker(t).done(function(i){n._markers.push(e.extend({options:t},i)),n._fireMarkerAddedAction({options:t,originalMarker:i.marker})})},_renderMarker:n,removeMarkers:function(t){var n=this;return e.each(t,function(e,t){n._removeMarker(t)}),e.Deferred().resolve().promise()},_removeMarker:function(t){var n=this;e.each(this._markers,function(e,i){return i.options!==t?!0:(n._destroyMarker(i),n._markers.splice(e,1),n._fireMarkerRemovedAction({options:i.options}),!1)})},_destroyMarker:n,_clearMarkers:function(){for(;this._markers.length>0;)this._removeMarker(this._markers[0].options)},addRoutes:function(t){var n=e.Deferred(),i=this,r=e.map(t,function(e){return i._addRoute(e)});return e.when.apply(e,r).done(function(){var t=e.map(e.makeArray(arguments),function(e){return e.instance});n.resolve(!1,t)}),n.done(function(){i._fitBounds()}),n.promise()},_addRoute:function(t){var n=this;return this._renderRoute(t).done(function(i){n._routes.push(e.extend({options:t},i)),n._fireRouteAddedAction({options:t,originalRoute:i.instance})})},_renderRoute:n,removeRoutes:function(t){var n=this;return e.each(t,function(e,t){n._removeRoute(t)}),e.Deferred().resolve().promise()},_removeRoute:function(t){var n=this;e.each(this._routes,function(e,i){return i.options!==t?!0:(n._destroyRoute(i),n._routes.splice(e,1),n._fireRouteRemovedAction({options:t}),!1)})},_destroyRoute:n,_clearRoutes:function(){for(;this._routes.length>0;)this._removeRoute(this._routes[0].options)},adjustViewport:function(){return this._fitBounds()},_fitBounds:n,_updateBounds:function(){var t=this;this._clearBounds(),this._option("autoAdjust")&&(e.each(this._markers,function(e,n){t._extendBounds(n.location)}),e.each(this._routes,function(e,n){t._extendBounds(n.northEast),t._extendBounds(n.southWest)}))},_clearBounds:function(){this._bounds=null},_extendBounds:n})}),DevExpress.define("/ui/widgets/map/ui.map.provider.dynamic.bing",["jquery","/ui/widgets/map/ui.map.provider.dynamic","/color","/utils/utils.support"],function(e,t,n,i){var r,o="_bingScriptReady",a="https://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0&s=1&onScriptLoad="+o,s="ms-appx:///Bing.Maps.JavaScript/js/veapicore.js",l="ms-appx:///Bing.Maps.JavaScript/js/veapiModules.js",u="AhuxC0dQ1DBTNo8L-H9ToVMQStmizZzBJdraTSgCzDSWPsA1Qd8uIvFSflzxdaLH",c=1e-16,d=function(){return window.Microsoft&&window.Microsoft.Maps};return t.inherit({_mapType:function(e){var t={roadmap:Microsoft.Maps.MapTypeId.road,hybrid:Microsoft.Maps.MapTypeId.aerial,satellite:Microsoft.Maps.MapTypeId.aerial};return t[e]||t.road},_movementMode:function(e){var t={driving:Microsoft.Maps.Directions.RouteMode.driving,walking:Microsoft.Maps.Directions.RouteMode.walking};return t[e]||t.driving},_resolveLocation:function(t){var n,i,r=e.Deferred(),o=this._getLatLng(t);return o?r.resolve(new Microsoft.Maps.Location(o.lat,o.lng)):(n=new Microsoft.Maps.Search.SearchManager(this._map),i={where:t,count:1,callback:function(e){var t=e.results[0].location;r.resolve(new Microsoft.Maps.Location(t.latitude,t.longitude))}},n.geocode(i)),r.promise()},_normalizeLocation:function(e){return{lat:e.latitude,lng:e.longitude}},_normalizeLocationRect:function(e){var t=this._normalizeLocation(e.getNorthwest()),n=this._normalizeLocation(e.getSoutheast());return{northEast:{lat:t.lat,lng:n.lng},southWest:{lat:n.lat,lng:t.lng}}},_loadImpl:function(){return this._msMapsLoader=e.Deferred(),d()?this._mapReady():(r&&("resolved"!==r.state()||d())||(r=e.Deferred(),window[o]=e.proxy(r.resolve,r),i.winJS?e.when(e.getScript(s),e.getScript(l)).done(function(){Microsoft.Maps.loadModule("Microsoft.Maps.Map",{callback:window[o]})}):e.getScript(a)),r.done(e.proxy(this._mapReady,this))),this._msMapsLoader.promise()},_mapReady:function(){try{delete window[o]}catch(t){window[o]=void 0}var n=e.Deferred(),i=e.Deferred();Microsoft.Maps.loadModule("Microsoft.Maps.Search",{callback:e.proxy(n.resolve,n)}),Microsoft.Maps.loadModule("Microsoft.Maps.Directions",{callback:e.proxy(i.resolve,i)}),e.when(n,i).done(e.proxy(function(){this._msMapsLoader.resolve()},this))},_init:function(){var t,n=e.Deferred(),i=e.Deferred(),r=this._option("controls");return this._map=new Microsoft.Maps.Map(this._$container[0],{credentials:this._keyOption("bing")||u,zoom:this._option("zoom"),showDashboard:r,showMapTypeSelector:r,showScalebar:r}),t=Microsoft.Maps.Events.addHandler(this._map,"tiledownloadcomplete",e.proxy(i.resolve,i)),e.when(i).done(e.proxy(function(){Microsoft.Maps.Events.removeHandler(t),n.resolve()},this)),n.promise()},_attachHandlers:function(){this._providerViewChangeHandler=Microsoft.Maps.Events.addHandler(this._map,"viewchange",e.proxy(this._viewChangeHandler,this)),this._providerClickHandler=Microsoft.Maps.Events.addHandler(this._map,"click",e.proxy(this._clickActionHandler,this))},_viewChangeHandler:function(){var e,t=this._map.getBounds();this._option("bounds",this._normalizeLocationRect(t)),e=this._map.getCenter(),this._option("center",this._normalizeLocation(e)),this._preventZoomChangeEvent||this._option("zoom",this._map.getZoom())},_clickActionHandler:function(e){if("map"===e.targetType){var t=new Microsoft.Maps.Point(e.getX(),e.getY()),n=e.target.tryPixelToLocation(t);this._fireClickAction({location:this._normalizeLocation(n)})}},updateDimensions:function(){var t=this._$container;return this._map.setOptions({width:t.width(),height:t.height()}),e.Deferred().resolve().promise()},updateMapType:function(){var t=this._option("type"),n=Microsoft.Maps.LabelOverlay;return this._map.setView({animate:!1,mapTypeId:this._mapType(t),labelOverlay:"satellite"===t?n.hidden:n.visible}),e.Deferred().resolve().promise()},updateBounds:function(){var t=e.Deferred(),n=this,i=this._resolveLocation(this._option("bounds.northEast")),r=this._resolveLocation(this._option("bounds.southWest"));return e.when(i,r).done(function(e,i){var r=new Microsoft.Maps.LocationRect.fromLocations(e,i);n._map.setView({animate:!1,bounds:r}),t.resolve()}),t.promise()},updateCenter:function(){var t=e.Deferred(),n=this;return this._resolveLocation(this._option("center")).done(function(e){n._map.setView({animate:!1,center:e}),t.resolve()}),t.promise()},updateZoom:function(){return this._map.setView({animate:!1,zoom:this._option("zoom")}),e.Deferred().resolve().promise()},updateControls:function(){return this.clean(),this.render.apply(this,arguments)},_renderMarker:function(t){var n=e.Deferred(),i=this;return this._resolveLocation(t.location).done(function(r){var o,a,s,l,u,c,d={icon:t.iconSrc||i._option("markerIconSrc")};t.html&&(e.extend(d,{htmlContent:t.html,width:null,height:null}),o=t.htmlOffset,o&&(d.anchor=new Microsoft.Maps.Point(-o.left,-o.top))),a=new Microsoft.Maps.Pushpin(r,d),i._map.entities.push(a),s=i._renderTooltip(r,t.tooltip),(t.onClick||t.tooltip)&&(u=i._createAction(t.onClick||e.noop),c=i._normalizeLocation(r),l=Microsoft.Maps.Events.addHandler(a,"click",function(){u({location:c}),s&&s.setOptions({visible:!0})})),n.resolve({location:r,marker:a,infobox:s,handler:l})}),n.promise()},_renderTooltip:function(e,t){if(t){t=this._parseTooltipOptions(t);var n=new Microsoft.Maps.Infobox(e,{description:t.text,offset:new Microsoft.Maps.Point(0,33),visible:t.visible});return this._map.entities.push(n,null),n}},_destroyMarker:function(e){this._map.entities.remove(e.marker),e.infobox&&this._map.entities.remove(e.infobox),e.handler&&Microsoft.Maps.Events.removeHandler(e.handler)},_renderRoute:function(t){var i=e.Deferred(),r=this,o=e.map(t.locations,function(e){return r._resolveLocation(e)});return e.when.apply(e,o).done(function(){var o,a=e.makeArray(arguments),s=new Microsoft.Maps.Directions.DirectionsManager(r._map),l=new n(t.color||r._defaultRouteColor()).toHex(),u=new Microsoft.Maps.Color.fromHex(l);u.a=255*(t.opacity||r._defaultRouteOpacity()),s.setRenderOptions({autoUpdateMapView:!1,displayRouteSelector:!1,waypointPushpinOptions:{visible:!1},drivingPolylineOptions:{strokeColor:u,strokeThickness:t.weight||r._defaultRouteWeight()},walkingPolylineOptions:{strokeColor:u,strokeThickness:t.weight||r._defaultRouteWeight()}}),s.setRequestOptions({routeMode:r._movementMode(t.mode),routeDraggable:!1}),e.each(a,function(e,t){var n=new Microsoft.Maps.Directions.Waypoint({location:t});s.addWaypoint(n)}),o=Microsoft.Maps.Events.addHandler(s,"directionsUpdated",function(e){Microsoft.Maps.Events.removeHandler(o);var t=e.routeSummary[0];i.resolve({instance:s,northEast:t.northEast,southWest:t.southWest})}),s.calculateDirections()}),i.promise()},_destroyRoute:function(e){e.instance.dispose()},_fitBounds:function(){var t,n,i;return this._updateBounds(),this._bounds&&this._option("autoAdjust")&&(t=this._map.getZoom(),this._preventZoomChangeEvent=!0,n=this._bounds.clone(),n.height=1.1*n.height,n.width=1.1*n.width,this._map.setView({animate:!1,bounds:n,zoom:t}),i=this._map.getZoom(),i>t?this._map.setView({animate:!1,zoom:t}):this._option("zoom",i),delete this._preventZoomChangeEvent),e.Deferred().resolve().promise()},_extendBounds:function(e){this._bounds=this._bounds?new Microsoft.Maps.LocationRect.fromLocations(this._bounds.getNorthwest(),this._bounds.getSoutheast(),e):new Microsoft.Maps.LocationRect(e,c,c)},clean:function(){return this._map&&(Microsoft.Maps.Events.removeHandler(this._providerViewChangeHandler),Microsoft.Maps.Events.removeHandler(this._providerClickHandler),this._clearMarkers(),this._clearRoutes(),this._map.dispose()),e.Deferred().resolve().promise()}})}),DevExpress.define("/ui/widgets/map/ui.map.provider.dynamic.google",["jquery","/ui/widgets/map/ui.map.provider.dynamic","/color"],function(e,t,n){var i,r,o="_googleScriptReady",a="https://maps.google.com/maps/api/js?sensor=false&callback="+o,s=function(){i=function(t){this._position=t.position,this._offset=t.offset,this._$overlayContainer=e("<div>").css({position:"absolute",display:"none",cursor:"pointer"}).append(t.html),this.setMap(t.map)},i.prototype=new google.maps.OverlayView,i.prototype.onAdd=function(){var t=e(this.getPanes().overlayMouseTarget);t.append(this._$overlayContainer),this._clickListner=google.maps.event.addDomListener(this._$overlayContainer.get(0),"click",e.proxy(function(e){google.maps.event.trigger(this,"click"),e.preventDefault()},this)),this.draw()},i.prototype.onRemove=function(){google.maps.event.removeListener(this._clickListner),this._$overlayContainer.remove()},i.prototype.draw=function(){var e=this.getProjection().fromLatLngToDivPixel(this._position);this._$overlayContainer.css({left:e.x+this._offset.left,top:e.y+this._offset.top,display:"block"})}},l=function(){return window.google&&window.google.maps};return t.inherit({_mapType:function(e){var t={hybrid:google.maps.MapTypeId.HYBRID,roadmap:google.maps.MapTypeId.ROADMAP,satellite:google.maps.MapTypeId.SATELLITE};return t[e]||t.hybrid},_movementMode:function(e){var t={driving:google.maps.TravelMode.DRIVING,walking:google.maps.TravelMode.WALKING};return t[e]||t.driving},_resolveLocation:function(t){var n,i=e.Deferred(),r=this._getLatLng(t);return r?i.resolve(new google.maps.LatLng(r.lat,r.lng)):(n=new google.maps.Geocoder,n.geocode({address:t},function(e,t){t===google.maps.GeocoderStatus.OK&&i.resolve(e[0].geometry.location)})),i.promise()},_normalizeLocation:function(e){return{lat:e.lat(),lng:e.lng()}},_normalizeLocationRect:function(e){return{northEast:this._normalizeLocation(e.getNorthEast()),southWest:this._normalizeLocation(e.getSouthWest())}},_loadImpl:function(){if(this._googleMapsLoader=e.Deferred(),l())this._mapReady();else{if(!r||"resolved"===r.state()&&!l()){r=e.Deferred();var t=this._keyOption("google");window[o]=e.proxy(r.resolve,r),e.getScript(a+(t?"&key="+t:""))}r.done(e.proxy(this._mapReady,this))}return this._googleMapsLoader.promise()},_mapReady:function(){try{delete window[o]}catch(e){window[o]=void 0}s(),this._googleMapsLoader.resolve()},_init:function(){var t,n=e.Deferred(),i=e.Deferred(),r=this._option("controls");return this._map=new google.maps.Map(this._$container[0],{zoom:this._option("zoom"),panControl:r,zoomControl:r,mapTypeControl:r,streetViewControl:r}),t=google.maps.event.addListener(this._map,"idle",e.proxy(i.resolve,i)),e.when(i).done(e.proxy(function(){google.maps.event.removeListener(t),n.resolve()},this)),n.promise()},_attachHandlers:function(){this._boundsChangeListener=google.maps.event.addListener(this._map,"bounds_changed",e.proxy(this._boundsChangeHandler,this)),this._clickListener=google.maps.event.addListener(this._map,"click",e.proxy(this._clickActionHandler,this))},_boundsChangeHandler:function(){var e,t=this._map.getBounds();this._option("bounds",this._normalizeLocationRect(t)),e=this._map.getCenter(),this._option("center",this._normalizeLocation(e)),this._preventZoomChangeEvent||this._option("zoom",this._map.getZoom())},_clickActionHandler:function(e){this._fireClickAction({location:this._normalizeLocation(e.latLng)})},updateDimensions:function(){var e=this._option("center");return google.maps.event.trigger(this._map,"resize"),this._option("center",e),this.updateCenter()},updateMapType:function(){return this._map.setMapTypeId(this._mapType(this._option("type"))),e.Deferred().resolve().promise()},updateBounds:function(){var t=e.Deferred(),n=this,i=this._resolveLocation(this._option("bounds.northEast")),r=this._resolveLocation(this._option("bounds.southWest"));return e.when(i,r).done(function(e,i){var r=new google.maps.LatLngBounds;r.extend(e),r.extend(i),n._map.fitBounds(r),t.resolve()}),t.promise()},updateCenter:function(){var t=e.Deferred(),n=this;return this._resolveLocation(this._option("center")).done(function(e){n._map.setCenter(e),n._option("center",n._normalizeLocation(e)),t.resolve()}),t.promise()},updateZoom:function(){return this._map.setZoom(this._option("zoom")),e.Deferred().resolve().promise()},updateControls:function(){var t=this._option("controls");return this._map.setOptions({panControl:t,zoomControl:t,mapTypeControl:t,streetViewControl:t}),e.Deferred().resolve().promise()},_renderMarker:function(t){var n=e.Deferred(),r=this;return this._resolveLocation(t.location).done(function(o){var a,s,l,u,c;a=t.html?new i({map:r._map,position:o,html:t.html,offset:e.extend({top:0,left:0},t.htmlOffset)}):new google.maps.Marker({position:o,map:r._map,icon:t.iconSrc||r._option("markerIconSrc")}),s=r._renderTooltip(a,t.tooltip),(t.onClick||t.tooltip)&&(u=r._createAction(t.onClick||e.noop),c=r._normalizeLocation(o),l=google.maps.event.addListener(a,"click",function(){u({location:c}),s&&s.open(r._map,a)})),n.resolve({location:o,marker:a,listner:l})}),n.promise()},_renderTooltip:function(e,t){if(t){t=this._parseTooltipOptions(t);var n=new google.maps.InfoWindow({content:t.text});return t.visible&&n.open(this._map,e),n}},_destroyMarker:function(e){e.marker.setMap(null),e.listner&&google.maps.event.removeListener(e.listner)},_renderRoute:function(t){var i=e.Deferred(),r=this,o=new google.maps.DirectionsService,a=e.map(t.locations,function(e){return r._resolveLocation(e)});return e.when.apply(e,a).done(function(){var a=e.makeArray(arguments),s=a.shift(),l=a.pop(),u=e.map(a,function(e){return{location:e,stopover:!0}}),c={origin:s,destination:l,waypoints:u,optimizeWaypoints:!0,travelMode:r._movementMode(t.mode)};o.route(c,function(e,o){if(o===google.maps.DirectionsStatus.OK){var a=new n(t.color||r._defaultRouteColor()).toHex(),s={directions:e,map:r._map,suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeWeight:t.weight||r._defaultRouteWeight(),strokeOpacity:t.opacity||r._defaultRouteOpacity(),strokeColor:a}},l=new google.maps.DirectionsRenderer(s),u=e.routes[0].bounds;i.resolve({instance:l,northEast:u.getNorthEast(),southWest:u.getSouthWest()})}})}),i.promise()},_destroyRoute:function(e){e.instance.setMap(null)},_fitBounds:function(){var t,n;return this._updateBounds(),this._bounds&&this._option("autoAdjust")&&(t=this._map.getZoom(),this._preventZoomChangeEvent=!0,this._map.fitBounds(this._bounds),this._boundsChangeHandler(),n=this._map.getZoom(),n>t?this._map.setZoom(t):this._option("zoom",n),delete this._preventZoomChangeEvent),e.Deferred().resolve().promise()},_extendBounds:function(e){this._bounds?this._bounds.extend(e):(this._bounds=new google.maps.LatLngBounds,this._bounds.extend(e))},clean:function(){return this._map&&(google.maps.event.removeListener(this._boundsChangeListener),google.maps.event.removeListener(this._clickListener),this._clearMarkers(),this._clearRoutes(),delete this._map,this._$container.empty()),e.Deferred().resolve().promise()}})}),DevExpress.define("/ui/widgets/map/ui.map",["jquery","/ui/uiNamespace","/ui/ui.errors","/devices","/componentRegistrator","/ui/ui.widget","/utils/utils.support","/utils/utils.array","/utils/utils.inflector","/ui/widgets/map/ui.map.provider.googleStatic","/ui/widgets/map/ui.map.provider.dynamic.google","/ui/widgets/map/ui.map.provider.dynamic.bing","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(e,t,n,i,r,o,a,s,l,u,c,d,h,p){var f=s.wrapToArray,m={googleStatic:u,google:c,bing:d},g="dx-map",_="dx-map-container",v="dx-map-shield",y="dx-native-click",x=o.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{bounds:{northEast:null,southWest:null},center:{lat:0,lng:0},zoom:1,width:300,height:300,type:"roadmap",provider:"google",autoAdjust:!0,markers:[],markerIconSrc:null,onMarkerAdded:null,onMarkerRemoved:null,routes:[],onRouteAdded:null,onRouteRemoved:null,key:{bing:"",google:"",googleStatic:""},controls:!1,onReady:null,onUpdated:null,onClick:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return i.real().generic&&!i.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.element().addClass(g).addClass(y),this._asyncQueue=[],this._checkOption("provider"),this._checkOption("markers"),this._checkOption("routes"),this._initContainer(),this._grabEvents(),this._rendered={}},_checkOption:function(t){var i=this.option(t);if("provider"===t&&a.winJS&&"google"===i)throw n.Error("E1024");if("markers"===t&&!e.isArray(i))throw n.Error("E1022");if("routes"===t&&!e.isArray(i))throw n.Error("E1023")},_initContainer:function(){this._$container=e("<div />").addClass(_),this.element().append(this._$container)},_grabEvents:function(){var t=h.addNamespace(p.down,this.NAME);this.element().on(t,e.proxy(this._cancelEvent,this))},_cancelEvent:function(e){var t=this._provider.cancelEvents&&!this.option("disabled");!DevExpress.designMode&&t&&e.stopPropagation()},_saveRendered:function(e){var t=this.option(e);this._rendered[e]=t.slice()},_render:function(){this.callBase(),this._renderShield(),this._saveRendered("markers"),this._saveRendered("routes"),this._queueAsyncAction("render",this._rendered.markers,this._rendered.routes)},_renderShield:function(){var t;DevExpress.designMode||this.option("disabled")?(t=e("<div/>").addClass(v),this.element().append(t)):(t=this.element().find("."+v),t.remove())},_clean:function(){this._cleanFocusState(),this._provider&&this._queueAsyncAction("clean")},_dispose:function(){this.callBase(),this._currentAsyncAction&&this._currentAsyncAction.reject()},_optionChanged:function(e){var t,i,r=e.name;if(!this._cancelOptionChange)switch(t=this._optionChangeBag,this._optionChangeBag=null,r){case"disabled":this._renderShield(),this.callBase(e);break;case"width":case"height":this.callBase(e),this._dimensionChanged();break;case"provider":this._invalidate();break;case"key":n.log("W1001");break;case"bounds":this._queueAsyncAction("updateBounds");break;case"center":this._queueAsyncAction("updateCenter");break;case"zoom":this._queueAsyncAction("updateZoom");break;case"type":this._queueAsyncAction("updateMapType");break;case"controls":this._queueAsyncAction("updateControls",this._rendered.markers,this._rendered.routes);break;case"autoAdjust":this._queueAsyncAction("adjustViewport");break;case"markers":case"routes":this._checkOption(r),i=this._rendered[r],this._saveRendered(r),this._queueAsyncAction("update"+l.titleize(r),t?t.removed:i,t?t.added:this._rendered[r]).done(function(){if(t){var e=t.deferred;e.resolve.apply(e,arguments)}});break;case"markerIconSrc":this._queueAsyncAction("updateMarkers",this._rendered.markers,this._rendered.markers);break;case"onReady":case"onUpdated":case"onMarkerAdded":case"onMarkerRemoved":case"onRouteAdded":case"onRouteRemoved":case"onClick":break;default:this.callBase.apply(this,arguments)}},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._queueAsyncAction("updateDimensions")},_queueAsyncAction:function(t){var n=e.Deferred(),i=!this._asyncQueue.length;return this._asyncQueue.push({name:t,options:e.makeArray(arguments).slice(1),deferred:n}),i&&this._enqueueAsyncAction(),n.promise()},_enqueueAsyncAction:function(){var e,t=this._asyncQueue,n=!t.length;n||(e=this,this._execAsyncAction(t[0]).done(function(){t.shift(),e._enqueueAsyncAction()}))},_execAsyncAction:function(t){var n=this._currentAsyncAction=e.Deferred(),i=t.name,r=t.options,o=t.deferred,a=this._getProvider(i);return a[i].apply(a,r).done(e.proxy(function(t){"rejected"!==n.state()&&(o.resolve.apply(o,e.makeArray(arguments).slice(1)),t&&this._triggerReadyAction(),n.resolve())},this)),n.promise()},_getProvider:function(e){var t=this.option("provider");return"clean"!==e&&this._usedProvider!==t&&(this._provider=new m[t](this,this._$container),this._usedProvider=t),this._provider},_triggerReadyAction:function(){this._createActionByOption("onReady")({originalMap:this._provider.map()})},_triggerUpdateAction:function(){this._createActionByOption("onUpdated")()},setOptionSilent:function(e,t){this._cancelOptionChange=!0,this.option(e,t),this._cancelOptionChange=!1},addMarker:function(e){return this._addFunction("markers",e)},removeMarker:function(e){return this._removeFunction("markers",e)},addRoute:function(e){return this._addFunction("routes",e)},removeRoute:function(e){return this._removeFunction("routes",e)},_addFunction:function(e,t){var n=this.option(e),i=f(t);return n.push.apply(n,i),this._partialArrayOptionChange(e,n,i,[])},_removeFunction:function(t,i){var r=this.option(t),o=f(i);return e.each(o,function(i,a){var s,u=e.isNumeric(a)?a:e.inArray(a,r);if(-1===u)throw n.log("E1021",l.titleize(t.substring(0,t.length-1)),a);s=r.splice(u,1)[0],o.splice(i,1,s)}),this._partialArrayOptionChange(t,r,[],o)},_partialArrayOptionChange:function(t,n,i,r){var o=e.Deferred(),a=this,s=e.Deferred();return this._optionChangeBag={deferred:s,added:i,removed:r},this.option(t,n),s.done(function(e){o.resolveWith(a,e&&e.length>1?[e]:e)}),o.promise()}});return r("dxMap",t,x),x}),DevExpress.require(["/ui/widgets/map/ui.map"]),function(e,t){var n=t.ui,i=t.require("/componentRegistrator"),r=t.require("/domComponent"),o=t.require("/ui/events/ui.events.utils"),a="dxSwipeable",s="dx-swipeable",l={onStart:"dxswipestart",onUpdated:"dxswipe",onEnd:"dxswipeend",onCancel:"dxswipecancel"};i(a,n,r.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.element().addClass(s),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHanlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),e.each(l,e.proxy(function(e,n){var i=this._createActionByOption(e,{context:this});n=o.addNamespace(n,t),
this.element().on(n,this._eventData,function(e){return i({jQueryEvent:e})})},this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHanlers:function(){this.element().off("."+a)},_optionChanged:function(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHanlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(e)}}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.translator"),r=t.require("/utils/utils.inflector").dasherize,o=t.require("/utils/utils.string"),a=t.require("/componentRegistrator"),s=t.require("/domComponent"),l=t.require("/ui/events/ui.events.utils"),u=t.require("/ui/events/pointer/ui.events.pointer"),c="dxDraggable",d=l.addNamespace("dxdragstart",c),h=l.addNamespace("dxdrag",c),p=l.addNamespace("dxdragend",c),f=l.addNamespace(u.down,c),m=r(c),g=m+"-dragging";a(c,n,s.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{onDragStart:e.noop,onDrag:e.noop,onDragEnd:e.noop,direction:"both",area:window,boundOffset:0,allowMoveByClick:!1})},_init:function(){this.callBase(),this._attachEventHandlers()},_attachEventHandlers:function(){if(!this.option("disabled")){var t=this.element().css("position","absolute"),n={},i=this.option("allowMoveByClick");n[d]=e.proxy(this._dragStartHandler,this),n[h]=e.proxy(this._dragHandler,this),n[p]=e.proxy(this._dragEndHandler,this),i&&(n[f]=e.proxy(this._pointerDownHandler,this),t=this._getArea()),t.on(n,{direction:this.option("direction"),immediate:!0})}},_detachEventHandlers:function(){this.element().off("."+c),this._getArea().off("."+c)},_move:function(e){i.move(this.element(),e)},_pointerDownHandler:function(t){if(!l.needSkipEvent(t)){var n=this._getAreaOffset(e(t.currentTarget)),i=this.option("direction"),r={};("horizontal"===i||"both"===i)&&(r.left=t.pageX-this.element().width()/2-n.left),("vertical"===i||"both"===i)&&(r.top=t.pageY-this.element().height()/2-n.top),this._move(r),this._getAction("onDrag")({jQueryEvent:t})}},_dragStartHandler:function(e){var t,n=this.element();if(n.is(".dx-state-disabled, .dx-state-disabled *"))return void(e.cancel=!0);var r=this._getArea(),o=this._getAreaOffset(r),a=this._getBoundOffset(),s=r.outerWidth(),l=r.outerHeight(),u=n.width(),c=n.height();this._toggleDraggingClass(!0),t={left:n.offset().left-o.left,top:n.offset().top-o.top},this._startPosition=i.locate(n),e.maxLeftOffset=t.left-a.left,e.maxRightOffset=s-t.left-u-a.right,e.maxTopOffset=t.top-a.top,e.maxBottomOffset=l-t.top-c-a.bottom,this._getAction("onDragStart")({jQueryEvent:e})},_getAreaOffset:function(e){var t=e&&e.offset();return t?t:{left:0,top:0}},_toggleDraggingClass:function(e){this.element().toggleClass(g,e)},_getBoundOffset:function(){var t=this.option("boundOffset");return e.isFunction(t)&&(t=t.call(this)),o.quadToObject(t)},_getArea:function(){var t=this.option("area");return e.isFunction(t)&&(t=t.call(this)),e(t)},_dragHandler:function(e){var t=e.offset,n=this._startPosition;this._move({left:n.left+t.x,top:n.top+t.y}),this._getAction("onDrag")({jQueryEvent:e})},_dragEndHandler:function(e){this._toggleDraggingClass(!1),this._getAction("onDragEnd")({jQueryEvent:e})},_getAction:function(e){return this["_"+e+"Action"]||this._createActionByOption(e)},_render:function(){this.callBase(),this.element().addClass(m)},_optionChanged:function(e){var t=e.name;switch(t){case"onDragStart":case"onDrag":case"onDragEnd":this["_"+t+"Action"]=this._createActionByOption(t);break;case"allowMoveByClick":case"direction":case"disabled":this._detachEventHandlers(),this._attachEventHandlers();break;case"boundOffset":case"area":break;default:this.callBase(e)}},_dispose:function(){this.callBase(),this._detachEventHandlers()}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.utils,o=t.require("/utils/utils.common"),a=t.require("/componentRegistrator"),s=t.require("/ui/ui.widget"),l="dx-widget",u="dx-deferrendering",c="dx-pending-rendering",d="dx-pending-rendering-manual",h="dx-pending-rendering-active",p="dx-invisible-while-pending-rendering",f="dx-loadindicator-container",m="dx-deferrendering-load-indicator",g="content",_=["onRendered","onShown"];a("dxDeferRendering",i,s.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{showLoadIndicator:!1,renderWhen:n,animation:n,staggerItemSelector:n,onRendered:null,onShown:null})},_getAnonymousTemplateName:function(){return g},_init:function(){this.transitionExecutor=new t.TransitionExecutor,this._initElement(),this._initRender(),this._$initialContent=this.element().clone().contents(),this._initActions(),this.callBase()},_initElement:function(){this.element().addClass(u).addClass(f)},_initRender:function(){var e=this,t=this.element(),i=this.option("renderWhen"),r=function(){return e._renderDeferredContent()};i&&i.done?i.done(r):(t.data("dx-render-delegate",r),i===n&&t.addClass(d))},_initActions:function(){this._actions={},e.each(_,e.proxy(function(t,n){this._actions[n]=this._createActionByOption(n)||e.noop},this))},_renderContentImpl:function(){this.element().removeClass(l),this.element().append(this._$initialContent),this._setLoadingState()},_renderDeferredContent:function(){var t=this,n=this.element(),i=e.Deferred();return n.removeClass(d),n.addClass(h),this._renderTask=o.executeAsync(function(){t._renderImpl().done(function(){var e={element:n};t._actions.onShown([e]),i.resolve(e)}).fail(function(){i.rejectWith(i,arguments)})}),i.promise()},_isElementInViewport:function(e){var t=e.getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)},_animate:function(){var t,n=this,i=this.element(),r=this.option("animation"),o=this.option("staggerItemSelector");return n.transitionExecutor.stop(),r?(o?i.find(o).each(function(){n._isElementInViewport(this)&&n.transitionExecutor.enter(e(this),r)}):n.transitionExecutor.enter(i,r),t=n.transitionExecutor.start()):t=e.Deferred().resolve().promise(),t},_renderImpl:function(){var e=this.element(),t={element:e},n=this._getTemplate(this._getAnonymousTemplateName());return n&&n.render(e.empty()),this._setRenderedState(e),e.trigger("dxcontentrendered"),this._actions.onRendered([t]),this._isRendered=!0,this._animate()},_setLoadingState:function(){var e=this.element();e.addClass(c),e.children().addClass(p),this.option("showLoadIndicator")&&this._showLoadIndicator(e)},_showLoadIndicator:function(t){this._$loadIndicator=e("<div/>").dxLoadIndicator({visible:!0}).addClass(m),t.append(this._$loadIndicator)},_setRenderedState:function(){var e=this.element();this._$loadIndicator&&this._$loadIndicator.remove(),e.removeClass(c),e.removeClass(h),e.children().removeClass(p),r.triggerShownEvent(e.children())},_optionChanged:function(e){var t=e.value,n=e.previousValue;switch(e.name){case"renderWhen":n===!1&&t===!0?this._renderOrAnimate():n===!0&&t===!1&&this._setLoadingState();break;case"showLoadIndicator":case"onRendered":case"onShown":break;default:this.callBase(e)}},_renderOrAnimate:function(){var e;return this._isRendered?(this._setRenderedState(),e=this._animate()):e=this._renderDeferredContent(),e},renderContent:function(){return this._renderOrAnimate()},_dispose:function(){this.transitionExecutor.stop(),this._renderTask&&this._renderTask.abort(),this._actions=null,this._$initialContent=null,this.callBase()}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/utils/utils.translator"),o=t.require("/utils/utils.string"),a=t.require("/utils/utils.math").fitIntoRange,s=t.require("/componentRegistrator"),l=t.require("/domComponent"),u=t.require("/ui/events/ui.events.utils"),c="dxResizable",d="dx-resizable",h="dx-resizable-resizing",p="dx-resizable-handle",f="dx-resizable-handle-top",m="dx-resizable-handle-bottom",g="dx-resizable-handle-left",_="dx-resizable-handle-right",v="dx-resizable-handle-corner",y=u.addNamespace("dxdragstart",c),x=u.addNamespace("dxdrag",c),b=u.addNamespace("dxdragend",c);s(c,i,l.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{handles:"all",step:"1",area:n,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null})},_init:function(){this.callBase(),this.element().addClass(d)},_render:function(){this.callBase(),this._renderActions(),this._renderHandles()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){var t,n=this.option("handles");"none"!==n&&(t="all"===n?["top","bottom","left","right"]:n.split(" "),e.each(t,e.proxy(function(e,t){this._renderHandle(t)},this)),e.inArray("bottom",t)+1&&e.inArray("right",t)+1&&this._renderHandle("corner-bottom-right"),e.inArray("bottom",t)+1&&e.inArray("left",t)+1&&this._renderHandle("corner-bottom-left"),e.inArray("top",t)+1&&e.inArray("right",t)+1&&this._renderHandle("corner-top-right"),e.inArray("top",t)+1&&e.inArray("left",t)+1&&this._renderHandle("corner-top-left"))},_renderHandle:function(t){var n=this.element(),i=e("<div>");i.addClass(p).addClass(p+"-"+t).appendTo(n),this._attachEventHandlers(i)},_attachEventHandlers:function(t){if(!this.option("disabled")){var n={};n[y]=e.proxy(this._dragStartHandler,this),n[x]=e.proxy(this._dragHandler,this),n[b]=e.proxy(this._dragEndHandler,this),t.on(n,{direction:"both",immediate:!0})}},_dragStartHandler:function(e){var t=this.element();return t.is(".dx-state-disabled, .dx-state-disabled *")?void(e.cancel=!0):(this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=r.locate(t),this._elementSize={width:t.outerWidth(),height:t.outerHeight()},this._renderDragOffsets(e),this._resizeStartAction({jQueryEvent:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null,void 0)},_toggleResizingClass:function(e){this.element().toggleClass(h,e)},_renderDragOffsets:function(t){var n=this._getArea();if(n){var i=e(t.target).closest("."+p),r=i.outerWidth(),o=i.outerHeight(),a=i.offset(),s=n.offset;t.maxLeftOffset=a.left-s.left,t.maxRightOffset=s.left+n.width-a.left-r,t.maxTopOffset=a.top-s.top,t.maxBottomOffset=s.top+n.height-a.top-o}},_getBorderWidth:function(e,t){var n=e.css("border-"+t+"-width");return parseInt(n)||0},_dragHandler:function(e){var t,n,i=this.element(),o=this._getOffset(e),a=this._movingSides,s=this._elementLocation,l=this._elementSize,u=l.width+o.x*(a.left?-1:1),c=l.height+o.y*(a.top?-1:1);o.x&&this._renderWidth(u),o.y&&this._renderHeight(c),t=o.y-((this.option("height")||c)-c),n=o.x-((this.option("width")||u)-u),r.move(i,{top:s.top+(a.top?t:0),left:s.left+(a.left?n:0)}),this._resizeAction({jQueryEvent:e,width:u,height:c,handles:this._movingSides})},_getOffset:function(e){var t=e.offset,n=o.pairToObject(this.option("step")),i=this._getMovingSides(e);return i.left||i.right||(t.x=0),i.top||i.bottom||(t.y=0),{x:t.x-t.x%n.h,y:t.y-t.y%n.v}},_getMovingSides:function(t){var n=e(t.target),i=n.hasClass(v+"-top-left"),r=n.hasClass(v+"-top-right"),o=n.hasClass(v+"-bottom-left"),a=n.hasClass(v+"-bottom-right");return{top:n.hasClass(f)||i||r,left:n.hasClass(g)||i||o,bottom:n.hasClass(m)||o||a,right:n.hasClass(_)||r||a}},_getArea:function(){var t=this.option("area");return e.isFunction(t)&&(t=t.call(this)),e.isPlainObject(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaFromObject:function(e){var t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t},_getAreaFromElement:function(t){var n,i=e(t);return i.length&&(n={},n.width=i.innerWidth(),n.height=i.innerHeight(),n.offset=i.offset(),this._correctAreaGeometry(n,i)),n},_correctAreaGeometry:function(e,t){var n=t?this._getBorderWidth(t,"left"):0,i=t?this._getBorderWidth(t,"top"):0;e.offset.left+=n+this._getBorderWidth(this.element(),"left"),e.offset.top+=i+this._getBorderWidth(this.element(),"top"),e.width-=this.element().outerWidth()-this.element().innerWidth(),e.height-=this.element().outerHeight()-this.element().innerHeight()},_dragEndHandler:function(e){var t=this.element();this._resizeEndAction({jQueryEvent:e,width:t.outerWidth(),height:t.outerHeight(),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(e){this.option("width",a(e,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(e){this.option("height",a(e,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(e){switch(e.name){case"disabled":case"handles":this._invalidate();break;case"minWidth":case"maxWidth":this._renderWidth(this.element().outerWidth());break;case"minHeight":case"maxHeight":this._renderHeight(this.element().outerHeight());break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"gridStepHorizontal":case"gridStepVertical":case"area":case"step":break;default:this.callBase(e)}},_clean:function(){this.element().find("."+p).remove()}}))}(jQuery,DevExpress),function(e,t,n){var i=DevExpress.ui,r=DevExpress.require("/class"),o=t.require("/utils/utils.support"),a=t.require("/utils/utils.browser"),s=t.require("/utils/utils.common"),l=t.require("/devices"),u=t.require("/componentRegistrator"),c="dx-box",d=".dx-box",h="dx-box-item",p="dxBoxItemData",f=o.styleProp("flexGrow"),m=o.styleProp("flexShrink"),g=o.stylePropPrefix("flexDirection"),_={row:"minWidth",col:"minHeight"},v={row:"maxWidth",col:"maxHeight"},y=1,x={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},b={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},w={row:"row",col:"column"},C=r.inherit({ctor:function(e,t){this._$element=e,this._option=t},renderBox:function(){this._$element.css({display:o.stylePropPrefix("flexDirection")+"flex",flexDirection:w[this._option("direction")]})},renderAlign:function(){this._$element.css({justifyContent:this._normalizedAlign()})},_normalizedAlign:function(){var e=this._option("align");return e in x?x[e]:e},renderCrossAlign:function(){this._$element.css({alignItems:this._normalizedCrossAlign()})},_normalizedCrossAlign:function(){var e=this._option("crossAlign");return e in b?b[e]:e},renderItems:function(t){var n=this._option("direction");e.each(t,function(){var t,i=e(this),r=i.data(p);i.css({display:g+"flex",flexBasis:r.baseSize||0}).css(v[n],r.maxSize||"none").css(_[n],r.minSize||"0"),t=i.get(0).style,t[f]=r.ratio,t[m]=s.isDefined(r.shrink)?r.shrink:y,i.children().each(function(t,n){e(n).css({width:"auto",height:"auto",display:o.stylePropPrefix("flexDirection")+"flex",flexDirection:i.children().css("flexDirection")||"column"}),n.style[f]=1})})},initSize:e.noop,update:e.noop}),S="dxBox",k="dxupdate."+S,D="dx-box-fallback-item",T={row:"nowrap",col:"normal"},E={row:"width",col:"height"},I={row:"height",col:"width"},A={row:"marginLeft",col:"marginTop"},$={row:"marginRight",col:"marginBottom"},B={row:"marginTop",col:"marginLeft"},O={row:"marginBottom",col:"marginRight"},P={marginLeft:"marginRight",marginRight:"marginLeft"},M=r.inherit({ctor:function(e,t){this._$element=e,this._option=t},renderBox:function(){this._$element.css({fontSize:0,whiteSpace:T[this._option("direction")],verticalAlign:"top"}),this._$element.off(k).on(k,e.proxy(this.update,this))},renderAlign:function(){var e=this._$items;if(e){var t=this._option("align"),n=0,i=this.totalItemSize,r=this._option("direction"),o=this._$element[E[r]](),a=o-i;switch(this._setItemsMargins(e,r,0),t){case"end":n=a,e.first().css(this._chooseMarginSide(A[r]),n);break;case"center":n=.5*a,e.first().css(this._chooseMarginSide(A[r]),n),e.last().css(this._chooseMarginSide($[r]),n);break;case"space-between":n=.5*a/(e.length-1),this._setItemsMargins(e,r,n),e.first().css(this._chooseMarginSide(A[r]),0),e.last().css(this._chooseMarginSide($[r]),0);break;case"space-around":n=.5*a/e.length,this._setItemsMargins(e,r,n)}}},_setItemsMargins:function(e,t,n){e.css(this._chooseMarginSide(A[t]),n).css(this._chooseMarginSide($[t]),n)},renderCrossAlign:function(){var t=this._$items;if(t){var n=this._option("crossAlign"),i=this._option("direction"),r=this._$element[I[i]](),o=this;switch(n){case"end":e.each(t,function(){var t=e(this),n=t[I[i]](),a=r-n;t.css(o._chooseMarginSide(B[i]),a)});break;case"center":e.each(t,function(){var t=e(this),n=t[I[i]](),a=.5*(r-n);t.css(o._chooseMarginSide(B[i]),a).css(o._chooseMarginSide(O[i]),a)});break;case"stretch":t.css(o._chooseMarginSide(B[i]),0).css(o._chooseMarginSide(O[i]),0).css(I[i],"100%")}}},_chooseMarginSide:function(e){return this._option("rtlEnabled")?P[e]||e:e},renderItems:function(t){this._$items=t;var n=this._option("direction"),i=0,r=0,o=0;e.each(t,e.proxy(function(t,a){var l=e(a);l.css({display:"inline-block",verticalAlign:"top"}),l[E[n]]("auto"),l.removeClass(D);var u=l.data(p),c=u.ratio||0,d=this._baseSize(l),h=s.isDefined(u.shrink)?u.shrink:y;i+=c,r+=h*d,o+=d},this));var a=this._boxSize()-o,l=e.proxy(function(e){var t=e.data(p),n=this._baseSize(e),o=a>=0?t.ratio||0:(s.isDefined(t.shrink)?t.shrink:y)*n,l=a>=0?i:r,u=l?Math.round(a*o/l):0;return n+u},this),u=0;e.each(t,function(t,i){var r=e(i),o=e(i).data(p),a=l(r);u+=a,r.css(v[n],o.maxSize||"none").css(_[n],o.minSize||"0").css(E[n],a),r.addClass(D)}),this.totalItemSize=u},_baseSize:function(t){var n=e(t).data(p);return null==n.baseSize?0:"auto"===n.baseSize?this._contentSize(t):this._parseSize(n.baseSize)},_contentSize:function(t){return e(t)[E[this._option("direction")]]()},_parseSize:function(e){return String(e).match(/.+%$/)?.01*parseFloat(e)*this._boxSizeValue:e},_boxSize:function(e){return arguments.length?void(this._boxSizeValue=e):this._boxSizeValue=this._boxSizeValue||this._totalBaseSize()},_totalBaseSize:function(){var t=0;return e.each(this._$items,e.proxy(function(e,n){t+=this._baseSize(n)},this)),t},initSize:function(){this._boxSize(this._$element[E[this._option("direction")]]())},update:function(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var t=this._$element.get(0);this._$items.find(d).each(function(){t===e(this).parent().closest(d).get(0)&&e(this).triggerHandler(k)})}}});u("dxBox",i,i.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,_layoutStrategy:"flex",_queue:n})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=l.real(),t="android"===e.platform&&(e.version[0]<4||4===e.version[0]&&e.version[1]<4),n="ios"===e.platform&&e.version[0]<7;return"win"===e.platform||a.msie||t||n},options:{_layoutStrategy:"fallback"}}])},_itemClass:function(){return h},_itemDataKey:function(){return p},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_init:function(){this.callBase(),this.element().addClass(c+"-"+this.option("_layoutStrategy")),this._initLayout(),this._initBoxQueue()},_initLayout:function(){this._layout="fallback"===this.option("_layoutStrategy")?new M(this.element(),e.proxy(this.option,this)):new C(this.element(),e.proxy(this.option,this))},_initBoxQueue:function(){this._queue=this.option("_queue")||[]},_queueIsNotEmpty:function(){return this.option("_queue")?!1:!!this._queue.length},_pushItemToQueue:function(e,t){this._queue.push({$item:e,config:t})},_shiftItemFromQueue:function(){return this._queue.shift()},_render:function(){this.callBase(),this.element().addClass(c),this._renderBox()},_renderBox:function(){this._layout.renderBox(),this._layout.renderAlign(),this._layout.renderCrossAlign()},_renderItems:function(t){for(this._layout.initSize(),this.callBase(t);this._queueIsNotEmpty();){var n=this._shiftItemFromQueue();this._createComponent(n.$item,"dxBox",e.extend({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},n.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout(e.proxy(function(){this._isUpdated||this._layout.update(),this._isUpdated=!1,this._updateTimer=null},this))},_renderItemContent:function(e){var t=e.itemData&&e.itemData.node;return t?this._renderItemContentByNode(e,t):this.callBase(e)},_postprocessRenderItem:function(e){var t=e.itemData.box;t&&this._pushItemToQueue(e.itemContent,t)},_createItemByTemplate:function(e,t){return t.itemData.box?e.source():this.callBase(e,t)},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._updateTimer||(this._isUpdated=!0,this._layout.update())},_dispose:function(){clearTimeout(this._updateTimer),this.callBase.apply(this,arguments)},_optionChanged:function(e){switch(e.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:this.callBase(e)}},repaint:function(){this._dimensionChanged()}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=DevExpress.require("/ui/ui.errors"),o=t.require("/componentRegistrator"),a="dx-responsivebox",s="dx-box-item",l="dxBoxItemData",u=function(e){return 768>e?"xs":992>e?"sm":1200>e?"md":"lg"};o("dxResponsiveBox",i,i.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{rows:[],cols:[],screenByWidth:u,singleColumnScreen:"xs",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onLayoutChanged:null,currentScreenFactor:n,_layoutStrategy:n})},_initOptions:function(e){e.screenByWidth&&this.option("singleColumnScreen",e.screenByWidth(0)),this.callBase(e)},_init:function(){this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return s},_itemDataKey:function(){return l},_render:function(){this.callBase(),this.element().addClass(a),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(e.proxy(function(){this._$root&&this._$root.trigger("dxupdate")},this))},_renderItems:function(){this.option("currentScreenFactor",this._getCurrentScreen()),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),e.each(this._rows,e.proxy(function(){var n=[];t.push(n),e.each(this._cols,e.proxy(function(){n.push(this._createEmptyCell())},this))},this))},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this._defaultSizeConfig(this._screenItems.length),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(e,t){return e.location.row-t.location.row||e.location.col-t.location.col}),e.each(this._screenItems,function(t,n){e.extend(n.location,{row:t,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(t){return e.map(this._filterByScreen(t),e.proxy(function(t){return e.extend(this._defaultSizeConfig(),t)},this))},_defaultSizeConfig:function(e){var t,n,i={ratio:1,baseSize:0,minSize:0,maxSize:0};if(!arguments.length)return i;for(t=[],n=0;e>n;n++)t.push(i);return t},_filterByScreen:function(t){var n=this._screenRegExp();return e.grep(t,function(e){return!e.screen||n.test(e.screen)})},_screenRegExp:function(){var e=this._getCurrentScreen();return new RegExp("(^|\\s)"+e+"($|\\s)","i")},_getCurrentScreen:function(){var e=this._screenWidth();return this.option("screenByWidth")(e)},_screenWidth:function(){return e(window).width()},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){e.each(this._screenItems,e.proxy(function(e,t){var n=t.location||{},i=n.col,r=n.row,o=this._grid[r],a=o&&o[i];this._occupyCells(a,t)},this))},_itemsByScreen:function(){return e.map(this.option("items"),e.proxy(function(t){var n=t.location||{};return n=e.isPlainObject(n)?[n]:n,e.map(this._filterByScreen(n),function(n){return{item:t,location:e.extend({rowspan:1,colspan:1},n)}})},this))},_occupyCells:function(t,n){t&&!this._isItemCellOccupied(t,n)&&(e.extend(t,n),this._markSpanningCell(t))},_isItemCellOccupied:function(t,n){if(!e.isEmptyObject(t.item))return!0;var i=!1;return this._loopOverSpanning(n.location,function(t){i=i||!e.isEmptyObject(t.item)}),i},_loopOverSpanning:function(e,t){var n,i,r=e.row+e.rowspan-1,o=e.col+e.colspan-1,a=Math.min(r,this._rows.length-1),s=Math.min(o,this._cols.length-1);for(e.rowspan-=r-a,e.colspan-=o-s,n=e.row;a>=n;n++)for(i=e.col;s>=i;i++)(n!==e.row||i!==e.col)&&t(this._grid[n][i])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,function(n){e.extend(n,{item:t.item,spanningCell:t})})},_linkNodeToItem:function(){e.each(this._itemElements(),function(t,n){var i=e(n),r=i.data(l);r.box||(r.node=i.children())})},_layoutItems:function(){var t,n,i=this._grid.length,r=i&&this._grid[0].length;(i||r)&&(t=this._layoutBlock({direction:"col",row:{start:0,end:i-1},col:{start:0,end:r-1}}),n=this._prepareBoxConfig(t.box||{direction:"row",items:[e.extend(t,{ratio:1})]}),e.extend(n,this._rootBoxConfig()),this._$root=e("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,"dxBox",n))},_rootBoxConfig:function(){return e.extend({width:"100%",height:"100%",itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_prepareBoxConfig:function(t){return e.extend(t||{},{crossAlign:"stretch"})},_layoutBlock:function(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)},_isSingleItem:function(e){var t=this._grid[e.row.start][e.col.start].location,n=e.row.end-e.row.start==t.rowspan-1,i=e.col.end-e.col.start==t.colspan-1;return n&&i},_itemByCell:function(e,t){var n=this._grid[e][t];return n.spanningCell?null:n.item},_layoutDirection:function(t){for(var n,i,o=[],a=t.direction,s=this._crossDirection(a);n=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,n))throw r.Error("E1025");i=this._layoutBlock({direction:s,row:n.row,col:n.col,prevBlockOptions:t}),i&&(e.extend(i,this._blockSize(n,s)),o.push(i)),t[s].start=n[s].end+1}return{box:this._prepareBoxConfig({direction:a,items:o})}},_isBlockIndivisible:function(e,t){return e&&e.col.start===t.col.start&&e.col.end===t.col.end&&e.row.start===t.row.start&&e.row.end===t.row.end},_crossDirection:function(e){return"col"===e?"row":"col"},_nextBlock:function(e){var t,n,i,r,o,a,s,l,u=e.direction,c=this._crossDirection(u),d=e[u].start,h=e[u].end,p=e[c].start;if(p>e[c].end)return null;for(t=1,n=p;p+t>n;n++){for(i=1,r=d;h>=r;r++)o=this._cellByDirection(u,r,n),i=Math.max(i,o.location[c+"span"]);a=n+i,s=p+t,a>s&&(t+=a-s)}return l={},l[u]={start:d,end:h},l[c]={start:p,end:p+t-1},l},_cellByDirection:function(e,t,n){return"col"===e?this._grid[n][t]:this._grid[t][n]},_blockSize:function(e,t){for(var n,i="row"===t?this._rows:this._cols,r={ratio:0,baseSize:0,minSize:0,maxSize:0},o=e[t].start;o<=e[t].end;o++)n=i[o],r.ratio+=n.ratio,r.baseSize+=n.baseSize,r.minSize+=n.minSize,r.maxSize+=n.maxSize;return r.minSize=r.minSize?r.minSize:"auto",r.maxSize=r.maxSize?r.maxSize:"auto",this._isSingleColumnScreen()&&(r.baseSize="auto"),r},_update:function(){if(this._getCurrentScreen()!==this.option("currentScreenFactor")){var e=this._$root;this._renderItems(),e&&e.detach(),this._saveAssistantRoot(e),this._layoutChangedAction(),this._updateRootBox()}},_saveAssistantRoot:function(e){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(e)},_dispose:function(){clearTimeout(this._updateTimer),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&e.each(this._assistantRoots,function(){e(this).remove()})},_clearItemNodeTemplates:function(){e.each(this.option("items"),function(){delete this.node})},_toggleVisibility:function(e){this.callBase(e),e&&this._updateRootBox()},_attachClickEvent:e.noop,_optionChanged:function(e){switch(e.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(e);break;case"currentScreenFactor":break;default:this.callBase(e)}},_dimensionChanged:function(){this._update()},repaint:function(){this._update()}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.button",["jquery","/ui/uiNamespace","/utils/utils.icon","/devices","/componentRegistrator","/ui/ui.validationMixin","/validationEngine","/ui/ui.widget","/utils/utils.inkRipple","/ui/events/ui.events.utils","/ui/ui.themes"],function(e,t,n,i,r,o,a,s,l,u,c){var d="dx-button",h="dx-button-content",p="dx-button-has-text",f="dx-button-has-icon",m="dx-template-wrapper",g="content",_=100,v=s.inherit({_supportedKeys:function(){var t=this,n=function(e){e.preventDefault(),t._executeClickAction(e)};return e.extend(this.callBase(),{space:n,enter:n})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{iconSrc:{since:"15.1",alias:"icon"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,onClick:null,type:"normal",text:"",icon:"",validationGroup:void 0,activeStateEnabled:!0,template:"content",useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return i.real().generic&&!i.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(c.current())},options:{useInkRipple:!0}}])},_getAnonymousTemplateName:function(){return g},_init:function(){this.callBase(),this._feedbackHideTimeout=_},_render:function(){this.element().addClass(d),this._renderType(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderClick(),this.setAria("role","button"),this._updateAriaLabel(),this.callBase()},_renderInkRipple:function(){var t=!this.option("text")&&this.option("icon")||"back"===this.option("type"),n={};t&&e.extend(n,{waveSizeCoefficient:1,useHoldAnimation:!1,isCentered:!0}),this._inkRipple=l.render(n)},_toggleActiveState:function(e,t,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:e,jQueryEvent:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_renderContentImpl:function(){var t,n,i=this.element(),r=this._getContentData();this._$content?this._$content.empty():this._$content=e("<div>").addClass(h).appendTo(i),i.toggleClass(f,!!r.icon).toggleClass(p,!!r.text),t=this._getTemplateByOption("template"),n=t.render(r,this._$content),n.hasClass(m)&&(this._$content.replaceWith(n),this._$content=n,this._$content.addClass(h));
},_getContentData:function(){var e=this.option("icon"),t=this.option("text"),n="back"===this.option("type");return n&&!e&&(e="back"),{icon:e,text:t}},_renderClick:function(){var e=this,t=u.addNamespace("dxclick",this.NAME);this._clickAction=this._createActionByOption("onClick"),this.element().off(t).on(t,function(t){e._executeClickAction(t)})},_executeClickAction:function(e){this._clickAction({jQueryEvent:e,validationGroup:a.getGroupConfig(this._findGroup())})},_updateAriaLabel:function(){var t,i=this.option("icon"),r=this.option("text");"image"===n.getImageSourceType(i)&&(i=-1===i.indexOf("base64")?i.replace(/.+\/([^\.]+)\..+$/,"$1"):"Base64"),t=r||i,this.setAria("label",e.trim(t))},_renderType:function(){var e=this.option("type");e&&this.element().addClass("dx-button-"+e)},_refreshType:function(e){var t=this.option("type");e&&this.element().removeClass("dx-button-"+e).addClass("dx-button-"+t),this.element().hasClass("dx-button-has-icon")||"back"!==t||this._renderContentImpl()},_optionChanged:function(e){switch(e.name){case"onClick":this._renderClick();break;case"icon":case"text":this._renderContentImpl(),this._updateAriaLabel();break;case"type":this._refreshType(e.previousValue),this._renderContentImpl(),this._updateAriaLabel();break;case"template":this._renderContentImpl();break;case"useInkRipple":this._invalidate();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$content}}).include(o);return r("dxButton",t,v),v}),DevExpress.require(["/ui/widgets/ui.button"]),DevExpress.define("/ui/widgets/ui.checkBox",["jquery","/ui/uiNamespace","/devices","/utils/utils.inkRipple","/ui/ui.editor","/componentRegistrator","/ui/events/ui.events.utils","/ui/ui.themes"],function(e,t,n,i,r,o,a,s){var l="dx-checkbox",u="dx-checkbox-icon",c="dx-checkbox-checked",d="dx-checkbox-container",h="dx-checkbox-text",p=".dx-checkbox-text",f="dx-checkbox-has-text",m="dx-checkbox-indeterminate",g=100,_=r.inherit({_supportedKeys:function(){var t=function(e){e.preventDefault(),this._clickAction({jQueryEvent:e})};return e.extend(this.callBase(),{space:t})},_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,text:"",useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return n.real().generic&&!n.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(s.current())},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this._feedbackHideTimeout=g},_render:function(){this.callBase(),this._$container=e("<div>").addClass(d),this.element().addClass(l).append(this._$container),this.setAria("role","checkbox"),this._renderClick(),this._renderValue(),this._renderIcon(),this._renderText(),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=i.render({waveSizeCoefficient:2.5,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(e,t,n,i){if(this._inkRipple){var r={element:e,jQueryEvent:t,wave:i};n?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}},_updateFocusState:function(e,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,e,t,0)},_toggleActiveState:function(e,t,n){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,n,t,1)},_renderDimensions:function(){this.callBase()},_renderIcon:function(){this._$icon=e("<span>").addClass(u).prependTo(this._$container)},_renderText:function(){return this._$text=this._$container.find(p),this.option("text")?(this._$text.length||(this._$text=e("<span>").addClass(h)),this._$text.text(this.option("text")),this._$container.append(this._$text),this.element().addClass(f),void 0):void(this._$text&&(this._$text.remove(),this.element().removeClass(f)))},_renderClick:function(){var t=a.addNamespace("dxclick",this.NAME);this._clickAction=this._createAction(this._clickHandler),this.element().off(t).on(t,e.proxy(function(e){this._clickAction({jQueryEvent:e})},this))},_clickHandler:function(e){var t=e.component;t._saveValueChangeEvent(e.jQueryEvent),t.option("value",!t.option("value"))},_renderValue:function(){var e=this.element(),t=this.option("value"),n=void 0===t;e.toggleClass(c,Boolean(t)),e.toggleClass(m,n),this.setAria("checked",n?"mixed":t||"false")},_optionChanged:function(e){switch(e.name){case"useInkRipple":this._invalidate();break;case"value":this._renderValue(),this.callBase(e);break;case"text":this._renderText(),this._renderDimensions();break;default:this.callBase(e)}}});return o("dxCheckBox",t,_),_}),DevExpress.require(["/ui/widgets/ui.checkBox"]),DevExpress.define("/ui/widgets/ui.switch",["jquery","/devices","/utils/utils.inkRipple","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/ui/events/ui.events.utils","/ui/events/ui.events.emitter.feedback","/ui/ui.themes"],function(e,t,n,i,r,o,a,s,l){var u=DevExpress.fx,c="dx-switch",d=c+"-wrapper",h=c+"-container",p=c+"-inner",f=c+"-handle",m=c+"-on-value",g=c+"-on",_=c+"-off",v=100,y=r.inherit({_supportedKeys:function(){var t=this.option("rtlEnabled"),n=function(e){e.preventDefault(),this._clickAction({jQueryEvent:e})},i=function(e,t){t.preventDefault(),t.stopPropagation(),this._animateValue(e)};return e.extend(this.callBase(),{space:n,enter:n,leftArrow:e.proxy(i,this,t?!0:!1),rightArrow:e.proxy(i,this,t?!1:!0)})},_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,onText:Globalize.localize("dxSwitch-onText"),offText:Globalize.localize("dxSwitch-offText"),value:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(l.current())},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this._feedbackHideTimeout=0,this._animating=!1},_render:function(){var t=this.element();this._$switchInner=e("<div>").addClass(p),this._$handle=e("<div>").addClass(f).appendTo(this._$switchInner),this.option("useInkRipple")&&this._renderInkRipple(),this._$labelOn=e("<div>").addClass(g).prependTo(this._$switchInner),this._$labelOff=e("<div>").addClass(_).appendTo(this._$switchInner),this._$switchContainer=e("<div>").addClass(h).append(this._$switchInner),this._$switchWrapper=e("<div>").addClass(d).append(this._$switchContainer),t.addClass(c).append(this._$switchWrapper),this.setAria("role","button"),this._createComponent(t,"dxSwipeable",{elastic:!1,immediate:!0,onStart:e.proxy(this._swipeStartHandler,this),onUpdated:e.proxy(this._swipeUpdateHandler,this),onEnd:e.proxy(this._swipeEndHandler,this),itemSizeFunc:e.proxy(this._getMarginBound,this)}),this._renderLabels(),this.callBase(),this._updateMarginBound(),this._renderValue(),this._renderClick()},_renderInkRipple:function(){this._inkRipple=n.render({waveSizeCoefficient:1.7,isCentered:!0,useHoldAnimation:!1,wavesNumber:2})},_renderInkWave:function(e,t,n,i){if(this._inkRipple){var r={element:e,jQueryEvent:t,wave:i};n?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}},_updateFocusState:function(e,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$handle,e,t,0)},_toggleActiveState:function(e,t,n){this.callBase.apply(this,arguments),this._renderInkWave(this._$handle,n,t,1)},_updateMarginBound:function(){this._marginBound=this._$switchContainer.outerWidth(!0)-this._$handle.outerWidth()},_getMarginBound:function(){return this._marginBound},_marginDirection:function(){return this.option("rtlEnabled")?"Right":"Left"},_offsetDirection:function(){return this.option("rtlEnabled")?-1:1},_renderPosition:function(e,t){var n=e?1:0,i=this._marginDirection(),r="Left"===i?"Right":"Left";this._$switchInner.css("margin"+i,this._getMarginBound()*(n+t-1)),this._$switchInner.css("margin"+r,0)},_validateValue:function(){var e=this.option("value");"boolean"!=typeof e&&(this._options.value=!!e)},_renderClick:function(){var t=a.addNamespace("dxclick",this.NAME);this._clickAction=this._createAction(e.proxy(this._clickHandler,this)),this.element().off(t).on(t,e.proxy(function(e){this._clickAction({jQueryEvent:e})},this))},_clickHandler:function(e){this.time=new Date;var t=e.jQueryEvent;this._saveValueChangeEvent(t),this._animating||this._swiping||this._animateValue(!this.option("value"))},_animateValue:function(e){var t=this.option("value"),n=e;if(t!==n){this._animating=!0;var i=this,r=this._marginDirection(),o="Left"===r?"Right":"Left",a={},s={};this._$switchInner.css("margin"+o,0),a["margin"+r]=(Number(t)-1)*this._getMarginBound(),s["margin"+r]=(Number(n)-1)*this._getMarginBound(),u.animate(this._$switchInner,{from:a,to:s,duration:v,complete:function(){i._animating=!1,i.option("value",n)}})}},_swipeStartHandler:function(t){var n=this.option("value"),i=this.option("rtlEnabled"),r=i?0:1,o=i?1:0;t.jQueryEvent.maxLeftOffset=n?r:o,t.jQueryEvent.maxRightOffset=n?o:r,this._swiping=!0,this._feedbackDeferred=e.Deferred(),s.lock(this._feedbackDeferred),this._toggleActiveState(this.element(),this.option("activeStateEnabled"))},_swipeUpdateHandler:function(e){this._renderPosition(this.option("value"),this._offsetDirection()*e.jQueryEvent.offset)},_swipeEndHandler:function(e){var t=this,n=this._offsetDirection(),i={};i["margin"+this._marginDirection()]=this._getMarginBound()*(t.option("value")+n*e.jQueryEvent.targetOffset-1),u.animate(this._$switchInner,{to:i,duration:v,complete:function(){t._swiping=!1;var i=t.option("value")+n*e.jQueryEvent.targetOffset;t.option("value",Boolean(i)),t._feedbackDeferred.resolve(),t._toggleActiveState(t.element(),!1)}})},_renderValue:function(){this._validateValue();var e=this.option("value");this._renderPosition(e,0),this.element().toggleClass(m,e),this.setAria({pressed:e,label:e?this.option("onText"):this.option("offText")})},_renderLabels:function(){this._$labelOn.text(this.option("onText")),this._$labelOff.text(this.option("offText"))},_visibilityChanged:function(e){e&&this.repaint()},_optionChanged:function(e){switch(e.name){case"useInkRipple":this._invalidate();break;case"visible":case"width":this._refresh();break;case"onText":case"offText":this._renderLabels();break;case"value":this._renderValue(),this.callBase(e);break;default:this.callBase(e)}}});return i("dxSwitch",o,y),y}),DevExpress.require(["/ui/widgets/ui.switch"]),DevExpress.define("/ui/widgets/textEditor/ui.textEditor.base",["jquery","/utils/utils.inflector","/utils/utils.dom","/utils/utils.common","/componentRegistrator","/ui/uiNamespace","/ui/ui.editor","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(e,t,n,i,r,o,a,s,l){var u="dx-texteditor",c="dx-texteditor-input",d="."+c,h="dx-texteditor-container",p="dx-texteditor-buttons-container",f="dx-placeholder",m="dx-show-clear-button",g="dx-icon",_="dx-icon-clear",v="dx-clear-button-area",y="dx-texteditor-empty",x=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"];return a.inherit({_supportedKeys:function(){var e=function(e){e.stopPropagation()};return{space:e,enter:e,leftArrow:e,rightArrow:e}},_getDefaultOptions:function(){return e.extend(this.callBase(),{value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",attr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,valueFormat:function(e){return e}})},_input:function(){return this.element().find(d).first()},_inputWrapper:function(){return this.element()},_buttonsContainer:function(){return this._inputWrapper().find("."+p)},_render:function(){this.element().addClass(u),this._renderInput(),this._renderInputType(),this._renderValue(),this._renderProps(),this._renderPlaceholder(),this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){e("<div>").addClass(h).append(this._createInput()).append(e("<div>").addClass(p)).appendTo(this.element())},_createInput:function(){return e("<input>").addClass(c).attr("autocomplete","off").attr(this.option("attr"))},_renderValue:function(){this._renderInputValue(),this._renderInputAddons()},_renderInputValue:function(){var e=this.option("text"),t=this.option("value"),n=this.option("displayValue"),r=this.option("valueFormat");void 0!==n?e=r(n):i.isDefined(e)||(e=r(t)),this.option("text",e),this._input().val()!==(i.isDefined(e)?e:"")?this._renderDisplayText(e):this._toggleEmptinessEventHandler()},_renderDisplayText:function(e){this._input().val(e),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var e=this._input().get(0).validity;if(e)return e.valid}return!0},_toggleEmptiness:function(e){this.element().toggleClass(y,e),this._togglePlaceholder(e)},_togglePlaceholder:function(e){this._$placeholder&&this._$placeholder.toggleClass("dx-state-invisible",!e)},_renderProps:function(){this._toggleDisabledState(this.option("disabled")),this._toggleReadOnlyState(),this._toggleSpellcheckState()},_toggleDisabledState:function(e){this.callBase.apply(this,arguments);var t=this._input();e?t.attr("disabled",!0).attr("tabindex",-1):t.removeAttr("disabled").removeAttr("tabindex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_renderPlaceholder:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this,n=t._input(),i=t.option("placeholder"),r=this._$placeholder=e("<div>").attr("data-dx_placeholder",i),o=s.addNamespace(l.up,this.NAME);r.on(o,function(){n.focus()}),r.insertAfter(n),r.addClass(f),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||e()},_renderInputAddons:function(){this._renderClearButton()},_renderClearButton:function(){var e=this._clearButtonVisibility();this.element().toggleClass(m,e),e&&(this._$clearButton&&(!this._$clearButton||this._$clearButton.closest(this.element()).length)||(this._$clearButton=this._createClearButton()),this._$clearButton.prependTo(this._buttonsContainer())),this._$clearButton&&this._$clearButton.toggleClass("dx-state-invisible",!e)},_clearButtonVisibility:function(){return this.option("showClearButton")&&!this.option("readOnly")},_createClearButton:function(){return e("<span>").addClass(v).append(e("<span>").addClass(g).addClass(_)).on(s.addNamespace(l.down,this.NAME),function(e){"mouse"===e.pointerType&&e.preventDefault()}).on(s.addNamespace("dxclick",this.NAME),e.proxy(this._clearValueHandler,this))},_clearValueHandler:function(e){var t=this._input();e.stopPropagation(),this._valueChangeEventHandler(e),this.reset(),t.is(":focus")||t.focus()},_renderEvents:function(){var t=this,n=t._input();e.each(x,function(e,i){if(t.option("on"+i)){var r=t._createActionByOption("on"+i,{excludeValidators:["readOnly"]});n.on(s.addNamespace(i.toLowerCase(),t.NAME),function(e){t._disposed||r({jQueryEvent:e})})}})},_refreshEvents:function(){var t=this,n=this._input();e.each(x,function(e,i){n.off(s.addNamespace(i.toLowerCase(),t.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_renderValueChangeEvent:function(){var t=s.addNamespace(this._renderValueEventName(),this.NAME+"TextChange"),n=s.addNamespace(this.option("valueChangeEvent"),this.NAME+"ValueChange");this._input().on(t,e.proxy(this._keyPressHandler,this)).on(n,e.proxy(this._valueChangeEventHandler,this))},_cleanValueChangeEvent:function(){var e=this.NAME+"ValueChange",t=s.addNamespace(this._renderValueEventName(),this.NAME+"TextChange");this._input().off("."+e).off(t)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_toggleFocusClass:function(e){this.callBase(e,this.element())},_hasFocusClass:function(t){return this.callBase(e(t||this.element()))},_renderEmptinessEvent:function(){var t=this._input();t.on("input blur",e.proxy(this._toggleEmptinessEventHandler,this))},_toggleEmptinessEventHandler:function(){var e=this._input().val(),t=(""===e||null===e)&&this._isValueValid();this._toggleEmptiness(t)},_valueChangeEventHandler:function(e,t){this._saveValueChangeEvent(e),this.option("value",arguments.length>1?t:this._input().val())},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),this._input().off("keyup.onEnterKey.dxTextEditor").on("keyup.onEnterKey.dxTextEditor",e.proxy(this._enterKeyHandlerUp,this))},_enterKeyHandlerUp:function(e){this._disposed||13===e.which&&this._enterKeyAction({jQueryEvent:e})},_updateValue:function(){this.option("text",void 0),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_optionChanged:function(t){var n=t.name;if(e.inArray(n.replace("on",""),x)>-1)return void this._refreshEvents();switch(n){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this.callBase(t),this._renderInputAddons();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"showClearButton":this._renderInputAddons();break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"attr":this._input().attr(t.value);break;case"valueFormat":this._invalidate();break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(e){var t=this._input();"search"===e&&(e="text");try{t.prop("type",e)}catch(n){t.prop("type","text")}},focus:function(){this._input().focus()},blur:function(){this._input().is(document.activeElement)&&n.resetActiveElement()},reset:function(){this.option("value","")}})}),DevExpress.define("/ui/widgets/textEditor/ui.textEditor.mask.rule",["jquery","/class","/utils/utils.common"],function(e,t,n){var i=" ",r=t.inherit({ctor:function(t){this._value=i,e.extend(this,t)},next:function(e){return arguments.length?void(this._next=e):this._next},text:e.noop,value:e.noop,rawValue:e.noop,handle:e.noop,_prepareHandlingArgs:function(e,t){var i=e.hasOwnProperty("value")?"value":"text";return e[i]=n.isDefined(t.str)?t.str:e[i],e.start=n.isDefined(t.start)?t.start:e.start,e.length=n.isDefined(t.length)?t.length:e.length,e},reset:e.noop,clear:e.noop,isAccepted:function(){return!1},adjustedCaret:function(e,t,n){return t?this._adjustedForward(e,0,n):this._adjustedBackward(e,0,n)},_adjustedForward:e.noop,_adjustedBackward:e.noop,isValid:e.noop}),o=r.inherit({next:e.noop,handle:function(){return 0},text:function(){return""},value:function(){return""},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),a=r.inherit({text:function(){return(this._value!==i?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(e){var t,n,i=e.hasOwnProperty("value")?e.value:e.text;return i&&i.length&&e.length?e.start?this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1})):(t=i[0],n=i.substring(1),this._tryAcceptChar(t),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:n,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:n,length:e.length-1}))):0},clear:function(){this._tryAcceptChar(i),this.next().clear()},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(e){this._accepted(!1),this._isAllowed(e)&&(this._accepted(!0),this._value=e)},_accepted:function(e){return arguments.length?void(this._isAccepted=!!e):!!this._isAccepted},_isAllowed:function(e){return e===i?!0:this._isValid(e)},_isValid:function(t){var n=this.allowedChars;return n instanceof RegExp?n.test(t):e.isFunction(n)?n(t):e.isArray(n)?e.inArray(t,n)>-1:n===t},isAccepted:function(e){return 0===e?this._accepted():this.next().isAccepted(e-1)},_adjustedForward:function(e,t,n){return t>=e?t:this.next()._adjustedForward(e,t+1,n)||t+1},_adjustedBackward:function(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1},isValid:function(){return this._isValid(this._value)&&this.next().isValid()}}),s=a.inherit({value:function(){return this.next().value()},handle:function(e){var t,n,i,r=e.hasOwnProperty("value"),o=r?e.value:e.text;return o.length&&e.length?e.start||r?this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1})):(t=o[0],n=o.substring(1),this._tryAcceptChar(t),i=this._isAllowed(t)?this._prepareHandlingArgs(e,{str:n,length:e.length-1}):e,this.next().handle(i)+1):0},clear:function(){this._accepted(!1),this.next().clear()},_tryAcceptChar:function(e){this._accepted(this._isValid(e))},_isValid:function(e){return e===this.maskChar},_adjustedForward:function(e,t,n){return t>=e&&n===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,n)},_adjustedBackward:function(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)},isValid:function(){return this.next().isValid()}});return{MaskRule:a,StubMaskRule:s,EmptyMaskRule:o}}),DevExpress.define("/ui/widgets/textEditor/ui.textEditor.mask",["jquery","/utils/utils.caret","/utils/utils.dom","/utils/utils.common","/ui/widgets/textEditor/ui.textEditor.base","/ui/widgets/textEditor/ui.textEditor.mask.rule","/ui/events/ui.events.utils"],function(e,t,n,i,r,o,a){var s=function(){return{}},l=" ",u=32,c="\\",d="dx-texteditor-masked",h="dxMask",p="forward",f="backward",m={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(e){return _(e)},l:function(e){return _(e)||v(e)},C:/\S/,c:/./,A:function(e){return _(e)||g(e)},a:function(e){return _(e)||g(e)||v(e)}},g=function(e){return/[0-9]/.test(e)},_=function(e){var t=e.charCodeAt();return t>64&&91>t||t>96&&123>t||t>127},v=function(e){return" "===e},y={9:"tab",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow"};return r.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:Globalize.localize("validation-mask"),useMaskedValue:!1})},_supportedKeys:function(){var t=this,n={backspace:t._maskBackspaceHandler,del:t._maskDelHandler,enter:t._changeHandler},i=t.callBase();return e.each(n,function(e,n){var r=i[e];i[e]=function(e){t.option("mask")&&n.call(t,e),r&&r(e)}}),i},_render:function(){this.callBase(),this._renderMask()},_renderMask:function(){this.element().removeClass(d),this._maskRulesChain=null,this.option("mask")&&(this.element().addClass(d),this._attachMaskEventHandlers(),this._parseMask(),this._renderMaskedValue(),this._changedValue=this._input().val())},_attachMaskEventHandlers:function(){this._input().off("."+h).on(a.addNamespace("focus",h),e.proxy(this._maskFocusHandler,this)).on(a.addNamespace("keydown",h),e.proxy(this._maskKeyDownHandler,this)).on(a.addNamespace("keypress",h),e.proxy(this._maskKeyPressHandler,this)).on(a.addNamespace("input",h),e.proxy(this._maskInputHandler,this)).on(a.addNamespace("paste",h),e.proxy(this._maskPasteHandler,this)).on(a.addNamespace("cut",h),e.proxy(this._maskCutHandler,this)).on(a.addNamespace("drop",h),e.proxy(this._maskDragHandler,this)),this._attachChangeEventHandlers()},_attachChangeEventHandlers:function(){-1!==e.inArray("change",this.option("valueChangeEvent").split(" "))&&this._input().on(a.addNamespace("blur",h),e.proxy(function(e){this._suppressCaretChanging(this._changeHandler,[e]),this._changeHandler(e)},this))},_suppressCaretChanging:function(e,n){var i=t;t=s;try{e.apply(this,n)}finally{t=i}},_changeHandler:function(e){var t,n=this._input(),i=n.val();i!==this._changedValue&&(this._changedValue=i,t=a.createEvent(e,{type:"change"}),n.trigger(t))},_parseMask:function(){this._maskRules=e.extend({},m,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(e){var t=this.option("mask");if(e>=t.length)return new o.EmptyMaskRule;var n=t[e],i=n===c,r=i?new o.StubMaskRule({maskChar:t[e+1]}):this._getMaskRule(n);return r.next(this._parseMaskRule(e+1+i)),r},_getMaskRule:function(t){var n;return e.each(this._maskRules,function(e,i){return e===t?(n={pattern:e,allowedChars:i},!1):void 0}),i.isDefined(n)?new o.MaskRule(e.extend({maskChar:this.option("maskChar")},n)):new o.StubMaskRule({maskChar:t})},_renderMaskedValue:function(){var e,t;this._maskRulesChain&&(e=this.option("value")||"",this._maskRulesChain.clear(),t={length:e.length},t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask())},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(e){e=e||this._caret(),this._renderValue(),this._caret(e)},_renderValue:function(){this._maskRulesChain&&this.option("text",this._maskRulesChain.text()),this.callBase()},_valueChangeEventHandler:function(e){if(!this._maskRulesChain)return void this.callBase.apply(this,arguments);this._saveValueChangeEvent(e);var t=this._isMaskedValueMode()?(this._textValue||"").replace(new RegExp("["+this.option("maskChar")+"]","g")," ").replace(/\s+$/,""):(this._value||"").replace(/\s+$/,"");this.option("value",t)},_maskFocusHandler:function(){this._direction(p),this._adjustCaret()},_maskKeyDownHandler:function(){this._keyPressHandled=!1},_maskKeyPressHandler:function(e){this._keyPressHandled||(this._keyPressHandled=!0,this._isControlKeyFired(e))||this._maskKeyHandler(e,function(){return this._handleKey(e.which),!0})},_maskInputHandler:function(t){var n,i,r,o;this._keyPressHandled||(this._keyPressHandled=!0,n=this._input().val(),i=this._caret(),i.start=i.end-1,r=n.substring(0,i.start)+n.substring(i.end),o=n[i.start],this._input().val(r),this._inputHandlerTimer=setTimeout(e.proxy(function(){this._caret({start:i.start,end:i.start}),this._maskKeyHandler(t,function(){return this._handleKey(o.charCodeAt()),!0})},this)))},_isControlKeyFired:function(e){return y[e.keyCode]&&!e.which||e.metaKey},_maskBackspaceHandler:function(e){var t,n=this;n._keyPressHandled=!0,t=function(e,t){e&&(n._direction(p),n._adjustCaret());var i=n._caret();clearTimeout(n._backspaceHandlerTimeout),n._backspaceHandlerTimeout=setTimeout(function(){t(i)})},n._maskKeyHandler(e,function(){return n._hasSelection()?void t(!0,function(e){n._displayMask(e),n._maskRulesChain.reset()}):n._tryMoveCaretBackward()?void t(!1,function(e){n._caret(e)}):(n._handleKey(u,f),void t(!0,function(e){n._displayMask(e),n._maskRulesChain.reset()}))})},_maskDelHandler:function(e){this._keyPressHandled=!0,this._maskKeyHandler(e,function(){return this._hasSelection()||this._handleKey(u),!0})},_maskPasteHandler:function(e){this._keyPressHandled=!0;var t=this._caret();this._maskKeyHandler(e,function(){var i=n.clipboardText(e),r=this._maskRulesChain.text().substring(t.end),o=this._handleChain({text:i,start:t.start,length:i.length}),a=t.start+o;return this._handleChain({text:r,start:a,length:r.length}),this._caret({start:a,end:a}),!0})},_handleChain:function(e){var t=this._maskRulesChain.handle(e);return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),t},_maskCutHandler:function(e){var t=this._caret(),i=this._input().val().substring(t.start,t.end);this._maskKeyHandler(e,function(){return n.clipboardText(e,i),!0})},_maskDragHandler:function(){this._clearDragTimer(),this._dragTimer=setTimeout(e.proxy(function(){this.option("value",this._convertToValue(this._input().val()))},this))},_convertToValue:function(e){return e.replace(new RegExp(this.option("maskChar"),"g"),l)},_maskKeyHandler:function(e,t){this.option("readOnly")||(this._direction(p),e.preventDefault(),this._handleSelection(),t.call(this)&&(this._direction(p),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset()))},_handleKey:function(e,t){var n=String.fromCharCode(e);this._direction(t||p),this._adjustCaret(n),this._handleKeyChain(n),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var e=this._caret(),t=new Array(e.end-e.start+1).join(l);this._handleKeyChain(t)}},_handleKeyChain:function(e){var t=this._caret(),n=this._isForwardDirection()?t.start:t.start-1,i=this._isForwardDirection()?t.end:t.end-1,r=n===i?1:i-n;this._handleChain({text:e,start:n,length:r})},_tryMoveCaretBackward:function(){this._direction(f);var e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start},_adjustCaret:function(e){var t=this._maskRulesChain.adjustedCaret(this._caret().start,this._isForwardDirection(),e);this._caret({start:t,end:t})},_moveCaret:function(){var e=this._caret().start,t=e+(this._isForwardDirection()?0:-1),n=this._maskRulesChain.isAccepted(t)?e+(this._isForwardDirection()?1:-1):e;this._caret({start:n,end:n})},_caret:function(e){return arguments.length?void t(this._input(),e):t(this._input())},_hasSelection:function(){var e=this._caret();return e.start!==e.end},_direction:function(e){return arguments.length?void(this._typingDirection=e):this._typingDirection},_isForwardDirection:function(){return this._direction()===p},_clearDragTimer:function(){clearTimeout(this._dragTimer)},_clean:function(){this._clearDragTimer(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var e=this._maskRulesChain.isValid();this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_dispose:function(){clearTimeout(this._inputHandlerTimer),clearTimeout(this._backspaceHandlerTimeout),this.callBase()},_optionChanged:function(e){switch(e.name){case"mask":case"maskChar":case"maskRules":case"useMaskedValue":this._renderMask(),this._validateMask();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(e);break;case"maskInvalidMessage":break;default:this.callBase(e)}}})}),DevExpress.define("/ui/widgets/ui.textEditor",["jquery","/componentRegistrator","/ui/uiNamespace","/ui/widgets/textEditor/ui.textEditor.mask"],function(e,t,n,i){return t("dxTextEditor",n,i),i}),DevExpress.define("/ui/widgets/ui.textBox",["jquery","/devices","/componentRegistrator","/ui/widgets/ui.textEditor","/ui/events/ui.events.utils","/ui/uiNamespace"],function(e,t,n,i,r,o){var a=window.navigator.userAgent,s=[8,9,13,33,34,35,36,37,38,39,40,46],l="dx-textbox",u="dx-searchbox",c="dx-icon",d="dx-icon-search",h=i.inherit({ctor:function(e,t){t&&(this._showClearButton=t.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return e.extend(this.callBase(),{mode:"text",maxLength:null})},_render:function(){this.callBase(),this.element().addClass(l),this.setAria("role","textbox"),this._renderMaxLengthHandlers()},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_renderMaxLengthHandlers:function(){this._isAndroid()&&this._input().on(r.addNamespace("keydown",this.NAME),e.proxy(this._onKeyDownAndroidHandler,this)).on(r.addNamespace("change",this.NAME),e.proxy(this._onChangeAndroidHandler,this))},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){if(!this._isAndroid()){var e=this.option("maxLength");e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")}},_renderSearchMode:function(){var e=this._$element;"search"===this.option("mode")?(e.addClass(u),this._renderSearchIcon(),void 0===this._showClearButton&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(e.removeClass(u),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",void 0===this._showClearButton?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=e("<div>").addClass(c).addClass(d);
t.prependTo(this._input().parent()),this._$searchIcon=t},_optionChanged:function(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp(),this._renderMaxLengthHandlers();break;default:this.callBase(e)}},_onKeyDownAndroidHandler:function(t){var n,i,r=this.option("maxLength");return r?(n=e(t.target),i=t.keyCode,this._cutOffExtraChar(n),n.val().length<r||-1!==e.inArray(i,s)||""!==window.getSelection().toString()):!0},_onChangeAndroidHandler:function(t){var n=e(t.target);this.option("maxLength")&&this._cutOffExtraChar(n)},_cutOffExtraChar:function(e){var t=this.option("maxLength"),n=e.val();n.length>t&&e.val(n.substr(0,t))},_isAndroid:function(){var e=t.real(),n=e.version.join(".");return"android"===e.platform&&n&&/^(2\.|4\.1)/.test(n)&&!/chrome/i.test(a)}});return n("dxTextBox",o,h),h}),DevExpress.require(["/ui/widgets/ui.textBox"]),DevExpress.define("/ui/widgets/ui.dropDownEditor",["jquery","/ui/ui.errors","/utils/utils.position","/utils/utils.common","/devices","/componentRegistrator","/ui/widgets/ui.button","/ui/events/ui.events.utils","/ui/widgets/ui.textBox","/ui/uiNamespace"],function(e,t,n,i,r,o,a,s,l,u){var c="dx-dropdowneditor",d="dx-dropdowneditor-input-wrapper",h="dx-dropdowneditor-button",p="dx-dropdowneditor-icon",f="dx-dropdowneditor-overlay",m="dx-dropdowneditor-overlay-flipped",g="dx-dropdowneditor-active",_="dx-dropdowneditor-button-visible",v="dx-dropdowneditor-field-clickable",y=l.inherit({_supportedKeys:function(){return e.extend(this.callBase(),{escape:function(e){this.option("opened")&&e.preventDefault(),this.close()},upArrow:function(e){return e.preventDefault(),e.stopPropagation(),e.altKey?(this.close(),!1):!0},downArrow:function(e){return e.preventDefault(),e.stopPropagation(),e.altKey?(this._validatedOpening(),!1):!0},enter:function(e){return this.option("opened")&&(e.preventDefault(),this._valueChangeEventHandler(e)),!0}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,fieldEditEnabled:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,fieldTemplate:null,contentTemplate:null,openOnFieldClick:!1,showDropButton:!0,popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:Globalize.localize("OK"),cancelButtonText:Globalize.localize("Cancel"),buttonsLocation:"default",showPopupTitle:!1})},_getDefaultPopupPosition:function(){var e=i.getDefaultAlignment(this.option("rtlEnabled"));return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){var t="generic"===e.platform,n="win"===e.platform&&e.version&&10===e.version[0];return t||n},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.element().find("."+d)},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction()},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly","designMode"]})},_render:function(){this.callBase(),this._renderOpenHandler(),this.element().addClass(c),this._renderOpenedState(),this.setAria("role","combobox")},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this.element().wrapInner(e("<div>").addClass(d)),this._$container=this.element().children().eq(0),this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this.option("fieldEditEnabled")||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._input().off("focusin focusout beforeactivate")},_renderField:function(){var e,n,i,r=this._getTemplateByOption("fieldTemplate");if(r&&this.option("fieldTemplate")){if(e=this._input().is(":focus"),this._cleanFocusState(),e&&this._input().focusout(),n=this._$container,i=this._fieldRenderData(),n.empty(),this._$dropButton=null,this._$clearButton=null,r.render(i,n),!this._input().length)throw t.Error("E1010");this._refreshValueChangeEvent(),e&&this._input().focus(),this._renderFocusState()}},_fieldRenderData:function(){return this.option("value")},_renderInputAddons:function(){this._renderField(),this.callBase(),this._renderDropButton()},_renderDropButton:function(){var e=this.option("showDropButton");return this.element().toggleClass(_,e),e?(this._$dropButton||(this._$dropButton=this._createDropButton().addClass(h)),void this._$dropButton.prependTo(this._buttonsContainer())):(this._$dropButton&&this._$dropButton.remove(),void(this._$dropButton=null))},_createDropButton:function(){var t,n=e("<div>");return this._createComponent(n,a,{focusStateEnabled:!1,disabled:this.option("readOnly"),_templates:{},useInkRipple:!1}),t=e("<div>").addClass(p),n.append(t).removeClass("dx-button").on("mousedown",function(e){e.preventDefault()}),n.find(".dx-button-content").remove(),n},_renderOpenHandler:function(){var t,n=this.element().find(".dx-dropdowneditor-input-wrapper"),i=s.addNamespace("dxclick",this.NAME);return n.off(i),t=this.option("openOnFieldClick"),this.element().toggleClass(v,t),t?void n.on(i,e.proxy(this._openHandler,this)):void(this.option("showDropButton")&&this._$dropButton.dxButton("option","onClick",e.proxy(this._openHandler,this)))},_openHandler:function(){this._toggleOpenState()},_keyboardEventBindingTarget:function(){return this._input()},_toggleOpenState:function(e){this.option("disabled")||(this._needFocusOnButtonClick()&&this._input().focus(),this.option("readOnly")||(e=arguments.length?e:!this.option("opened"),this.option("opened",e)))},_needFocusOnButtonClick:function(){return"desktop"===r.real().deviceType},_renderOpenedState:function(){var e=this.option("opened");e&&this._createPopup(),this.element().toggleClass(g,e),this._setPopupOption("visible",e),this.setAria({expanded:e,owns:(e||void 0)&&this._popupContentId})},_createPopup:function(){this._$popup||(this._$popup=e("<div>").addClass(f).addClass(this.option("customOverlayCssClass")).appendTo(this.element()),this._renderPopup(),this._renderPopupContent())},_renderPopup:function(){this._popup=this._createComponent(this._$popup,"dxPopup",this._popupConfig()),this._popup.on({showing:e.proxy(this._popupShowingHandler,this),shown:e.proxy(this._popupShownHandler,this),hiding:e.proxy(this._popupHidingHandler,this),hidden:e.proxy(this._popupHiddenHandler,this)}),this._popup.option("onContentReady",e.proxy(this._contentReadyHandler,this)),this._contentReadyHandler(),this._popupContentId=new DevExpress.data.Guid,this.setAria("id",this._popupContentId,this._popup.content())},_contentReadyHandler:e.noop,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:e.extend(this.option("popupPosition"),{of:this.element()}),showTitle:this.option("showPopupTitle"),width:"auto",height:"auto",shading:!1,closeOnTargetScroll:!0,closeOnOutsideClick:e.proxy(this._closeOutsideDropDownHandler,this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,buttons:this._getPopupButtons(),onPositioned:e.proxy(this._popupPositionedHandler,this),fullScreen:!1}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?e.proxy(function(e){this._popupInitializedAction({popup:e.component})},this):void 0},_popupPositionedHandler:function(e){this._popup.overlayContent().toggleClass(m,e.position.v.flip)},_popupShowingHandler:e.noop,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){this._openAction(),this._$validationMessage&&this._$validationMessage.dxOverlay("option","position",this._getValidationMessagePosition())},_popupHiddenHandler:function(){this._closeAction(),this._$validationMessage&&this._$validationMessage.dxOverlay("option","position",this._getValidationMessagePosition())},_getValidationMessagePosition:function(){var e,t,i="below";return this._popup&&this._popup.option("visible")&&(e=n.setup(this.element()).top,t=n.setup(this._popup.content()).top,i=e+this.option("popupPosition").offset.v>t?"below":"above"),this.callBase(i)},_renderPopupContent:function(){var e,t=this._getTemplateByOption("contentTemplate");t&&this.option("contentTemplate")&&(e=this._popup.content(),e.empty(),t.render(e))},_closeOutsideDropDownHandler:function(t){var n=e(t.target),i=!!n.closest(this.element()).length,r=!!n.closest(this._$dropButton).length;return!i&&!r},_clean:function(){delete this._$dropButton,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupButtons:function(){return"useButtons"===this.option("applyValueMode")?this._popupButtonsConfig():[]},_popupButtonsConfig:function(){var t=[{shortcut:"done",options:{onClick:e.proxy(this._applyButtonHandler,this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:e.proxy(this._cancelButtonHandler,this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var n,r=this.option("buttonsLocation"),o=t;return"default"!==r&&(n=i.splitPair(r),e.each(o,function(t,i){e.extend(i,{toolbar:n[0],location:n[1]})})),o},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_toggleReadOnlyState:function(){this.callBase(),this._$dropButton&&this._$dropButton.dxButton("option","disabled",this.option("readOnly"))},_optionChanged:function(e){switch(e.name){case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":this._renderInputAddons();break;case"showDropButton":case"contentTemplate":case"fieldEditEnabled":case"openOnFieldClick":this._invalidate();break;case"popupPosition":case"deferRendering":break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("buttons",this._getPopupButtons());break;case"showPopupTitle":this._setPopupOption("showTitle",e.value);break;default:this.callBase(e)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},reset:function(){this.option("value",null)},field:function(){return this._input()},content:function(){return this._popup?this._popup.content():null}});return o("dxDropDownEditor",u,y),y}),DevExpress.define("/ui/widgets/ui.dropDownList",["jquery","/ui/ui.errors","/utils/utils.common","/componentRegistrator","/ui/widgets/ui.dropDownEditor","/ui/uiNamespace","/ui/ui.dataExpression","/ui/ui.themes"],function(e,t,n,i,r,o,a,s){var l=".dx-list-item",u="dxListItemData",c="dx-dropdownlist-selected",d="dx-dropdownlist-popup-wrapper",h="dx-skip-gesture-event",p=["startswith","contains","endwith","notcontains"],f=r.inherit({_supportedKeys:function(){return e.extend(this.callBase(),{tab:function(){if(this.option("opened")===!0){var e=this._list.option("focusedElement");e&&this._setSelectedElement(e),this.close()}else this._focusTarget().focusout()},space:e.noop,home:e.noop,end:e.noop})},_setSelectedElement:function(e){var t=this._listSelectedItemElements();this._changeSelectedItem(t,e),this.option("value",this._selectedItemValue())},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{pagingEnabled:{since:"15.1",message:"Use the 'dataSource.paginate' option instead"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),e.extend(a._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,pagingEnabled:void 0,noDataText:Globalize.localize("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:e.noop,showDataBeforeSearch:!1,popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},popupWidthExtension:0}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"win"===e.platform&&e.version&&8===e.version[0]},options:{popupPosition:{offset:{v:-6}}}},{device:function(){return/android5/.test(s.current())},options:{popupWidthExtension:32}},{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}}])},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem()},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_renderField:function(){this.callBase(),this._input().on("input",e.proxy(this._setFocusPolicy,this))},_preventFocusOnPopup:function(e){this._list&&this._list.initialOption("focusStateEnabled")&&e.preventDefault()},_createPopup:function(){this.callBase(),this._popup._wrapper().addClass(this._popupWrapperClass()),this._popup.content().off("mousedown").on("mousedown",e.proxy(this._preventFocusOnPopup,this))},_popupWrapperClass:function(){return d},_renderInputValue:function(){var t=e.proxy(this.callBase,this);return this._loadItem(this.option("value")).always(e.proxy(function(e){this._setSelectedItem(e),t()},this))},_loadItem:function(t){var n=e.grep(this.option("items")||[],e.proxy(function(e){return this._isValueEquals(this._valueGetter(e),t)},this))[0];return void 0!==n?e.Deferred().resolve(n).promise():this._loadValue(t)},_setSelectedItem:function(e){var t=this._displayValue(e);this.option("selectedItem",n.ensureDefined(e,null)),this.option("displayValue",t)},_displayValue:function(e){return this._displayGetter(e)},_refreshSelected:function(){this._listItemElements().each(e.proxy(function(t,n){var i=e(n),r=this._valueGetter(i.data(u)),o=this._isSelectedValue(r);i.toggleClass(this._selectedItemClass(),o),o?this._list.selectItem(i):this._list.unselectItem(i)},this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_validateSearchMode:function(){var n=this.option("searchMode"),i=n.toLowerCase();if(e.inArray(i,p)<0)throw t.Error("E1019",n)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(e.proxy(function(){this._isCustomValueAllowed()||this._clearSelectedItem()},this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.option("value",null),this._clearFilter(),this._clearSelectedItem()},_selectedItemClass:function(){return c},_listItemElements:function(){return this._$list?this._$list.find(l):e()},_listSelectedItemElements:function(){return this._$list?this._$list.find("."+this._selectedItemClass()):e()},_popupConfig:function(){var t=this;return e.extend(this.callBase(),{width:this.option("width"),onShowing:function(){t.element().addClass(h)},onHidden:function(){t.element().removeClass(h)},height:"auto",maxHeight:e.proxy(this._getMaxHeight,this)})},_renderPopupContent:function(){this._renderList()},_attachChildKeyboardEvents:function(){this._childKeyboardProcessor=this._keyboardProcessor.attachChildProcessor(),this._setListOption("_keyboardProcessor",this._childKeyboardProcessor)},_fireContentReadyAction:e.noop,_setAriaTargetForList:function(){this._list._getAriaTarget=e.proxy(this._getAriaTarget,this),this._list.setAria("role","combobox")},_renderList:function(){this._listId=(new DevExpress.data.Guid)._value;var t=this._$list=e("<div>",{id:this._listId}).appendTo(this._popup.content());this._list=this._createComponent(t,"dxList",this._listConfig()),this._refreshList(),this._setAriaTargetForList()},_renderOpenedState:function(){this.callBase();var e=this.option("opened")||void 0;this.setAria({activedescendant:e&&this._list.getFocusedItemId(),owns:e&&this._listId})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var e=!!this._list.option("dataSource");return e!==this._needPassDataSourceToList()},_listConfig:function(){return{_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),onContentReady:e.proxy(this._listContentReadyHandler,this),itemTemplate:this._getTemplateByOption("itemTemplate"),indicateLoading:!1,tabIndex:-1,onItemClick:e.proxy(this._listItemClickAction,this),dataSource:this._getDataSource(),_keyboardProcessor:this._childKeyboardProcessor}},_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){this._suppressDeprecatedWarnings();var e=this.option("pagingEnabled");return this._resumeDeprecatedWarnings(),{paginate:n.ensureDefined(e,!1)}},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option().items=this._list.option("items"),this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(e){this._listItemClickHandler(e),this._itemClickAction(e)},_listItemClickHandler:e.noop,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_searchValue:function(){return this._input().val()||""},_search:function(){if(!this._isMinSearchLengthExceeded())return void this._searchCanceled();var t=this.option("searchTimeout");t?this._searchTimer||(this._searchTimer=setTimeout(e.proxy(this._searchDataSource,this),t)):this._searchDataSource()},_searchCanceled:function(){this._clearSearchTimer(),this._needPassDataSourceToList()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){this._clearSearchTimer(),this._filterDataSource(this._searchValue())},_filterDataSource:function(t){var n=this._dataSource;return n.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),n.searchOperation(this.option("searchMode")),n.searchValue(t),n.load().done(e.proxy(this._dataSourceFiltered,this))},_clearFilter:function(){this._dataSource.searchValue()&&this._dataSource.searchValue(null)},_dataSourceFiltered:function(){this._refreshList(),this._refreshPopupVisibility()},_refreshPopupVisibility:function(){this.option("readOnly")||(this.option("opened",this._hasItemsToShow()),this.option("opened")&&this._dimensionChanged())},_hasItemsToShow:function(){var e=this._dataSource&&this._dataSource.items()||[],t=e.length,n=this._needPassDataSourceToList();return n&&t&&this._hasFocusClass()},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this._popup&&this._updatePopupDimensions()},_updatePopupDimensions:function(){this._updatePopupWidth(),this._updatePopupHeight()},_updatePopupWidth:function(){this._setPopupOption("width",this.element().outerWidth()+this.option("popupWidthExtension"))},_updatePopupHeight:function(){this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.element(),n=t.offset(),i=e(window).height(),r=Math.max(n.top,i-n.top-t.outerHeight());return Math.min(.5*i,r)},_changeSelectedItem:function(e,t){var n=this._selectedItemClass();e.removeClass(n),t.addClass(n)},_selectedItemValue:function(){var e=this._listSelectedItemElements();return this._valueGetter(e.data(u))},_valueChangeArgs:function(){return e.extend(this.callBase.apply(this,arguments),{selectedItem:this.option("selectedItem"),itemData:this.option("selectedItem")})},_clean:function(){this._list&&delete this._list,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_needFocusOnButtonClick:function(){return!0},_optionChanged:function(e){switch(this._dataExpressionOptionChanged(e),e.name){case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":case"displayExpr":this._renderValue();break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":case"pagingEnabled":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"noDataText":this._setListOption("noDataText");break;case"displayValue":this.option("text",e.value);break;case"itemTemplate":case"searchTimeout":case"popupWidthExtension":break;case"selectedItem":this._selectionChangedAction({selectedItem:e.value});break;default:this.callBase(e)}}}).include(a);return i("dxDropDownList",o,f),f}),DevExpress.define("/ui/widgets/ui.textArea",["jquery","/componentRegistrator","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/widgets/ui.textBox","/ui/uiNamespace"],function(e,t,n,i,r,o){var a="dx-textarea",s="dx-texteditor-input",l=r.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{spellcheck:!0})},_render:function(){this.callBase(),this.element().addClass(a),this.setAria("multiline","true")},_renderInput:function(){this.callBase(),this._renderScrollHandler()},_createInput:function(){return e("<textarea>").addClass(s).attr(this.option("attr"))},_renderScrollHandler:function(){var e=this._input(),t=0;e.on(n.addNamespace(i.down,this.NAME),function(e){t=n.eventData(e).y}),e.on(n.addNamespace(i.move,this.NAME),function(i){var r=e.scrollTop(),o=e.prop("scrollHeight")-e.prop("clientHeight")-r;if(0!==r||0!==o){var a=n.eventData(i).y,s=0===r&&t>=a,l=0===o&&a>=t,u=r>0&&o>0;(s||l||u)&&(i.isScrollingEvent=!0,i.stopPropagation()),t=a}})},_renderInputType:e.noop});return t("dxTextArea",o,l),l}),DevExpress.require(["/ui/widgets/ui.textArea"]),DevExpress.define("/ui/widgets/numberBox/ui.numberBox.spin",["jquery","/ui/ui.widget","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter.feedback"],function(e,t,n,i,r){var o="dx-numberbox-spin",a="dx-numberbox-spin-button",s=100,l="dxNumberBox",u=n.addNamespace(i.up,l),c=n.addNamespace(i.cancel,l);return t.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_render:function(){this.callBase();var t=this.element(),r=o+"-"+this.option("direction"),s=n.addNamespace(i.down,this.NAME);t.addClass(a).addClass(r).off(s).on(s,e.proxy(this._spinDownHandler,this)),this._spinIcon=e("<div>").addClass(r+"-icon").appendTo(this.element()),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),e(document).on("dxhold",e.proxy(function(){this._feedBackDeferred=e.Deferred(),r.lock(this._feedBackDeferred),this._spinChangeHandler({jQueryEvent:t}),this._holdTimer=setInterval(this._spinChangeHandler,s,{jQueryEvent:t})},this)).on(u,e.proxy(this._clearTimer,this)).on(c,e.proxy(this._clearTimer,this)),this._spinChangeHandler({jQueryEvent:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){e(document).off(u).off(c).off("dxhold"),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}})}),DevExpress.define("/ui/widgets/ui.numberBox",["jquery","/utils/utils.common","/devices","/componentRegistrator","/ui/uiNamespace","/ui/widgets/ui.textEditor","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.wheel","/ui/widgets/numberBox/ui.numberBox.spin","/ui/events/ui.events.emitter.feedback","/utils/utils.caret"],function(e,t,n,i,r,o,a,s,l,u){var c=Math,d="dx-numberbox",h="dx-numberbox-spin",p="dx-numberbox-spin-container",f="dx-numberbox-spin-touch-friendly",m=["Tab","Del","Delete","Backspace","Left","ArrowLeft","Right","ArrowRight","Home","End"],g=o.inherit({_supportedKeys:function(){return e.extend(this.callBase(),{upArrow:function(e){e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler()},downArrow:function(e){e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler()},enter:function(){this._input().trigger(this.option("valueChangeEvent"))}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useTouchSpinButtons:!0,mode:"text"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return n.real().generic&&!n.isSimulator()},options:{useTouchSpinButtons:!1}},{device:function(){return"generic"!==n.real().platform},options:{mode:"number"}}])},_render:function(){this.callBase(),this.element().addClass(d),this.setAria("role","spinbutton"),this._renderMouseWheelHandler()},_keyPressHandler:function(t){this.callBase(t);var n=String.fromCharCode(t.which),i=/[\d.,eE\-+]/,r=i.test(n);return r?void(this._keyPressed=!0):t.metaKey||t.ctrlKey||t.key&&e.inArray(t.key,m)>=0?void 0:(t.preventDefault(),!1)},_renderMouseWheelHandler:function(){var t=a.addNamespace(l.name,this.NAME),n=this._createAction(e.proxy(function(e){this._mouseWheelHandler(e.jQueryEvent)},this));this._input().off(t).on(t,function(e){n({jQueryEvent:e})})},_mouseWheelHandler:function(e){this._input().is(":focus")&&(e.delta>0?this._spinValueChange(1):this._spinValueChange(-1),e.preventDefault(),e.stopPropagation())},_renderValue:function(){var e,t=this._input().val();t.length&&Number(t)===this.option("value")||(this._forceValueRender(),this._toggleEmptinessEventHandler()),e=this.option("value"),this._validateValue(e),this._renderInputAddons(),this.setAria("valuenow",e)},_renderValueEventName:function(){return this.callBase()+" keypress"},_toggleDisabledState:function(e){this._$spinUp&&u.getInstance(this._$spinUp).option("disabled",e),this._$spinDown&&u.getInstance(this._$spinDown).option("disabled",e),this.callBase.apply(this,arguments)},_forceValueRender:function(){var e=this.option("value"),t=Number(e),n=this.option("valueFormat"),i=isNaN(t)?"":n(e);this._renderDisplayText(i)},_renderProps:function(){this.callBase(),this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:this.option("min")||"undefined",valuemax:this.option("max")||"undefined"})},_renderInputAddons:function(){this.callBase(),this._renderSpinButtons()},_renderSpinButtons:function(){var e=this.option("showSpinButtons");return this.element().toggleClass(h,e),this._toggleTouchFriendlyClass(),e?(this._$spinContainer||(this._$spinContainer=this._createSpinButtons()),void this._$spinContainer.prependTo(this._buttonsContainer())):(this._$spinContainer&&this._$spinContainer.remove(),void(this._$spinContainer=null))},_toggleTouchFriendlyClass:function(){this.element().toggleClass(f,this.option("showSpinButtons")&&this.option("useTouchSpinButtons"))},_createSpinButtons:function(){var t=a.addNamespace(s.down,this.NAME),n=this._createAction(e.proxy(this._spinButtonsPointerDownHandler,this)),i=e("<div>").addClass(p).off(t).on(t,function(e){n({jQueryEvent:e})});return this._$spinUp=e("<div>").appendTo(i),this._createComponent(this._$spinUp,u,{direction:"up",onChange:e.proxy(this._spinUpChangeHandler,this)}),this._$spinDown=e("<div>").appendTo(i),this._createComponent(this._$spinDown,u,{direction:"down",onChange:e.proxy(this._spinDownChangeHandler,this)}),i},_spinButtonsPointerDownHandler:function(){var e=this._input();this.option("useTouchSpinButtons")||document.activeElement===e[0]||e.trigger("focus")},_spinUpChangeHandler:function(){this.option("readOnly")||this._spinValueChange(1)},_spinDownChangeHandler:function(){this.option("readOnly")||this._spinValueChange(-1)},_spinValueChange:function(e){var t,n,i=parseFloat(this._normalizeInputValue())||0,r=parseFloat(this.option("step"));i=this._correctRounding(i,r*e),t=this.option("min"),n=this.option("max"),void 0!==t&&(i=Math.max(t,i)),void 0!==n&&(i=Math.min(n,i)),this.option("value",i)},_correctRounding:function(e,t){var n=/[,|.](.*)/,i=n.test(e),r=n.test(t);if(i||r){var o=i?n.exec(e)[0].length:0,a=r?n.exec(t)[0].length:0,s=c.max(o,a);return e=this._round(e+t,s)}return e+t},_round:function(e,t){t=t||0;var n=Math.pow(10,t);return e*=n,e=Math.round(e)/n},_renderValueChangeEvent:function(){this.callBase(),this._input().focusout(e.proxy(this._forceRefreshInputValue,this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var e=this._input(),t=this.option("valueFormat");e.val(null),e.val(t(this.option("value")))}},_valueChangeEventHandler:function(e){var t=this._input(),n=t.val(),i=this._normalizeInputValue(),r=this.option("valueFormat");return this._shouldBeValidated()&&!this._validateValue(i)?void t.val(r(this.option("value"))):"number"===this.option("mode")?void this.callBase(e,isNaN(i)?null:i):void(this._isValueIncomplete(n)||(Number(n)!==i&&t.val(r(i)),this.callBase(e,i)))},_inputIsInvalid:function(){var e="number"===this.option("mode"),t=this._input().get(0).validity;return e&&t&&t.badInput},_renderDisplayText:function(e){this._inputIsInvalid()||this.callBase(e)},_isValueIncomplete:function(e){var t=/^(([+-])|([+-]?(0|[1-9]\d*)?[.,])|([+-]?(0|[1-9]\d*)?([.,]\d+)[eE][+-]?)|([+-]?(0|[1-9]\d*)[eE][+-]?))$/;return t.test(e)},_shouldBeValidated:function(){var e=this._normalizeText();return!!e&&!isNaN(Number(e))&&this._isValueValid()},_validateValue:function(e){var t=this._normalizeText(),n=this._isValueValid(),i=!0,r=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(t);return isNaN(Number(e))&&(i=!1),!e&&n?i=!0:r||n||(i=!1),this.option("isValid",i),i},_normalizeInputValue:function(){return this._normalizeValue()},_normalizeValue:function(e){return this._parseValue(this._normalizeText(e))},_normalizeText:function(n){return n=e.trim(t.isDefined(n)?n:this._input().val()),n.replace(",",".")},_parseValue:function(e){if(""===e)return null;var t=parseFloat(e);return void 0!==this.option("min")&&(t=c.max(t,this.option("min"))),void 0!==this.option("max")&&(t=c.min(t,this.option("max"))),t},_clean:function(){delete this._$spinContainer,delete this._$spinUp,delete this._$spinDown,this.callBase()},_optionChanged:function(e){switch(e.name){case"value":this.callBase(e),this._validateValue(e.value),this._resumeValueChangeAction();break;case"step":case"min":case"max":this._renderProps();break;case"showSpinButtons":this._renderInputAddons();
break;case"useTouchSpinButtons":this._toggleTouchFriendlyClass();break;default:this.callBase(e)}}});return i("dxNumberBox",r,g),g}),DevExpress.require(["/ui/widgets/ui.numberBox"]),DevExpress.define("/ui/widgets/ui.radioButton",["jquery","/devices","/utils/utils.inkRipple","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/ui/events/ui.events.utils","/ui/ui.themes"],function(e,t,n,i,r,o,a,s){var l="dx-radiobutton",u="dx-radiobutton-icon",c="dx-radiobutton-icon-dot",d="dx-radiobutton-checked",h=r.inherit({_supportedKeys:function(){var t=function(e){e.preventDefault(),this._clickAction({jQueryEvent:e})};return e.extend(this.callBase(),{space:t})},_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(s.current())},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this.element().addClass(l)},_render:function(){this.callBase(),this._renderIcon(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderInkRipple:function(){this._inkRipple=n.render({waveSizeCoeffient:3.3,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(e,t,n,i){if(this._inkRipple){var r={element:e,jQueryEvent:t,wave:i};n?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}},_updateFocusState:function(e,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,e,t,0)},_toggleActiveState:function(e,t,n){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,n,t,1)},_renderIcon:function(){this._$icon=e("<div>").addClass(u),e("<div>").addClass(c).appendTo(this._$icon),this.element().append(this._$icon)},_renderCheckedState:function(e){this.element().toggleClass(d,e),this.setAria("checked",e)},_renderClick:function(){var t=a.addNamespace("dxclick",this.NAME);this._clickAction=this._createAction(e.proxy(function(e){this._clickHandler(e.jQueryEvent)},this)),this.element().off(t).on(t,e.proxy(function(e){this._clickAction({jQueryEvent:e})},this))},_clickHandler:function(e){this._saveValueChangeEvent(e),this.option("value",!0)},_optionChanged:function(e){switch(e.name){case"useInkRipple":this._invalidate();break;case"value":this._renderCheckedState(e.value),this.callBase(e);break;default:this.callBase(e)}}});return i("dxRadioButton",o,h),h}),DevExpress.define("/ui/widgets/ui.radioGroup",["jquery","/devices","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/utils/utils.inkRipple","/ui/ui.dataExpression","/ui/ui.themes"],function(e,t,n,i,r,o,a,s){var l,u="dx-radiogroup",c="dx-radiogroup-vertical",d="dx-radiogroup-horizontal",h="dx-radiobutton",p="dx-radiobutton-icon",f="dx-radiobutton-icon-dot",m="dx-radio-value-container",g="dx-radiobutton-checked",_="dxItemData",v=100,y=DevExpress.ui.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),a._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})},_supportedKeys:function(){var t=this.callBase();return e.extend({},t,{enter:function(e){return e.preventDefault(),t.enter.apply(this,arguments)},space:function(e){return e.preventDefault(),t.space.apply(this,arguments)}})},_focusTarget:function(){return this.element().parent()},_keyboardEventBindingTarget:function(){return this._focusTarget()}});return y.publicName("dxRadioCollection"),l=i.inherit({_activeStateUnit:"."+h,_getDefaultOptions:function(){return e.extend(this.callBase(),e.extend(a._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical",useInkRipple:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(s.current())},options:{useInkRipple:!0}}])},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{value:!0})},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this._initDataExpressions(),this._feedbackHideTimeout=v},_render:function(){this.element().addClass(u),this._renderRadios(),this.setAria("role","radiogroup"),this.callBase(),this._renderLayout(),this._updateItemsSize(),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=o.render({waveSizeCoeffient:3.3,useHoldAnimation:!1,isCentered:!0})},_toggleActiveState:function(e,t,n){this.callBase.apply(this,arguments),this._inkRipple&&(t?this._inkRipple.showWave({element:e.find("."+p),jQueryEvent:n}):this._inkRipple.hideWave({element:e.find("."+p),jQueryEvent:n}))},_renderFocusState:e.noop,_renderRadios:function(){var t=e("<div>").appendTo(this.element());this._radios=this._createComponent(t,y,{dataSource:this._dataSource,onItemRendered:e.proxy(this._itemRenderedHandler,this),onItemClick:e.proxy(this._itemClickHandler,this),itemTemplate:this._getTemplateByOption("itemTemplate"),scrollingEnabled:!1,focusStateEnabled:this.option("focusStateEnabled"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:""}),this._setCollectionWidgetOption("onContentReady",e.proxy(this._contentReadyHandler,this)),this._contentReadyHandler()},_contentReadyHandler:function(){this.itemElements().addClass(h),this._refreshSelected()},_itemRenderedHandler:function(t){if(!t.itemData.html){var n,i;n=e("<div>").addClass(p),e("<div>").addClass(f).appendTo(n),i=e("<div>").append(n).addClass(m),t.itemElement.prepend(i)}},_itemClickHandler:function(e){this.option("value",this._getItemValue(e.itemData))},_getItemValue:function(e){return this._valueGetter?this._valueGetter(e):e.text},itemElements:function(){return this._radios.itemElements()},_renderDimensions:function(){this.callBase(),this._updateItemsSize()},_renderLayout:function(){var e=this.option("layout");this.element().toggleClass(c,"vertical"===e),this.element().toggleClass(d,"horizontal"===e)},_refreshSelected:function(){var t=this.option("value");this.itemElements().each(e.proxy(function(n,i){var r=e(i),o=this._valueGetter(r.data(_));r.toggleClass(g,this._isValueEquals(o,t)),this.setAria("checked",this._isValueEquals(o,t),r)},this))},_updateItemsSize:function(){if("horizontal"===this.option("layout"))this.itemElements().css("height","auto");else{var e=this.option("items").length;this.itemElements().css("height",100/e+"%")}},_getAriaTarget:function(){return this.element()},_setCollectionWidgetOption:function(){this._setWidgetOption("_radios",arguments)},focus:function(){this._radios&&this._radios.focus()},_optionChanged:function(e){switch(this._dataExpressionOptionChanged(e),e.name){case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(e.name,e.value);break;case"disabled":this.callBase(e),this._setCollectionWidgetOption(e.name,e.value);break;case"dataSource":this._setCollectionWidgetOption("dataSource");break;case"valueExpr":this._refreshSelected();break;case"value":this._refreshSelected(),this.callBase(e);break;case"items":case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:this.callBase(e)}}}).include(a),n("dxRadioGroup",r,l),l}),DevExpress.require(["/ui/widgets/ui.radioGroup"]),function(e,t){var n=t.ui,i=t.require("/devices"),r=t.require("/componentRegistrator"),o=t.require("/ui/widgets/ui.button"),a=t.require("/utils/utils.inkRipple"),s=t.require("/ui/events/ui.events.utils"),l=t.require("/utils/utils.dom"),u=t.require("/ui/events/pointer/ui.events.pointer"),c=t.require("/ui/ui.themes"),d="dx-tabs",h="dx-indent-wrapper",p="dx-tabs-expanded",f="dx-scrollable-wrapper",m="dx-tabs-nav-buttons",g="dx-tab",_=".dx-tab",v="dx-tab-selected",y="dx-tabs-nav-button",x="dx-tabs-nav-button-left",b="dx-tabs-nav-button-right",w="dxTabData",C=100,S=5,k=300,D="dx-state-active",T=30;r("dxTabs",n,n.CollectionWidget.inherit({_activeStateUnit:_,_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{showNavButtons:!0,scrollByContent:!1}},{device:function(){return i.real().generic&&!i.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(c.current())},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this._renderMultiple(),this.element().addClass(d),this._feedbackHideTimeout=C},_itemClass:function(){return g},_selectedItemClass:function(){return v},_itemDataKey:function(){return w},_renderContent:function(){this.callBase();var e=this;this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){l.triggerResizeEvent(e._$content)},0))},_render:function(){this.callBase(),this._renderWrapper(),this._renderScrolling(),this.setAria("role","tablist");var t=this;this.itemElements().each(function(n,i){t.setAria("role","tab",e(i))}),this.element().addClass(D).removeClass(D),this.option("useInkRipple")&&this._renderInkRipple()},_renderScrolling:function(){this.element().removeClass(p),this._allowScrolling()&&!this._scrollable&&(this._renderScrollable(),this._renderNavButtons(),this._scrollToItem(this.option("selectedItem"))),this._allowScrolling()||(this._cleanScrolling(),this.element().removeClass(m).addClass(p))},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.element().remove(),this._rightButton.element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._scrollable.content().children("."+h).appendTo(this._itemContainer()),this._scrollable.element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=a.render()},_toggleActiveState:function(e,t,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:e,jQueryEvent:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this.element().wrapInner(e("<div>").addClass(h))},_renderScrollable:function(){var t=this.element().wrapInner(e("<div>").addClass(f)).children();this._scrollable=this._createComponent(t,"dxScrollable",{direction:"horizontal",showScrollbar:!1,useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:e.proxy(this._updateNavButtonsVisibility,this)}),this.element().append(this._scrollable.element())},_scrollToItem:function(e){if(this._scrollable){var t=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(t)}},_allowScrolling:function(){if(!this.option("scrollingEnabled"))return!1;var t=0;return this.itemElements().each(function(n,i){t+=e(i).outerWidth(!0)}),t-1>this.element().width()},_renderNavButtons:function(){var e,t;this.element().toggleClass(m,this.option("showNavButtons")),this.option("showNavButtons")&&(this._leftButton=this._createNavButton(-T,"chevronprev"),e=this._leftButton.element(),e.addClass(x),this.element().prepend(e),this._rightButton=this._createNavButton(T,"chevronnext"),t=this._rightButton.element(),t.addClass(b),this.element().append(t),this._updateNavButtonsVisibility(),this._scrollable.update(),this.option("rtlEnabled")&&this._scrollable.scrollTo({left:this._scrollable.scrollWidth()-this._scrollable.clientWidth()}))},_updateNavButtonsVisibility:function(){this._leftButton&&this._leftButton.option("disabled",this._scrollable.scrollLeft()<=0),this._rightButton&&this._rightButton.option("disabled",this._scrollable.scrollLeft()>=this._scrollable.scrollWidth()-this._scrollable.clientWidth())},_updateScrollPosition:function(e,t){this._scrollable.update(),this._scrollable.scrollBy(e/t)},_createNavButton:function(t,n){var i=this,r=i._createAction(function(){i._holdInterval=setInterval(function(){i._updateScrollPosition(t,S)},S)}),a=s.addNamespace("dxhold","dxNavButton"),l=s.addNamespace(u.up,"dxNavButton"),c=s.addNamespace(u.out,"dxNavButton"),d=this._createComponent(e("<div>").addClass(y),o,{focusStateEnabled:!1,icon:n,type:"back",onClick:function(){i._updateScrollPosition(t,1)},_templates:{}});return d.element().on(a,{timeout:k},e.proxy(function(e){r({jQueryEvent:e})},this)).on(l,function(){i._clearInterval()}).on(c,function(){i._clearInterval()}),d},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_renderSelection:function(e){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(e[0]),{left:1,right:1})},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this.option("scrollingEnabled")&&this._renderScrolling()},_itemSelectHandler:function(e){"single"===this.option("selectionMode")&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_clean:function(){this._scrollable=null,clearTimeout(this._resizeEventTimer),this.callBase()},_optionChanged:function(e){switch(e.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(e.name,e.value);break;case"selectionMode":this._renderMultiple(),this.callBase(e);break;default:this.callBase(e)}}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/componentRegistrator"),r="dx-navbar",o="dx-item-content",a="dx-nav-item",s="dx-nav-item-content";i("dxNavBar",n,n.dxTabs.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{scrollingEnabled:!1})},_render:function(){this.callBase(),this.element().addClass(r)},_postprocessRenderItem:function(e){this.callBase(e);var t=e.itemElement,n=e.itemData;t.addClass(a),t.find("."+o).addClass(s),n.icon||n.iconSrc||t.addClass("dx-navbar-text-item")}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/toolbar/ui.toolbar.strategy.listBase",["jquery","/ui/widgets/toolbar/ui.toolbar.strategy","/utils/utils.translator","/utils/utils.topOverlay"],function(e,t,n,i){var r=DevExpress.fx,o=i.hideCallback,a="dx-toolbar-list-visible",s="easeOutCubic",l=200,u=400;return t.inherit({render:function(){this._renderListOverlay(),this.callBase(),this._changeListVisible(this._toolbar.option("visible"))},_renderWidget:function(){this._hasVisibleMenuItems()&&this.callBase()},_menuWidgetClass:function(){return"dxList"},_menuContainer:function(){return this._listOverlay.content()},_menuButtonOptions:function(){return e.extend({},this.callBase(),{activeStateEnabled:!1,text:"..."})},_widgetOptions:function(){return e.extend({},this.callBase(),{width:"100%",indicateLoading:!1})},_renderListOverlay:function(){var t=e("<div>").appendTo(this._toolbar.element());this._listOverlay=this._toolbar._createComponent(t,"dxOverlay",this._listOverlayConfig())},_listOverlayConfig:function(){return{container:!1,deferRendering:!1,shading:!1,height:"auto",width:"100%",showTitle:!1,closeOnOutsideClick:e.proxy(this._listOutsideClickHandler,this),position:null,animation:null,closeOnBackButton:!1}},_listOutsideClickHandler:function(t){e(t.target).closest(this._listOverlay.content()).length||this._toggleMenu(!1,!0)},_getListHeight:function(){var e=this._listOverlay.content().find(".dx-list").height(),t=this._toolbar._$toolbarItemsContainer.height()-this._toolbar.element().height();return e+t},_hideTopOverlayHandler:function(){this._toggleMenu(!1,!0)},_toggleHideTopOverlayCallback:function(){this._closeCallback&&o.remove(this._closeCallback),this._menuShown&&(this._closeCallback=e.proxy(this._hideTopOverlayHandler,this),o.add(this._closeCallback))},_calculatePixelOffset:function(e){e=(e||0)-1;var t=this._getListHeight();return e*t},_renderMenuPosition:function(t,i){var r=this._calculatePixelOffset(t),o=this._listOverlay.content();return i?this._animateMenuToggling(o,r,this._menuShown):(n.move(o,{top:r}),e.Deferred().resolve().promise())},_animateMenuToggling:function(e,t,n){var i=n?u:l;return r.animate(e,{type:"slide",to:{top:t},easing:s,duration:i})},_toggleMenu:function(t,n){this.callBase.apply(this,arguments),this._toggleHideTopOverlayCallback(),this._renderMenuPosition(this._menuShown?0:1,n).done(e.proxy(function(){this._toolbar.element().toggleClass(a,t)},this))},_changeListVisible:function(e){this._listOverlay&&(this._listOverlay.option("visible",e),this._toggleMenu(!1,!1))},handleToolbarVisibilityChange:function(e){this._changeListVisible(e)}})}),DevExpress.define("/ui/widgets/toolbar/ui.toolbar.strategy.listBottom",["jquery","/ui/widgets/toolbar/ui.toolbar.strategy.listBase"],function(e,t){return t.inherit({NAME:"listBottom",_renderWidget:function(){this._renderContainerSwipe(),this.callBase(),this._toolbar._$toolbarItemsContainer.prependTo(this._listOverlay.content())},_renderContainerSwipe:function(){this._toolbar._createComponent(this._toolbar._$toolbarItemsContainer,"dxSwipeable",{elastic:!1,onStart:e.proxy(this._swipeStartHandler,this),onUpdated:e.proxy(this._swipeUpdateHandler,this),onEnd:e.proxy(this._swipeEndHandler,this),itemSizeFunc:e.proxy(this._getListHeight,this),direction:"vertical"})},_swipeStartHandler:function(e){e.jQueryEvent.maxTopOffset=this._menuShown?0:1,e.jQueryEvent.maxBottomOffset=this._menuShown?1:0},_swipeUpdateHandler:function(e){var t=this._menuShown?e.jQueryEvent.offset:1+e.jQueryEvent.offset;this._renderMenuPosition(t,!1)},_swipeEndHandler:function(e){var t=e.jQueryEvent.targetOffset;t-=this._menuShown-1,this._toggleMenu(0===t,!0)}})}),DevExpress.define("/ui/widgets/toolbar/ui.toolbar.strategy.listTop",["jquery","/ui/widgets/toolbar/ui.toolbar.strategy.listBase","/utils/utils.translator"],function(e,t,n){return t.inherit({NAME:"listTop",_listOverlayConfig:function(){var t=this.callBase();return e.extend({},t,{onContentReady:e.proxy(this._setItemsContainerZIndex,this)})},_setItemsContainerZIndex:function(e){var t=e.component.content().css("z-index");this._toolbar._$toolbarItemsContainer.css("z-index",t+1)},_renderMenuPosition:function(e,t){var i=this._toolbar._$toolbarItemsContainer,r=this._calculateItemsContainerOffset(e);return t?this._animateMenuToggling(i,r,this._menuShown):n.move(i,{top:r}),this.callBase(e,t)},_calculateItemsContainerOffset:function(e){e=(e||0)-1;var t=this._getItemsContainerHeight();return e*t},_getItemsContainerHeight:function(){return this._toolbar._$toolbarItemsContainer.height()-this._toolbar.element().height()},_listOutsideClickHandler:function(t){var n=e(t.target),i=n.closest(this._listOverlay.content()).length>0,r=n.closest(this._toolbar._$toolbarItemsContainer).length>0;i||r||this._toggleMenu(!1,!0)}})}),DevExpress.define("/ui/widgets/toolbar/ui.toolbar.strategy.dropDownMenu",["jquery","/ui/widgets/toolbar/ui.toolbar.strategy"],function(e,t){return t.inherit({NAME:"dropDownMenu",render:function(){this._hasVisibleMenuItems()&&(this._renderMenuButtonContainer(),this._renderWidget())},_menuWidgetClass:function(){return"dxDropDownMenu"},_menuContainer:function(){return this._$menuButtonContainer}})}),DevExpress.define("/ui/widgets/toolbar/ui.toolbar.strategy.actionSheet",["jquery","/ui/widgets/toolbar/ui.toolbar.strategy"],function(e,t){return t.inherit({NAME:"actionSheet",_getMenuItemTemplate:function(){return this._toolbar._getTemplate("actionSheetItem")},render:function(){this._hasVisibleMenuItems()&&this.callBase()},_menuWidgetClass:function(){return"dxActionSheet"},_menuContainer:function(){return this._toolbar.element()},_widgetOptions:function(){return e.extend({},this.callBase(),{target:this._$button,showTitle:!1})},_menuButtonOptions:function(){return e.extend({},this.callBase(),{icon:"overflow"})},_toggleMenu:function(){this.callBase.apply(this,arguments),this._menu.toggle(this._menuShown),this._menuShown=!1}})}),DevExpress.define("/ui/widgets/toolbar/ui.toolbar.strategy",["jquery","/class","/ui/widgets/ui.button"],function(e,t,n){var i=t["abstract"],r=DevExpress.data.utils.compileGetter,o="dx-toolbar-menu-container",a="dx-toolbar-menu-button";return t.inherit({ctor:function(e){this._toolbar=e},render:function(){this._renderMenuButton(),this._renderWidget()},_widgetOptions:function(){var t=this._toolbar._createActionByOption("onItemClick");return{itemTemplate:e.proxy(this._getMenuItemTemplate,this),onItemClick:e.proxy(function(e){this._toggleMenu(!1,!0),t(e)},this)}},_getMenuItemTemplate:function(){return this._toolbar._getTemplateByOption("menuItemTemplate")},_renderWidget:function(){var t=e("<div>").appendTo(this._menuContainer());this._menu=this._toolbar._createComponent(t,this._menuWidgetClass(),this._widgetOptions()),this.renderMenuItems()},_menuContainer:i,_menuWidgetClass:i,_hasVisibleMenuItems:function(){var t=this._getMenuItems(),n=!1,i=r("visible");return e.each(t,function(e,t){var r=i(t,{functionsAsIs:!0});r!==!1&&(n=!0)}),n},_getMenuItems:function(){return this._toolbar._getMenuItems()},_renderMenuButton:function(){var t=this._menuButtonOptions();this._renderMenuButtonContainer(),this._$button=e("<div>").appendTo(this._$menuButtonContainer).addClass(a),this._toolbar._createComponent(this._$button,n,t)},_menuButtonOptions:function(){return{onClick:e.proxy(this._menuButtonClickHandler,this)}},_menuButtonClickHandler:function(){this._toggleMenu(!this._menuShown,!0)},_renderMenuButtonContainer:function(){var t=this._toolbar._$afterSection;this._$menuButtonContainer=e("<div>").appendTo(t).addClass(this._toolbar._buttonClass()).addClass(o)},renderMenuItems:function(){this._menu&&this._menu.option("items",this._getMenuItems())},toggleMenuVisibility:function(e,t){this._menu&&this._toggleMenu(e,t)},_toggleMenu:function(e){this._menuShown=e},getMenuWidget:function(){return this._menu},widgetOption:function(e,t){this._menu&&this._menu.option(e,t)},handleToolbarVisibilityChange:e.noop})}),function(e,t){var n=t.ui,i=t.require("/componentRegistrator"),r=t.require("/ui/widgets/toolbar/ui.toolbar.strategy.actionSheet"),o=t.require("/ui/widgets/toolbar/ui.toolbar.strategy.dropDownMenu"),a=t.require("/ui/widgets/toolbar/ui.toolbar.strategy.listBottom"),s=t.require("/ui/widgets/toolbar/ui.toolbar.strategy.listTop"),l={actionSheet:r,dropDownMenu:o,listBottom:a,listTop:s},u="dx-toolbar",c="dx-toolbar-bottom",d="dx-toolbar-mini",h="dx-toolbar-item",p="dx-toolbar-label",f="dx-toolbar-button",m="dx-toolbar-items-container",g="."+p,_="dxToolbarItemDataKey";i("dxToolbar",n,n.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{menuItemTemplate:"menuItem",submenuType:"dropDownMenu",renderAs:"topToolbar"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return/ios7.*/.test(n.themes.current())},options:{submenuType:"actionSheet"}},{device:function(){return/android5.*/.test(n.themes.current())},options:{submenuType:"dropDownMenu"}},{device:function(){return/win8.*/.test(n.themes.current())},options:{submenuType:"listBottom"}},{device:function(){return/win10.*/.test(n.themes.current())},options:{submenuType:"listTop"}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(".dx-toolbar-before,.dx-toolbar-center,.dx-toolbar-after")},_itemClass:function(){return h},_itemDataKey:function(){return _},_buttonClass:function(){return f},_dimensionChanged:function(){this._menuStrategy.toggleMenuVisibility(!1,!0),this._arrangeTitle()},_render:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this._renderMenu(),this._arrangeTitle(),this.setAria("role","toolbar")},_renderToolbar:function(){this.element().addClass(u).toggleClass(c,"bottomToolbar"===this.option("renderAs")),this._$toolbarItemsContainer=e("<div>").appendTo(this.element()),this._$toolbarItemsContainer.addClass(m)},_renderSections:function(){var t=this._$toolbarItemsContainer,n=this;e.each(["before","center","after"],function(){var i="dx-toolbar-"+this,r=t.find("."+i);r.length||(n["_$"+this+"Section"]=r=e("<div>").addClass(i).appendTo(t))})},_arrangeTitle:function(){var t,n=this._$toolbarItemsContainer.find(g).eq(0),i=n.parent();if(n.length&&!this.element().is(":hidden")){var r=this._$toolbarItemsContainer.width(),o=this._$beforeSection.outerWidth()?this._$beforeSection.outerWidth():n.position().left,a=i.hasClass("dx-toolbar-before")?0:o,s=i.hasClass("dx-toolbar-after")?0:this._$afterSection.outerWidth(),l=0;i.children().not(g).each(function(){l+=e(this).outerWidth()});var u=r-l,c=u-2*Math.max(a,s),d=Math.round(n.outerWidth())>Math.round(c);i.css({marginLeft:d?a:"",marginRight:d?s:"","float":d&&s>a?"right":"none"}),t=n.outerWidth()-n.width(),n.css("max-width",u-a-s-t)}},_renderItem:function(e,t,n,i){var r=t.location||"center",o=this._$toolbarItemsContainer.find(".dx-toolbar-"+r),a=Boolean(t.text),s=this.callBase(e,t,o,i);return s.toggleClass(this._buttonClass(),!a).toggleClass(p,a),s},_getToolbarItems:function(){return e.grep(this.option("items")||[],function(e){return"menu"!==e.location})},_renderContentImpl:function(){var e=this._getToolbarItems();this.element().toggleClass(d,0===e.length),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e)},_renderMenu:function(){this._renderMenuStrategy(),this._menuStrategy.render()},_renderMenuStrategy:function(){var e,t=this.option("submenuType");("listBottom"===t||"listTop"===t)&&"topToolbar"===this.option("renderAs")&&(t="dropDownMenu"),e=l[t],this._menuStrategy&&this._menuStrategy.NAME===t||(this._menuStrategy=new e(this))},_getMenuItems:function(){return e.grep(this.option("items")||[],function(e){return"menu"===e.location})},_renderEmptyMessage:e.noop,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.element().empty()},_changeMenuOption:function(e,t){this._menuStrategy.widgetOption(e,t)},_visibilityChanged:function(e){e&&this._arrangeTitle()},_isVisible:function(){return this.element().width()>0&&this.element().height()>0},_renderDimensions:function(){this.callBase(),this._arrangeTitle()},_itemOptionChanged:function(t,n,i){var r,o=this.option("items")[t];"menu"===o.location?this._menuStrategy.renderMenuItems():(r=e.inArray(o,this._getToolbarItems()),this.callBase.apply(this,[r,n,i]),this._arrangeTitle())},_optionChanged:function(e){var t=e.name,n=e.value;switch(t){case"renderAs":case"submenuType":this._invalidate();break;case"visible":this.callBase.apply(this,arguments),this._menuStrategy.handleToolbarVisibilityChange(n);break;case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(n));break;case"onItemClick":this._changeMenuOption(t,n),this.callBase.apply(this,arguments);break;default:this.callBase.apply(this,arguments)}}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.support"),r=t.require("/utils/utils.common"),o=t.require("/utils/utils.inkRipple"),a=t.require("/devices"),s=t.require("/componentRegistrator"),l=t.require("/ui/widgets/ui.button"),u=t.require("/ui/events/ui.events.utils"),c=t.require("/ui/ui.themes"),d="dx-list",h="dx-list-item",p="."+h,f="dx-list-group",m="dx-list-group-header",g="dx-list-group-body",_="dx-list-collapsible-groups",v="dx-list-group-collapsed",y="dx-has-next",x="dx-list-next-button",b="dxListItemData",w=70,C=t.data.utils.compileGetter("items");s("dxList",n,n.CollectionWidget.inherit({_activeStateUnit:p,_supportedKeys:function(){var t=this,n=function(e){var n=i(e),o=n.is(t.option("focusedElement"));o&&(r(n,e),n=i(e)),t.option("focusedElement",n),t.scrollToItem(n)},i=function(e){var n,i,r=t.scrollTop(),o=t.element().height(),a=t.option("focusedElement"),s=!0;if(a){for(;s&&(n=a[e](),n.length);)i=n.position().top+n.outerHeight()/2,s=o+r>i&&i>r,s&&(a=n);return a}},r=function(e,n){var i=e.position().top;"prev"===n&&(i=e.position().top-t.element().height()+e.outerHeight()),t.scrollTo(i)};return e.extend(this.callBase(),{leftArrow:e.noop,rightArrow:e.noop,pageUp:function(){return n("prev"),!1},pageDown:function(){return n("next"),!1}})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{autoPagingEnabled:{since:"15.1",message:"Use the 'pageLoadMode' option instead"},showNextButton:{since:"15.1",message:"Use the 'pageLoadMode' option instead"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:Globalize.localize("dxList-pullingDownText"),pulledDownText:Globalize.localize("dxList-pulledDownText"),refreshingText:Globalize.localize("dxList-refreshingText"),pageLoadingText:Globalize.localize("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:Globalize.localize("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat(n.dxScrollable.deviceDependentOptions(),[{device:function(e){return!i.nativeScrolling&&!a.isSimulator()&&"generic"===a.real().platform&&"generic"===e.platform},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return a.real().generic&&!a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(c.current())},options:{useInkRipple:!0}},{device:function(){return"win"===a.current().platform&&a.isSimulator()},options:{bounceEnabled:!1}}])},_getOptionAliases:function(){return e.extend(this.callBase(),{useNative:"useNativeScrolling"})},_visibilityChanged:function(e){e&&this._updateLoadingState(!0)},_itemClass:function(){return h},_itemDataKey:function(){return b},_itemContainer:function(){return this._$container},_itemElements:function(){return this.option("grouped")?this._itemContainer().children("."+f).children("."+g).children(this._itemSelector()):this._itemContainer().children(this._itemSelector())},_itemSelectHandler:function(e){"single"===this.option("selectionMode")&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_allowDinamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._$container=this.element(),this._initScrollView(),this._feedbackShowTimeout=w,this._createGroupRenderAction(),this.setAria("role","listbox")},_dataSourceOptions:function(){this._suppressDeprecatedWarnings();var t=this.option("autoPagingEnabled");return t=r.isDefined(this.option("showNextButton"))?t||this.option("showNextButton"):t,this._resumeDeprecatedWarnings(),e.extend(this.callBase(),{paginate:r.isDefined(t)?t:!0})},_initScrollView:function(){this._suppressDeprecatedWarnings();var t=this.option("scrollingEnabled"),n=t&&this.option("pullRefreshEnabled"),i=t&&r.ensureDefined(this.option("autoPagingEnabled"),"scrollBottom"===this.option("pageLoadMode"))&&!!this._dataSource;this._resumeDeprecatedWarnings(),this._scrollView=this._createComponent(this.element(),"dxScrollView",{disabled:this.option("disabled")||!t,onScroll:e.proxy(this._scrollHandler,this),onPullDown:n?e.proxy(this._pullDownHandler,this):null,onReachBottom:i?e.proxy(this._scrollBottomHandler,this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=this._scrollView.content(),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),
this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(e){this._scrollAction(e)},_updateLoadingState:function(e){this._suppressDeprecatedWarnings();var t=!e||this._isLastPage(),n=r.ensureDefined(this.option("autoPagingEnabled"),"scrollBottom"===this.option("pageLoadMode")),i=t||!n,o=i&&!this._isDataSourceLoading();this._resumeDeprecatedWarnings(),i||this._scrollViewIsFull()?(this._scrollView.release(o),this._toggleNextButton(this._shouldRenderNextButton()&&!t),this._loadIndicationSuppressed(!1)):this._infiniteDataLoading()},_shouldRenderNextButton:function(){this._suppressDeprecatedWarnings();var e=r.ensureDefined(this.option("showNextButton"),"nextButton"===this.option("pageLoadMode"))&&this._dataSource&&this._dataSource.isLoaded();return this._resumeDeprecatedWarnings(),e},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(e.proxy(function(){var e=!this._itemElements().length;this._scrollView&&!e&&this._scrollView.startLoading()},this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()))},_dataSourceChangedHandler:function(e){this._shouldAppendItems()||this._scrollView&&this._scrollView.scrollTo(0),this.callBase(e)},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(e){return arguments.length?void(this._isLoadIndicationSuppressed=e):this._isLoadIndicationSuppressed},_scrollViewIsFull:function(){return!this._scrollView||this._scrollView.isFull()},_pullDownHandler:function(e){this._pullRefreshAction(e),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.load()):this._updateLoadingState()},_infiniteDataLoading:function(){var t=this.element().is(":visible");!t||this._scrollViewIsFull()||this._isDataSourceLoading()||this._isLastPage()||(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(e.proxy(this._loadNextPage,this)))},_scrollBottomHandler:function(e){this._pageLoadingAction(e),this._isDataSourceLoading()?this._updateLoadingState():this._loadNextPage()},_renderItems:function(t){this.option("grouped")?(e.each(t,e.proxy(this._renderGroup,this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage()):this.callBase.apply(this,arguments),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=u.addNamespace("dxclick",this.NAME),n="."+m,i=this.element(),r=this.option("collapsibleGroups");i.toggleClass(_,r),i.off(t,n),r&&i.on(t,n,e.proxy(function(t){this._createAction(e.proxy(function(t){var n=e(t.jQueryEvent.currentTarget).parent();this._collapseGroupHandler(n),this.option("focusStateEnabled")&&this.option("focusedElement",n.find("."+h).eq(0))},this),{validatingTargetName:"element"})({jQueryEvent:t})},this))},_collapseGroupHandler:function(t,n){var i,r=e.Deferred(),o=t.children("."+g);return t.toggleClass(v,n),i="slideToggle",n===!0&&(i="slideUp"),n===!1&&(i="slideDown"),o[i]({duration:200,complete:e.proxy(function(){this.updateDimensions(),this._updateLoadingState(!0),r.resolve()},this)}),r.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_render:function(){this.element().addClass(d),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=o.render()},_toggleActiveState:function(e,t,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:e,jQueryEvent:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_postprocessRenderItem:function(t){this.callBase.apply(this,arguments),this.option("onItemSwipe")&&this._attachSwipeEvent(e(t.itemElement))},_attachSwipeEvent:function(t){var n=u.addNamespace("dxswipeend",this.NAME);t.on(n,e.proxy(this._itemSwipeEndHandler,this))},_itemSwipeEndHandler:function(e){this._itemJQueryEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})},_nextButtonHandler:function(){var e=this._dataSource;e&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,n){var i,r=e("<div>").addClass(f).appendTo(this._itemContainer()),o=e("<div>").addClass(m).appendTo(r),a=this.option("groupTemplate"),s=this._getTemplate(n.template||a,n,t,o),l={index:t,itemData:n,container:o};this._createItemByTemplate(s,l),this._renderingGroupIndex=t,i=e("<div>").addClass(g).appendTo(r),e.each(C(n)||[],e.proxy(function(e,t){this._renderItem(e,t,i)},this)),this._groupRenderAction({groupElement:r,groupIndex:t,groupData:n})},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(e){this.callBase(e),this._scrollView.option("disabled",e||!this.option("scrollingEnabled"))},_toggleNextButton:function(e){var t=this._dataSource,n=this._getNextButton();this.element().toggleClass(y,e),e&&t&&t.isLoaded()&&n.appendTo(this._itemContainer()),e||n.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=e("<div>").addClass(x),n=e("<div>").appendTo(t);return this._createComponent(n,l,{text:this.option("nextButtonText"),onClick:e.proxy(this._nextButtonHandler,this),_templates:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_optionChanged:function(e){switch(e.name){case"pageLoadMode":this._toggleNextButton(e.value),this._initScrollView();break;case"showNextButton":this._toggleNextButton(e.value);break;case"dataSource":this.callBase(e),this._initScrollView();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"useNative":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"scrollingEnabled":case"pullRefreshEnabled":case"autoPagingEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions(),this._invalidate();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(e),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(e);break;default:this.callBase(e)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var n=t.closest("."+f),i=n.find("."+h);return e.extend(this.callBase(t),{itemIndex:{group:n.index(),item:i.index(t)}})},expandGroup:function(t){var n=e.Deferred(),i=this._itemContainer().find("."+f).eq(t);return this._collapseGroupHandler(i,!1).done(e.proxy(function(){n.resolveWith(this)},this)),n.promise()},collapseGroup:function(t){var n=e.Deferred(),i=this._itemContainer().find("."+f).eq(t);return this._collapseGroupHandler(i,!0).done(e.proxy(function(){n.resolveWith(this)},this)),n},updateDimensions:function(){var t=this,n=e.Deferred();return t._scrollView?t._scrollView.update().done(function(){n.resolveWith(t)}):n.resolveWith(t),n.promise()},reload:function(){this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(e){this._scrollView.scrollBy(e)},scrollTo:function(e){this._scrollView.scrollTo(e)},scrollToItem:function(e){var t=this._editStrategy.getItemElement(e);this._scrollView.scrollToElement(t)}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/componentRegistrator"),r=t.require("/ui/events/ui.events.utils"),o="dx-list-item-selected",a="dx-list-item-response-wait";i("dxList",n,n.dxList.inherit({_supportedKeys:function(){var t=this,n=this.callBase(),i=function(e){t.option("allowItemDeleting")&&(e.preventDefault(),t.deleteItem(t.option("focusedElement")))},r=function(e){if(e.shiftKey&&t.option("allowItemReordering")){e.preventDefault();var i=t._editStrategy.getNormalizedIndex(t.option("focusedElement")),r=t._editStrategy.getItemElement(i-1);t.reorderItem(t.option("focusedElement"),r),t.scrollToItem(t.option("focusedElement"))}else n.upArrow(e)},o=function(e){if(e.shiftKey&&t.option("allowItemReordering")){e.preventDefault();var i=t._editStrategy.getNormalizedIndex(t.option("focusedElement")),r=t._editStrategy.getItemElement(i+1);t.reorderItem(t.option("focusedElement"),r),t.scrollToItem(t.option("focusedElement"))}else n.downArrow(e)};return e.extend({},n,{del:i,upArrow:r,downArrow:o})},_getDefaultOptions:function(){return e.extend(this.callBase(),{showSelectionControls:!1,selectionMode:"none",onSelectAllChanged:null,selectAllText:Globalize.localize("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"toggle",allowItemReordering:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"ios"===e.platform},options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}},{device:{platform:"win"},options:{itemDeleteMode:"context"}},{device:{platform:"generic"},options:{itemDeleteMode:"static"}}])},_init:function(){this.callBase(),this._initEditProvider()},_initEditProvider:function(){this._editProvider=new n.dxList.EditProvider(this)},_disposeEditProvider:function(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider:function(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy:function(){this.option("grouped")?this._editStrategy=new n.dxList.GroupedEditStrategy(this):this.callBase()},_render:function(){this._refreshEditProvider(),this.callBase()},_renderItems:function(){this.callBase.apply(this,arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:function(){return o},_itemResponseWaitClass:function(){return a},_itemClickHandler:function(t){var n,i=e(t.currentTarget);i.is(".dx-state-disabled, .dx-state-disabled *")||(n=this._editProvider.handleClick(i,t))||this.callBase.apply(this,arguments)},_shouldAttachContextMenuEvent:function(){return this.callBase.apply(this,arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler:function(t){var n,i,o=e(t.currentTarget);if(!o.is(".dx-state-disabled, .dx-state-disabled *")){if(n=r.isTouchEvent(t),i=n&&this._editProvider.handleContextMenu(o,t))return void(t.handledByEditProvider=!0);this.callBase.apply(this,arguments)}},_itemContextMenuHandler:function(t){var n,i=e(t.currentTarget);i.is(".dx-state-disabled, .dx-state-disabled *")||(n=!t.handledByEditProvider&&this._editProvider.handleContextMenu(i,t))||this.callBase.apply(this,arguments)},_postprocessRenderItem:function(e){this.callBase.apply(this,arguments),this._editProvider.modifyItemElement(e)},_clean:function(){this._disposeEditProvider(),this.callBase()},_optionChanged:function(e){switch(e.name){case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(e.value),this.callBase(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"allowItemReordering":case"selectAllText":this._invalidate();break;case"onSelectAllChanged":break;default:this.callBase(e)}},getFlatIndexByItemElement:function(e){return this._itemElements().index(e)},getItemElementByFlatIndex:function(t){var n=this._itemElements();return 0>t||t>=n.length?e():n.eq(t)},getItemByIndex:function(e){return this._getItemData(this._itemElements().eq(e))}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=(DevExpress.require("/ui/ui.errors"),"dx-list-item"),r="dx-list-group",o=20,a=2303,s=function(e){return(e.group<<o)+e.item},l=function(e){return{group:e>>o,item:e&a}},u=function(t,n){var i=t.items,r={key:t.key,items:[]};return e.each(n,function(e,t){r.items.push(i[t])}),r},c=function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i].key===t)return e[i]};n.dxList.GroupedEditStrategy=n.CollectionWidget.EditStrategy.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+r)},_groupItemElements:function(e){return e.find("."+i)},getIndexByItemData:function(t){var n=this._collectionWidget.option("items"),i=!1;return e.each(n,function(n,r){return r.items?(e.each(r.items,function(e,r){return r!==t?!0:(i={group:n,item:e},!1)}),i?!1:void 0):!1}),i},getItemDataByIndex:function(e){if(!e||!e.group||!e.item)return null;var t=this._collectionWidget.option("items");return t.length&&t[e.group].items[e.item]||null},deleteItemAtIndex:function(e){var t=l(e),n=this._collectionWidget.option("items")[t.group].items;n.splice(t.item,1)},updateSelectionAfterDelete:function(t){var n=l(t),i=this._collectionWidget._selectedItemIndices;e.each(i,function(e,t){var r=l(t);r.group===n.group&&r.item>n.item&&(i[e]-=1)})},fetchSelectedItems:function(t){t=t||this._collectionWidget._selectedItemIndices,t.sort(function(e,t){return e-t});var n=this._collectionWidget.option("items"),i=[],r=0,o=[];return e.each(t,function(e,t){var a=l(t);a.group!==r&&o.length&&(i.push(u(n[r],o)),o.length=0),r=a.group,o.push(a.item)}),o.length&&i.push(u(n[r],o)),i},selectedItemIndices:function(){var t=[],n=this._collectionWidget.option("items"),i=this._collectionWidget.option("selectedItems");this._collectionWidget._dataSource;return e.each(i,function(i,r){var o=c(n,r.key),a=e.inArray(o,n);o&&e.each(r.items,function(n,i){var r=e.inArray(i,o.items);-1!==r&&t.push(s({group:a,item:r}))})}),t},moveItemAtIndexToIndex:function(e,t){var n=this._collectionWidget.option("items"),i=l(e),r=l(t),o=n[i.group].items,a=n[r.group].items,s=o[i.item];o.splice(i.item,1),a.splice(r.item,0,s)},getSelectedItemsAfterReorderItem:function(t,n){if(this._itemsFromSameParent(t,n)||e.inArray(t,this._collectionWidget._selectedItemIndices))return this.callBase();var i=this._collectionWidget.option("items"),r=this._collectionWidget.option("selectedItems"),o=l(t),a=l(n),s=r[o.group].items,u=r[a.group].items,c=i[o.group].items[o.item],d=e.inArray(c,s);return s.splice(d,1),u.push(c),r},_isItemIndex:function(t){return e.isNumeric(t.group)&&e.isNumeric(t.item)},_getNormalizedItemIndex:function(t){var n=e(t),i=n.closest("."+r);return s({group:this._groupElements().index(i),item:this._groupItemElements(i).index(n)})},_normalizeItemIndex:function(e){return s(e)},_denormalizeItemIndex:function(e){return l(e)},_getItemByNormalizedIndex:function(e){var t=l(e),n=this._groupElements().eq(t.group);return this._groupItemElements(n).eq(t.item)},_itemsFromSameParent:function(e,t){return l(e).group===l(t).group}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=DevExpress.require("/class"),r=t.require("/ui/events/ui.events.utils");n.dxList.EditDecoratorsRegistry={},n.dxList.registerEditDecorator=function(t,i,r){var o=n.dxList.EditDecoratorsRegistry,a={};a[t]=o[t]?o[t]:{},a[t][i]=r,o=e.extend(o,a)};var o="dxListEditDecorator",a=r.addNamespace("dxswipestart",o),s=r.addNamespace("dxswipe",o),l=r.addNamespace("dxswipeend",o);n.dxList.EditDecorator=i.inherit({ctor:function(e){this._list=e,this._init()},_init:e.noop,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var n={itemSizeFunc:e.proxy(function(){return this._clearSwipeCache&&(this._itemWidthCache=this._list.element().width(),this._clearSwipeCache=!1),this._itemWidthCache},this)};t.$itemElement.on(a,n,e.proxy(this._itemSwipeStartHandler,this)).on(s,e.proxy(this._itemSwipeUpdateHandler,this)).on(l,e.proxy(this._itemSwipeEndHandler,this))},_itemSwipeStartHandler:function(t){var n=e(t.currentTarget);return n.is(".dx-state-disabled, .dx-state-disabled *")?void(t.cancel=!0):void this._swipeStartHandler(n,t)},_itemSwipeUpdateHandler:function(t){var n=e(t.currentTarget);this._swipeUpdateHandler(n,t)},_itemSwipeEndHandler:function(t){var n=e(t.currentTarget);this._swipeEndHandler(n,t),this._clearSwipeCache=!0},beforeBag:e.noop,afterBag:e.noop,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(e){this._shouldHandleSwipe&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)},afterRender:e.noop,handleClick:e.noop,handleContextMenu:e.noop,_swipeStartHandler:e.noop,_swipeUpdateHandler:e.noop,_swipeEndHandler:e.noop,visibilityChange:e.noop,dispose:e.noop})}(jQuery,DevExpress),function(e,t){var n=t.ui;n.dxList.EditDecoratorMenuHelperMixin={_menuEnabled:function(){return!!this._menuItems().length},_menuItems:function(){return this._list.option("menuItems")},_deleteEnabled:function(){return this._list.option("allowItemDeleting")},_fireMenuAction:function(e,t){this._list._itemEventHandlerByHandler(e,t,{},{excludeValidators:["disabled","readOnly"]})}}}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/ui/widgets/ui.button"),r="dx-list-static-delete-button-container",o="dx-list-static-delete-button";n.dxList.registerEditDecorator("delete","static",n.dxList.EditDecorator.inherit({afterBag:function(t){var n=t.$itemElement,a=t.$container,s=e("<div>").addClass(o);this._list._createComponent(s,i,{icon:"remove",type:"danger",onClick:e.proxy(function(e){e.jQueryEvent.stopPropagation(),this._deleteItem(n)},this),_templates:{}}),a.addClass(r).append(s)},_deleteItem:function(e){e.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(e)}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=i.dxList.EditDecorator,o=r["abstract"],a=t.require("/ui/events/ui.events.utils"),s=t.require("/ui/events/pointer/ui.events.pointer"),l=t.require("/ui/events/ui.events.emitter.feedback"),u="dxListEditDecorator",c=a.addNamespace(s.down,u),d=a.addNamespace(l.active,u),h="dx-list-item-content",p="dx-list-switchable-delete-ready",f="dx-list-switchable-menu-shield-positioning",m="dx-list-switchable-delete-top-shield",g="dx-list-switchable-delete-bottom-shield",_="dx-list-switchable-menu-item-shield-positioning",v="dx-list-switchable-delete-item-content-shield";i.dxList.SwitchableEditDecorator=r.inherit({_init:function(){this._$topShield=e("<div />").addClass(m),this._$bottomShield=e("<div />").addClass(g),this._$itemContentShield=e("<div />").addClass(v),this._$topShield.on(c,e.proxy(this._cancelDeleteReadyItem,this)),this._$bottomShield.on(c,e.proxy(this._cancelDeleteReadyItem,this)),this._list.element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))},handleClick:function(){return this._cancelDeleteReadyItem()},_cancelDeleteReadyItem:function(){return this._$readyToDeleteItem?(this._cancelDelete(this._$readyToDeleteItem),!0):!1},_cancelDelete:function(e){this._toggleDeleteReady(e,!1)},_toggleDeleteReady:function(e,t){t===n&&(t=!this._isReadyToDelete(e)),this._toggleShields(e,t),this._toggleScrolling(t),this._cacheReadyToDeleteItem(e,t),this._animateToggleDelete(e,t)},_isReadyToDelete:function(e){return e.hasClass(p)},_toggleShields:function(e,t){this._list.element().toggleClass(f,t),this._$topShield.toggle(t),this._$bottomShield.toggle(t),t&&this._updateShieldsHeight(e),this._toggleContentShield(e,t)},_updateShieldsHeight:function(e){var t=this._list.element(),n=t.offset().top,i=t.outerHeight(),r=e.offset().top,o=e.outerHeight(),a=r-n,s=i-o-a;this._$topShield.height(Math.max(a,0)),this._$bottomShield.height(Math.max(s,0))},_toggleContentShield:function(e,t){t?e.find("."+h).first().append(this._$itemContentShield):this._$itemContentShield.detach()},_toggleScrolling:function(e){var t=this._list.element().dxScrollView("instance");e?t.on("start",this._cancelScrolling):t.off("start",this._cancelScrolling)},_cancelScrolling:function(e){e.jQueryEvent.cancel=!0},_cacheReadyToDeleteItem:function(e,t){t?this._$readyToDeleteItem=e:delete this._$readyToDeleteItem},_animateToggleDelete:function(t,n){n?(this._enablePositioning(t),this._prepareDeleteReady(t),this._animatePrepareDeleteReady(t)):(this._forgetDeleteReady(t),this._animateForgetDeleteReady(t).done(e.proxy(this._disablePositioning,this,t)))},_enablePositioning:function(t){t.addClass(_),t.on(d,e.noop)},_disablePositioning:function(e){e.removeClass(_),e.off(d)},_prepareDeleteReady:function(e){e.addClass(p)},_forgetDeleteReady:function(e){e.removeClass(p)},_animatePrepareDeleteReady:o,_animateForgetDeleteReady:o,_deleteItem:function(t){t=t||this._$readyToDeleteItem,t.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(t).always(e.proxy(this._cancelDelete,this,t))},_isRtlEnabled:function(){return this._list.option("rtlEnabled")},dispose:function(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),this.callBase.apply(this,arguments)}})}(jQuery,DevExpress),function(e,t){var n,i,r=t.ui,o=t.fx,a=t.require("/ui/widgets/ui.button"),s="dx-list-switchable-delete-button-container",l="dx-list-switchable-delete-button-wrapper",u="dx-list-switchable-delete-button-inner-wrapper",c="dx-list-switchable-delete-button",d=200;r.dxList.SwitchableButtonEditDecorator=r.dxList.SwitchableEditDecorator.inherit({_init:function(){this.callBase.apply(this,arguments);var t=e("<div >").addClass(s),n=e("<div />").addClass(l),i=e("<div />").addClass(u),r=e("<div />").addClass(c);this._list._createComponent(r,a,{text:Globalize.localize("dxListEditDecorator-delete"),type:"danger",onClick:e.proxy(function(e){this._deleteItem(),e.jQueryEvent.stopPropagation()},this),_templates:{}}),t.append(n),n.append(i),i.append(r),this._$buttonContainer=t},_enablePositioning:function(e){this.callBase.apply(this,arguments),o.stop(this._$buttonContainer,!0),this._$buttonContainer.appendTo(e)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonContainer.detach()},_animatePrepareDeleteReady:function(){var e=this._isRtlEnabled(),t=this._list.element().width(),n=this._buttonWidth(),i=e?t:-n,r=e?t-n:0;return o.animate(this._$buttonContainer,{type:"custom",duration:d,from:{right:i},to:{right:r}})},_animateForgetDeleteReady:function(){var e=this._isRtlEnabled(),t=this._list.element().width(),n=this._buttonWidth(),i=e?t-n:0,r=e?t:-n;return o.animate(this._$buttonContainer,{type:"custom",duration:d,from:{right:i},to:{right:r}})},_buttonWidth:function(){return this._buttonContainerWidth||(this._buttonContainerWidth=this._$buttonContainer.outerWidth()),this._buttonContainerWidth},dispose:function(){this._$buttonContainer&&this._$buttonContainer.remove(),this.callBase.apply(this,arguments)}}),n="dx-list-toggle-delete-switch-container",i="dx-list-toggle-delete-switch",r.dxList.registerEditDecorator("delete","toggle",r.dxList.SwitchableButtonEditDecorator.inherit({beforeBag:function(t){var r=t.$itemElement,o=t.$container,s=e("<div />").addClass(i);this._list._createComponent(s,a,{icon:"toggle-delete",onClick:e.proxy(function(e){this._toggleDeleteReady(r),e.jQueryEvent.stopPropagation()},this),_templates:{}}),o.addClass(n),o.append(s)}})),r.dxList.registerEditDecorator("delete","slideButton",r.dxList.SwitchableButtonEditDecorator.inherit({_shouldHandleSwipe:!0,_swipeEndHandler:function(e,t){return 0!==t.targetOffset&&this._toggleDeleteReady(e),!0}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.translator"),r=t.require("/ui/events/ui.events.utils"),o=t.require("/ui/events/ui.events.emitter.feedback"),a=t.fx,s="dxListEditDecorator",l=r.addNamespace("dxclick",s),u=r.addNamespace(o.active,s),c="dx-list-slide-menu",d="dx-list-slide-menu-wrapper",h="dx-list-slide-menu-content",p="dx-list-slide-menu-buttons-container",f="dx-list-slide-menu-buttons",m="dx-list-slide-menu-button",g="dx-list-slide-menu-button-menu",_="dx-list-slide-menu-button-delete",v=400,y="cubic-bezier(0.075, 0.82, 0.165, 1)";n.dxList.registerEditDecorator("menu","slide",n.dxList.SwitchableEditDecorator.inherit({_shouldHandleSwipe:!0,_init:function(){this.callBase.apply(this,arguments),this._$buttonsContainer=e("<div/>").addClass(p).on(u,e.noop),this._$buttons=e("<div/>").addClass(f).appendTo(this._$buttonsContainer),this._renderMenu(),this._renderDeleteButton()},_renderMenu:function(){var t,n,i,r;this._menuEnabled()&&(t=this._menuItems(),1===t.length?(n=t[0],this._renderMenuButton(n.text,e.proxy(function(e){e.stopPropagation(),this._fireAction(n)},this))):(i=e("<div />").addClass(c),this._menu=this._list._createComponent(i,"dxActionSheet",{showTitle:!1,items:t,onItemClick:e.proxy(function(e){this._fireAction(e.itemData)},this),_templates:{}}),i.appendTo(this._list.element()),r=this._renderMenuButton(Globalize.localize("dxListEditDecorator-more"),e.proxy(function(e){e.stopPropagation(),this._menu.show()},this)),this._menu.option("target",r)))},_renderMenuButton:function(t,n){var i=e("<div/>").addClass(m).addClass(g).text(t);return this._$buttons.append(i),i.on(l,n),i},_renderDeleteButton:function(){if(this._deleteEnabled()){var t=e("<div/>").addClass(m).addClass(_).text(Globalize.localize("dxListEditDecorator-delete"));t.on(l,e.proxy(function(e){e.stopPropagation(),this._deleteItem()},this)),this._$buttons.append(t)}},_fireAction:function(t){this._fireMenuAction(e(this._cachedNode),t.action),this._cancelDeleteReadyItem()},modifyElement:function(t){var n,i;this.callBase.apply(this,arguments),n=t.$itemElement,n.addClass(d),i=e("<div/>").addClass(h),n.wrapInner(i)},handleClick:function(t,n){return e(n.target).closest("."+h).length?this.callBase.apply(this,arguments):!1},_swipeStartHandler:function(e){this._enablePositioning(e),this._cacheItemData(e),this._setPositions(this._getPostions(0))},_swipeUpdateHandler:function(e,t){var n=this._isRtlEnabled(),i=n?-1:1,r=this._isReadyToDelete(e),o=this._getCurrentPositions().content===this._getStartPositions().content;if(o&&!r&&t.offset*i>0)return void(t.cancel=!0);var a=this._cachedItemWidth*t.offset,s=r?-this._cachedButtonWidth*i:0,l=(a+s)*i,u=0>l?Math.abs((a+s)/this._cachedButtonWidth):0;return this._setPositions(this._getPostions(u)),!0},_getStartPositions:function(){var e=this._isRtlEnabled(),t=e?-1:1;return{content:0,buttonsContainer:e?-this._cachedButtonWidth:this._cachedItemWidth,buttons:-this._cachedButtonWidth*t}},_getPostions:function(e){var t=this._isRtlEnabled(),n=t?-1:1,i=this._getStartPositions();return{content:i.content-e*this._cachedButtonWidth*n,buttonsContainer:i.buttonsContainer-Math.min(e,1)*this._cachedButtonWidth*n,buttons:i.buttons+Math.min(e,1)*this._cachedButtonWidth*n}},_getCurrentPositions:function(){return{content:i.locate(this._$cachedContent).left,buttonsContainer:i.locate(this._$buttonsContainer).left,buttons:i.locate(this._$buttons).left}},_setPositions:function(e){i.move(this._$cachedContent,{left:e.content}),i.move(this._$buttonsContainer,{left:e.buttonsContainer}),i.move(this._$buttons,{left:e.buttons})},_cacheItemData:function(e){e[0]!==this._cachedNode&&(this._$cachedContent=e.find("."+h),this._cachedItemWidth=e.outerWidth(),this._cachedButtonWidth=this._cachedButtonWidth||this._$buttons.outerWidth(),this._$buttonsContainer.width(this._cachedButtonWidth),this._$cachedContent.length&&(this._cachedNode=e[0]))},_minButtonContainerLeftOffset:function(){return this._cachedItemWidth-this._cachedButtonWidth},_swipeEndHandler:function(e,t){this._cacheItemData(e);var n=this._isRtlEnabled()?1:-1,i=this._cachedItemWidth*t.offset,r=!this._isReadyToDelete(e)&&i*n>.2*this._cachedButtonWidth,o=t.targetOffset===n&&r;return this._toggleDeleteReady(e,o),!0},_enablePositioning:function(e){a.stop(this._$cachedContent,!0),this.callBase.apply(this,arguments),this._$buttonsContainer.appendTo(e)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonsContainer.detach()},_animatePrepareDeleteReady:function(){return this._animateToPositions(this._getPostions(1))},_animateForgetDeleteReady:function(e){return this._cacheItemData(e),this._animateToPositions(this._getPostions(0))},_animateToPositions:function(e){var t=this,n=this._getCurrentPositions(),i=Math.min(Math.abs(n.content-e.content)/this._cachedButtonWidth,1);return a.animate(this._$cachedContent,{from:n,to:e,easing:y,duration:v*i,strategy:"frame",draw:function(e){t._setPositions(e)}})},dispose:function(){this._menu&&this._menu.element().remove(),this._$buttonsContainer&&this._$buttonsContainer.remove(),this.callBase.apply(this,arguments)}}).include(n.dxList.EditDecoratorMenuHelperMixin))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.translator"),r=t.fx;n.dxList.registerEditDecorator("delete","swipe",n.dxList.EditDecorator.inherit({_shouldHandleSwipe:!0,_renderItemPosition:function(t,n,o){var a=e.Deferred(),s=n*this._itemElementWidth;return o?r.animate(t,{to:{left:s},type:"slide",complete:function(){a.resolve(t,n)}}):(i.move(t,{left:s}),a.resolve()),a.promise()},_swipeStartHandler:function(e){return this._itemElementWidth=e.width(),!0},_swipeUpdateHandler:function(e,t){return this._renderItemPosition(e,t.offset),!0},_swipeEndHandler:function(t,n){var i=n.targetOffset;return this._renderItemPosition(t,i,!0).done(e.proxy(function(t,n){Math.abs(n)&&this._list.deleteItem(t).fail(e.proxy(function(){this._renderItemPosition(t,0,!0)},this))},this)),!0}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i="dx-list-context-menu",r="dx-list-context-menucontent";n.dxList.registerEditDecorator("menu","context",n.dxList.EditDecorator.inherit({_init:function(){var t=e("<div/>").addClass(i);this._list.element().append(t),this._menu=this._renderOverlay(t)},_renderOverlay:function(t){return this._list._createComponent(t,"dxOverlay",{shading:!1,deferRendering:!0,closeOnTargetScroll:!0,closeOnOutsideClick:function(t){return!e(t.target).closest("."+i).length},animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:e.proxy(function(){return this._$menuList.outerHeight()},this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},height:e.proxy(function(){return this._$menuList?this._$menuList.outerHeight():0},this),width:e.proxy(function(){return this._list.element().outerWidth()},this),onContentReady:e.proxy(this._renderMenuContent,this)})},_renderMenuContent:function(t){var n=t.component.content(),i=this._menuItems().slice();this._deleteEnabled()&&i.push({text:Globalize.localize("dxListEditDecorator-delete"),action:e.proxy(this._deleteItem,this)}),this._$menuList=e("<div>"),this._list._createComponent(this._$menuList,"dxList",{items:i,onItemClick:e.proxy(this._menuItemClickHandler,this),height:"auto",_templates:{}}),n.addClass(r),n.append(this._$menuList)},_menuItemClickHandler:function(e){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,e.itemData.action)},_deleteItem:function(){this._list.deleteItem(this._$itemWithMenu)},handleContextMenu:function(e){return this._$itemWithMenu=e,this._menu.option({position:{my:"top",at:"bottom",of:e,collision:"flip"}}),this._menu.show(),!0},dispose:function(){this._menu&&this._menu.element().remove(),this.callBase.apply(this,arguments)}}).include(n.dxList.EditDecoratorMenuHelperMixin))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/ui/widgets/ui.checkBox"),o=t.require("/ui/widgets/ui.radioButton"),a=t.require("/ui/events/ui.events.utils"),s="dx-list-select-decorator-enabled",l="dx-list-select-all",u="dx-list-select-all-checkbox",c="dx-list-select-all-label",d="dx-list-select-checkbox-container",h="dx-list-select-checkbox",p="dx-list-select-radiobutton-container",f="dx-list-select-radiobutton",m=a.addNamespace("dxclick","dxListEditDecorator");
i.dxList.registerEditDecorator("selection","default",i.dxList.EditDecorator.inherit({_init:function(){this.callBase.apply(this,arguments);var e=this._list.option("selectionMode");this._singleStrategy="single"===e,this._containerClass=this._singleStrategy?p:d,this._controlClass=this._singleStrategy?f:h,this._controlWidget=this._singleStrategy?o.publicName():r.publicName(),this._list.element().addClass(s)},beforeBag:function(t){var n=t.$itemElement,i=t.$container,r=e("<div />").addClass(this._controlClass);r[this._controlWidget](e.extend(this._commonOptions(),{value:this._isSelected(n),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:e.proxy(function(e){this._processCheckedState(n,e.value),e.jQueryEvent&&e.jQueryEvent.stopPropagation()},this)})),i.addClass(this._containerClass),i.append(r)},modifyElement:function(t){this.callBase.apply(this,arguments);var n=t.$itemElement,i=n.find("."+this._controlClass)[this._controlWidget]("instance");n.on("stateChanged",e.proxy(function(){i.option("value",this._isSelected(n)),this._updateSelectAllState()},this))},_updateSelectAllState:function(){if(this._$selectAll){var e=this._list.option("items"),t=this._list.option("selectedItems"),i=this._list._dataSource,r=i&&i.totalCount()>=0?i.totalCount():e.length,o=r>0&&r===t.length?!0:0===t.length?!1:n;this._selectAllCheckBox.option("value",o)}},afterRender:function(){"all"===this._list.option("selectionMode")&&(this._$selectAll||this._renderSelectAll())},_renderSelectAll:function(){var t=this._$selectAll=e("<div>").addClass(l);this._selectAllCheckBox=this._list._createComponent(e("<div>").addClass(u).appendTo(t),r),e("<div>").addClass(c).text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",e.proxy(this._selectAllHandler,this)),this._$selectAll.off(m).on(m,e.proxy(this._selectAllClickHandler,this))},_selectAllHandler:function(e){e.jQueryEvent&&e.jQueryEvent.stopPropagation();var t=this._selectAllCheckBox.option("value"),n=this._list._createActionByOption("onSelectAllChanged")({value:t});n!==!1&&(t===!0?this._selectAllItems():t===!1&&this._unselectAllItems())},_selectAllItems:function(){this._list.option("selectedItems",this._list.option("items").slice())},_unselectAllItems:function(){this._list.option("selectedItems",[])},_selectAllClickHandler:function(){this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(e){return this._list.isItemSelected(e)},_processCheckedState:function(e,t){t?this._list.selectItem(e):this._list.unselectItem(e)},dispose:function(){this._disposeSelectAll(),this._list.element().removeClass(s),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)},handleClick:function(e){var t=!this._isSelected(e)||this._singleStrategy;return this._processCheckedState(e,t),!0}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.translator"),r=t.fx,o=t.require("/utils/utils.support"),a=t.require("/utils/utils.math"),s=t.require("/animator"),l=t.require("/ui/events/ui.events.utils"),u=s.inherit({ctor:function(e){this.callBase(),this._strategy=e},_isFinished:function(){return this._strategy.scrollFinished()},_step:function(){this._strategy.scrollByStep()}}),c="dxListEditDecorator",d=l.addNamespace("dxdragstart",c),h=l.addNamespace("dxdrag",c),p=l.addNamespace("dxdragend",c),f="dx-list-reorder-handle-container",m="dx-list-reorder-handle",g="dx-list-item-reordering",_="dx-list-item-ghost-reordering",v="dx-list-reorder-compatibility-mode";n.dxList.registerEditDecorator("reorder","default",n.dxList.EditDecorator.inherit({_init:function(){this._groupedEnabled=this._list.option("grouped"),this._initAnimator()},_initAnimator:function(){this._scrollAnimator=new u(this)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},afterBag:function(t){var n=t.$itemElement,i=t.$container,r=e("<div>").addClass(m);r.on(d,{direction:"both",immediate:!0},e.proxy(this._dragStartHandler,this,n)),r.on(h,e.proxy(this._dragHandler,this,n)),r.on(p,e.proxy(this._dragEndHandler,this,n)),i.addClass(f),i.append(r)},_dragStartHandler:function(e,t){var n,i;return e.is(".dx-state-disabled, .dx-state-disabled *")?void(t.cancel=!0):(this._stopPreviousAnimation(),t.targetElements=[],this._cacheItemsPositions(),this._startPointerOffset=t.pageY-e.offset().top,this._elementHeight=e.outerHeight(),n=this._list.getFlatIndexByItemElement(e),this._startIndex=n,this._lastIndex=n,this._cacheScrollData(),this._toggleCompatibilityMode(!0),i=this,this._createGhostTimeout=setTimeout(function(){i._createGhost(e),i._updateGhostPosition(),e.addClass(g)}),void 0)},_stopPreviousAnimation:function(){r.stop(this._$ghostItem,!0)},_toggleCompatibilityMode:function(e){this._list.element().toggleClass(v,!o.transform&&e)},_cacheItemsPositions:function(){var t=this._itemPositions=[];e.each(this._list.itemElements(),function(n,i){var r=null;t.push(function(){return r=null===r?e(i).position().top:r})})},_getDraggingElementPosition:function(){return this._itemPositions[this._startIndex]()},_getLastElementPosition:function(){return this._itemPositions[this._lastIndex]()},_cacheScrollData:function(){this._list.updateDimensions(),this._startScrollTop=this._list.scrollTop(),this._scrollOffset=0,this._scrollHeight=this._list.scrollHeight(),this._clientHeight=this._list.clientHeight()},_scrollTop:function(){return this._startScrollTop+this._scrollOffset},_createGhost:function(e){this._$ghostItem=e.clone(),this._$ghostItem.addClass(_).appendTo(this._list.itemsContainer()),this._startGhostPosition=this._getDraggingElementPosition()-this._$ghostItem.position().top,i.move(this._$ghostItem,{top:this._startGhostPosition})},_dragHandler:function(e,t){this._topOffset=t.offset.y,this._updateItemPositions();var n=this._getPonterPosition();this._toggleScroll(n)},_getPonterPosition:function(){return this._getDraggingElementPosition()+this._startPointerOffset+this._scrollOffset+this._topOffset},_toggleScroll:function(e){if(!(this._scrollHeight<=this._clientHeight)){var t=.7*this._elementHeight,n=this._clientHeight-(e-this._scrollTop()),i=n/t,r=e-this._scrollTop(),o=r/t;1>i?(this._stepSize=this._adjustRationIntoRange(i),this._startAnimator()):1>o?(this._stepSize=-this._adjustRationIntoRange(o),this._startAnimator()):this._stopAnimator()}},_adjustRationIntoRange:function(e){return a.fitIntoRange(Math.round(7*Math.abs(e-1)),1,7)},_updateItemPositions:function(){this._updateGhostPosition(),this._updateOthersPositions()},_updateGhostPosition:function(){this._$ghostItem&&i.move(this._$ghostItem,{top:this._startGhostPosition+this._scrollOffset+this._topOffset})},_updateOthersPositions:function(){var e,t=this._findItemIndexByPosition(this._getPonterPosition());if(this._lastIndex!==t&&(!this._groupedEnabled||this._sameParent(t))){var n=t-this._startIndex,i=a.sign(n),o=Math.min(t,this._lastIndex),s=Math.max(t,this._lastIndex);for(e=o;s>=e;e++)if(e!==this._startIndex){var l=this._list.getItemElementByFlatIndex(e),u=e-this._startIndex,c=a.sign(u),d=Math.abs(u)<=Math.abs(n),h=i===c,p=d&&h,f=!d||!h;r.stop(l),p&&r.animate(l,{type:"slide",to:{top:this._elementHeight*-i},duration:300}),f&&r.animate(l,{type:"slide",to:{top:0},duration:300})}this._lastIndex=t}},_sameParent:function(e){var t=this._list.getItemElementByFlatIndex(this._startIndex),n=this._list.getItemElementByFlatIndex(e);return n.parent().get(0)===t.parent().get(0)},scrollByStep:function(){this._scrollOffset+=this._stepSize,this._list.scrollBy(this._stepSize),this._updateItemPositions()},scrollFinished:function(){var e=this._scrollTop(),t=0>=e&&this._stepSize<0,n=e>=this._scrollHeight-this._clientHeight&&this._stepSize>0;return t||n},_dragEndHandler:function(t){this._scrollAnimator.stop(),r.animate(this._$ghostItem,{type:"slide",to:{top:this._startGhostPosition+this._getLastElementPosition()-this._getDraggingElementPosition()},duration:300}).done(e.proxy(function(){t.removeClass(g),this._resetPositions(),this._list.reorderItem(t,this._list.getItemElementByFlatIndex(this._lastIndex)),this._deleteGhost(),this._toggleCompatibilityMode(!1)},this))},_deleteGhost:function(){this._$ghostItem&&this._$ghostItem.remove()},_resetPositions:function(){for(var e,t=Math.min(this._startIndex,this._lastIndex),n=Math.max(this._startIndex,this._lastIndex),r=t;n>=r;r++)e=this._list.getItemElementByFlatIndex(r),i.resetPosition(e)},_findItemIndexByPosition:function(e){for(var t,n,i=0,r=this._itemPositions.length-1;r>=i;)if(t=(i+r)/2|0,n=this._itemPositions[t](),e>n)i=t+1;else{if(!(n>e))return t;r=t-1}return a.fitIntoRange(i,0,Math.max(r,0))},dispose:function(){clearTimeout(this._createGhostTimeout),this.callBase.apply(this,arguments)}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=DevExpress.require("/class"),r=DevExpress.require("/ui/ui.errors"),o=[],a=function(e,t,n){o.push({enabled:e,decoratorType:t,decoratorSubType:n})};a(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")}),a(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var e=this.option("itemDeleteMode");return"toggle"===e||"slideButton"===e||"swipe"===e||"static"===e?"delete":"menu"},function(){var e=this.option("itemDeleteMode");return"slideItem"===e&&(e="slide"),"hold"===e&&(e="context"),e}),a(function(){return"none"!==this.option("selectionMode")&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"}),a(function(){return this.option("allowItemReordering")},function(){return"reorder"},function(){return"default"});var s="dx-list-item-before-bag",l="dx-list-item-after-bag",u="beforeBag",c="afterBag",d="modifyElement",h="afterRender";n.dxList.EditProvider=i.inherit({ctor:function(e){this._list=e,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&e.each(this._decorators,function(e,t){t.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],e.each(o,e.proxy(function(e,t){var n=t.enabled.call(this._list);if(n){var i=t.decoratorType.call(this._list),r=t.decoratorSubType.call(this._list),o=this._createDecorator(i,r);this._decorators.push(o)}},this))},_createDecorator:function(e,t){var n=this._findDecorator(e,t);return new n(this._list)},_findDecorator:function(e,t){var i=n.dxList.EditDecoratorsRegistry[e][t];if(!i)throw r.Error("E1012",e,t);return i},modifyItemElement:function(t){var n=e(t.itemElement),i={$itemElement:n};this._prependBeforeBags(n,i),this._appendAfterBags(n,i),this._applyDecorators(d,i)},afterItemsRendered:function(){this._applyDecorators(h)},_prependBeforeBags:function(e,t){var n=this._collectDecoratorsMarkup(u,t,s);e.prepend(n)},_appendAfterBags:function(e,t){var n=this._collectDecoratorsMarkup(c,t,l);e.append(n)},_collectDecoratorsMarkup:function(t,n,i){var r=e("<div />");return e.each(this._decorators,function(){var o=e("<div />").addClass(i);this[t](e.extend({$container:o},n)),o.children().length&&r.append(o)}),r.children()},_applyDecorators:function(t,n){e.each(this._decorators,function(){this[t](n)})},_handlerExists:function(t){var n,i,r;if(!this._decorators)return!1;for(n=this._decorators,i=n.length,r=0;i>r;r++)if(n[r][t]!==e.noop)return!0;return!1},_eventHandler:function(e,t,n){var i;if(!this._decorators)return!1;var r=!1,o=this._decorators,a=o.length;for(i=0;a>i&&!(r=o[i][e](t,n));i++);return r},handleClick:function(e,t){return this._eventHandler("handleClick",e,t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(e,t){return this._eventHandler("handleContextMenu",e,t)}})}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.tileView",["jquery","/devices","/componentRegistrator","/ui/uiNamespace","/utils/utils.inflector","/utils/utils.common"],function(e,t,n,i,r,o){var a="dx-tileview",s="dx-tileview-wrapper",l="dx-tile",u="."+l,c="dxTileData",d={horizontal:{itemMainRatio:"widthRatio",itemCrossRatio:"heightRatio",baseItemMainDimension:"baseItemWidth",baseItemCrossDimension:"baseItemHeight",mainDimension:"width",crossDimension:"height",mainPosition:"left",crossPosition:"top"},vertical:{itemMainRatio:"heightRatio",itemCrossRatio:"widthRatio",baseItemMainDimension:"baseItemHeight",baseItemCrossDimension:"baseItemWidth",mainDimension:"height",crossDimension:"width",mainPosition:"top",crossPosition:"left"}},h=DevExpress.ui.CollectionWidget.inherit({_activeStateUnit:u,_getDefaultOptions:function(){return e.extend(this.callBase(),{items:null,direction:"horizontal",hoverStateEnabled:!0,showScrollbar:!1,height:500,baseItemWidth:100,baseItemHeight:100,itemMargin:20,activeStateEnabled:!0,indicateLoading:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return l},_itemDataKey:function(){return c},_itemContainer:function(){return this._$container},_init:function(){this.callBase(),this.element().addClass(a),this._initScrollView()},_dataSourceLoadingChangedHandler:function(e){var t=this._scrollView;t&&(e&&this.option("indicateLoading")?t.startLoading():t.finishLoading())},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_initScrollView:function(){this._scrollView=this._createComponent(this.element(),"dxScrollView",{direction:this.option("direction"),scrollByContent:!0,useKeyboard:!1,showScrollbar:this.option("showScrollbar")}),this._$container=this._scrollView.content(),this._$container.addClass(s),this._scrollView.option("onUpdated",e.proxy(this._renderGeometry,this))},_render:function(){this.callBase(),this._cellsPerDimension=1,this._renderGeometry(),this._updateScrollView(),this._fireContentReadyAction()},_renderContent:function(){this._renderContentImpl()},_updateScrollView:function(){this._scrollView.option("direction",this.option("direction")),this._scrollView.update(),this._indicateLoadingIfAlreadyStarted()},_indicateLoadingIfAlreadyStarted:function(){this._isDataSourceLoading()&&this._dataSourceLoadingChangedHandler(!0)},_renderGeometry:function(){this._config=d[this.option("direction")];var t=this.option("items")||[],n=this._config,i=this.option("itemMargin"),r=Math.max.apply(Math,e.map(t||[],function(e){return Math.round(e[n.itemCrossRatio]||1)}));this._cellsPerDimension=Math.floor(this.element()[n.crossDimension]()/(this.option(n.baseItemCrossDimension)+i)),this._cellsPerDimension=Math.max(this._cellsPerDimension,r),this._cells=[],this._cells.push(new Array(this._cellsPerDimension)),this._arrangeItems(t),this._$container[n.mainDimension](this._cells.length*this.option(n.baseItemMainDimension)+(this._cells.length+1)*i)},_arrangeItems:function(t){var n=this._config,i=n.itemMainRatio,r=n.itemCrossRatio,o=n.mainPosition;this._itemsPositions=[],e.each(t,e.proxy(function(e,t){var a,s={};s[i]=t[i]||1,s[r]=t[r]||1,s.index=e,s[i]=s[i]<=0?0:Math.round(s[n.itemMainRatio]),s[r]=s[r]<=0?0:Math.round(s[n.itemCrossRatio]),a=this._getItemPosition(s),-1===a[o]&&(a[o]=this._cells.push(new Array(this._cellsPerDimension))-1),this._occupyCells(s,a),this._arrangeItem(s,a),this._itemsPositions.push(a)},this))},_getItemPosition:function(e){var t,n,i=this._config,r=i.mainPosition,o=i.crossPosition,a={};for(a[r]=-1,a[o]=0,t=0;t<this._cells.length;t++){for(n=0;n<this._cellsPerDimension;n++)if(this._itemFit(t,n,e)){a[r]=t,a[o]=n;break}if(a[r]>-1)break}return a},_itemFit:function(e,t,n){var i,r,o=!0,a=this._config,s=n[a.itemMainRatio],l=n[a.itemCrossRatio];if(t+l>this._cellsPerDimension)return!1;for(i=e;e+s>i;i++)for(r=t;t+l>r;r++)if(this._cells.length-1<i)this._cells.push(new Array(this._cellsPerDimension));else if(void 0!==this._cells[i][r]){o=!1;break}return o},_occupyCells:function(e,t){for(var n,i=this._config,r=t[i.mainPosition],o=t[i.crossPosition],a=e[i.itemMainRatio],s=e[i.itemCrossRatio],l=r;r+a>l;l++)for(n=o;o+s>n;n++)this._cells[l][n]=e.index},_arrangeItem:function(e,t){var n=this._config,i=t[n.mainPosition],r=t[n.crossPosition],o=e[n.itemMainRatio],a=e[n.itemCrossRatio],s=this.option(n.baseItemCrossDimension),l=this.option(n.baseItemMainDimension),u=this.option("itemMargin"),c={display:0>=o||0>=a?"none":""};if(c[n.mainDimension]=o*l+(o-1)*u,c[n.crossDimension]=a*s+(a-1)*u,c[n.mainPosition]=i*l+(i+1)*u,c[n.crossPosition]=r*s+(r+1)*u,this.option("rtlEnabled")){var d=this._$container.width(),h=this.option("baseItemWidth"),p=t.left,f=p*h,m=h+u,g=m*e.widthRatio,_=p*u;c.left=d-(f+g+_)}this._itemElements().eq(e.index).css(c)},_moveFocus:function(e){var t,n,i="up",r="down",a=this.option("rtlEnabled")?"right":"left",s=this.option("rtlEnabled")?"left":"right",l="pageup",u="pagedown",c="horizontal"===this.option("direction"),d=this._cells,h=this.option("focusedElement").index(),p=this._itemsPositions[h].left,f=this._itemsPositions[h].top,m=(c?d:d[0]).length,g=(c?d[0]:d).length,_=function(e,t){return c?d[e][t]:d[t][e]};switch(e){case l:case i:for(;f>0&&h===_(p,f);)f--;0>f&&(f=0);break;case u:case r:for(;g>f&&h===_(p,f);)f++;f===g&&(f=g-1);break;case s:for(;m>p&&h===_(p,f);)p++;p===m&&(p=m-1);break;case a:for(;p>=0&&h===_(p,f);)p--;0>p&&(p=0);break;default:return void this.callBase.apply(this,arguments)}t=_(p,f),o.isDefined(t)&&(n=this._itemElements().eq(t),this.option("focusedElement",n),this._scrollToItem(n))},_scrollToItem:function(e){if(e.length){var t=this._config,n="outer"+r.captionize(t.mainDimension),i=this.option("itemMargin"),o=e.position()[t.mainPosition],a=e[n](),s=o+a,l=this.scrollPosition(),u=this.element()[n]();o>=l&&l+u>=s||(l>o?this._scrollView.scrollTo(o-i):this._scrollView.scrollTo(o+a-u+i))}},_optionChanged:function(e){switch(e.name){case"showScrollbar":this._initScrollView();break;case"disabled":this._scrollView.option("disabled",e.value),this.callBase(e);break;case"baseItemWidth":case"baseItemHeight":case"itemMargin":this._renderGeometry();break;case"width":case"height":this.callBase(e),this._renderGeometry(),this._updateScrollView();break;case"direction":this._renderGeometry(),this._updateScrollView();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;default:this.callBase(e)}},scrollPosition:function(){return this._scrollView.scrollOffset()[this._config.mainPosition]}});return n("dxTileView",i,h),h}),DevExpress.require(["/ui/widgets/ui.tileView"]),DevExpress.define("/ui/widgets/track/ui.trackBar",["jquery","/ui/ui.editor","/componentRegistrator","/ui/uiNamespace"],function(e,t,n,i){var r=DevExpress.fx,o="dx-trackbar",a="dx-trackbar-container",s="dx-trackbar-range",l="dx-trackbar-wrapper",u=t.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{min:0,max:100,value:0})},_render:function(){this.element().addClass(o),this._renderWrapper(),this._renderContainer(),this._renderRange(),this.callBase(),this._renderValue()},_renderWrapper:function(){this._$wrapper=e("<div>").addClass(l).appendTo(this.element())},_renderContainer:function(){this._$bar=e("<div>").addClass(a).appendTo(this._$wrapper)},_renderRange:function(){this._$range=e("<div>").addClass(s).appendTo(this._$bar)},_renderValue:function(){var e,t=this.option("value"),n=this.option("min"),i=this.option("max");if(!(n>i)){if(n>t)return this.option("value",n),void(this._currentRatio=0);if(t>i)return this.option("value",i),void(this._currentRatio=1);e=n===i?0:(t-n)/(i-n),this._needPreventAnimation||this._setRangeStyles({width:100*e+"%"}),this.setAria({valuemin:this.option("min"),valuemax:i,valuenow:t}),this._currentRatio=e}},_setRangeStyles:function(e){r.stop(this._$range),this._needPreventAnimation||r.animate(this._$range,{type:"custom",duration:100,to:e})},_optionChanged:function(e){switch(e.name){case"value":this._renderValue(),this.callBase(e);break;case"max":case"min":this._renderValue();break;default:this.callBase(e)}},_dispose:function(){r.stop(this._$range),this.callBase()}});return n("dxTrackBar",i,u),u}),DevExpress.define("/ui/widgets/track/ui.progressBar",["jquery","/ui/widgets/track/ui.trackBar","/componentRegistrator","/ui/uiNamespace"],function(e,t,n,i){var r="dx-progressbar",o="dx-progressbar-container",a="dx-progressbar-range-container",s="dx-progressbar-range",l="dx-progressbar-wrapper",u="dx-progressbar-status",c="dx-progressbar-animating-container",d="dx-progressbar-animating-segment",h=t.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{statusFormat:function(e){return"Progress: "+Math.round(100*e)+"%"},showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"win"},options:{_animatingSegmentCount:5}},{device:function(e){return"android"===e.platform},options:{_animatingSegmentCount:2}}])},_init:function(){this.callBase()},_render:function(){this._createCompleteAction(),this._renderStatus(),this.callBase(),this.element().addClass(r),this.setAria("role","progressbar"),this._$wrapper.addClass(l),this._$bar.addClass(o),e("<div>").addClass(a).appendTo(this._$wrapper).append(this._$bar),this._$range.addClass(s),this._toggleStatus(this.option("showStatus"))},_createCompleteAction:function(){this._completeAction=this._createActionByOption("onComplete")},_renderStatus:function(){this._$status=e("<div>").addClass(u)},_renderIndeterminateState:function(){var t,n;for(this._$segmentContainer=e("<div>").addClass(c),t=this.option("_animatingSegmentCount"),n=0;t>n;n++)e("<div>").addClass(d).addClass(d+"-"+(n+1)).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)},_toggleStatus:function(e){var t=this.option("statusPosition").split(" ");e?"top"===t[0]||"left"===t[0]?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()},_togglePositionClass:function(){var e,t=this.option("statusPosition"),n=t.split(" ");this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right"),e="dx-position-"+n[0],n[1]&&(e+="-"+n[1]),this._$wrapper.addClass(e)},_toggleIndeterminateState:function(e){e?(this._renderIndeterminateState(),this._$bar.toggle(!1)):(this._$bar.toggle(!0),this._$segmentContainer.remove(),delete this._$segmentContainer)},_renderValue:function(){var e=this.option("value"),t=this.option("max");return e||0===e?(this._$segmentContainer&&this._toggleIndeterminateState(!1),e===t&&this._completeAction(),this.callBase(),this._setStatus(),void 0):void this._toggleIndeterminateState(!0)},_setStatus:function(){var t,n=this.option("statusFormat");n=e.isFunction(n)?e.proxy(n,this):function(e){return e},t=n(this._currentRatio,this.option("value")),this._$status.text(t)},_dispose:function(){this._$status.remove(),this.callBase()},_optionChanged:function(e){switch(e.name){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(e.value);break;case"statusPosition":this._toggleStatus(this.option("showStatus"));break;case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:this.callBase(e)}}});return n("dxProgressBar",i,h),h}),DevExpress.require(["/ui/widgets/track/ui.progressBar"]),DevExpress.define("/ui/widgets/track/ui.sliderHandle",["jquery","/utils/utils.translator","/utils/utils.position","/ui/ui.widget"],function(e,t,n,i){var r="dx-slider",o="dx-slider-handle",a={top:{my:"bottom center",at:"top center",collision:"none"},bottom:{my:"top center",at:"bottom center",collision:"none"},right:{my:"left center",at:"right center",collision:"none"},left:{my:"right center",at:"left center",collision:"none"}};return i.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!1,value:0,tooltipEnabled:!1,tooltipFormat:function(e){return e},tooltipPosition:"top",tooltipShowMode:"onHover",tooltipFitIn:null})},_render:function(){this.callBase(),this.element().addClass(o),this._renderTooltip(),this.setAria({role:"slider",valuenow:this.option("value")})},_renderTooltip:function(){this.option("tooltipEnabled")?(this._$tooltip||(this._$tooltip=e("<div>").appendTo(this.element())),this._$slider=this.element().closest("."+r),this._updateTooltip()):this._removeTooltip()},_createTooltip:function(){return this._tooltip?!1:(this._tooltip=this._createComponent(this._$tooltip,"dxTooltip",{visible:!0,target:this.element(),closeOnOutsideClick:!1,container:this.element(),closeOnBackButton:!1,closeOnTargetScroll:!1,onPositioned:e.proxy(function(e){this._saveTooltipElements(e.component),this._saveTooltipLocation(),this._centeredTooltipPosition()},this),animation:null,arrowPosition:null}),!0)},_removeTooltip:function(){this._$tooltip&&(this._$tooltip.remove(),delete this._$tooltip,delete this._tooltip)},_renderTooltipPosition:function(){if(this._tooltip){var t=this.option("tooltipPosition");this._saveTooltipElements(),this._resetTooltipPosition(),"string"===e.type(t)&&(t=e.extend({boundary:this._$slider,boundaryOffset:{h:1,v:1}},a[t])),this._tooltip.option("position",t),this._saveTooltipLocation()}},_saveTooltipElements:function(e){e=this._tooltip||e,this._$tooltipContent=e.content().parent(),this._$tooltipArrow=this._$tooltipContent.find(".dx-popover-arrow")},_resetTooltipPosition:function(){t.resetPosition(this._$tooltipContent),t.resetPosition(this._$tooltipArrow)},_saveTooltipLocation:function(){this._contentLocate=t.locate(this._$tooltipContent)},_centeredTooltipPosition:function(){var e;if(this._tooltip){this._$tooltipContent.outerWidth("auto");var t=this._$tooltipContent.get(0).getBoundingClientRect().width,n=Math.ceil(t),i=n%2+n;this._$tooltipContent.outerWidth(i),e=(i-this.element().width())/2,this._contentLocate.left=-e,this._$tooltipArrow.css({marginLeft:-this._$tooltipArrow.outerWidth()/2,left:"50%"}),this._fitTooltip()}},_fitTooltip:function(){var i,r,o;this._tooltip&&(i=this.option("tooltipPosition"),"string"===e.type(i)&&(i=e.extend({of:this.element(),boundary:this._$slider,boundaryOffset:{h:2,v:1}},a[i],{collision:"fit none"})),r=n.calculate(this._$tooltipContent,i),o="left"===r.h.collisionSide,t.move(this._$tooltipContent,{left:this._contentLocate.left+(o?1:-1)*r.h.oversize}),t.move(this._$tooltipArrow,{left:(o?-1:1)*r.h.oversize}))},_renderValue:function(){if(this._tooltip){var e=this.option("tooltipFormat"),t=e(this.option("value"));this._tooltip.content().html(t),this._fitTooltip()}},_updateTooltip:function(){var e=/^onhover$/i.test(this.option("tooltipShowMode"));e||this._createTooltip(),this.element().toggleClass("dx-slider-tooltip-on-hover",e),this._renderTooltipPosition(),this._renderValue(),this._centeredTooltipPosition()},_clean:function(){this.callBase(),delete this._$tooltip,delete this._tooltip},_optionChanged:function(e){switch(e.name){case"tooltipFormat":this._renderValue();break;case"value":this._renderValue(),e.value.toString().length!==e.previousValue.toString().length&&this._centeredTooltipPosition(),this.setAria("valuenow",e.value);break;case"tooltipEnabled":this._renderTooltip();break;case"tooltipPosition":this._renderTooltipPosition(),this._centeredTooltipPosition();break;case"tooltipShowMode":this._updateTooltip();break;case"tooltipFitIn":this._fitTooltip();break;case"_templates":case"templateProvider":break;default:this.callBase(e)}},fitTooltipPosition:function(){this._fitTooltip()},updateTooltip:function(){this._createTooltip()&&(this._renderTooltipPosition(),this._renderValue(),this._centeredTooltipPosition())},repaint:function(){this._renderTooltipPosition(),this._centeredTooltipPosition(),this._tooltip&&this._tooltip._visibilityChanged(!0)}})}),DevExpress.define("/ui/widgets/track/ui.slider",["jquery","/utils/utils.support","/utils/utils.dom","/devices","/componentRegistrator","/ui/widgets/track/ui.trackBar","/ui/uiNamespace","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter.feedback","/ui/widgets/track/ui.sliderHandle","/utils/utils.inkRipple","/ui/ui.themes"],function(e,t,n,i,r,o,a,s,l,u,c,d,h){var p="dx-slider",f="dx-slider-wrapper",m=".dx-slider-handle",g="dx-slider-bar",_="dx-slider-range",v="dx-slider-range-visible",y="dx-slider-label",x="dx-slider-label-position-",b="dx-slider-tooltip-position-",w=o.inherit({_activeStateUnit:m,_supportedKeys:function(){var t=this.option("rtlEnabled"),n=this,i=function(e,t){e=n._valueStep(e);var i=n.option("step"),r=n.option("value"),o=(r-n.option("min"))%i;return t?r-e+(o?i-o:0):r+e-o},r=function(e){n.option("value",i(e,t))},o=function(e){n.option("value",i(e,!t))};return e.extend(this.callBase(),{leftArrow:function(e){e.preventDefault(),e.stopPropagation(),o(this.option("step"))},rightArrow:function(e){e.preventDefault(),e.stopPropagation(),r(this.option("step"))},pageUp:function(e){e.preventDefault(),e.stopPropagation(),r(this.option("step")*this.option("keyStep"))},pageDown:function(e){e.preventDefault(),e.stopPropagation(),o(this.option("step")*this.option("keyStep"))},home:function(e){e.preventDefault(),e.stopPropagation();var t=this.option("min");this.option("value",t)},end:function(e){e.preventDefault(),e.stopPropagation();var t=this.option("max");this.option("value",t)}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,step:1,value:50,showRange:!0,tooltip:{enabled:!1,format:function(e){return e},position:"top",showMode:"onHover"},label:{visible:!1,position:"bottom",format:function(e){return e}},keyStep:1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return i.real().generic&&!i.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(h.current())},options:{useInkRipple:!0}}])},_render:function(){this.element().addClass(p),this.callBase(),this._renderLabels(),this._renderStartHandler(),this._renderAriaMinAndMax(),this._repaintHandle(),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=d.render({waveSizeCoefficient:.7,isCentered:!0,wavesNumber:2,useHoldAnimation:!1})},_renderInkWave:function(e,t,n,i){if(this._inkRipple){var r={element:e,jQueryEvent:t,wave:i};n?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}},_visibilityChanged:function(){this.repaint()},_renderWrapper:function(){this.callBase(),this._$wrapper.addClass(f),this._createComponent(this._$wrapper,"dxSwipeable",{elastic:!1,immediate:!0,onStart:e.proxy(this._swipeStartHandler,this),onUpdated:e.proxy(this._swipeUpdateHandler,this),onEnd:e.proxy(this._swipeEndHandler,this),itemSizeFunc:e.proxy(this._itemWidthFunc,this)})},_renderContainer:function(){this.callBase(),this._$bar.addClass(g)},_renderRange:function(){this.callBase(),this._$range.addClass(_),this._renderHandle(),this._renderRangeVisibility()},_renderRangeVisibility:function(){this._$range.toggleClass(v,Boolean(this.option("showRange")))},_renderHandle:function(){this._$handle=this._renderHandleImpl(this.option("value"),this._$handle)},_renderHandleImpl:function(t,n){var i=n||e("<div>").appendTo(this._$range),r=this._normalizeFormat(this.option("tooltip.format")),o=this.option("tooltip.enabled"),a=this.option("tooltip.position");return this.element().toggleClass(b+"bottom",o&&"bottom"===a).toggleClass(b+"top",o&&"top"===a),this._createComponent(i,c,{value:t,tooltipEnabled:o,tooltipPosition:a,tooltipFormat:r,tooltipShowMode:this.option("tooltip.showMode"),tooltipFitIn:this.element()}),i},_renderAriaMinAndMax:function(){this.setAria({valuemin:this.option("min"),valuemax:this.option("max")},this._$handle)},_hoverStartHandler:function(t){c.getInstance(e(t.currentTarget)).updateTooltip()},_toggleActiveState:function(e,t){this.callBase(e,t),t&&c.getInstance(e).updateTooltip(),
this._renderInkWave(e,null,!!t,1)},_toggleFocusClass:function(t,n){if(this.callBase(t,n),!this._disposed){var i=e(n||this._focusTarget());this._renderInkWave(i,null,t,0)}},_renderLabels:function(){if(this.element().removeClass(x+"bottom").removeClass(x+"top"),this.option("label.visible")){var t=this.option("min"),n=this.option("max"),i=this.option("label.position"),r=this._normalizeFormat(this.option("label.format"));this._$minLabel||(this._$minLabel=e("<div>").addClass(y).appendTo(this._$wrapper)),this._$minLabel.html(r(t)),this._$maxLabel||(this._$maxLabel=e("<div>").addClass(y).appendTo(this._$wrapper)),this._$maxLabel.html(r(n)),this.element().addClass(x+i)}else this._$minLabel&&(this._$minLabel.remove(),delete this._$minLabel),this._$maxLabel&&(this._$maxLabel.remove(),delete this._$maxLabel)},_normalizeFormat:function(t){var n=t;return n="string"==typeof t?function(e){return Globalize.format(e,t)}:e.isFunction(t)?e.proxy(n,this):function(e){return e}},_renderDimensions:function(){if(this.callBase(),this._$bar){var e=this._$bar.outerWidth(!0)-this._$bar.outerWidth();this._$bar.width(this.option("width")-e)}},_renderStartHandler:function(){var t=s.addNamespace(l.down,this.NAME),n=s.addNamespace("dxclick",this.NAME),i=this._createAction(e.proxy(this._startHandler,this));this.element().off(t).on(t,function(e){s.isMouseEvent(e)&&i({jQueryEvent:e})}).off(n).on(n,e.proxy(function(e){var t=this._activeHandle();t&&t.focusin()&&t.focus(),i({jQueryEvent:e})},this))},_itemWidthFunc:function(){return this._itemWidthRatio},_swipeStartHandler:function(t){var n,i,r=this.option("rtlEnabled");s.isTouchEvent(t.jQueryEvent)&&this._createAction(e.proxy(this._startHandler,this))({jQueryEvent:t.jQueryEvent}),this._feedbackDeferred=e.Deferred(),u.lock(this._feedbackDeferred),this._toggleActiveState(this._activeHandle(),this.option("activeStateEnabled")),this._startOffset=this._currentRatio,n=this._startOffset*this._swipePixelRatio(),i=(1-this._startOffset)*this._swipePixelRatio(),t.jQueryEvent.maxLeftOffset=r?i:n,t.jQueryEvent.maxRightOffset=r?n:i,this._itemWidthRatio=this.element().width()/this._swipePixelRatio(),this._needPreventAnimation=!0},_swipeEndHandler:function(e){this._feedbackDeferred.resolve(),this._toggleActiveState(this._activeHandle(),!1);var t=this.option("rtlEnabled")?-1:1;delete this._needPreventAnimation,this._changeValueOnSwipe(this._startOffset+t*e.jQueryEvent.targetOffset/this._swipePixelRatio()),delete this._startOffset,this._renderValue()},_activeHandle:function(){return this._$handle},_swipeUpdateHandler:function(e){this._saveValueChangeEvent(e),this._updateHandlePosition(e)},_updateHandlePosition:function(e){var t=this.option("rtlEnabled")?-1:1,n=this._startOffset+t*e.jQueryEvent.offset/this._swipePixelRatio();this._$range.width(100*n+"%"),c.getInstance(this._activeHandle()).fitTooltipPosition,this._changeValueOnSwipe(n)},_swipePixelRatio:function(){var e=this.option("min"),t=this.option("max"),n=this._valueStep(this.option("step"));return(t-e)/n},_valueStep:function(e){return(!e||isNaN(e))&&(e=1),e=parseFloat(e.toFixed(5)),0===e&&(e=1e-5),e},_changeValueOnSwipe:function(e){var t=this.option("min"),n=this.option("max"),i=this._valueStep(this.option("step")),r=e*(n-t),o=t+r;if(!(0>i))if(o===n||o===t)this.option("value",o);else{var a=(i+"").split(".")[1],s=(t+"").split(".")[1],l=Math.max(a&&a.length||0,s&&s.length||0),u=Math.round((o-t)/i);o=Number((u*i+t).toFixed(l)),this.option("value",Math.max(Math.min(o,n),t))}},_startHandler:function(e){var t=e.jQueryEvent;this._currentRatio=(s.eventData(t).x-this._$bar.offset().left)/this._$bar.width(),this.option("rtlEnabled")&&(this._currentRatio=1-this._currentRatio),this._saveValueChangeEvent(t),this._changeValueOnSwipe(this._currentRatio)},_renderValue:function(){this.callBase();var e=this.option("value");c.getInstance(this._activeHandle()).option("value",e)},_setRangeStyles:function(e){this._$range.css(e)},_callHandlerMethod:function(e,t){c.getInstance(this._$handle)[e](t)},_repaintHandle:function(){this._callHandlerMethod("repaint")},_fitTooltip:function(){this._callHandlerMethod("fitTooltipPosition")},_optionChanged:function(e){switch(e.name){case"visible":this.callBase(e),this._renderHandle(),this._repaintHandle(),n.triggerShownEvent(this.element());break;case"min":case"max":this._renderLabels(),this._renderAriaMinAndMax(),this.callBase(e),this._fitTooltip();break;case"step":this._renderValue();break;case"keyStep":break;case"showRange":this._renderRangeVisibility();break;case"tooltip":this._renderHandle();break;case"label":this._renderLabels();break;case"rtlEnabled":this._toggleRTLDirection(),this._renderValue();break;case"useInkRipple":this._invalidate();break;default:this.callBase(e)}},_refresh:function(){this._renderDimensions(),this._renderValue(),this._renderHandle(),this._repaintHandle()}});return r("dxSlider",a,w),w}),DevExpress.require(["/ui/widgets/track/ui.slider"]),DevExpress.define("/ui/widgets/track/ui.rangeSlider",["jquery","/utils/utils.string","/ui/widgets/track/ui.sliderHandle","/ui/widgets/track/ui.slider","/componentRegistrator","/ui/uiNamespace","/ui/events/ui.events.utils"],function(e,t,n,i,r,o,a){var s="dx-rangeslider",l=s+"-start-handle",u=s+"-end-handle",c=i.inherit({_supportedKeys:function(){var t=this.option("rtlEnabled"),n=this,i=function(e,t){n.option("start")===n.option("end")&&(n._capturedHandle=t,e.target=n._capturedHandle,n._capturedHandle.focus())},r=function(i,r,o){var a=e(i.target).hasClass(l),s=a?"start":"end",u=n.option(s);r=n._valueStep(r),u+=o*(t?-r:r),n.option(s,u)},o=function(e,o){i(e,t?n._$handleStart:n._$handleEnd),r(e,o,1)},a=function(e,o){i(e,t?n._$handleEnd:n._$handleStart),r(e,o,-1)};return e.extend(this.callBase(),{leftArrow:function(e){e.preventDefault(),e.stopPropagation(),a(e,this.option("step"))},rightArrow:function(e){e.preventDefault(),e.stopPropagation(),o(e,this.option("step"))},pageUp:function(e){e.preventDefault(),e.stopPropagation(),o(e,this.option("step")*this.option("keyStep"))},pageDown:function(e){e.preventDefault(),e.stopPropagation(),a(e,this.option("step")*this.option("keyStep"))},home:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target).hasClass(l),i=n?"start":"end",r=n?"min":"start",o=this.option(r);this.option(i,o)},end:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target).hasClass(l),i=n?"start":"end",r=n?"end":"max",o=this.option(r);this.option(i,o)}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{start:40,end:60})},_render:function(){this.callBase(),this.element().addClass(s),this._callHandlerMethod("repaint")},_renderHandle:function(){this._$handleStart=this._renderHandleImpl(this.option("start"),this._$handleStart).addClass(l),this._$handleEnd=this._renderHandleImpl(this.option("end"),this._$handleEnd).addClass(u),this._updateHandleAriaLabels()},_startHandler:function(e){var t=e.jQueryEvent,n=this._$range,i=n.width(),r=a.eventData(t).x-this._$bar.offset().left,o=n.position().left,s=n.position().left+i,l=this.option("rtlEnabled"),u=(l?-1:1)*((o+s)/2-r)>0;this._capturedHandle=u?this._$handleStart:this._$handleEnd,this.callBase(e)},_updateHandleAriaLabels:function(){this.setAria("label",Globalize.localize("dxRangeSlider-ariaFrom"),this._$handleStart),this.setAria("label",Globalize.localize("dxRangeSlider-ariaTill"),this._$handleEnd)},_activeHandle:function(){return this._capturedHandle},_updateHandlePosition:function(e){var t,i,r,o,a=this.option("rtlEnabled"),s=a?-1:1,l=this.option("max"),u=this.option("min"),c=this._startOffset+s*e.jQueryEvent.offset/this._swipePixelRatio();c=c.toPrecision(12),t=c*(l-u)+u,this._updateSelectedRangePosition(c,c),n.getInstance(this._activeHandle()).fitTooltipPosition,this._changeValueOnSwipe(c),i=this.option("start"),r=this.option("end"),i===r&&(o=i>t?this._$handleStart:this._$handleEnd,o.focus(),o&&o!==this._capturedHandle&&(this._updateSelectedRangePosition((i-u)/(l-u),(r-u)/(l-u)),this._toggleActiveState(this._activeHandle(),!1),this._toggleActiveState(o,!0),this._capturedHandle=o),this._updateSelectedRangePosition(c,c),this._changeValueOnSwipe(c))},_updateSelectedRangePosition:function(e,t){var n=this.option("rtlEnabled"),i=this._capturedHandle===this._$handleStart&&n||this._capturedHandle===this._$handleEnd&&!n,r=i?"right":"left";n^i?this._$range.css(r,100-100*t+"%"):this._$range.css(r,100*e+"%")},_changeValueOnSwipe:function(e){this._suppressValueChangeAction(),this.callBase(e),this._resumeValueChangeAction();var t=this._capturedHandle===this._$handleStart?"start":"end",n=this.option("start"),i=this.option("end"),r=this.option("value"),o=this.option("max"),a=this.option("min");n>o&&(n=o,this.option("start",o)),a>n&&(n=a,this.option("start",a)),i>o&&(i=o,this.option("end",o)),r>i&&"start"===t&&(r=i),n>r&&"end"===t&&(r=n),this.option(t,r)},_renderValue:function(){var e=this.option("start"),t=this.option("end"),i=this.option("min"),r=this.option("max"),o=this.option("rtlEnabled");e=Math.max(i,Math.min(e,r)),t=Math.max(e,Math.min(t,r)),this.option("start",e),this.option("end",t);var a=r===i?0:(e-i)/(r-i),s=r===i?0:(t-i)/(r-i),l=parseFloat((100*a).toPrecision(12))+"%",u=parseFloat((100*(1-s)).toPrecision(12))+"%";this._needPreventAnimation||this._setRangeStyles({right:o?l:u,left:o?u:l}),n.getInstance(this._$handleStart).option("value",e),n.getInstance(this._$handleEnd).option("value",t)},_callHandlerMethod:function(e,t){n.getInstance(this._$handleStart)[e](t),n.getInstance(this._$handleEnd)[e](t)},_optionChanged:function(e){switch(e.name){case"start":case"end":this._renderValue(),this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})({start:this.option("start"),end:this.option("end"),jQueryEvent:this._valueChangeEventInstance}),this._saveValueChangeEvent(void 0);break;default:this.callBase(e)}}});return r("dxRangeSlider",o,c),c}),DevExpress.require(["/ui/widgets/track/ui.rangeSlider"]),function(e,t,n){var i=t.ui,r=t.fx,o=t.require("/utils/utils.translator"),a=t.require("/utils/utils.common"),s=t.require("/devices"),l=t.require("/componentRegistrator"),u=t.require("/ui/ui.widget"),c=t.require("/ui/events/ui.events.utils"),d="dx-gallery",h=d+"-wrapper",p="dx-gallery-loop",f=d+"-container",m=d+"-active",g=d+"-item",_=g+"-loop",v="."+g,y=g+"-selected",x=d+"-indicator",b=x+"-item",w="."+b,C=b+"-selected",S="dxGalleryItemData",k=1,D=u.inherit({_supportedKeys:function(){return e.extend(this.callBase(),{pageUp:e.noop,pageDown:e.noop})},_getDefaultOptions:function(){return e.extend(this.callBase(),{direction:"next",onClick:null,hoverStateEnabled:!0,activeStateEnabled:!0})},_render:function(){this.callBase();var e=this,t=this.element(),n=c.addNamespace("dxclick",this.NAME);t.addClass(d+"-nav-button-"+this.option("direction")).off(n).on(n,function(t){e._createActionByOption("onClick")({jQueryEvent:t})})},_optionChanged:function(e){switch(e.name){case"onClick":case"direction":this._invalidate();break;default:this.callBase(e)}}});D.publicName("dxGalleryNavButton"),l("dxGallery",i,i.CollectionWidget.inherit({_activeStateUnit:v,_getDefaultOptions:function(){return e.extend(this.callBase(),{activeStateEnabled:!1,animationDuration:400,animationEnabled:!0,loop:!1,swipeEnabled:!0,indicatorEnabled:!0,showIndicator:!0,selectedIndex:0,slideshowDelay:0,showNavButtons:!1,wrapAround:!1,initialItemWidth:n,stretchImages:!1,_itemAttributes:{role:"option"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return s.real().generic&&!s.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.option("loopItemFocus",this.option("loop"))},_dataSourceOptions:function(){return{paginate:!1}},_itemContainer:function(){return this._$container},_itemClass:function(){return g},_itemDataKey:function(){return S},_actualItemWidth:function(){var e=this.option("wrapAround")?this._itemsPerPage()+1:this._itemsPerPage();return this.option("stretchImages")?1/e:this.option("wrapAround")?this._itemPercentWidth()*this._itemsPerPage()/(this._itemsPerPage()+1):this._itemPercentWidth()},_itemPercentWidth:function(){var e;return e=this.option("initialItemWidth")?this.option("initialItemWidth")/this.element().outerWidth():1},_itemsPerPage:function(){var e=Math.floor(1/this._itemPercentWidth());return Math.min(e,this._itemsCount())},_pagesCount:function(){return Math.ceil(this._itemsCount()/this._itemsPerPage())},_itemsCount:function(){return(this.option("items")||[]).length},_offsetDirection:function(){return this.option("rtlEnabled")?-1:1},_render:function(){this.element().addClass(d),this.element().toggleClass(p,this.option("loop")),this._renderDragHandler(),this._renderWrapper(),this._renderItemsContainer(),this.callBase(),this._renderContainerPosition(),this._renderItemSizes(),this._renderItemPositions(),this._renderNavButtons(),this._renderIndicator(),this._renderSelectedItem(),this._renderUserInteraction(),this._setupSlideShow(),this._reviseDimensions(),this.setAria({role:"listbox",label:"gallery"}),this._fireContentReadyAction()},_renderContent:function(){this._renderContentImpl()},_dimensionChanged:function(){var e=this.option("selectedIndex")||0;this._stopItemAnimations(),this._clearCacheWidth(),this._renderDuplicateItems(),this._renderItemSizes(),this._renderItemPositions(),this._renderIndicator(),this._renderContainerPosition(this._calculateIndexOffset(e),!1)},_renderDragHandler:function(){var e=c.addNamespace("dragstart",this.NAME);this.element().off(e).on(e,"img",function(){return!1})},_renderWrapper:function(){this._$wrapper||(this._$wrapper=e("<div />").addClass(h).appendTo(this.element()))},_renderItems:function(e){this.callBase(e),this._loadNextPageIfNeeded()},_renderItemsContainer:function(){this._$container||(this._$container=e("<div>").addClass(f).appendTo(this._$wrapper))},_renderDuplicateItems:function(){var e;if(this.option("loop")){var t,n=this.option("items")||[],i=n.length,r=i-1;if(i){for(this.element().find("."+_).remove(),e=Math.min(this._itemsPerPage(),i),t=0;e>t;t++)this._renderItem(0,n[t]).addClass(_);for(t=0;e>t;t++)this._renderItem(0,n[r-t]).addClass(_)}}},_emptyMessageComtainer:function(){return this._$wrapper},_renderItemSizes:function(t){var i=this._itemElements(),r=this._actualItemWidth();t!==n&&(i=i.slice(t)),i.each(function(t){e(i[t]).outerWidth(100*r+"%")})},_renderItemPositions:function(){var t=this._actualItemWidth(),n=this._itemsCount(),i=this._itemsPerPage(),r=this.element().find("."+_).length,o=n+r-1,a=this.option("wrapAround")?.5:0,s=this._itemFreeSpace(),l=this.option("rtlEnabled");this._itemElements().each(function(r){var u,c=r;r>n+i-1&&(c=o-c-i),u=t*(c+a)+s*(c+1-a),e(this).css(l?"right":"left",100*u+"%")}),this._relocateItems(this.option("selectedIndex"),this.option("selectedIndex"),!0)},_itemFreeSpace:function(){var e=this._itemsPerPage();return this.option("wrapAround")&&(e+=1),(1-this._actualItemWidth()*e)/(e+1)},_renderContainerPosition:function(t,n){t=t||0;var i,r=this,s=this._actualItemWidth(),l=t,u=this._offsetDirection()*l*(s+this._itemFreeSpace());return a.isDefined(this._animationOverride)&&(n=this._animationOverride,delete this._animationOverride),n?(r._startSwipe(),i=r._animate(u).done(e.proxy(r._endSwipe,r))):(o.move(this._$container,{left:u*this._elementWidth()}),i=e.Deferred().resolveWith(r)),this._deferredAnimate&&i.done(function(){r._deferredAnimate.resolveWith(r)}),i.promise()},_startSwipe:function(){this.element().addClass(m)},_endSwipe:function(){this.element().removeClass(m)},_animate:function(t,n){var i=this,a=this._$container,s=e.Deferred();return r.animate(this._$container,e.extend({type:"slide",to:{left:t*this._elementWidth()},duration:i.option("animationDuration"),complete:function(){i._needMoveContainerForward()&&o.move(a,{left:0}),i._needMoveContainerBack()&&o.move(a,{left:i._maxContainerOffset()*i._elementWidth()}),s.resolveWith(i)}},n||{})),s},_needMoveContainerForward:function(){var e=this._$container.position().left*this._offsetDirection(),t=-this._maxItemWidth()*this._elementWidth()*this._itemsCount();return t+k>=e},_needMoveContainerBack:function(){var e=this._$container.position().left*this._offsetDirection(),t=this._actualItemWidth()*this._elementWidth();return e>=t-k},_maxContainerOffset:function(){return-this._maxItemWidth()*(this._itemsCount()-this._itemsPerPage())*this._offsetDirection()},_maxItemWidth:function(){return this._actualItemWidth()+this._itemFreeSpace()},_reviseDimensions:function(){var e=this,t=e._itemElements().first().find(".dx-item-content");t&&!t.is(":hidden")&&(e.option("height")||e.option("height",t.outerHeight()),e.option("width")||e.option("width",t.outerWidth()),this._dimensionChanged())},_renderIndicator:function(){var t,n;if(this._cleanIndicators(),this.option("showIndicator")){for(t=this._$indicator=e("<div>").addClass(x).appendTo(this._$wrapper),n=0;n<this._pagesCount();n++)e("<div>").addClass(b).appendTo(t);this._renderSelectedPageIndicator()}},_cleanIndicators:function(){this._$indicator&&this._$indicator.remove()},_renderSelectedItem:function(){var e=this.option("selectedIndex");this._itemElements().removeClass(y).eq(e).addClass(y)},_renderSelectedPageIndicator:function(){if(this._$indicator){var e=this.option("selectedIndex"),t=this._pagesCount()-1,n=Math.ceil(e/this._itemsPerPage());n=Math.min(t,n),this._$indicator.find(w).removeClass(C).eq(n).addClass(C)}},_renderUserInteraction:function(){var t,n=this.element(),i=this.option("swipeEnabled")&&this._itemsCount()>1;this._createComponent(n,"dxSwipeable",{disabled:this.option("disabled")||!i,onStart:e.proxy(this._swipeStartHandler,this),onUpdated:e.proxy(this._swipeUpdateHandler,this),onEnd:e.proxy(this._swipeEndHandler,this),itemSizeFunc:e.proxy(this._elementWidth,this)}),t=this._createAction(this._indicatorSelectHandler),n.off(c.addNamespace("dxclick",this.NAME),w).on(c.addNamespace("dxclick",this.NAME),w,function(e){t({jQueryEvent:e})})},_indicatorSelectHandler:function(t){var n,i,r=t.jQueryEvent,o=t.component;o.option("indicatorEnabled")&&(n=e(r.target).index(),i=o._fitPaginatedIndex(n*o._itemsPerPage()),o._needLongMove=!0,o.option("selectedIndex",i),o._loadNextPageIfNeeded(i))},_renderNavButtons:function(){var t=this;return t.option("showNavButtons")?(t._prevNavButton=e("<div>").appendTo(this._$wrapper),t._createComponent(t._prevNavButton,D,{direction:"prev",onClick:function(){t._prevPage()}}),t._nextNavButton=e("<div>").appendTo(this._$wrapper),t._createComponent(t._nextNavButton,D,{direction:"next",onClick:function(){t._nextPage()}}),this._renderNavButtonsVisibility(),void 0):void t._cleanNavButtons()},_prevPage:function(){var e=this._itemsPerPage(),t=this.option("selectedIndex")-e;return t===-e&&e===this._itemsCount()?this._relocateItems(t,0):this.goToItem(this._fitPaginatedIndex(t))},_nextPage:function(){var e=this._itemsPerPage(),t=this.option("selectedIndex")+e;return t===e&&e===this._itemsCount()?this._relocateItems(t,0):this.goToItem(this._fitPaginatedIndex(t)).done(this._loadNextPageIfNeeded)},_loadNextPageIfNeeded:function(t){t=t===n?this.option("selectedIndex"):t,this._dataSource&&this._dataSource.paginate()&&this._shouldLoadNextPage(t)&&!this._isDataSourceLoading()&&!this._isLastPage()&&this._loadNextPage().done(e.proxy(function(){this._renderIndicator(),this._renderItemPositions(),this._renderNavButtonsVisibility(),this._renderItemSizes(t)},this))},_shouldLoadNextPage:function(e){var t=this._itemsPerPage();return e+2*t>this.option("items").length},_allowDinamicItemsAppend:function(){return!0},_fitPaginatedIndex:function(e){var t=this._itemsPerPage(),n=0>e?t+e:this._itemsCount()-e;return e>this._itemsCount()-1?(e=0,this._goToGhostItem=!0):t>n&&n>0&&(e=e>0?e-(t-n):e+(t-n)),e},_cleanNavButtons:function(){this._prevNavButton&&(this._prevNavButton.remove(),delete this._prevNavButton),this._nextNavButton&&(this._nextNavButton.remove(),delete this._nextNavButton)},_renderNavButtonsVisibility:function(){var e,t;if(this.option("showNavButtons")&&this._prevNavButton&&this._nextNavButton){var n=this.option("selectedIndex"),i=this.option("loop"),r=this._itemsCount();this._prevNavButton.show(),this._nextNavButton.show(),0===r&&(this._prevNavButton.hide(),this._nextNavButton.hide()),i||(e=n===r-this._itemsPerPage(),t=2>r||0===n,e=this._dataSource&&this._dataSource.paginate()?e&&this._isLastPage():e||2>r,t&&this._prevNavButton.hide(),e&&this._nextNavButton.hide())}},_setupSlideShow:function(){var e=this,t=e.option("slideshowDelay");clearTimeout(e._slideshowTimer),t&&(e._slideshowTimer=setTimeout(function(){return e._userInteraction?void e._setupSlideShow():void e.nextItem(!0).done(e._setupSlideShow)},t))},_elementWidth:function(){return this._cacheElementWidth||(this._cacheElementWidth=this.element().width()),this._cacheElementWidth},_clearCacheWidth:function(){delete this._cacheElementWidth},_swipeStartHandler:function(e){var t;if(this._clearCacheWidth(),this._elementWidth(),t=this._itemsCount(),!t)return void(e.jQueryEvent.cancel=!0);if(this._stopItemAnimations(),this._startSwipe(),this._userInteraction=!0,!this.option("loop")){var n=this.option("selectedIndex"),i=t-n-this._itemsPerPage(),r=n,o=this.option("rtlEnabled");e.jQueryEvent.maxLeftOffset=o?r:i,e.jQueryEvent.maxRightOffset=o?i:r}},_stopItemAnimations:function(){r.stop(this._$container,!0)},_swipeUpdateHandler:function(e){var t=this.option("wrapAround")?1:0,n=this._offsetDirection()*e.jQueryEvent.offset*(this._itemsPerPage()+t)-this.option("selectedIndex");0>n&&this._loadNextPageIfNeeded(Math.ceil(Math.abs(n))),this._renderContainerPosition(n)},_swipeEndHandler:function(e){var t=e.jQueryEvent.targetOffset*this._offsetDirection()*this._itemsPerPage(),n=this.option("selectedIndex"),i=this._fitIndex(n-t),r=this._fitPaginatedIndex(i);return Math.abs(t)<this._itemsPerPage()?void this._relocateItems(n):this._itemsPerPage()===this._itemsCount()?void(t>0?this._relocateItems(-t):this._relocateItems(0)):void this.option("selectedIndex",r)},_setFocusOnSelect:function(){this._userInteraction=!0;var e=this.itemElements().filter("."+y);this.option("focusedElement",e),this._userInteraction=!1},_flipIndex:function(e){var t=this._itemsCount();return e%=t,e>(t+1)/2&&(e-=t),-(t-1)/2>e&&(e+=t),e},_fitIndex:function(e){if(!this.option("loop"))return e;var t=this._itemsCount();return(e>=t||0>e)&&(this._goToGhostItem=!0),e>=t&&(e=t-e),e%=t,0>e&&(e+=t),e},_clean:function(){this.callBase(),this._cleanIndicators(),this._cleanNavButtons()},_dispose:function(){clearTimeout(this._slideshowTimer),this.callBase()},_updateSelection:function(e,t){this._stopItemAnimations(),this._renderNavButtonsVisibility(),this._renderSelectedItem(),this._relocateItems(e[0],t[0]),this._renderSelectedPageIndicator()},_relocateItems:function(e,t,i){t===n&&(t=e);var r=this._calculateIndexOffset(e,t);this._renderContainerPosition(r,this.option("animationEnabled")&&!i).done(function(){this._setFocusOnSelect(),this._userInteraction=!1,this._setupSlideShow()})},_focusInHandler:function(){r.isAnimating(this._$container)||this._userInteraction||this.callBase.apply(this,arguments)},_focusOutHandler:function(){r.isAnimating(this._$container)||this._userInteraction||this.callBase.apply(this,arguments)},_selectFocusedItem:e.noop,_moveFocus:function(){this._stopItemAnimations(),this.callBase.apply(this,arguments);var e=this.itemElements().index(this.option("focusedElement"));this.goToItem(e,this.option("animationEnabled"))},_visibilityChanged:function(e){e&&this._reviseDimensions()},_calculateIndexOffset:function(e,t){t===n&&(t=e);var i=t-e;return this.option("loop")&&!this._needLongMove&&this._goToGhostItem&&(this._isItemOnFirstPage(e)&&this._isItemOnLastPage(t)?i=-this._itemsPerPage():this._isItemOnLastPage(e)&&this._isItemOnFirstPage(t)&&(i=this._itemsPerPage()),this._goToGhostItem=!1),this._needLongMove=!1,i-=t},_isItemOnLastPage:function(e){return e>=this._itemsCount()-this._itemsPerPage()},_isItemOnFirstPage:function(e){return e<=this._itemsPerPage()},_optionChanged:function(e){var t=e.value;switch(e.name){case"width":case"initialItemWidth":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"animationDuration":this._renderNavButtonsVisibility();break;case"animationEnabled":break;case"loop":return this.option("loopItemFocus",t),this.element().toggleClass(p,t),this._renderDuplicateItems(),this._renderItemPositions(),this._renderNavButtonsVisibility(),void 0;case"showIndicator":return void this._renderIndicator();case"showNavButtons":return void this._renderNavButtons();case"slideshowDelay":return void this._setupSlideShow();case"wrapAround":case"stretchImages":this._renderItemSizes(),this._renderItemPositions();break;case"swipeEnabled":case"indicatorEnabled":return void this._renderUserInteraction();default:this.callBase(e)}},goToItem:function(t,i){var r=this.option("selectedIndex"),o=this._itemsCount();return i!==n&&(this._animationOverride=i),t=this._fitIndex(t),this._deferredAnimate=e.Deferred(),t>o-1||0>t||r===t?this._deferredAnimate.resolveWith(this).promise():(this.option("selectedIndex",t),this._deferredAnimate.promise())},prevItem:function(e){return this.goToItem(this.option("selectedIndex")-1,e)},nextItem:function(e){return this.goToItem(this.option("selectedIndex")+1,e)}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.fx,o=t.require("/utils/utils.translator"),a=t.require("/utils/utils.version").compare,s=t.require("/utils/utils.viewPort"),l=s.value,u=s.changeCallback,c=t.require("/utils/utils.topOverlay").hideCallback,d=t.require("/utils/utils.position"),h=t.require("/utils/utils.math").fitIntoRange,p=t.require("/utils/utils.dom"),f=t.require("/utils/utils.common"),m=t.require("/devices"),g=t.require("/componentRegistrator"),_=t.require("/ui/ui.widget"),v=t.require("/ui/ui.keyboardProcessor"),y=t.require("/integration/jquery/jquery.selectors"),x=t.require("/ui/events/ui.events.utils"),b=t.require("/ui/events/pointer/ui.events.pointer"),w=t.require("/ui/events/ui.events.emitter.scroll"),C="dx-overlay",S="dx-overlay-wrapper",k="dx-overlay-content",D="dx-overlay-shader",T="dx-overlay-modal",E="dx-state-invisible",I="content",A="dx-rtl",$=["onShowing","onShown","onHiding","onHidden","onPositioning","onPositioned","onResizeStart","onResize","onResizeEnd"],B=1e3,O=[],P="dx-state-disabled",M=9,R=m.real(),V=R.version,L="ios"===R.platform,F=L&&a(V,[7,1])<0,z="android"===R.platform&&0===a(V,[4,0],2)&&-1===navigator.userAgent.indexOf("Chrome"),H=function(e){if(F&&e.width(),z){var t=e.parents(),n=t.is(".dx-scrollable-native");n||(t.css("backface-visibility","hidden"),t.css("backface-visibility"),t.css("backface-visibility","visible"))}},N=function(t){return t&&e(t instanceof e.Event?t.target:t)};e(document).on(b.down,function(e){for(var t=O.length-1;t>=0;t--)if(!O[t]._proxiedDocumentDownHandler(e))return}),g("dxOverlay",i,_.inherit({_supportedKeys:function(){var t=5,n=function(e,t,n){if(this.option("dragEnabled")){n.preventDefault(),n.stopPropagation();var i=this._allowedOffsets(),r={top:h(e,-i.top,i.bottom),left:h(t,-i.left,i.right)};this._changePosition(r)}};return e.extend(this.callBase(),{escape:function(){this.hide()},upArrow:e.proxy(n,this,-t,0),downArrow:e.proxy(n,this,t,0),leftArrow:e.proxy(n,this,0,-t),rightArrow:e.proxy(n,this,0,t)})},_getDefaultOptions:function(){return e.extend(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",position:{my:"center",at:"center"},width:function(){return.8*e(window).width()},minWidth:null,maxWidth:null,height:function(){return.8*e(window).height()},minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,closeOnBackButton:!0,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",dragEnabled:!1,resizeEnabled:!1,onResizeStart:null,onResize:null,onResizeEnd:null,onContentReady:null,target:n,container:n,hideTopOverlayHandler:n,closeOnTargetScroll:!1,onPositioned:null,boundaryOffset:{h:0,v:0},propagateOutsideClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=m.real(),t=e.platform,n=e.version;return"android"===t&&a(n,[4,2])<0},options:{animation:{show:{type:"fade",duration:400},hide:{type:"fade",duration:400,to:{opacity:0},from:{opacity:1}}}}}])},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{animation:!0})},_getAnonymousTemplateName:function(){return I},_wrapper:function(){return this._$wrapper},_container:function(){return this._$content},_eventBindingTarget:function(){return this._$content},_init:function(){this.callBase(),this._initActions(),this._initCloseOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._$wrapper=e("<div>").addClass(S),this._$content=e("<div>").addClass(k);var t=this.element();this._$wrapper.addClass(t.attr("class")),t.addClass(C),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._$wrapper.on("MSPointerDown",e.noop),this._$wrapper.on("focusin",function(e){e.stopPropagation()}),this._toggleViewPortSubscriptiion(!0)},_initOptions:function(e){this._initTarget(e.target),this._initContainer(e.container),this._initHideTopOverlayHandler(e.hideTopOverlayHandler),this.callBase(e)},_initTarget:function(t){if(f.isDefined(t)){var n=this.option();e.each(["position.of","animation.show.from.position.of","animation.show.to.position.of","animation.hide.from.position.of","animation.hide.to.position.of"],function(i,r){for(var o=r.split("."),a=n;a;){if(1===o.length){e.isPlainObject(a)&&(a[o.shift()]=t);break}a=a[o.shift()]}})}},_initContainer:function(t){t=t===n?l():t;var i=this.element(),r=i.closest(t);r.length||(r=e(t).first()),this._$container=r.length?r:i.parent()},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t!==n?t:e.proxy(this._defaultHideTopOverlayHandler,this)},_defaultHideTopOverlayHandler:function(){this.hide()},_initActions:function(){this._actions={},e.each($,e.proxy(function(t,n){this._actions[n]=this._createActionByOption(n,{excludeValidators:["disabled","readOnly"]})||e.noop},this))},_initCloseOnOutsideClickHandler:function(){var e=this;this._proxiedDocumentDownHandler=function(){return e._documentDownHandler.apply(e,arguments)}},_documentDownHandler:function(t){var n,i,r;return this._showAnimationProcessing?void this._stopAnimation():(n=this.option("closeOnOutsideClick"),e.isFunction(n)&&(n=n(t)),n&&(i=this._$content,r=!i.is(t.target)&&!e.contains(i.get(0),t.target),r&&(this.option("shading")&&t.preventDefault(),this.hide())),this.option("propagateOutsideClick"))},_isTopOverlay:function(){var e=this._overlayStack();return e[e.length-1]===this},_overlayStack:function(){return O},_zIndexInitValue:function(){return B},_toggleViewPortSubscriptiion:function(t){u.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=e.proxy(this._viewPortChangeHandler,this),u.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._initContainer(this.option("container")),this._refresh()},_renderVisibilityAnimate:function(e){return this._stopAnimation(),e?this._show():this._hide()},_normalizePosition:function(){this._position=this.option("position")},_getAnimationConfig:function(){var t=this.option("animation");return e.isFunction(t)&&(t=t.call(this)),t},_show:function(){var t=this,n=e.Deferred();if(this._parentHidden=this._isParentHidden(),n.done(function(){delete t._parentHidden}),this._parentHidden)return n.resolve();if(this._currentVisible)return e.when().promise();this._currentVisible=!0,this._normalizePosition();var i=t._getAnimationConfig()||{},r=this._normalizeAnimation(i.show,"to"),o=r&&r.start||e.noop,a=r&&r.complete||e.noop;return this._isHidingActionCancelled?(delete this._isHidingActionCancelled,n.resolve()):(this._renderVisibility(!0),this._animate(r,function(){t.option("focusStateEnabled")&&t._focusTarget().focus(),a.apply(this,arguments),
t._showAnimationProcessing=!1,t._actions.onShown(),n.resolve()},function(){o.apply(this,arguments),t._showAnimationProcessing=!0})),n.promise()},_normalizeAnimation:function(t,n){return t&&t[n]&&(t=e.extend({type:"slide"},t),e.extend(t[n],{position:this._position})),t},_hide:function(){if(!this._currentVisible)return e.when().promise();this._currentVisible=!1;var t=this,n=e.Deferred(),i=t._getAnimationConfig()||{},r=this._normalizeAnimation(i.hide,"from"),o=r&&r.complete||e.noop,a={cancel:!1};return this._actions.onHiding(a),a.cancel?(this._isHidingActionCancelled=!0,this.option("visible",!0),n.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._animate(r,function(){t._renderVisibility(!1),o.apply(this,arguments),t._actions.onHidden(),n.resolve()})),n.promise()},_forceFocusLost:function(){document.activeElement&&this._$content.find(document.activeElement).length&&document.activeElement.blur()},_animate:function(t,n,i){if(t){i=i||t.start||e.noop;var o=this._$content;r.animate(this._$content,e.extend({},t,{start:function(){o.css("pointer-events","none"),i.apply(this,arguments)},complete:function(){o.css("pointer-events",""),n.apply(this,arguments)}}))}else n()},_stopAnimation:function(){r.stop(this._$content,!0)},_renderVisibility:function(e){e&&this._isParentHidden()||(this._currentVisible=e,this._stopAnimation(),e||p.triggerHidingEvent(this._$content),this._toggleVisibility(e),this._$content.toggleClass(E,!e),this._updateZIndexStackPosition(e),e?(this._renderContent(),this._actions.onShowing(),this._moveToContainer(),this._renderGeometry(),p.triggerShownEvent(this._$content),p.triggerResizeEvent(this._$content)):this._moveFromContainer(),this._toggleShading(e),this._toggleSubscriptions(e))},_updateZIndexStackPosition:function(t){var n,i=this._overlayStack(),r=e.inArray(this,i);t?(-1===r&&(n=i.length,this._zIndex=(n?i[n-1]._zIndex:this._zIndexInitValue())+1,i.push(this)),this._$wrapper.css("z-index",this._zIndex),this._$content.css("z-index",this._zIndex)):-1!==r&&i.splice(r,1)},_toggleShading:function(e){this._$wrapper.toggleClass(T,this.option("shading")&&!this.option("container")),this._$wrapper.toggleClass(D,e&&this.option("shading")),this._$wrapper.css("background-color",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(e&&this.option("shading"))},_initTabTerminatorHandler:function(){var e=this;this._proxiedTabTerminatorHandler=function(){e._tabKeyHandler.apply(e,arguments)}},_toggleTabTerminator:function(t){var n=x.addNamespace("keydown",this.NAME);t?e(document).on(n,this._proxiedTabTerminatorHandler):e(document).off(n,this._proxiedTabTerminatorHandler)},_tabKeyHandler:function(t){if(t.keyCode===M&&this._isTopOverlay()){var n=this._$wrapper.find(y.tabbable),i=n.first(),r=n.last(),o=!t.shiftKey&&t.target===r.get(0),a=t.shiftKey&&t.target===i.get(0),s=0===n.length,l=-1===e.inArray(t.target,n);(o||a||s||l)&&(t.preventDefault(),(t.shiftKey?r:i).focusin().focus())}},_toggleSubscriptions:function(e){this._toggleHideTopOverlayCallback(e),this._toggleParentsScrollSubscription(e)},_toggleHideTopOverlayCallback:function(e){this._hideTopOverlayHandler&&(e&&this.option("closeOnBackButton")?c.add(this._hideTopOverlayHandler):c.remove(this._hideTopOverlayHandler))},_toggleParentsScrollSubscription:function(t){if(this._position){var n=this._position.of||e(),i=this.option("closeOnTargetScroll"),r=N(n).parents(),o=x.addNamespace("scroll",this.NAME);"generic"===m.real().platform&&(r=r.add(window)),this._proxiedTargetParentsScrollHandler=this._proxiedTargetParentsScrollHandler||e.proxy(function(e){this._targetParentsScrollHandler(e)},this),e().add(this._$prevTargetParents).off(o,this._proxiedTargetParentsScrollHandler),t&&i&&(r.on(o,this._proxiedTargetParentsScrollHandler),this._$prevTargetParents=r)}},_targetParentsScrollHandler:function(t){var n=!1,i=this.option("closeOnTargetScroll");e.isFunction(i)&&(n=i(t)),n||this._showAnimationProcessing||this.hide()},_render:function(){this.callBase(),this._$content.appendTo(this.element()),this._renderVisibilityAnimate(this.option("visible"))},_renderContent:function(){var e=!this.option("visible")&&this.option("deferRendering"),t=this.option("visible")&&this._isParentHidden();return t?void(this._isHidden=!0):void(this._contentAlreadyRendered||e||(this._contentAlreadyRendered=!0,this.callBase()))},_isParentHidden:function(){var t,i;return this._parentHidden!==n?this._parentHidden:(t=this.element().parent(),t.is(":visible")?!1:(i=!1,t.add(t.parents()).each(function(){var t=e(this);return"none"===t.css("display")?(i=!0,!1):void 0}),i||!e.contains(document,t.get(0))))},_renderContentImpl:function(){var e,t=this.element();this._$content.appendTo(t),e=this._getTemplate(this.option("contentTemplate")),e&&e.render(this.content()),this._renderDrag(),this._renderResize(),this._renderScrollTerminator()},_renderDrag:function(){var t,n,i=this._getDragTarget();i&&(t=x.addNamespace("dxdragstart",this.NAME),n=x.addNamespace("dxdrag",this.NAME),i.off(t).off(n),this.option("dragEnabled"))&&i.on(t,e.proxy(this._dragStartHandler,this)).on(n,e.proxy(this._dragUpdateHandler,this))},_renderResize:function(){this._createComponent(this._$content,"dxResizable",{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:e.proxy(this._resizeEndHandler,this),onResize:e.proxy(this._actions.onResize,this),onResizeStart:e.proxy(this._actions.onResizeStart,this),minHeight:100,minWidth:100,area:this._$container})},_resizeEndHandler:function(){this._positionChangeHandled=!0,this._dimensionChangeHandled=!0,this._actions.onResizeEnd()},_renderScrollTerminator:function(){var t=this._wrapper(),n=x.addNamespace(w.move,this.NAME);t.off(n).on(n,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:e.noop,_clearSelection:e.noop,isNative:!0},function(e){"mousemove"!==e.originalEvent.originalEvent.type&&e.preventDefault()})},_getDragTarget:function(){return this.content()},_dragStartHandler:function(e){e.targetElements=[],this._prevOffset={x:0,y:0};var t=this._allowedOffsets();e.maxTopOffset=t.top,e.maxBottomOffset=t.bottom,e.maxLeftOffset=t.left,e.maxRightOffset=t.right},_deltaSize:function(){var e=this._$content,t=this._$container,n=e.outerWidth(),i=e.outerHeight(),r=t.width(),o=t.height();return{width:r-n,height:o-i}},_dragUpdateHandler:function(e){var t=e.offset,n=this._prevOffset,i={top:t.y-n.y,left:t.x-n.x};this._changePosition(i),this._prevOffset=t},_changePosition:function(e){var t=o.locate(this._$content);o.move(this._$content,{left:t.left+e.left,top:t.top+e.top}),this._positionChangeHandled=!0},_allowedOffsets:function(){var e=o.locate(this._$content),t=this._deltaSize(),n=t.height>=0&&t.width>=0,i=this.option("boundaryOffset");return{top:n?e.top+i.v:0,bottom:n?-e.top+t.height-i.v:0,left:n?e.left+i.h:0,right:n?-e.left+t.width-i.h:0}},_fireContentReadyAction:function(){this.option("visible")&&this._moveToContainer(),this.callBase.apply(this,arguments)},_moveFromContainer:function(){this._$content.appendTo(this.element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._attachWrapperToContainer(),this._$content.appendTo(this._$wrapper)},_attachWrapperToContainer:function(){var e=this.element();this._$container&&this._$container[0]!==e.parent()[0]?this._$wrapper.appendTo(this._$container):this._$wrapper.appendTo(e)},_renderGeometry:function(){this.option("visible")&&this._renderGeometryImpl()},_renderGeometryImpl:function(){this._stopAnimation(),this._normalizePosition(),this._renderShading(),this._renderDimensions();var e=this._renderPosition();this._actions.onPositioned({position:e})},_renderShading:function(){var e=this._$wrapper,t=this._getContainer();e.css("position",this._isWindow(t)&&!L?"fixed":"absolute"),this._renderShadingDimensions(),this._renderShadingPosition()},_renderShadingPosition:function(){if(this.option("shading")){var e=this._getContainer();d.setup(this._$wrapper,{my:"top left",at:"top left",of:e})}},_renderShadingDimensions:function(){if(this.option("shading")){var e=this._getContainer(),t=this._isWindow(e)?"100%":e.outerWidth(),n=this._isWindow(e)?"100%":e.outerHeight();this._$wrapper.css({width:t,height:n})}},_isWindow:function(t){return!!t&&e.isWindow(t.get(0))},_getContainer:function(){var e=this._position,t=this.option("container"),n=e?e.of||window:null;return N(t||n)},_renderDimensions:function(){if(this._$content.css({minWidth:this.option("minWidth"),maxWidth:this.option("maxWidth"),minHeight:this.option("minHeight"),maxHeight:this.option("maxHeight")}),this._dimensionChangeHandled){var e=this._$content,t=this._$container;e.outerWidth(Math.min(e.outerWidth(),t.width())).outerHeight(Math.min(e.outerHeight(),t.height()))}else this._$content.outerWidth(this.option("width")).outerHeight(this.option("height"))},_renderPosition:function(){var e,t;return this._positionChangeHandled?(e=this._allowedOffsets(),void this._changePosition({top:h(0,-e.top,e.bottom),left:h(0,-e.left,e.right)})):(this._renderOverlayBoundaryOffset(),o.resetPosition(this._$content),t=d.setup(this._$content,this._position),H(this._$content),this._actions.onPositioning(),t)},_renderOverlayBoundaryOffset:function(){var e=this.option("boundaryOffset");this._$content.css("margin",e.v+"px "+e.h+"px")},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardProcessor=new v({element:this._$content,handler:this._keyboardHandler,context:this})},_keyboardHandler:function(t){var n=t.originalEvent,i=e(n.target);i.is(this._$content)&&this.callBase.apply(this,arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(e){e?this.option("visible")&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){this._contentAlreadyRendered||this.content().empty(),this._renderVisibility(!1),this._cleanFocusState()},_dispose:function(){t.fx.stop(this._$content,!1),this._toggleViewPortSubscriptiion(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this.callBase(),this._$wrapper.remove(),this._$content.remove()},_toggleDisabledState:function(e){this.callBase.apply(this,arguments),this._$content.toggleClass(P,Boolean(e))},_toggleRTLDirection:function(e){this._$content.toggleClass(A,e)},_optionChanged:function(t){var n=t.value;if(e.inArray(t.name,$)>-1)return void this._initActions();switch(t.name){case"dragEnabled":this._renderDrag(),this._renderGeometry();break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"shading":case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"minWidth":case"maxWidth":case"height":case"minHeight":case"maxHeight":case"position":case"boundaryOffset":this._renderGeometry();break;case"visible":this._renderVisibilityAnimate(n).done(e.proxy(function(){this._animateDeferred&&this._animateDeferred.resolveWith(this)},this));break;case"target":this._initTarget(n),this._invalidate();break;case"container":this._initContainer(n),this._invalidate();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._invalidate();break;case"closeOnBackButton":this._toggleHideTopOverlayCallback(this.option("visible"));break;case"closeOnTargetScroll":this._toggleParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"animation":case"propagateOutsideClick":break;default:this.callBase(t)}},toggle:function(t){if(t=t===n?!this.option("visible"):t,t===this.option("visible"))return e.Deferred().resolve().promise();var i=e.Deferred();return this._animateDeferred=i,this.option("visible",t),i.promise().done(e.proxy(function(){delete this._animateDeferred},this))},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return this._$content},repaint:function(){this._renderGeometry()}})),DevExpress.ui.dxOverlay.baseZIndex=function(e){B=e}}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.common"),r=t.require("/ui/events/pointer/ui.events.pointer"),o=t.require("/componentRegistrator"),a="dx-toast",s=a+"-",l=s+"wrapper",u=s+"content",c=s+"message",d=s+"icon",h="dxToast",p=["info","warning","error","success"],f=[],m=8e3,g=null,_={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}};e(document).on(r.down,function(e){for(var t=f.length-1;t>=0;t--)if(!f[t]._proxiedDocumentDownHandler(e))return}),o(h,n,n.dxOverlay.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,to:0}},shading:!1,height:"auto",closeOnBackButton:!1,closeOnSwipe:!0,closeOnClick:!1,resizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"win"===e.platform&&e.version&&8===e.version[0]},options:{position:"top center",width:function(){return e(window).width()}}},{device:function(e){return"win"===e.platform&&e.version&&10===e.version[0]},options:{position:"bottom right",width:"auto"}},{device:{platform:"android"},options:{closeOnOutsideClick:!0,width:"auto",position:{at:"bottom left",my:"bottom left",offset:"20 -20"},animation:{show:{type:"slide",duration:200,from:{top:e(window).height()}},hide:{type:"slide",duration:200,to:{top:e(window).height()}}}}},{device:function(e){var t="phone"===e.deviceType,n="android"===e.platform,i="win"===e.platform&&e.version&&10===e.version[0];return t&&(n||i)},options:{width:function(){return e(window).width()},position:{at:"bottom center",my:"bottom center",offset:"0 0"}}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this.option("message")&&(this._message=e("<div>").addClass(c).text(this.option("message")).appendTo(this.content())),this.setAria("role","alert",this._message),e.inArray(this.option("type").toLowerCase(),p)>-1&&this.content().prepend(e("<div>").addClass(d)),this.callBase()},_render:function(){this.callBase(),this.element().addClass(a),this._wrapper().addClass(l),this._$content.addClass(s+String(this.option("type")).toLowerCase()),this.content().addClass(u),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_toggleCloseEvents:function(t){var n="dx"+t.toLowerCase();this._$content.off(n),this.option("closeOn"+t)&&this._$content.on(n,e.proxy(this.hide,this))},_posStringToObject:function(){if(i.isString(this.option("position"))){var t=this.option("position").split(" ")[0],n=this.option("position").split(" ")[1];switch(this.option("position",e.extend({},_[t])),n){case"center":case"left":case"right":this.option("position").at+=" "+n,this.option("position").my+=" "+n}}},_show:function(){return g&&(clearTimeout(g._hideTimeout),g.hide()),g=this,this.callBase.apply(this,arguments).done(e.proxy(function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(e.proxy(this.hide,this),this.option("displayTime"))},this))},_hide:function(){return g=null,this.callBase.apply(this,arguments)},_overlayStack:function(){return f},_zIndexInitValue:function(){return this.callBase()+m},_dispose:function(){clearTimeout(this._hideTimeout),g=null,this.callBase()},_optionChanged:function(e){switch(e.name){case"type":this._$content.removeClass(s+e.previousValue),this._$content.addClass(s+String(e.value).toLowerCase());break;case"message":this._message&&this._message.text(e.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":case"position":break;default:this.callBase(e)}}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/utils/utils.translator"),o=t.require("/utils/utils.inflector").camelize,a=t.require("/utils/utils.common"),s=t.require("/devices"),l=t.require("/componentRegistrator"),u=t.require("/ui/widgets/ui.button"),c=t.require("/ui/ui.themes"),d="dx-popup",h="dx-popup-wrapper",p="dx-popup-fullscreen",f="dx-popup-fullscreen-width",m="dx-popup-normal",g="dx-popup-content",_="dx-popup-draggable",v="dx-popup-title",y="dx-closebutton",x="dx-popup-bottom",b="dx-template-wrapper",w=["cancel","clear","done"],C=function(e){var t=s.current(),n=t.platform,i="bottom",r="before";if("ios"===n)switch(e){case"cancel":i="top";break;case"clear":i="top",r="after";break;case"done":r="after"}else if("win"===n)r="after";else if("android"===n&&t.version&&parseInt(t.version[0])>4)switch(e){case"cancel":r="after";break;case"done":r="after"}else"android"===n&&(r="center");return{toolbar:i,location:r}};l("dxPopup",i,i.dxOverlay.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragEnabled:!1,buttons:[],showCloseButton:!1,bottomTemplate:"bottom"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=(c.current()||"").split(".")[0];return"win8"===e},options:{width:function(){return e(window).width()}}},{device:function(e){var t=(c.current()||"").split(".")[0];return e.phone&&"win8"===t},options:{position:{my:"top center",at:"top center",offset:"0 0"}}},{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(e){return"generic"===s.real().platform&&"generic"===e.platform},options:{dragEnabled:!0}},{device:function(){return s.real().generic&&!s.isSimulator()},options:{focusStateEnabled:!0}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){var e={show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}},t={show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}};return this.option("fullScreen")?e:t},_init:function(){this.callBase(),this.element().addClass(d),this._wrapper().addClass(h),this._$popupContent=this._$content.wrapInner(e("<div>").addClass(g)).children().eq(0)},_render:function(){var e=this.option("fullScreen");this._$content.toggleClass(p,e).toggleClass(m,!e),this.callBase()},_renderContentImpl:function(){this.callBase(),this._renderTitle(),this._renderBottom()},_renderTitle:function(){var t,n=this._getToolbarItems("top"),i=this.option("title"),r=this.option("showTitle");r&&!!i&&n.unshift({location:s.current().ios?"center":"before",text:i}),r||n.length>0?(this._$title&&this._$title.remove(),t=e("<div>").addClass(v).insertBefore(this.content()),this._$title=this._renderTemplateByType("titleTemplate",n,t).addClass(v),this._renderDrag(),this._executeTitleRenderAction(this._$title)):this._$title&&this._$title.detach()},_renderTemplateByType:function(e,t,n){var i,r=this._getTemplateByOption(e),o=r.owner()===this.option("templateProvider");return o?(i=r.render(t,n),n.replaceWith(i),i):(i=r.render(n),i.hasClass(b)&&(n.replaceWith(i),n=i),n)},_executeTitleRenderAction:function(e){this._getTitleRenderAction()({titleElement:e})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["designMode","disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return e.proxy(function(t,i,r){var o=e("<div>").addClass(y);this._createComponent(o,u,{icon:"close",onClick:this._createButtonAction(n),_templates:{}}),r.append(o)},this)},_getToolbarItems:function(t){var n,i,r=this.option("buttons"),o=[];return this._buttonsClasses=[],n=s.current().platform,i=0,e.each(r,e.proxy(function(r,s){var l,u=a.isDefined(s.shortcut),c=u?C(s.shortcut):s;u&&"ios"===n&&2>i&&(c.toolbar="top",i++),e.extend(c,a.isDefined(s.toolbar)?{toolbar:s.toolbar}:{}),c&&c.toolbar===t&&(u&&e.extend(c,{location:s.location},this._getButtonByAlias(s)),l="win"===n||"generic"===n,"done"===s.shortcut&&l||"cancel"===s.shortcut&&!l?o.unshift(c):o.push(c))},this)),"top"===t&&this.option("showCloseButton")&&this.option("showTitle")&&o.push(this._getCloseButton()),o},_getButtonByAlias:function(t){var n,i,r=this,a=t.shortcut;return e.inArray(a,w)<0?!1:(n=e.extend({text:Globalize.localize(o(a,!0)),onClick:this._createButtonAction(t.onClick),_templates:{}},t.options||{}),i=d+"-"+a,this._buttonsClasses.push(i),{template:function(t,o,a){var s=e("<div>").addClass(i).appendTo(a);r._createComponent(s,u,n)}})},_createButtonAction:function(e){return this._createAction(e,{afterExecute:function(e){e.component.hide()}})},_renderBottom:function(){var t,n=this._getToolbarItems("bottom");n.length?(this._$bottom&&this._$bottom.remove(),t=e("<div>").addClass(x).insertAfter(this.content()),this._$bottom=this._renderTemplateByType("bottomTemplate",n,t).addClass(x),this._toggleClasses()):this._$bottom&&this._$bottom.detach()},_toggleClasses:function(){var t=w;e.each(t,e.proxy(function(t,n){var i=d+"-"+n;e.inArray(i,this._buttonsClasses)>=0?(this._wrapper().addClass(i+"-visible"),this._$bottom.addClass(i)):(this._wrapper().removeClass(i+"-visible"),this._$bottom.removeClass(i))},this))},_getDragTarget:function(){return this._$title},_renderGeometryImpl:function(){this._resetContentHeight(),this.callBase.apply(this,arguments),this._setContentHeight()},_resetContentHeight:function(){this._$popupContent.css({height:"auto"})},_renderDrag:function(){this.callBase(),this._$content.toggleClass(_,this.option("dragEnabled"))},_renderResize:function(){this.callBase(),this._$content.dxResizable("option","onResize",e.proxy(function(){this._setContentHeight(),this._actions.onResize(arguments)},this))},_setContentHeight:function(){if(!this._disallowUpdateContentHeight()){var e=this._$content.height();this._$title&&this._$title.is(":visible")&&(e-=this._$title.outerHeight(!0)||0),this._$bottom&&this._$bottom.is(":visible")&&(e-=this._$bottom.outerHeight(!0)||0),this._$popupContent.css({height:e})}},_disallowUpdateContentHeight:function(){var e="auto"===this.option("height"),t="none"!==this._$content.css("maxHeight"),n=parseInt(this._$content.css("minHeight"))>0;return e&&!(t||n)},_renderDimensions:function(){this.option("fullScreen")?this._$content.css({width:"100%",height:"100%"}):this.callBase.apply(this,arguments),this._renderFullscreenWidthClass()},_renderFullscreenWidthClass:function(){this.overlayContent().toggleClass(f,this.overlayContent().outerWidth()===e(window).width())},_renderShadingDimensions:function(){this.option("fullScreen")?this._wrapper().css({width:"100%",height:"100%"}):this.callBase.apply(this,arguments)},_renderPosition:function(){return this.option("fullScreen")?void r.move(this._$content,{top:0,left:0}):this.callBase.apply(this,arguments)},_optionChanged:function(e){switch(e.name){case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry();break;case"bottomTemplate":this._renderBottom(),this._renderGeometry();break;case"onTitleRendered":this._createTitleRenderAction(e.value);break;case"buttons":this._renderTitle(),this._renderBottom(),this._renderGeometry();break;case"dragEnabled":this._renderDrag();break;case"fullScreen":this._$content.toggleClass(p,e.value),this._refresh();break;case"showCloseButton":this._renderTitle();break;default:this.callBase(e)}},bottomToolbar:function(){return this._$bottom},content:function(){return this._$popupContent},overlayContent:function(){return this._$content}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.translator"),r=t.require("/utils/utils.string"),o=t.require("/utils/utils.position"),a=t.require("/utils/utils.common"),s=t.require("/utils/utils.math"),l=t.require("/componentRegistrator"),u="dx-popover",c="dx-popover-wrapper",d="dx-popover-arrow",h="dx-popover-without-title",p={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},f={left:-1,top:-1,center:0,right:1,bottom:1},m={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}};l("dxPopover",n,n.dxPopup.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{target:window,shading:!1,position:"bottom",closeOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,closeOnTargetScroll:!0,arrowPosition:"",arrowOffset:0,boundaryOffset:{h:10,v:10}})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}}]},_init:function(){this.callBase(),this._renderArrow(),this.element().addClass(u),this._wrapper().addClass(c)},_renderArrow:function(){this._$arrow=e("<div>").addClass(d).prependTo(this.overlayContent())},_documentDownHandler:function(e){this._isOutsideClick(e)&&this.callBase(e)},_isOutsideClick:function(t){return!e(t.target).closest(this.option("target")).length},_animate:function(t){t&&t.to&&e.extend(t.to,{position:this._contentPosition}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this._wrapper().toggleClass(h,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition()},_renderOverlayBoundaryOffset:e.noop,_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var e=this._getContainerPosition(),t=o.setup(this._$content,e),n=this._getSideByLocation(t);this._togglePositionClass("dx-position-"+n),this._toggleFlippedClass(t.h.flip,t.v.flip),this._renderArrowPosition(n)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionSide),i.move(this._$content,{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){var e,t,n,i;this._$popupContent&&(e=o.calculate(this._$content,this._getContainerPosition()),e.h.oversize>0&&this._isHorizontalSide()&&!e.h.fit&&(t=this._$content.width()-e.h.oversize,this._$content.width(t)),e.v.oversize>0&&this._isVerticalSide()&&!e.v.fit&&(n=this._$content.height()-e.v.oversize,i=this._$popupContent.height()-e.v.oversize,this._$content.height(n),this._$popupContent.height(i)))},_getContainerPosition:function(){var t=r.pairToObject(this._position.offset||""),n=t.h,i=t.v,o=this._isPopoverInside(),a=(o?-1:1)*f[this._positionSide],s=this._getContentBorderWidth(this._positionSide);return this._isVerticalSide()?i+=a*(this._$arrow.height()-s):this._isHorizontalSide()&&(n+=a*(this._$arrow.width()-s)),e.extend({},this._position,{offset:n+" "+i})},_getContentBorderWidth:function(e){var t=this._$content.css("border-"+e+"-width");return parseInt(t)||0},_getSideByLocation:function(e){var t=e.v.flip,n=e.h.flip;return this._isVerticalSide()&&t||this._isHorizontalSide()&&n||this._isPopoverInside()?p[this._positionSide]:this._positionSide},_togglePositionClass:function(e){this._$wrapper.removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(e)},_toggleFlippedClass:function(e,t){this._$wrapper.toggleClass("dx-popover-flipped-horizontal",e).toggleClass("dx-popover-flipped-vertical",t)},_renderArrowPosition:function(t){var n,i;this._$arrow.css(p[t],-(this._isVerticalSide(t)?this._$arrow.height():this._$arrow.width()));var r,o=this._isVerticalSide(t)?"left":"top",a=this._isVerticalSide(t)?"outerWidth":"outerHeight",l=e(this._position.of),u=l.offset()||{top:0,left:0},c=this._$content.offset(),d=this._$arrow[a](),h=c[o],f=this._$content[a](),m=u[o],g=l.get(0).preventDefault?0:l[a](),_=Math.max(h,m),v=Math.min(h+f,m+g);r="start"===this.option("arrowPosition")?_-h:"end"===this.option("arrowPosition")?v-h-d:(_+v)/2-h-d/2,n=this._getContentBorderWidth(t),i=s.fitIntoRange(r-n+this.option("arrowOffset"),n,f-d-2*n),this._$arrow.css(o,i)},_isPopoverInside:function(){var e=this._getPosition(),t=o.setup.normalizeAlign(e.my),n=o.setup.normalizeAlign(e.at);return t.h===n.h&&t.v===n.v},_getPosition:function(){var t=this.option("position");return a.isString(t)&&(t=e.extend({},m[t])),t},_setContentHeight:function(e){e&&this.callBase()},_renderShadingPosition:function(){this.option("shading")&&this._$wrapper.css({top:0,left:0})},_renderShadingDimensions:function(){this.option("shading")&&this._$wrapper.css({width:"100%",height:"100%"})},_normalizePosition:function(){var t=e.extend({},this._getPosition());t.of||(t.of=this.option("target")),t.collision||(t.collision="flip"),t.boundaryOffset||(t.boundaryOffset=this.option("boundaryOffset")),this._positionSide=this._getDisplaySide(t),this._position=t},_getDisplaySide:function(e){var t=o.setup.normalizeAlign(e.my),n=o.setup.normalizeAlign(e.at),i=f[t.h]===f[n.h]&&f[t.v]===f[n.v]?-1:1,r=Math.abs(f[t.h]-i*f[n.h]),a=Math.abs(f[t.v]-i*f[n.v]);return r>a?n.h:n.v},_isVerticalSide:function(e){return e=e||this._positionSide,"top"===e||"bottom"===e},_isHorizontalSide:function(e){return e=e||this._positionSide,"left"===e||"right"===e},_optionChanged:function(e){switch(e.name){case"showTitle":case"title":case"titleTemplate":this.callBase(e),this._renderGeometry();break;case"target":case"boundaryOffset":case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":e.value&&this.option("fullScreen",!1);break;default:this.callBase(e)}},show:function(e){return e&&this.option("target",e),this.callBase()}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/componentRegistrator"),o=t.require("/ui/events/pointer/ui.events.pointer"),a="dx-tooltip",s="dx-tooltip-wrapper",l=[],u=-500;e(document).on(o.down,function(e){for(var t=l.length-1;t>=0;t--)if(!l[t]._proxiedDocumentDownHandler(e))return}),r("dxTooltip",i,i.dxPopover.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{buttons:[],showCloseButton:!1,showTitle:!1,title:null,titleTemplate:null,onTitleRendered:null,bottomTemplate:null})},_render:function(){this.element().addClass(a),this._wrapper().addClass(s),this.callBase()},_renderContent:function(){this.callBase(),this._contentId=new DevExpress.data.Guid,this._$content.attr({id:this._contentId,role:"tooltip"}),this._toggleAriaDescription(!0)},_toggleAriaDescription:function(t){var i=e(this.option("target")),r=t?this._contentId:n;this.setAria("describedby",r,i)},_overlayStack:function(){return l},_zIndexInitValue:function(){return this.callBase()+u}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/devices"),o=t.require("/componentRegistrator"),a=t.require("/ui/ui.widget"),s=t.require("/ui/widgets/ui.button"),l=t.require("/ui/ui.dataHelper"),u="dx-dropdownmenu",c="dx-dropdownmenu-popup",d="dx-dropdownmenu-popup-wrapper",h="dx-dropdownmenu-list",p="dx-dropdownmenu-button",f={popupWidth:"width",popupHeight:"height"},m={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"};o("dxDropDownMenu",i,a.inherit({_supportedKeys:function(){var t={};return this.option("opened")&&this._list.option("focusedElement")||(t=this._button._supportedKeys()),e.extend(this.callBase(),t,{tab:function(){
this._popup.hide()}})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{buttonIconSrc:{since:"15.1",alias:"buttonIcon"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:n,buttonHeight:n,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,popupPosition:"bottom",popupAnimation:n,onItemRendered:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:[{platform:"ios"}],options:{usePopover:!0}},{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}},{device:[{platform:"android"}],options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])},_initOptions:function(e){"android"===r.current().platform&&(e.popupPosition||(e.popupPosition={at:(e.usePopover?"bottom ":"top ")+(e.rtlEnabled?"left":"right")})),this.callBase(e)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.element().addClass(u),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_render:function(){this._renderButton(),this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_renderContentImpl:function(){this.option("opened")&&this._renderPopup()},_clean:function(){this._cleanFocusState(),this._popup&&(this._popup.element().remove(),delete this._$popup)},_renderButton:function(){var e=this.element().addClass(p),t=this._buttonOptions();this._button=this._createComponent(e,s,t)},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),template:this.option("buttonTemplate"),focusStateEnabled:!1,onClick:e.proxy(function(e){this.option("opened",!this.option("opened")),this._buttonClickAction(e)},this)}},_toggleMenuVisibility:function(e){var t=e===n?!this._popup.option("visible"):e;e&&this._renderPopup(),this._popup.toggle(t),this.setAria("expanded",t)},_renderPopup:function(){if(!this._$popup){var t=this._$popup=e("<div>").appendTo(this.element()),n=this._popupOptions();this._popup=this._createComponent(t,"dxPopover",n)}},_popupOptions:function(){var t=!this.option("usePopover");return{onInitialized:function(e){e.component._wrapper().addClass(d).toggleClass(c,t)},visible:this.option("opened"),onContentReady:e.proxy(this._popupContentReadyHandler,this),deferRendering:!1,position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:e.proxy(function(e){"visible"===e.name&&this.option("opened",e.value)},this),target:this.element(),height:this.option("popupHeight"),width:this.option("popupWidth")}},_popupContentReadyHandler:function(){var e=this._$popup.dxPopover("instance");this._renderList(e)},_renderList:function(t){var n,i=t.content(),r=this._listOptions();i.addClass(h),this._list=this._createComponent(i,"dxList",r),this._list._getAriaTarget=e.proxy(function(){return this.element()},this),this._setListDataSource(),n=.5*e(window).height(),i.height()>n&&i.height(n)},_listOptions:function(){return{_keyboardProcessor:this._listProcessor,pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this._getTemplateByOption("itemTemplate"),onItemClick:e.proxy(function(e){this.option("opened",!1),this._itemClickAction(e)},this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items"))},_attachKeyboardEvents:function(){this.callBase.apply(this,arguments),this._listProcessor=this._keyboardProcessor.attachChildProcessor(),this._list&&this._list.option("_keyboardProcessor",this._listProcessor)},_cleanFocusState:function(){this.callBase.apply(this,arguments),delete this._listProcessor},_toggleVisibility:function(e){this.callBase(e),this._button.option("visible",e)},_optionChanged:function(e){var t=e.name,n=e.value;switch(t){case"items":case"dataSource":this._refreshDataSource(),this._setListDataSource();break;case"itemTemplate":this._list&&this._list.option(t,this._getTemplate(n));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(m[t],n),this._renderPopup();break;case"popupWidth":case"popupHeight":this._popup.option(f[t],n);break;case"usePopover":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(t,n),this.callBase(e);break;case"onItemRendered":this._list&&this._list.option(t,n);break;case"opened":this._toggleMenuVisibility(n);break;case"popupPosition":break;default:this.callBase(e)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(l))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/date/ui.dateUtils",["jquery"],function(e){var t=function(){return["year","day","month","day"]},n=6e4,i=1440*n,r=365*i,o=DevExpress.ui.dateUtils={SUPPORTED_FORMATS:["date","time","datetime"],DEFAULT_FORMATTER:function(e){return e},DATE_COMPONENT_TEXT_FORMATTER:function(t,n){var i=e("<div>").addClass("dx-dateview-formatter-container");return e("<span>").text(t).addClass("dx-dateview-value-formatter").appendTo(i),e("<span>").text(n).addClass("dx-dateview-name-formatter").appendTo(i),i},ONE_MINUTE:n,ONE_DAY:i,ONE_YEAR:r,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,1,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var e=new Date;return new Date(e.getFullYear()+50,e.getMonth(),e.getDate(),23,59,59)}(),FORMATS_INFO:{date:{standardPattern:"yyyy-MM-dd",components:t()},time:{standardPattern:"HH:mm",components:["hours","minutes"]},datetime:{standardPattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss'Z'",components:t().concat(["hours","minutes","seconds","milliseconds"])},"datetime-local":{standardPattern:"yyyy'-'MM'-'dd'T'HH':'mm",components:t().concat(["hours","minutes","seconds"])}},FORMATS_MAP:{date:"d",time:"t",datetime:"S","datetime-local":"f"},toStandardDateFormat:function(e,t,n){return n=n||o.FORMATS_INFO[t].standardPattern,Globalize.format(e,n)},fromStandardDateFormat:function(e){return Globalize.parseDate(e,o.FORMATS_INFO.datetime.standardPattern)||Globalize.parseDate(e,o.FORMATS_INFO["datetime-local"].standardPattern)||Globalize.parseDate(e,o.FORMATS_INFO.time.standardPattern)||Globalize.parseDate(e,o.FORMATS_INFO.date.standardPattern)||Date.parse&&Date.parse(e)&&new Date(Date.parse(e))},getMaxMonthDay:function(e,t){return new Date(e,t+1,0).getDate()},mergeDates:function(t,n,i){if(!n)return void 0;isNaN(t.getTime())&&(t=new Date(0,0,0,0,0,0));var r=o.FORMATS_INFO[i];return e.each(r.components,function(){var e=o.DATE_COMPONENTS_INFO[this];t[e.setter](n[e.getter]())}),t},getLongestCaptionIndex:function(e){for(var t=0,n=0,i=0;i<e.length;++i)e[i].length>n&&(t=i,n=e[i].length);return t},expandPattern:function(e){return 1===e.length?Globalize.culture().calendar.patterns[e]:e},formatUsesMonthName:function(e){return-1!==o.expandPattern(e).indexOf("MMMM")},formatUsesDayName:function(e){return-1!==o.expandPattern(e).indexOf("dddd")},getLongestDate:function(e,t,n){var i=new Date(1888,o.formatUsesMonthName(e)?o.getLongestCaptionIndex(t):9,21,23,59,59,999);return o.formatUsesDayName(e)&&i.setDate(i.getDate()-i.getDay()+o.getLongestCaptionIndex(n)),i},calculateMaximumDateFormatWidth:function(t,n,i){if(!i||e(i).is(":visible")){var r,a=2,s=e("<div>"+Globalize.format(o.getLongestDate(t,Globalize.culture().calendar.months.names,Globalize.culture().calendar.days.names),t)+"</div>").css({visibility:"hidden","white-space":"nowrap",position:"absolute","float":"left"});return n&&s.css(n),s.appendTo(e(i?i:"body")),r=s.width()+a,s.remove(),r}}};return o.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",possibleFormats:["yy","yyyy"],formatter:o.DEFAULT_FORMATTER,startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",possibleFormats:["d","dd"],formatter:function(e,t,n){if(!t)return e;var i=new Date(n.getTime());return i.setDate(e),o.DATE_COMPONENT_TEXT_FORMATTER(e,Globalize.culture().calendar.days.names[i.getDay()])},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",possibleFormats:["M","MM","MMM","MMMM"],formatter:function(e,t){var n=Globalize.culture().calendar.months.names[e];return t?o.DATE_COMPONENT_TEXT_FORMATTER(e+1,n):n},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",possibleFormats:["H","HH","h","hh"],formatter:function(e){return Globalize.format(new Date(0,0,0,e),"HH")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",possibleFormats:["m","mm"],formatter:function(e){return Globalize.format(new Date(0,0,0,0,e),"mm")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",possibleFormats:["s","ss"],formatter:function(e){return Globalize.format(new Date(0,0,0,0,0,e),"ss")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",possibleFormats:["f","ff","fff"],formatter:function(e){return Globalize.format(new Date(0,0,0,0,0,0,e),"fff")},startValue:0,endValue:999}},function(){var t="yyyy'-'MM'-'dd'T'HH':'mm'Z'",n=e("<input>").attr("type","datetime");n.val(o.toStandardDateFormat(new Date,"datetime",t)),n.val()&&(o.FORMATS_INFO.datetime.standardPattern=t)}(),o}),DevExpress.define("/ui/widgets/date/ui.calendar.navigator",["jquery","/ui/ui.widget","/ui/widgets/ui.button","/componentRegistrator"],function(e,t,n){var i="dx-calendar-navigator",r="dx-calendar-navigator-previous-month",o="dx-calendar-navigator-next-month",a="dx-calendar-navigator-previous-view",s="dx-calendar-navigator-next-view",l="dx-calendar-disabled-navigator-link",u="dx-calendar-caption-button";return t.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_render:function(){this.callBase(),this.element().addClass(i),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t,i,l,c=this,d=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent(e("<a>"),n,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(e){c._clickAction({direction:-d,jQueryEvent:e})},_templates:{}}),t=this._prevButton.element().addClass(a).addClass(r),this._nextButton=this._createComponent(e("<a>"),n,{focusStateEnabled:!1,icon:"chevronright",onClick:function(e){c._clickAction({direction:d,jQueryEvent:e})},_templates:{}}),i=this._nextButton.element().addClass(s).addClass(o),this._caption=this._createComponent(e("<a>").addClass(u),n,{focusStateEnabled:!1,onClick:function(e){c._captionClickAction({jQueryEvent:e})},_templates:{}}),l=this._caption.element(),this.element().append(t,l,i)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(e,t){var n="_"+e+"Button",i=this[n];i&&(i.option("disabled",t),i.element().toggleClass(l,t))},_optionChanged:function(e){var t=e.value;switch(e.name){case"text":this._renderCaption(t);break;default:this.callBase(e)}}})}),DevExpress.define("/ui/widgets/date/ui.calendar.baseView",["jquery","/utils/utils.inflector","/utils/utils.date","/ui/ui.widget","/ui/events/ui.events.utils"],function(e,t,n,i,r){var o=i["abstract"],a="dx-calendar-other-view",s="dx-calendar-cell",l="dx-calendar-empty-cell",u="dx-calendar-today",c="dx-calendar-selected-date",d="dx-calendar-contoured-date",h=r.addNamespace("dxclick","dxCalendar"),p="dxDateValueKey";return i.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return e.extend(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0})},_init:function(){this.callBase();var e=this.option("value");this.option("value",new Date(e)),this.option("value").valueOf()||this.option("value",new Date(0,0,0,0,0,0))},_render:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this._$table=e("<table>"),this.element().append(this._$table),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_renderBody:function(){function t(t){var c=i._getCellData(o,t),h=e("<td>").appendTo(d).addClass(s).toggleClass(u,i._isTodayCell(c)).toggleClass(l,i._isDateOutOfRange(c)).toggleClass(a,i._isOtherView(c)).attr("data-value",n.getShortDate(c)).data(p,c);i.setAria({role:"option",label:i.getCellAriaLabel(c)},h),r?r.render({text:i._getCellText(c),date:c,view:i._getViewName()},h,t):h.text(i._getCellText(c))}var i,r,o,c,d;for(this.$body=e("<tbody>").appendTo(this._$table),i=this,r=this.option("cellTemplate"),o=0,c=this.option("rowCount");c>o;o++)d=e("<tr>").appendTo(this.$body),this._iterateCells(t)},_iterateCells:function(e){for(var t=this.option("rtl"),n=this.option("colCount"),i=t?n-1:0;t?i>=0:n>i;)e(i),t?--i:++i},_renderEvents:function(){this._createCellClickAction(),this._$table.off(h).on(h,"td",e.proxy(function(t){e(t.currentTarget).hasClass(l)||this._cellClickAction({jQueryEvent:t,value:e(t.currentTarget).data(p)})},this)),this.element().off("beforeactivate").on("beforeactivate",function(e){e.preventDefault()})},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_isTodayCell:o,_isDateOutOfRange:o,_isOtherView:o,_getCellText:o,_getCellData:o,_renderContouredDate:function(e){if(this.option("focusStateEnabled")){e=e||this.option("contouredDate");var t=this._$table.find("."+d),n=this._getCellByDate(e);t.removeClass(d),n.addClass(d)}},_dispose:function(){this._keyboardProcessor=void 0,this.callBase()},_changeValue:function(e){if(e){var t=this.option("value"),n=t?new Date(t):new Date;n.setDate(e.getDate()),n.setMonth(e.getMonth()),n.setFullYear(e.getFullYear()),n.setDate(e.getDate()),this.option("value",n)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var e=this.option("value"),t=this._getCellByDate(e);this._selectedCell&&this._selectedCell.removeClass(c),t.addClass(c),this._selectedCell=t}},getCellAriaLabel:function(e){return this._getCellText(e)},_getFirstAvailableDate:function(){var e=this.option("date"),t=this.option("min");return e=n.getFirstDateView(this._getViewName(),e),new Date(t&&t>e?t:e)},_getCellByDate:o,isBoundary:o,_optionChanged:function(e){var t=e.name;switch(t){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(e.value);break;case"onCellClick":this._createCellClickAction();break;case"cellTemplate":this._invalidate();break;default:this.callBase(e)}}})}),DevExpress.define("/ui/widgets/date/ui.calendar.views",["jquery","/utils/utils.date","/utils/utils.common","/ui/widgets/date/ui.calendar.baseView"],function(e,t,n,i){var r="dx-calendar-other-month",o="dx-calendar-other-view";return{month:i.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return e.extend(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find("."+o).addClass(r)},_renderFocusTarget:e.noop,getCellAriaLabel:function(e){return Globalize.format(e,"D")},_renderHeader:function(){var t=this,n=e("<thead>").prependTo(this._$table),i=e("<tr>").appendTo(n);this._iterateCells(function(n){e("<th>").text(t._getDayCaption(t._getFirstDayOfWeek()+n)).appendTo(i)})},getNavigatorCaption:function(){var e=Globalize.culture().calendar.months.names[this.option("date").getMonth()],t=this.option("date").getFullYear();return this.option("rtl")?t+" "+e:e+" "+t},_isTodayCell:function(e){var n=new Date;return t.sameMonthAndYear(e,n)&&e.getDate()===n.getDate()},_isDateOutOfRange:function(e){var n=this.option("min"),i=this.option("max");return!t.dateInRange(e,n,i,"date")},_isOtherView:function(e){return e.getMonth()!==this.option("date").getMonth()},_getCellText:function(e){return e.getDate()},_getDayCaption:function(e){var t=this.option("colCount");return Globalize.culture().calendar.days.namesAbbr[e%t]},_getCellData:function(e,n){var i=t.getFirstMonthDate(this.option("date")),r=i.getDay()-this._getFirstDayOfWeek(),o=this.option("colCount"),a=o*e-r;return a=0>r?a-o:a,i.setDate(i.getDate()+a+n),i},_getFirstDayOfWeek:function(){return this.option("firstDayOfWeek")||Globalize.culture().calendar.firstDay},_getCellByDate:function(e){return this._$table.find("td[data-value='"+t.getShortDate(e)+"']")},isBoundary:function(e){return t.sameMonthAndYear(e,this.option("min"))||t.sameMonthAndYear(e,this.option("max"))}}),year:i.inherit({_getViewName:function(){return"year"},_isTodayCell:function(e){return t.sameMonthAndYear(e,new Date)},_isDateOutOfRange:function(e){return!t.dateInRange(e,t.getFirstMonthDate(this.option("min")),t.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(e){return Globalize.culture().calendar.months.names[e.getMonth()].slice(0,3)},_getCellData:function(e,t){var n=new Date(this.option("date")),i=this.option("colCount");return n.setDate(1),n.setMonth(e*i+t),n},_getCellByDate:function(e){var n=new Date(e);return n.setDate(1),this._$table.find("td[data-value='"+t.getShortDate(n)+"']")},getCellAriaLabel:function(e){return Globalize.format(e,"Y")},getNavigatorCaption:function(){return this.option("date").getFullYear()},isBoundary:function(e){return t.sameYear(e,this.option("min"))||t.sameYear(e,this.option("max"))}}),decade:i.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(e){return t.sameYear(e,new Date)},_isDateOutOfRange:function(e){var n=this.option("min"),i=this.option("max");return!t.dateInRange(e.getFullYear(),n&&n.getFullYear(),i&&i.getFullYear())},_isOtherView:function(e){var n=new Date(e);return n.setMonth(1),!t.sameDecade(n,this.option("date"))},_getCellText:function(e){return e.getFullYear()},_getCellData:function(e,n){var i=this.option("colCount"),r=t.getFirstYearInDecade(this.option("date"))-1+e*i+n;return new Date(r,0,1)},getNavigatorCaption:function(){var e=t.getFirstYearInDecade(this.option("date"));return e+"-"+(e+9)},_isValueOnCurrentView:function(e,n){return t.sameDecade(e,n)},_getCellByDate:function(e){var n=new Date(e);return n.setDate(1),n.setMonth(0),this._$table.find("td[data-value='"+t.getShortDate(n)+"']")},isBoundary:function(e){return t.sameDecade(e,this.option("min"))||t.sameDecade(e,this.option("max"))}}),century:i.inherit({_getViewName:function(){return"century"},_isTodayCell:function(e){return t.sameDecade(e,new Date)},_isDateOutOfRange:function(e){var n=t.getFirstYearInDecade(e),i=t.getFirstYearInDecade(this.option("min")),r=t.getFirstYearInDecade(this.option("max"));return!t.dateInRange(n,i,r)},_isOtherView:function(e){var n=new Date(e);return n.setMonth(1),!t.sameCentury(n,this.option("date"))},_getCellText:function(e){var t=e.getFullYear();return t+" - "+(t+9)},_getCellData:function(e,n){var i=this.option("colCount"),r=t.getFirstDecadeInCentury(this.option("date"))+10*(-1+e*i+n);return new Date(r,0,1)},_getCellByDate:function(e){var n=new Date(e);return n.setDate(1),n.setMonth(0),n.setFullYear(t.getFirstYearInDecade(n)),this._$table.find("td[data-value='"+t.getShortDate(n)+"']")},getNavigatorCaption:function(){var e=t.getFirstDecadeInCentury(this.option("date"));return e+"-"+(e+99)},isBoundary:function(e){return t.sameCentury(e,this.option("min"))||t.sameCentury(e,this.option("max"))}})}}),DevExpress.define("/ui/widgets/date/ui.calendar",["jquery","/ui/uiNamespace","/utils/utils.translator","/utils/utils.browser","/utils/utils.date","/utils/utils.common","/devices","/ui/widgets/ui.button","/ui/ui.editor","/componentRegistrator","/ui/ui.keyboardProcessor","/ui/widgets/date/ui.calendar.navigator","/ui/widgets/date/ui.calendar.views"],function(e,t,n,i,r,o,a,s,l,u,c,d,h){var p=DevExpress.fx,f="dx-calendar",m="dx-calendar-body",g="dx-calendar-cell",_="dx-calendar-footer",v="dx-calendar-today-button",y="dx-calendar-with-footer",x="dx-calendar-views-wrapper",b="dx-calendar-view",w="dx-state-focused",C=250,S=.6,k=1,D="dxDateValueKey",T={month:3,year:2,decade:1,century:0},E=l.inherit({_activeStateUnit:"."+g,_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:"month",maxZoomLevel:"month",minZoomLevel:"century",showTodayButton:!1,cellTemplate:"cell",onCellClick:null,onContouredChanged:null,hasFocus:function(e){return e.hasClass(w)}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return a.real().generic&&!a.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return e.extend(this.callBase(),{rightArrow:function(e){e.preventDefault(),e.ctrlKey?this._waitRenderView(1):this._moveCurrentDate(1*this._getRtlCorrection())},leftArrow:function(e){e.preventDefault(),e.ctrlKey?this._waitRenderView(-1):this._moveCurrentDate(-1*this._getRtlCorrection())},upArrow:function(e){if(e.preventDefault(),e.ctrlKey)this._navigateUp();else{if(p.isAnimating(this._view.element()))return;this._moveCurrentDate(-1*this._view.option("colCount"))}},downArrow:function(e){if(e.preventDefault(),e.ctrlKey)this._navigateDown();else{if(p.isAnimating(this._view.element()))return;this._moveCurrentDate(1*this._view.option("colCount"))}},home:function(e){e.preventDefault();var t=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("min"),o=r.sameView(t,n,i)?i:r.getViewFirstCellDate(t,n);this.option("currentDate",o)},end:function(e){e.preventDefault();var t=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("max"),o=r.sameView(t,n,i)?i:r.getViewLastCellDate(t,n);this.option("currentDate",o)},pageUp:function(e){e.preventDefault(),this._waitRenderView(-1)},pageDown:function(e){e.preventDefault(),this._waitRenderView(1)},tab:e.noop,enter:function(){if(this._isMaxZoomLevel()){var e=this._updateTimeComponent(this.option("currentDate"));this._dateOption("value",e)}else this._navigateDown()}})},_getSerializationFormat:function(){var e=this.option("value");return o.isNumber(e)?"number":o.isString(e)?r.getDateSerializationFormat(e):void 0},_convertToDate:function(e){var t=this._getSerializationFormat();return r.deserializeDate(e,t)},_dateOption:function(e,t){if(1===arguments.length)return this._convertToDate(this.option(e));var n=this._getSerializationFormat();this.option(e,r.serializeDate(t,n))},_moveCurrentDate:function(e){var t,n=new Date(this.option("currentDate")),i=new Date(n),o=this.option("zoomLevel");switch(o){case"month":i.setDate(n.getDate()+e);break;case"year":i.setMonth(n.getMonth()+e);break;case"decade":i.setFullYear(n.getFullYear()+e);break;case"century":i.setFullYear(n.getFullYear()+10*e)}t=2*e/Math.abs(e),Math.abs(e)>1&&!r.sameView(o,n,i)&&("decade"===o&&i.setFullYear(n.getFullYear()+e-t),"century"===o&&i.setFullYear(n.getFullYear()+10*(e-t))),this.option("currentDate",i)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var e=this.option("minZoomLevel"),t=this.option("maxZoomLevel"),n=this.option("zoomLevel");T[t]<T[e]||(T[n]>T[t]?this.option("zoomLevel",t):T[n]<T[e]&&this.option("zoomLevel",e))},_initCurrentDate:function(){var e=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(e){return e=r.normalizeDate(e,this._getMinDate(),this._getMaxDate()),o.isDefined(e)?new Date(e):e},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_updateCurrentDate:function(e){var t,n,i,r;return p.isAnimating(this._$viewsWrapper)&&p.stop(this._$viewsWrapper,!0),t=this._getMinDate(),n=this._getMaxDate(),t>n?void this.option("currentDate",new Date):(i=this._getNormalizedDate(e),e.getTime()!==i.getTime()?void this.option("currentDate",new Date(i)):(r=this._getViewsOffset(this._view.option("date"),i),void(this._view&&0!==r&&!this._suppressNavigation?this._navigate(r,i):(this._renderNavigator(),this._setViewContoured(i),this._updateAriaId(i)))))},_setViewContoured:function(e){this.option("hasFocus")(this._focusTarget())&&this._view.option("contouredDate",e)},_getMinDate:function(){return this._dateOption("min")||new Date(1e3,0)},_getMaxDate:function(){return this._dateOption("max")||new Date(3e3,0)},_getViewsOffset:function(e,t){var n,i=this.option("zoomLevel");if("month"===i)return this._getMonthsOffset(e,t);switch(i){case"century":n=100;break;case"decade":n=10;break;default:n=1}return parseInt(t.getFullYear()/n)-parseInt(e.getFullYear()/n)},_getMonthsOffset:function(e,t){var n=t.getFullYear()-e.getFullYear(),i=t.getMonth()-e.getMonth();return 12*n+i},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var n=this._getDateByOffset(t*this._getRtlCorrection());this.option("currentDate",n),setTimeout(e.proxy(function(){this._alreadyViewRender=!1},this))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(e,t){var n,i,o;return t=new Date(t||this.option("currentDate")),n=t.getDate(),i=r.getDifferenceInMonth(this.option("zoomLevel"))*e,t.setDate(1),t.setMonth(t.getMonth()+i),o=r.getLastMonthDate(t).getDate(),t.setDate(n>o?o:n),t},_focusTarget:function(){return this.element()},_render:function(){this.callBase(),this.element().addClass(f),this._renderBody(),this._renderViews(),this._renderNavigator(),this._renderSwipeable(),this._renderFooter(),this.setAria({role:"listbox",label:Globalize.localize("dxCalendar-ariaWidgetName")}),this._updateAriaSelected(),this._updateAriaId(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){if(!this._$viewsWrapper){var t=e("<div>").addClass(m);this._$viewsWrapper=e("<div>").addClass(x),t.append(this._$viewsWrapper),this.element().append(t)}},_renderViews:function(){var e,t,n;this.element().addClass(b+"-"+this.option("zoomLevel")),e=this.option("currentDate"),this._view=this._renderSpecificView(e),this._view.option("_keyboardProcessor",this._viewKeyboardProcessor),t=this._getDateByOffset(-1,e),this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null,n=this._getDateByOffset(1,e),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null,this._translateViews()},_renderSpecificView:function(t){var n=h[this.option("zoomLevel")],i=e("<div>").appendTo(this._$viewsWrapper),r=this._viewConfig(t);return new n(i,r)},_viewConfig:function(t){return{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),rtl:this.option("rtlEnabled"),disabled:this.option("disabled")||DevExpress.designMode,tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),onCellClick:e.proxy(this._cellClickHandler,this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel()}},_isViewAvailable:function(e){var t=this.option("zoomLevel"),n=r.getViewMinBoundaryDate(t,this._getMinDate()),i=r.getViewMaxBoundaryDate(t,this._getMaxDate());return r.dateInRange(e,n,i)},_translateViews:function(){n.move(this._view.element(),{left:0}),this._beforeView&&n.move(this._beforeView.element(),{left:this._getViewPosition(-1)}),this._afterView&&n.move(this._afterView.element(),{left:this._getViewPosition(1)})},_getViewPosition:function(e){var t=!this.option("rtlEnabled")||i.msie&&"8"!==i.version[0]?1:-1;return 100*e*t+"%"},_cellClickHandler:function(e){var t,n,i=this.option("zoomLevel"),o=r.getViewDown(i),a=this._isMaxZoomLevel();o&&!a?(t=e.jQueryEvent.currentTarget,this._navigateDown(t)):(n=this._updateTimeComponent(e.value),this._dateOption("value",n),this._cellClickAction(e))},_updateTimeComponent:function(e){var t=new Date(e),n=this._dateOption("value");return n&&(t.setHours(n.getHours()),t.setMinutes(n.getMinutes()),t.setSeconds(n.getSeconds()),t.setMilliseconds(n.getMilliseconds())),t},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var n,i,o=this.option("zoomLevel");this._isMaxZoomLevel()||(n=r.getViewDown(o))&&(i=this._view.option("contouredDate")||this._view.option("date"),t&&(i=e(t).data(D)),this.option("currentDate",i),this.option("zoomLevel",n),this._renderNavigator(),this._animateShowView(),this._setViewContoured(this._getNormalizedDate(i)))},_renderNavigator:function(){if(!this._navigator){var t=e("<div>").prependTo(this.element());this._navigator=new d(t,this._navigatorConfig())}this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:e.proxy(this._navigatorClickHandler,this),onCaptionClick:e.proxy(this._navigateUp,this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(e){var t=this._getDateByOffset(e.direction,this.option("currentDate"));this.option("currentDate",t),this._updateNavigatorCaption(-e.direction*this._getRtlCorrection())},_navigateUp:function(){var t,n=this.option("zoomLevel"),i=r.getViewUp(n);i&&!this._isMinZoomLevel(n)&&(t=this._view.option("contouredDate"),this.option("zoomLevel",i),this.option("currentDate",t||this._view.option("date")),this._renderNavigator(),this._animateShowView().done(e.proxy(function(){this._setViewContoured(t)},this)))},_isMinZoomLevel:function(e){var t=this._getMinDate(),n=this._getMaxDate();return r.sameView(e,t,n)||this._dateOption("minZoomLevel")===e},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!o.isDefined(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!o.isDefined(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.element(),"dxSwipeable",{onStart:e.proxy(this._swipeStartHandler,this),onUpdated:e.proxy(this._swipeUpdateHandler,this),onEnd:e.proxy(this._swipeEndHandler,this),itemSizeFunc:e.proxy(this._viewWidth,this)}))},_swipeStartHandler:function(e){p.stop(this._$viewsWrapper,!0),e.jQueryEvent.maxLeftOffset=this._getRequiredView("next")?1:0,e.jQueryEvent.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(e){var t,n=this.option("rtlEnabled");return"next"===e?t=n?this._beforeView:this._afterView:"prev"===e&&(t=n?this._afterView:this._beforeView),t},_swipeUpdateHandler:function(e){var t=e.jQueryEvent.offset;n.move(this._$viewsWrapper,{left:t*this._viewWidth()}),this._updateNavigatorCaption(t)},_swipeEndHandler:function(e){var t,n=e.jQueryEvent.targetOffset,i=n?n/Math.abs(n):0;return 0===i?void this._animateWrapper(0,C):(t=this._getDateByOffset(-i*this._getRtlCorrection()),this._isDateInInvalidRange(t)&&(t=i>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",t),void 0)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=this.element().width()),this._viewWidthValue;
},_updateNavigatorCaption:function(e){e*=this._getRtlCorrection();var t=this._view;e>.5&&this._beforeView?t=this._beforeView:-.5>e&&this._afterView&&(t=this._afterView),this._navigator.option("text",t.getNavigatorCaption())},_isDateInInvalidRange:function(e){if(!this._view.isBoundary(e)){var t=this._getMinDate(),n=this._getMaxDate(),i=r.normalizeDate(e,t,n);return i===t||i===n}},_renderFooter:function(){var t,n=this.option("showTodayButton");n&&(t=this._createComponent(e("<a>"),s,{focusStateEnabled:!1,text:Globalize.localize("dxCalendar-todayButtonText"),onClick:e.proxy(function(){this._toTodayView()},this),_templates:{}}).element().addClass(v),this._$footer=e("<div>").addClass(_).append(t),this.element().append(this._$footer)),this.element().toggleClass(y,n)},_animateShowView:function(){return p.stop(this._view.element(),!0),this._popAnimationView(this._view,S,k,C).promise()},_popAnimationView:function(e,t,n,i){return p.animate(e.element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:n,opacity:n},duration:i})},_navigate:function(t,n){var i;0!==t&&1!==Math.abs(t)&&this._isViewAvailable(n)&&(i=this._renderSpecificView(n),t>0?(this._afterView&&this._afterView.element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.element().remove(),this._beforeView=i),this._translateViews());var r=this._getRtlCorrection(),o=t>0?1:0>t?-1:0,a=-r*o*this._viewWidth(),s=this._$viewsWrapper.position().left;s!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,n):this._animateWrapper(a,C).done(e.proxy(this._wrapperAnimationEndHandler,this,t,n)))},_animateWrapper:function(e,t){return p.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})},_toTodayView:function(){var e=new Date;return this._isMaxZoomLevel()?void this._dateOption("value",e):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",e),this._animateShowView(),this._preventViewChangeAnimation=!1,void 0)},_wrapperAnimationEndHandler:function(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t,this.option(""))},_rearrangeViews:function(e){var t,n,i,r,o;0!==e&&(0>e?(t=1,n="_beforeView",i="_afterView"):(t=-1,n="_afterView",i="_beforeView"),this[n])&&(r=this[n].option("date"),this[i]&&this[i].element().remove(),e===t?this[i]=this._view:(this[i]=this._renderSpecificView(this._getDateByOffset(t,r)),this._view.element().remove()),this._view=this[n],o=this._getDateByOffset(-t,r),this[n]=this._isViewAvailable(o)?this._renderSpecificView(o):null)},_resetLocation:function(){n.move(this._$viewsWrapper,{left:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.element().remove(),this._beforeView&&this._beforeView.element().remove(),this._afterView&&this._afterView.element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(e){var t=e?new Date(e):null;this._view.option("value",t),this._beforeView&&this._beforeView.option("value",t),this._afterView&&this._afterView.option("value",t)},_updateAriaSelected:function(e,t){e=e||this._dateOption("value");var n=this._view._getCellByDate(t),i=this._view._getCellByDate(e);this.setAria("selected",void 0,n),this.setAria("selected",!0,i),e&&this.option("currentDate").getTime()===e.getTime()&&this._updateAriaId(e,t)},_updateAriaId:function(e){e=e||this.option("currentDate");var t=new DevExpress.data.Guid,n=this._view._getCellByDate(e);this.setAria("id",t,n),this.setAria("activedescendant",t),this._onContouredChanged(t)},_suppressingNavigation:function(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation},_optionChanged:function(e){var t=e.value,n=e.previousValue;switch(e.name){case"width":this.callBase(e),this._clearViewWidthCache();break;case"min":case"max":this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(n)),this._updateCurrentDate(t);break;case"zoomLevel":this.element().removeClass(b+"-"+n),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":t=this._convertToDate(t),n=this._convertToDate(n),this._updateAriaSelected(t,n),this.option("currentDate",o.isDefined(t)?new Date(t):new Date),this._updateViewsValue(t),this.callBase(e);break;case"disabled":this._view.option("disabled",t),this.callBase(e);break;case"showTodayButton":this._invalidate();break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"cellTemplate":this._invalidate();break;case"hasFocus":break;default:this.callBase(e)}}});return u("dxCalendar",t,E),E}),DevExpress.require(["/ui/widgets/date/ui.calendar"]),DevExpress.define("/ui/widgets/date/ui.timeView",["jquery","/ui/uiNamespace","/utils/utils.support","/componentRegistrator","/ui/ui.editor","/ui/widgets/ui.numberBox"],function(e,t,n,i,r,o){var a="dx-timeview",s="dx-timeview-clock",l="dx-timeview-field",u="dx-timeview-hourarrow",c="dx-timeview-minutearrow",d=function(e,t,i){n.transform?p(e,t,i):h(e,t,i)},h=function(e,t,n){var i,r,o,a;t=t/180*Math.PI,i=Math.sin(t),r=Math.cos(t),e.css("filter","none"),o=e.width(),a=e.height(),e.css("filter",'progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+r+", M12 = "+-i+", M21 = "+i+", M22 = "+r+")");var s=e.width(),l=e.height(),u=(s-o)/2,c=(l-a)/2;e.css("margin-left",-o/2+(a/2-n)*i-u),e.css("margin-top",a/2-(a/2-n)*r-c)},p=function(e,t,n){e.css("transform","rotate("+t+"deg) translate(0,"+n+"px)")},f=r.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{value:new Date(e.now()),_arrowOffset:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{_arrowOffset:15}},{device:{platform:"generic"},options:{_arrowOffset:5}}])},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.element().addClass(a)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=e("<div>").appendTo(this.element());this._createComponent(t,"dxBox",{height:"100%",width:"100%",direction:"col",items:[{ratio:1,shrink:0,baseSize:"auto",template:e.proxy(this._renderClock,this)},{ratio:0,shrink:0,baseSize:50,template:e.proxy(this._renderField,this)}]})},_renderClock:function(t,n,i){this._$hourArrow=e("<div>").addClass(u),this._$minuteArrow=e("<div>").addClass(c),i.addClass(s).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",i)},_updateClock:function(){var e=this._getValue(),t=30*e.getHours()+e.getMinutes()/2,n=6*e.getMinutes();d(this._$hourArrow,t,this.option("_arrowOffset")),d(this._$minuteArrow,n,this.option("_arrowOffset"))},_renderField:function(){return this._createHourBox(),this._createMinuteBox(),this._createComponent(e("<div>").addClass(l),"dxBox",{direction:"row",align:"center",crossAlign:"center",items:[{ratio:0,shrink:0,baseSize:"auto",template:e.proxy(function(){return this._hourBox.element()},this)},{ratio:0,shrink:0,baseSize:"auto",template:Globalize.culture().calendar[":"]},{ratio:0,shrink:0,baseSize:"auto",template:e.proxy(function(){return this._minuteBox.element()},this)}]}).element()},_createHourBox:function(){this._hourBox=this._createComponent(e("<div>"),o,e.extend({min:-1,max:24,value:this._getValue().getHours(),onValueChanged:e.proxy(function(e){var t,n=(24+e.value)%24;this._hourBox.option("value",n),t=new Date(this._getValue()),t.setHours(n),this.option("value",t)},this)},this._getNumberBoxConfig())),this._hourBox.setAria("label","hours")},_createMinuteBox:function(){this._minuteBox=this._createComponent(e("<div>"),o,e.extend({min:-1,max:60,value:this._getValue().getMinutes(),onValueChanged:e.proxy(function(e){var t,n=(60+e.value)%60;this._minuteBox.option("value",n),t=new Date(this._getValue()),t.setMinutes(n),this.option("value",t)},this)},this._getNumberBoxConfig())),this._minuteBox.setAria("label","minutes")},_getNumberBoxConfig:function(){return{showSpinButtons:!0,disabled:this.option("disabled"),valueFormat:function(e){return(10>e?"0":"")+e}}},_updateField:function(){this._hourBox&&this._hourBox.option("value",this._getValue().getHours()),this._minuteBox&&this._minuteBox.option("value",this._getValue().getMinutes())},_updateTime:function(){this._updateClock(),this._updateField()},_visibilityChanged:function(e){e&&this._updateTime()},_toggleDisabledState:function(e){this._hourBox&&this._hourBox.option("disabled",e),this._minuteBox&&this._minuteBox.option("disabled",e)},_optionChanged:function(e){switch(e.name){case"value":this._updateTime(),this.callBase(e);break;case"_arrowOffset":break;default:this.callBase(e)}}});return i("dxTimeView",t,f),f}),DevExpress.define("/ui/widgets/date/ui.dateViewRoller",["jquery","/ui/uiNamespace","/ui/widgets/date/ui.dateUtils","/utils/utils.date","/ui/ui.editor","/componentRegistrator","/ui/events/ui.events.utils"],function(e,t,n,i,r,o,a){var s="dx-dateviewroller",l="dx-state-active",u="dx-dateviewroller-current",c="dx-dateview-item",d="dx-dateview-item-selected",h="dx-dateview-item-selected-frame",p="dx-dateview-item-selected-border",f=DevExpress.ui.dxScrollable.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{showScrollbar:!1,useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"win"===e.platform&&e.version&&8===e.version[0]},options:{showOnClick:!0}},{device:{platform:"generic"},options:{scrollByContent:!0}}])},_init:function(){this.callBase(),this._renderSelectedItemFrame()},_render:function(){this.callBase(),e.each(this._strategy._scrollers,function(t,n){n._correctLocation=e.noop}),this.element().addClass(s),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._wrapAction("_endAction",e.proxy(this._endActionHandler,this)),this._renderSelectedIndexChanged()},_renderSelectedIndexChanged:function(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")},_renderContainerClick:function(){if(this.option("showOnClick")){var e=a.addNamespace("dxclick",this.NAME),t=this._createActionByOption("onClick");this._$container.off(e).on(e,function(e){t({jQueryEvent:e})})}},_wrapAction:function(e,t){var n=this._strategy,i=n[e];n[e]=function(){return t.apply(this,arguments),i.apply(this,arguments)}},_renderItems:function(){var t=this.option("items")||[],n=e();this._$content.empty(),e.each(t,function(){n=n.add(e("<div>").addClass(c).append(this))}),this._$content.append(n),this._$items=n,this.update()},_renderSelectedItemFrame:function(){e("<div>").addClass(h).append(e("<div>").addClass(p)).appendTo(this._$container)},_renderSelectedValue:function(e){var t=this._fitIndex(e||this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()},_fitIndex:function(e){var t=this.option("items")||[],n=t.length;return e>=n?n-1:0>e?0:e},_getItemPosition:function(e){return Math.round(this._itemHeight()*e)},_renderItemsClick:function(){var t=this._getItemSelector(),n=a.addNamespace("dxclick",this.NAME);this.element().off(n,t),this.element().on(n,t,e.proxy(this._itemClickHandler,this))},_getItemSelector:function(){return"."+c},_itemClickHandler:function(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))},_itemElementIndex:function(e){return this._itemElements().index(e)},_itemElements:function(){return this.element().find(this._getItemSelector())},_renderActiveStateItem:function(){var t=this.option("selectedIndex");e.each(this._$items,function(n){e(this).toggleClass(d,t===n)})},_moveTo:function(e){e=this._normalizeLocation(e);var t=this._location(),n={x:-(t.left-e.left),y:-(t.top-e.top)};this._isVisible()&&(n.x||n.y)&&(this._strategy._prepareDirections(!0),this._animation?(DevExpress.fx.stop(this._$content),DevExpress.fx.animate(this._$content,{duration:200,type:"slide",to:{top:e.top}}),delete this._animation):this._strategy.handleMove({delta:n}))},_validate:function(e){return this._strategy.validate(e)},_endActionHandler:function(){var e=this.option("selectedIndex"),t=-this._location().top/this._itemHeight(),n=Math.round(t);this._animation=!0,n===e?this._renderSelectedValue(n):this.option("selectedIndex",n)},_itemHeight:function(){var e=this._$items.first();return e.outerHeight()+parseFloat(e.css("margin-top")||0)},_toggleActive:function(e){this.element().toggleClass(l,e)},_isVisible:function(){return this._$container.is(":visible")},_fireSelectedIndexChanged:function(e,t){this._selectedIndexChanged({value:e,previousValue:t,jQueryEvent:void 0})},_visibilityChanged:function(e){this.callBase(e),e?this._renderSelectedValue(this.option("selectedIndex")):this.toggleActiveState(!1)},toggleActiveState:function(e){this.element().toggleClass(u,e)},_refreshSelectedIndex:function(){var e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)},_optionChanged:function(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:this.callBase(e)}}});return o("dxDateViewRoller",t,f),f}),DevExpress.define("/ui/widgets/date/ui.dateView",["jquery","/ui/uiNamespace","/ui/widgets/date/ui.dateUtils","/utils/utils.date","/ui/ui.editor","/componentRegistrator","/ui/widgets/date/ui.dateViewRoller"],function(e,t,n,i,r,o,a){var s="dx-dateview",l="dx-dateview-wrapper",u="dx-dateview-rollers",c="dx-dateviewroller",d={date:"date",datetime:"datetime",time:"time"},h={year:"year",month:"month",day:"day"},p=r.inherit({_valueOption:function(){return"Invalid Date"===new Date(this.option("value"))?new Date:new Date(this.option("value"))},_getDefaultOptions:function(){return e.extend(this.callBase(),{minDate:n.MIN_DATEVIEW_DEFAULT_DATE,maxDate:n.MAX_DATEVIEW_DEFAULT_DATE,format:d.date,value:new Date,culture:Globalize.culture().name,showNames:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"win"===e.platform&&e.version&&8===e.version[0]},options:{showNames:!0}}])},_render:function(){this.callBase(),this.element().addClass(s),this._toggleFormatClasses(this.option("format"))},_toggleFormatClasses:function(e,t){this.element().addClass(s+"-"+e),t&&this.element().removeClass(s+"-"+t)},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=e("<div>").addClass(l),this._renderRollers(),this._$wrapper.appendTo(this.element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=e("<div>").addClass(u)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;e.each(t._rollerConfigs,function(n){var i=e("<div>").appendTo(t._$rollersContainer).addClass(c+"-"+t._rollerConfigs[n].type);t._rollers[t._rollerConfigs[n].type]=t._createComponent(i,a,{items:t._rollerConfigs[n].displayItems,selectedIndex:t._rollerConfigs[n].selectedIndex,showScrollbar:!1,onStart:function(e){var i=e.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[n],i.option("selectedIndex"))},onEnd:function(e){var t=e.component;t._toggleActive(!1)},onClick:function(e){var i=e.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[n],i.option("selectedIndex")),t._setRollerState(t._rollerConfigs[n],i.option("selectedIndex")),i._toggleActive(!1)},onSelectedIndexChanged:function(e){var i=e.component;t._setRollerState(t._rollerConfigs[n],i.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var i=this;t=t||i.option("format"),i._rollerConfigs={},e.each(i._getFormatPattern(t).split(/\W+/),function(t,r){e.each(n.DATE_COMPONENTS_INFO,function(t,n){e.inArray(r,n.possibleFormats)>-1&&i._createRollerConfig(t)})})},_createRollerConfig:function(e){for(var t=n.DATE_COMPONENTS_INFO[e],i=this._calculateRollerConfigValueRange(e),r=i.startValue,o=i.endValue,a=t.formatter,s=this.option("showNames"),l=this._getCurrentDate(),u={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:function(e){return e[t.getter]()-r}},c=r;o>=c;c++)u.valueItems.push(c),u.displayItems.push(a(c,s,l));u.selectedIndex=u.getIndex(l),this._rollerConfigs[e]=u},_setActiveRoller:function(t){var n=t&&this._rollers[t.type];e.each(this._rollers,function(){this.toggleActiveState(this===n)})},_updateRollersPosition:function(){var t=this;e.each(this._rollers,function(e){var n=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",n)})},_setRollerState:function(e,t){if(t!==e.selectedIndex){var i=e.valueItems[t],r=e.setValue,o=new Date(this._getCurrentDate()),a=o.getDate();e.type===h.month?a=Math.min(a,n.getMaxMonthDay(o.getFullYear(),i)):e.type===h.year&&(a=Math.min(a,n.getMaxMonthDay(i,o.getMonth()))),o.setDate(a),o[r](i),this.option("value",o),e.selectedIndex=t}e.type===h.year&&(this._refreshMonthRoller(),this._refreshDayRoller()),e.type===h.month&&this._refreshDayRoller()},_refreshMonthRoller:function(){var e,t=this._rollers[h.month];t&&(this._createRollerConfig(h.month),e=this._rollerConfigs[h.month],e.displayItems.length!==t.option("items").length&&t.option({items:e.displayItems,selectedIndex:e.selectedIndex}))},_refreshDayRoller:function(){var e,t=this._rollers[h.day];t&&(this._createRollerConfig(h.day),e=this._rollerConfigs[h.day],t.option({items:e.displayItems,selectedIndex:e.selectedIndex}))},_getFormatPattern:function(e){var t=Globalize.culture(this.option("culture"));return e===d.date?t.calendar.patterns.d:e===d.time?t.calendar.patterns.t:e===d.datetime?[t.calendar.patterns.d,t.calendar.patterns.t].join(" "):""},_getCurrentDate:function(){var e=this.option("value"),t=this.option("minDate"),n=this.option("maxDate");return t&&e.getTime()<=t.getTime()?e=t:n&&e.getTime()>=n.getTime()&&(e=n),e},_calculateRollerConfigValueRange:function(e){var t=this._getCurrentDate(),r=this.option("minDate"),o=this.option("maxDate"),a=i.sameYear(t,r),s=a&&t.getMonth()===r.getMonth(),l=i.sameYear(t,o),u=l&&t.getMonth()===o.getMonth(),c=n.DATE_COMPONENTS_INFO[e],d=c.startValue,p=c.endValue;return e===h.year&&(d=r.getFullYear(),p=o.getFullYear()),e===h.month&&(a&&(d=r.getMonth()),l&&(p=o.getMonth())),e===h.day&&(p=n.getMaxMonthDay(t.getFullYear(),t.getMonth()),a&&s&&(d=r.getDate()),l&&u&&(p=o.getDate())),{startValue:d,endValue:p}},_refreshRollers:function(){this._refreshMonthRoller(),this._refreshDayRoller()},_optionChanged:function(e){switch(e.name){case"showNames":case"minDate":case"maxDate":case"culture":case"format":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":this.callBase(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$rollersContainer},_dispose:function(){clearTimeout(this._deferredRenderDayTimeout),clearTimeout(this._deferredRenderMonthTimeout),this.callBase()}});return o("dxDateView",t,p),p}),DevExpress.define("/ui/widgets/date/ui.dateBox",["jquery","/utils/utils.support","/devices","/ui/ui.errors","/utils/utils.date","/ui/widgets/date/ui.dateUtils","/utils/utils.version","/utils/utils.common","/componentRegistrator","/ui/widgets/ui.dropDownEditor","/ui/uiNamespace"],function(e,t,n,i,r,o,a,s,l,u,c){var d=a.compare,h="dx-datebox",p="dx-datebox-wrapper",f={calendar:"calendar",rollers:"rollers",list:"list","native":"native"},m={date:"date",datetime:"datetime",time:"time"},g={calendar:"Calendar",dateview:"DateView","native":"Native",calendarWithTime:"CalendarWithTime",list:"List"},_=function(e){var t=e[0].style.width;return t&&"auto"!==t&&"inherit"!==t?!0:!1},v=function(t,n,i){var r,o=10,a=48,s=e("<div>").text(t).css({"font-style":n.css("font-style"),"font-variant":n.css("font-variant"),"font-weight":n.css("font-weight"),"font-size":n.css("font-size"),"font-family":n.css("font-family"),"letter-spacing":n.css("letter-spacing"),"padding-left":n.css("padding-left"),"padding-right":n.css("padding-right"),border:n.css("border"),visibility:"hidden","white-space":"nowrap",position:"absolute","float":"left"});return s.appendTo(i),r=s.outerWidth()+o+("text"!==n.prop("type")?a:0),s.remove(),r},y=u.inherit({_supportedKeys:function(){return e.extend(this.callBase(),this._strategy.supportedKeys())},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{useNative:{since:"15.1",message:"'useNative' option is deprecated in 15.1. Use the 'pickerType' option instead"},useCalendar:{since:"15.1",message:"'useCalendar' option is deprecated in 15.1. Use the 'pickerType' option instead"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{format:"date",value:new Date,min:void 0,max:void 0,useCalendar:!1,formatString:"d",interval:30,maxZoomLevel:"month",minZoomLevel:"century",useNative:!0,pickerType:f["native"],invalidDateMessage:Globalize.localize("dxDateBox-validation-datetime"),dateOutOfRangeMessage:Globalize.localize("validation-range"),applyButtonText:Globalize.localize("Done")})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showPopupTitle:!0}},{device:function(e){return"android"===e.platform},options:{buttonsLocation:"bottom after"}},{device:function(e){return"win"===e.platform&&e.version&&8===e.version[0]},options:{buttonsLocation:"bottom after"}},{device:function(e){return"win"===e.platform&&e.version&&10===e.version[0]},options:{buttonsLocation:"bottom center"}},{device:function(){var e=n.real(),t=e.platform,i=e.version;return"generic"===t||"win"===t||"android"===t&&d(i,[4,4])<0},options:{pickerType:f.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{pickerType:f.calendar,buttonsLocation:"bottom after"}},{device:function(){var e=n.real(),t=e.platform,i=e.phone;return"win"===t&&!i},options:{pickerType:f.calendar}}])},_initOptions:function(t){this._userOptions=e.extend({},t),this.callBase(t),this._updatePickerOptions(this._userOptions)},_updatePickerOptions:function(e){var t=this._getPickerTypeByDepricatedOptions(e),i=this.option("format");t===f.list&&(i===m.datetime||i===m.date)&&(t=f.calendar),i===m.time&&t===f.calendar&&(t=f.list),this.option("showDropButton","generic"!==n.real().platform||t!==f["native"]),this._pickerType=t},_getPickerTypeByDepricatedOptions:function(e){return e.pickerType?e.pickerType:s.isDefined(e.useCalendar)||s.isDefined(e.useNative)?this._getPickerType():this._pickerType||this.option("pickerType")},_getPickerType:function(){return this.option().useCalendar?this.option("format")===m.time?f.list:f.calendar:this.option().useNative?f["native"]:f.rollers},_init:function(){this._initStrategy(),this.option(e.extend({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},_initStrategy:function(){var e=this._getStrategyName(this._getFormatType()),t=DevExpress.require("/ui/widgets/date/ui.dateBox.strategy."+this._toLowerCaseFirstLetter(e));this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))},_getFormatType:function(){var e=this.option("format"),t=/h|m|s/g.test(e),n=/d|M|Y/g.test(e),i="";return n&&(i+=m.date),t&&(i+=m.time),i},_getStrategyName:function(e){var t=this._pickerType;return t===f.rollers?this.option().useCalendar?g.calendar:g.dateview:t===f["native"]?g["native"]:e===m.date?g.calendar:e===m.datetime?g.calendarWithTime:g.list},_render:function(){this.element().addClass(h),this._refreshFormatClass(),this._refreshPickerTypeClass(),this.callBase(),this._updateSize(),this._strategy.renderInputMinMax(this._input())},_refreshFormatClass:function(){var t=this.element();e.each(m,e.proxy(function(e,n){t.removeClass(h+"-"+n)},null)),t.addClass(h+"-"+this.option("format"))},_refreshPickerTypeClass:function(){var t=this.element();e.each(f,e.proxy(function(e,n){t.removeClass(h+"-"+n)},null)),t.addClass(h+"-"+this._pickerType)},_updateSize:function(){var e=this.element(),t=this.option("width"),i=s.isDefined(t)||_(e)&&!this._isSizeUpdatable,r=e.is(":visible"),a=this._pickerType,l=a!==f.rollers&&"generic"===n.current().platform;if(!i&&l&&r){var u=this._input(),c=Globalize.culture().calendar,d=this.option("formatString"),h=Globalize.format(o.getLongestDate(d,c.months.names,c.days.names),d);e.width(v(h,u,this.element())),this._isSizeUpdatable=!0}},_attachChildKeyboardEvents:function(){this._strategy.attachKeyboardEvents(this._keyboardProcessor)},_renderPopup:function(){this.callBase(),this._popup._wrapper().addClass(p),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return e.extend(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.element(),n=e.extend({},m,f);e.each(n,e.proxy(function(e,n){t.removeClass(p+"-"+n)},this)),this._popup._wrapper().addClass(p+"-"+this.option("format")).addClass(p+"-"+this._pickerType)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupHiddenHandler:function(){this.callBase(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(e){e&&this._updateSize()},_readOnlyPropValue:function(){return this.callBase()||this._pickerType===f.rollers},_clearButtonVisibility:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var e=this.option("mode"),t=this.dateOption("value"),n=o.FORMATS_MAP[e],i=this._getPattern(n);this._validateValue(t),"text"!==e?this.option("text",o.toStandardDateFormat(t,e,i)):this.option("text",Globalize.format(t,this.option("formatString"))),this._strategy.renderValue(),this.callBase()},_getPattern:function(e){return t.inputType(this.option("mode"))?null:Globalize.culture().calendar.patterns[e]},_valueChangeEventHandler:function(){var e=this._strategy.getParsedText(this.option("text"),this.option("formatString")),t=this.dateOption("value"),n=new Date(t&&t.valueOf()),i=this.option("mode"),r=("text"!==i?o.mergeDates(n,e,i):e)||null;this._validateValue(e)?this.dateOption("value",r):this.option().value=null,this.validationRequest.fire({value:r,editor:this})},_validateValue:function(e){var t=this.option("text"),n=!!t,i=!!e,o=i&&r.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("format")),a=!n||!n&&!e||o,s="";return i?o||(s=this.option("dateOutOfRangeMessage")):s=this.option("invalidDateMessage"),this.option({isValid:a,validationError:a?null:{editorSpecific:!0,message:s}}),a},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.renderOpenedState()},_getPopupTitle:function(){var e,t=this.option("placeholder");return t?t:(e=this.option("format"),e===m.time?Globalize.localize("dxDateBox-simulatedDataPickerTitleTime"):e===m.date||e===m.datetime?Globalize.localize("dxDateBox-simulatedDataPickerTitleDate"):"")},_renderPlaceholder:function(){this._popup&&this._popup.option("title",this._getPopupTitle()),this.callBase()},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(){this.dateOption("value",this._strategy.getValue()),this.callBase()},_dispose:function(){this._strategy&&this._strategy.dispose(),this.callBase()},_isNativeType:function(){return this._pickerType===f["native"]},_optionChanged:function(e){switch(e.name){case"useCalendar":this._updatePickerOptions({useCalendar:e.value}),this._refreshStrategy();break;case"useNative":this._updatePickerOptions({useNative:e.value}),this._refreshStrategy();break;case"showClearButton":this.callBase.apply(this,arguments),this._updateSize();break;case"pickerType":this._updatePickerOptions({pickerType:e.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"format":this._updatePickerOptions({format:e.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._updateSize();break;case"placeholder":this._renderPlaceholder();break;case"readOnly":case"min":case"max":case"interval":case"minZoomLevel":case"maxZoomLevel":this._invalidate();break;case"type":throw i.Error("E1020");case"formatString":this._updateValue();break;case"formatWidthCalculator":break;case"closeOnValueChange":var t=e.value?"instantly":"useButtons";this.option("applyValueMode",t);break;case"applyValueMode":this._suppressDeprecatedWarnings(),this.option("closeOnValueChange","instantly"===e.value),this._resumeDeprecatedWarnings(),this.callBase.apply(this,arguments);break;case"text":this._strategy.textChangedHandler(e.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._updateSize();break;case"showDropButton":case"invalidDateMessage":case"dateOutOfRangeMessage":break;default:this.callBase.apply(this,arguments)}},_getSerializtionFormat:function(){var e=this.option("value");return s.isNumber(e)?"number":s.isString(e)?"date"===this.option("format")?"yyyy'/'MM'/'dd":"yyyy'/'MM'/'dd HH:mm:ss":void 0},dateOption:function(e,t){var n=this._getSerializtionFormat();return 1===arguments.length?r.deserializeDate(this.option(e),n):void this.option(e,r.serializeDate(t,n))},reset:function(){this.callBase(),this._updateValue()}});return l("dxDateBox",c,y),y}),DevExpress.require(["/ui/widgets/date/ui.dateBox"]),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy",["jquery","/class"],function(e,t){var n=t["abstract"];return t.inherit({ctor:function(e){this.dateBox=e},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||e("<div>"),this._widget=this._createWidget(t),this._widget.element().appendTo(this._getWidgetContainer())},_createWidget:function(e){var t=this._getWidgetName(),n=this._getWidgetOptions();return this.dateBox._createComponent(e,t,n)},_getWidgetOptions:n,_getWidgetName:n,getDefaultOptions:function(){return{mode:"text"}},_getDateTimeFormatString:function(){return Globalize.culture().calendar.patterns.d+" "+Globalize.culture().calendar.patterns.t},supportedKeys:e.noop,attachKeyboardEvents:function(e){this._widgetKeyboardProcessor=e.attachChildProcessor()},getParsedText:function(e,t){return Globalize.parseDate(e,t)},renderInputMinMax:e.noop,renderOpenedState:function(){this.dateBox.option("opened")&&this._updateValue()},popupConfig:n,renderPopupContent:function(){var t=this._getPopup();this._renderWidget(),t.content().parent().off("mousedown").on("mousedown",e.proxy(this._preventFocusOnPopup,this));
},_preventFocusOnPopup:function(e){e.preventDefault()},_getWidgetContainer:function(){return this._getPopup().content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:e.noop,popupHiddenHandler:e.noop,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},_valueChangedHandler:function(e){this.dateBox.option("opened")&&"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(e.value)},textChangedHandler:e.noop,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},dispose:function(){var e=this._getPopup();e&&e.content().empty()},dateBoxValue:function(){var e=["value"];return arguments.length&&e.push(arguments[0]),this.dateBox.dateOption.apply(this.dateBox,e)}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.calendar",["jquery","/utils/utils.date","/utils/utils.common","/ui/widgets/date/ui.calendar","/ui/widgets/date/ui.dateBox.strategy"],function(e,t,n,i,r){return r.inherit({NAME:"Calendar",supportedKeys:function(){return{tab:function(){this.close()},rightArrow:function(){return this.option("opened")?!0:void 0},leftArrow:function(){return this.option("opened")?!0:void 0},enter:e.proxy(function(e){if(this.dateBox.option("opened")){if(e.preventDefault(),this._widget.option("zoomLevel")!==this._widget.option("maxZoomLevel"))return!0;var t=this._widget._view.option("contouredDate");t&&this.dateBoxValue(t),this.dateBox.close(),this.dateBox._valueChangeEventHandler(e)}},this)}},getDefaultOptions:function(){return e.extend(this.callBase(),{formatString:Globalize.culture().calendar.patterns.d})},_getWidgetName:function(){return i.publicName()},_getWidgetOptions:function(){return e.extend(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,_keyboardProcessor:this._widgetKeyboardProcessor,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:e.proxy(this._valueChangedHandler,this),onCellClick:e.proxy(this._cellClickHandler,this),tabIndex:null,maxZoomLevel:this.dateBox.option("maxZoomLevel"),minZoomLevel:this.dateBox.option("minZoomLevel"),onContouredChanged:e.proxy(this._refreshActiveDescendant,this),hasFocus:function(){return!0}})},_refreshActiveDescendant:function(e){this.dateBox.setAria("activedescendant",e.actionValue)},popupConfig:function(t){var i=t.buttons,r=this.dateBox.option("buttonsLocation"),o=[];return o="default"!==r?n.splitPair(r):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&i.unshift({widget:"button",toolbar:o[0],location:"after"===o[1]?"before":o[1],options:{onClick:e.proxy(function(){this._widget._toTodayView()},this),text:Globalize.localize("dxCalendar-todayButtonText"),type:"today"}}),e.extend(!0,t,{buttons:i,position:{collision:"flipfit flip"}})},_valueChangedHandler:function(e){var n=this.dateBox,i=e.value,r=e.previousValue,o=t.sameMonthAndYear(i,r)&&i.getDate()===r.getDate();o||"instantly"===n.option("applyValueMode")&&this.dateBoxValue(this.getValue())},_getParsedValue:function(){return this.getParsedText(this.dateBox.option("text"),this.dateBox.option("formatString"))},_updateValue:function(){var e,t=this._getParsedValue();this._widget&&(e=this.dateBoxValue(),t&&this._widget.option("value",e))},textChangedHandler:function(){this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue()))},dispose:function(){this.dateBox.off("optionChanged"),this.callBase()}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.calendarWithTime",["jquery","/ui/widgets/date/ui.dateBox.strategy.calendar","/ui/widgets/date/ui.timeView"],function(e,t,n){return t.inherit({NAME:"CalendarWithTime",supportedKeys:function(){return e.extend(this.callBase(),{tab:function(e){this.option("opened")===!0&&(e.preventDefault(),this._strategy._timeView._hourBox.focus())}})},getDefaultOptions:function(){return e.extend(this.callBase(),{formatString:this._getDateTimeFormatString(),applyValueMode:"useButtons",buttonsLocation:"bottom after",showPopupTitle:!1})},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(e("<div>"),n,{value:this.dateBoxValue(),onValueChanged:e.proxy(this._valueChangedHandler,this)})},renderOpenedState:function(){this.callBase(),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(e.proxy(function(){this._getPopup()&&this._getPopup().repaint()},this),0)},_updateValue:function(e){var t=this._getParsedValue();t||e||(t=new Date),this.callBase.apply(this,arguments),this._timeView&&t&&this._timeView.option("value",t)},renderPopupContent:function(){this.callBase();var t=this._getPopup().content(),n=this.dateBox._createComponent(e("<div>").appendTo(t),"dxBox",{direction:"row",crossAlign:"start",items:[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"},{ratio:0,shrink:0,baseSize:"auto",name:"time"}],itemTemplate:e.proxy(function(t){switch(t.name){case"calendar":return e("<div>").append(this._widget.element());case"time":return e("<div>").append(this._timeView.element())}},this)});clearTimeout(this._removeMinWidthTimer),this._removeMinWidthTimer=setTimeout(function(){"fallback"===n.option("_layoutStrategy")&&t.find(".dx-timeview-clock").css("minWidth",0)},0),this._attachTabHandler()},_attachTabHandler:function(){var e=this.dateBox,t=function(t){t.shiftKey&&(t.preventDefault(),e.focus())};this._timeView._hourBox.registerKeyHandler("tab",t)},_preventFocusOnPopup:function(t){e(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},getValue:function(){var e=this._widget.option("value"),t=this._timeView.option("value");return e=e?new Date(e):new Date,e.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),e},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.dateView",["jquery","/ui/widgets/date/ui.dateUtils","/utils/utils.support","/ui/ui.themes","/ui/widgets/date/ui.dateView","/ui/widgets/date/ui.dateBox.strategy"],function(e,t,n,i,r,o){return o.inherit({NAME:"DateView",getDefaultOptions:function(){var t=this.dateBox.option("format"),n="d";return"datetime"===t?n=this._getDateTimeFormatString():"time"===t&&(n="t"),e.extend(this.callBase(),{openOnFieldClick:!0,applyButtonText:Globalize.localize("Done"),formatString:n})},popupConfig:function(){return{showTitle:!0,buttons:this.dateBox._popupButtonsConfig(),defaultOptionsRules:[{device:function(e){return"win"===e.platform&&e.version&&8===e.version[0]},options:{showNames:!0}},{device:function(e){return"win"===e.platform&&e.phone&&e.version&&8===e.version[0]},options:{animation:null}},{device:function(){var e=(i.current()||"").split(".")[0];return"win8"===e},options:{fullScreen:!0}},{device:{platform:"android"},options:{width:333,height:331}},{device:function(e){var t=e.platform,n=e.version;return"generic"===t||"ios"===t||"win"===t&&n&&10===n[0]},options:{width:"auto",height:"auto"}},{device:function(e){var t=e.platform,n=e.phone;return"generic"===t&&n},options:{width:333,height:"auto",position:{collision:"flipfit flip"}}},{device:function(e){var t=(i.current()||"").split(".")[0];return e.phone&&"win10"===t},options:{width:333,height:"auto"}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:window}}}]}},_renderWidget:function(){var t,i;return n.inputType(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")?void(this._widget&&(this._widget.element().remove(),this._widget=null)):(t=this._getPopup(),this._widget?this._widget.option(this._getWidgetOptions()):(i=e("<div>").appendTo(t.content()),this._widget=this._createWidget(i)),this._widget.element().appendTo(this._getWidgetContainer()),void 0)},_getWidgetName:function(){return r.publicName()},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,format:this.dateBox.option("format"),minDate:this.dateBox.dateOption("min")||new Date(1900,1,1),maxDate:this.dateBox.dateOption("max")||new Date(e.now()+50*t.ONE_YEAR),onDisposing:e.proxy(function(){this._widget=null},this)}},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue()||new Date)}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.native",["jquery","/utils/utils.support","/ui/widgets/date/ui.dateUtils","/ui/widgets/date/ui.dateBox.strategy"],function(e,t,n,i){return i.inherit({NAME:"Native",popupConfig:e.noop,getParsedText:function(e){return n.fromStandardDateFormat(e)},renderPopupContent:e.noop,_getWidgetName:e.noop,_getWidgetOptions:e.noop,getDefaultOptions:function(){var i=this.dateBox.option("format");-1===e.inArray(i,n.SUPPORTED_FORMATS)?i="date":"datetime"!==i||t.inputType(i)||(i="datetime-local"),this.dateBox.option({mode:i,formatString:n.FORMATS_MAP[i]})},renderInputMinMax:function(e){e.attr({min:Globalize.format(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Globalize.format(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.list",["jquery","/utils/utils.common","/devices","/ui/widgets/date/ui.dateUtils","/ui/widgets/date/ui.dateBox.strategy"],function(e,t,n,i,r){return r.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){this.option("opened")&&this.close()},space:e.noop,home:e.noop,end:e.noop}},getDefaultOptions:function(){return e.extend(this.callBase(),{formatString:Globalize.culture().calendar.patterns.t,applyValueMode:"instantly"})},popupConfig:function(t){var i=n.current(),r=e.extend(t,{width:this._getPopupWidth()});return"android"===i.platform&&e.extend(r,{position:{offset:{h:-16,v:-10}}}),r},_getPopupWidth:function(){var e=n.current(),t=this.dateBox.element().outerWidth();return"android"===e.platform&&(t+=32),t},popupShowingHandler:function(){this._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return"dxList"},_getWidgetOptions:function(){var t=this.dateBox._keyboardProcessor;return{_keyboardProcessor:t?t.attachChildProcessor():null,itemTemplate:e.proxy(this._timeListItemTemplate,this),onItemClick:e.proxy(this._listItemClickHandler,this),tabIndex:-1,onFocusedItemChanged:e.proxy(this._refreshActiveDescendant,this),selectionMode:"single"}},_refreshActiveDescendant:function(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("focusedElement",null)},_updateValue:function(){if(this._widget){var e=this.dateBoxValue(),t=this._getDateIndex(e);this._widget.option("selectedIndex",t)}},_getDateIndex:function(e){for(var t=-1,n=0,i=this._widgetItems.length;i>n;n++)if(this._areDatesEqual(e,this._widgetItems[n])){t=n;break}return t},_areDatesEqual:function(e,n){return t.isDate(e)&&t.isDate(n)&&e.getHours()===n.getHours()&&e.getMinutes()===n.getMinutes()},_getTimeListItems:function(){var e=this.dateBox.dateOption("min")||new Date(0,0,0,0,0),t=this.dateBox.dateOption("max")||new Date(0,0,0,23,59),n=this.dateBox.option("interval"),r=[],o=new Date(e),a=t-e;if(0>a)return[];for(a>i.ONE_DAY&&(a=i.ONE_DAY);a>o-e;)r.push(new Date(o)),o.setMinutes(o.getMinutes()+n);return r},_timeListItemTemplate:function(e){return Globalize.format(e,this.dateBox.option("formatString"))},_listItemClickHandler:function(e){this.dateBox.option("opened",!1);var t=this.dateBox.option("value");t=t?new Date(t):new Date,t.setHours(e.itemData.getHours()),t.setMinutes(e.itemData.getMinutes()),t.setSeconds(e.itemData.getSeconds()),this.dateBoxValue(t)},attachKeyboardEvents:function(e){var t=e.attachChildProcessor();this._widget&&this._widget.option("_keyboardProcessor",t)},_dimensionChanged:function(){this._getPopup()&&this._updatePopupDimensions()},_updatePopupDimensions:function(){this._updatePopupWidth(),this._updatePopupHeight()},_updatePopupWidth:function(){this.dateBox._setPopupOption("width",this._getPopupWidth())},_updatePopupHeight:function(){this.dateBox._setPopupOption("height","auto");var t=this._widget.element().outerHeight(),n=.45*e(window).height();this.dateBox._setPopupOption("height",Math.min(t,n)),this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()}})}),function(e,t){var n=t.ui,i=t.require("/utils/utils.support"),r=t.require("/ui/ui.themes"),o=t.require("/utils/utils.browser"),a=t.require("/devices"),s=t.require("/componentRegistrator"),l=t.require("/ui/ui.widget"),u="dx-loadindicator",c="dx-loadindicator-wrapper",d="dx-loadindicator-content",h="dx-loadindicator-icon",p="dx-loadindicator-segment",f="dx-loadindicator-segment-inner",m="dx-loadindicator-image";s("dxLoadIndicator",n,l.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var e=function(){var e=r.current();return e&&e.split(".")[0]};return this.callBase().concat([{device:function(){var e=a.real(),t="android"===e.platform&&!/chrome/i.test(navigator.userAgent);return o.msie&&o.version<10||t},options:{viaImage:!0}},{device:function(){return"win8"===e()||"win10"===e()},options:{_animatingSegmentCount:5}},{device:function(){return"ios7"===e()},options:{_animatingSegmentCount:11}},{device:function(){return"android5"===e()},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return"generic"===e()},options:{_animatingSegmentCount:7}}])},_init:function(){this.callBase(),this.element().addClass(u)},_render:function(){this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup(),this.callBase()},_renderWrapper:function(){this._$wrapper=e("<div>").addClass(c),this.element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=e("<div>").addClass(d),this._$wrapper.append(this._$content)},_renderMarkup:function(){!i.animation||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var t,n,i=this.option("_animatingSegmentInner");for(this._$indicator=e("<div>").addClass(h),this._$content.append(this._$indicator),t=this.option("_animatingSegmentCount");t>=0;--t)n=e("<div>").addClass(p).addClass(p+t),i&&n.append(e("<div>").addClass(f)),this._$indicator.append(n)},_renderMarkupForImage:function(){var e=this.option("indicatorSrc");this._$wrapper.addClass(m),e&&this._$wrapper.css("background-image","url("+e+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){var e,t,n;this._$indicator&&(e=this.option("width"),t=this.option("height"),(e||t)&&(e=this.element().width(),t=this.element().height(),n=Math.min(t,e),this._$wrapper.css({height:n,width:n,"font-size":n})))},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("background-image","none")},_optionChanged:function(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(e)}}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/componentRegistrator"),r="dx-loadpanel",o="dx-loadpanel-wrapper",a="dx-loadpanel-indicator",s="dx-loadpanel-message",l="dx-loadpanel-content",u="dx-loadpanel-content-wrapper",c="dx-loadpanel-pane-hidden";i("dxLoadPanel",n,n.dxOverlay.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{message:Globalize.localize("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,closeOnBackButton:!1,resizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.element().addClass(r),this._wrapper().addClass(o)},_renderContentImpl:function(){this.callBase(),this.content().addClass(l),this._$contentWrapper=e("<div>").addClass(u),this._$contentWrapper.appendTo(this._$content),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t,n,i=this.option("delay");return i?(t=e.Deferred(),n=e.proxy(this.callBase,this),this._clearShowTimeout(),this._showTimeout=setTimeout(function(){n().done(function(){t.resolve()})},i),t.promise()):this.callBase()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){var t,n;this._$contentWrapper&&(t=this.option("message"))&&(n=e("<div>").addClass(s).text(t),this._$contentWrapper.append(n))},_renderLoadIndicator:function(){this._$contentWrapper&&this.option("showIndicator")&&(this._$indicator=e("<div>").addClass(a).appendTo(this._$contentWrapper),this._createComponent(this._$indicator,"dxLoadIndicator",{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.content().find("."+s).remove(),this.content().find("."+a).remove()},_togglePaneVisible:function(){this.content().toggleClass(c,!this.option("showPane"))},_optionChanged:function(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._$indicator&&this._createComponent(this._$indicator,"dxLoadIndicator",{indicatorSrc:this.option("indicatorSrc")});break;default:this.callBase(e)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.lookup",["jquery","/utils/utils.string","/utils/utils.version","/utils/utils.support","/utils/utils.browser","/utils/utils.common","/utils/utils.inkRipple","/devices","/componentRegistrator","/ui/events/ui.events.utils","/ui/widgets/ui.dropDownList","/ui/uiNamespace","/ui/ui.themes"],function(e,t,n,i,r,o,a,s,l,u,c,d,h){var p=n.compare,f="dx-lookup",m="dx-lookup-selected",g="dx-lookup-search",_="dx-lookup-search-wrapper",v="dx-lookup-field",y="dx-lookup-arrow",x="dx-lookup-field-wrapper",b="dx-lookup-popup",w="dx-lookup-popup-wrapper",C="dx-lookup-popup-search",S="dx-lookup-popover-mode",k="dx-lookup-empty",D="dx-lookup-validation-message",T="dx-lookup-invalid",E=".dx-list-item",I="dxListItemData",A={popupWidth:"width",popupHeight:"height"},$=c.inherit({_supportedKeys:function(){return e.extend(this.callBase(),{space:function(e){e.preventDefault(),this._validatedOpening()},enter:function(){this._validatedOpening()}})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{showNextButton:{since:"15.1",message:"Use the 'pageLoadMode' option instead"},pagingEnabled:{since:"15.1",message:"Use the 'dataSource.paginate' option instead"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{title:"",titleTemplate:"title",onTitleRendered:null,placeholder:Globalize.localize("Select"),searchPlaceholder:Globalize.localize("Search"),searchEnabled:!0,cleanSearchOnOpening:!0,fullScreen:!1,showCancelButton:!0,showClearButton:!1,clearButtonText:Globalize.localize("Clear"),applyButtonText:Globalize.localize("Done"),popupWidth:function(){return.8*e(window).width()},popupHeight:function(){return.8*e(window).height()},shading:!0,closeOnOutsideClick:!1,position:void 0,animation:{},pullRefreshEnabled:!1,useNativeScrolling:!0,pullingDownText:Globalize.localize("dxList-pullingDownText"),pulledDownText:Globalize.localize("dxList-pulledDownText"),refreshingText:Globalize.localize("dxList-refreshingText"),pageLoadingText:Globalize.localize("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",showNextButton:void 0,nextButtonText:Globalize.localize("dxList-nextButtonText"),grouped:!1,groupTemplate:"group",usePopover:!1,showDropButton:!1,showPopupTitle:!0,focusStateEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!i.nativeScrolling},options:{useNativeScrolling:!1}},{device:function(e){return!i.nativeScrolling&&!s.isSimulator()&&"generic"===s.real().platform&&"generic"===e.platform},options:{usePopover:!0,popupHeight:"auto"}},{device:function(){return r.msie&&p(r.version,9)<0},options:{usePopover:!1}},{device:function(e){return"win"===e.platform&&e.phone&&e.version&&8===e.version[0]},options:{showCancelButton:!1,fullScreen:!0}},{device:function(e){return"win"===e.platform&&!e.phone&&e.version&&8===e.version[0]},options:{popupWidth:function(){return e(window).width()}}},{device:{platform:"ios",phone:!0},options:{fullScreen:!0}},{device:{platform:"ios",tablet:!0},options:{popupWidth:function(){return.4*Math.min(e(window).width(),e(window).height())},popupHeight:"auto",usePopover:!0,useInkRipple:!1}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}},{device:function(){return s.real().generic&&!s.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return/android5/.test(h.current())},options:{useInkRipple:!0}}])},_dataSourceOptions:function(){this._suppressDeprecatedWarnings();var t=o.ensureDefined(this.option("pagingEnabled"),!0);return t=o.isDefined(this.option("showNextButton"))?t||this.option("showNextButton"):t,this._resumeDeprecatedWarnings(),e.extend(this.callBase(),{paginate:t})},_inputWrapper:function(){return this.element().find("."+x)},_render:function(){this.callBase(),this.element().addClass(f).toggleClass(S,this.option("usePopover"))},_fireContentReadyAction:e.noop,_popupWrapperClass:function(){return""},_renderInput:function(){var t,n=this._createAction(e.proxy(function(){this._validatedOpening()},this));this._$field=e("<div>").addClass(v).on(u.addNamespace("dxclick",this.NAME),function(e){n({jQueryEvent:e})}),t=e("<div>").addClass(y),this._$fieldWrapper=e("<div>").addClass(x).append(this._$field).append(t).appendTo(this.element()),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=a.render()},_toggleActiveState:function(e,t,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:this._inputWrapper(),jQueryEvent:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_renderField:function(){var e=this._getTemplateByOption("fieldTemplate");return e&&this.option("fieldTemplate")?void this._renderFieldTemplate(e):(this._$field.text(this.option("displayValue")||this.option("placeholder")),void this.element().toggleClass(k,!this.option("selectedItem")))},_renderFieldTemplate:function(e){this._$field.empty();var t=this._fieldRenderData();e.render(t,this._$field)},_fieldRenderData:function(){return this.option("selectedItem")},_popupShowingHandler:function(){var e;this._$popupValidationMessage&&(e=this.option("validationError"),e&&e.message?(this._$popupValidationMessage.text(e.message),this._popup.content().addClass(T)):this._popup.content().removeClass(T)),this.callBase.apply(this,arguments),this.option("cleanSearchOnOpening")&&(this.option("searchEnabled")&&this._searchBox.option("value")&&(this._searchBox.option("value",""),this._searchCanceled(),this._searchDataSource()),this._list&&this._list.option("focusedElement",null)),this._attachSearchChildProcessor()},_renderPopup:function(){this.option("usePopover")&&!this.option("fullScreen")?this._renderPopover():this.callBase(),this._$popup.addClass(b),this._popup._wrapper().addClass(w)},_popupOptionMap:function(e){return A[e]||e},_renderPopover:function(){this._popup=this._createComponent(this._$popup,"dxPopover",e.extend(this._popupConfig(),{target:this.element(),fullScreen:!1,shading:!1,closeOnTargetScroll:!0,closeOnOutsideClick:!0,width:this._isInitialOptionValue("popupWidth")?e.proxy(function(){return this.element().outerWidth()},this):this._popupConfig().width})),this._popup.on({showing:e.proxy(this._popupShowingHandler,this),shown:e.proxy(this._popupShownHandler,this),hiding:e.proxy(this._popupHidingHandler,this),hidden:e.proxy(this._popupHiddenHandler,this)}),this._popup.option("onContentReady",e.proxy(this._contentReadyHandler,this)),this._contentReadyHandler()},_popupHidingHandler:function(){this.callBase(),this.option("focusStateEnabled")&&this.focus()},_preventFocusOnPopup:e.noop,_popupConfig:function(){var t=e.extend(this.callBase(),{showTitle:this.option("showPopupTitle"),title:this.option("title"),titleTemplate:this._getTemplateByOption("titleTemplate"),onTitleRendered:this.option("onTitleRendered"),buttons:this._getPopupButtons(),fullScreen:this.option("fullScreen"),shading:this.option("shading"),closeOnTargetScroll:!1,closeOnOutsideClick:this.option("closeOnOutsideClick"),onPositioned:null});return delete t.animation,delete t.position,t.maxHeight=function(){return e(window).height()},e.each(["position","animation","popupWidth","popupHeight"],e.proxy(function(e,n){void 0!==this.option(n)&&(t[this._popupOptionMap(n)]=this.option(n))},this)),t},_getPopupButtons:function(){var e,t="useButtons"===this.option("applyValueMode")?this._popupButtonsConfig():[],n=this._getCancelButtonConfig();return n&&t.push(n),e=this._getClearButtonConfig(),e&&t.push(e),this._applyButtonsLocation(t)},_popupButtonsConfig:function(){return[{shortcut:"done",options:{onClick:e.proxy(this._applyButtonHandler,this),text:this.option("applyButtonText")}}]},_getCancelButtonConfig:function(){return this.option("showCancelButton")?{shortcut:"cancel",onClick:e.proxy(this._cancelButtonHandler,this),options:{text:this.option("cancelButtonText")}}:null},_getClearButtonConfig:function(){return this.option("showClearButton")?{shortcut:"clear",onClick:e.proxy(this._resetValue,this),options:{text:this.option("clearButtonText")}}:null},_applyButtonHandler:function(){this.option("value",this._valueGetter(this._currentSelectedItem())),this.callBase()},_cancelButtonHandler:function(){this._refreshSelected(),this.callBase()},_refreshPopupVisibility:e.noop,_dimensionChanged:function(){this.option("usePopover")&&!this.option("popupWidth")&&this.option("popupWidth",this.element().width())},_input:function(){return this._$searchBox||this.callBase()},_renderPopupContent:function(){"dxPopup"===this._popup.NAME&&(this._$popupValidationMessage=e("<div>").addClass(D).appendTo(this._popup.content())),this._renderSearch(),this.callBase(),this._attachSearchChildProcessor()},_attachSearchChildProcessor:function(){this.option("searchEnabled")&&this._searchBox?(this._listKeyboardProcessor=this._searchBox._keyboardProcessor.attachChildProcessor(),this._setListOption("_keyboardProcessor",this._listKeyboardProcessor)):this._setListOption("_keyboardProcessor",void 0)},_renderSearch:function(){if(this._$searchWrapper&&this._$searchWrapper.remove(),delete this._$searchWrapper,this._$searchBox&&this._$searchBox.remove(),delete this._$searchBox,delete this._searchBox,this.option("searchEnabled")){var t=this._$searchWrapper=e("<div>").addClass(_),n=this._$searchBox=e("<div>").addClass(g).appendTo(t),i=s.current(),r=i.android&&i.version[0]>=5?"text":"search";this._searchBox=this._createComponent(n,"dxTextBox",{mode:r,showClearButton:!0,valueChangeEvent:this.option("valueChangeEvent"),onValueChanged:e.proxy(this._search,this)}),this._registerSearchKeyHandlers(),t.appendTo(this._popup.content())}this._renderSearchVisibility(),this._setSearchPlaceholder()},_selectListItemHandler:function(e){var t=this._list.option("focusedElement");t&&(e.preventDefault(),this._selectListItem(e.itemData,t))},_registerSearchKeyHandlers:function(){this._searchBox.registerKeyHandler("escape",e.proxy(this.close,this)),this._searchBox.registerKeyHandler("enter",e.proxy(this._selectListItemHandler,this)),this._searchBox.registerKeyHandler("space",e.proxy(this._selectListItemHandler,this))},_renderSearchVisibility:function(){this._popup&&this._popup._wrapper().toggleClass(C,this.option("searchEnabled"))},_setSearchPlaceholder:function(){if(this._$searchBox){var e=this.option("minSearchLength"),n=this.option("searchPlaceholder");e&&n===Globalize.localize("Search")&&(n=t.format(Globalize.localize("dxLookup-searchPlaceholder"),e)),this._searchBox.option("placeholder",n)}},_setAriaTargetForList:e.noop,_renderList:function(){this.callBase(),this._list.registerKeyHandler("escape",e.proxy(function(){this.close()},this))},_listConfig:function(){return e.extend(this.callBase(),{tabIndex:0,grouped:this.option("grouped"),groupTemplate:this._getTemplateByOption("groupTemplate"),pullRefreshEnabled:this.option("pullRefreshEnabled"),useNativeScrolling:this.option("useNativeScrolling"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),pageLoadingText:this.option("pageLoadingText"),onScroll:this.option("onScroll"),onPullRefresh:this.option("onPullRefresh"),onPageLoading:this.option("onPageLoading"),pageLoadMode:this._getPageLoadMode(),nextButtonText:this.option("nextButtonText"),_keyboardProcessor:this._listKeyboardProcessor,onFocusIn:e.proxy(this._onFocusInHandler,this),selectionMode:"single"})},_onFocusInHandler:function(){this._setListOption("_keyboardProcessor",void 0)},_listContentReadyHandler:function(){this._popup.repaint(),this.callBase.apply(this,arguments)},_getPageLoadMode:function(){this._suppressDeprecatedWarnings();var e=o.isDefined(this.option("showNextButton"))?"nextButton":this.option("pageLoadMode");return this._resumeDeprecatedWarnings(),e},_setFocusPolicy:function(){this.option("focusStateEnabled")&&(this.option("searchEnabled")?this._searchBox.focus():this._$list.focus())},_attachChildKeyboardEvents:e.noop,_focusTarget:function(){return this._$field},_keyboardEventBindingTarget:function(){return this._$field},_selectedItemClass:function(){return m},_listItemClickHandler:function(e){this._selectListItem(e.itemData,e.jQueryEvent.target)},_selectListItem:function(e,t){var n=this._currentSelectedItem();this._setCurrentSelectedClass(t),(n===e||"instantly"===this.option("applyValueMode"))&&this._applyButtonHandler()},_currentSelectedItem:function(){return this._listSelectedItemElements().data(I)},_setCurrentSelectedClass:function(t){this._listSelectedItemElements().removeClass(m),e(t).closest(E).addClass(m)},_resetValue:function(){this.option("value",null),this.option("opened",!1)},_searchValue:function(){return this.option("searchEnabled")?this._searchBox.option("value"):""},_renderInputValue:function(){return this.callBase().always(e.proxy(function(){this._renderField(),this._refreshSelected()},this))},_renderPlaceholder:function(){0!==this.element().find("input").length&&this.callBase()},_clean:function(){this._$fieldWrapper.remove(),this._$searchBox=null,this.callBase()},_optionChanged:function(e){var t=e.name,n=e.value;switch(t){case"searchEnabled":this._popup&&this._renderSearch(),this._attachSearchChildProcessor();break;case"searchPlaceholder":this._setSearchPlaceholder();break;case"minSearchLength":this._setSearchPlaceholder(),this.callBase.apply(this,arguments);break;case"title":case"titleTemplate":case"onTitleRendered":case"shading":case"animation":case"position":case"closeOnOutsideClick":this._setPopupOption(t);break;case"fullScreen":case"usePopover":case"placeholder":this._invalidate();break;case"clearButtonText":case"showClearButton":case"showCancelButton":this._setPopupOption("buttons",this._getPopupButtons());break;case"applyValueMode":this.callBase.apply(this,arguments);break;case"popupWidth":this._setPopupOption("popupWidth","auto"===n?this.initialOption("popupWidth"):n);
break;case"popupHeight":this._setPopupOption("popupHeight","auto"===n?this.initialOption("popupHeight"):n);break;case"pullRefreshEnabled":case"useNativeScrolling":case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"onScroll":case"onPullRefresh":case"onPageLoading":case"nextButtonText":case"grouped":case"groupTemplate":this._setListOption(t);break;case"showNextButton":case"pageLoadMode":this._setListOption("pageLoadMode",this._getPageLoadMode());break;case"cleanSearchOnOpening":break;default:this.callBase.apply(this,arguments)}},focus:function(){this.option("opened")?this._setFocusPolicy():this._focusTarget().focus()},field:function(){return this._$field}});return l("dxLookup",d,$),$}),DevExpress.require(["/ui/widgets/ui.lookup"]),DevExpress.define("/ui/widgets/ui.autocomplete",["jquery","/componentRegistrator","/ui/widgets/ui.dropDownList","/ui/uiNamespace"],function(e,t,n,i){var r="dx-autocomplete",o="dx-autocomplete-popup-wrapper",a={9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow"},s=n.inherit({_supportedKeys:function(){var t=this._list?this._list.option("focusedElement"):null;return e.extend(this.callBase(),{upArrow:function(e){return e.preventDefault(),e.stopPropagation(),t&&!t.prev().length?(this._clearFocusedItem(),!1):!0},downArrow:function(e){return e.preventDefault(),e.stopPropagation(),t&&!t.next().length?(this._clearFocusedItem(),!1):!0},enter:function(){return t||this.close(),!0}})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{displayExpr:{since:"15.2",alias:"valueExpr"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{minSearchLength:1,maxItemCount:10,noDataText:"",showDropButton:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"android"===e.platform},options:{popupPosition:{offset:{h:-16,v:-9}}}}])},_render:function(){this.callBase(),this.element().addClass(r),this.setAria("autocomplete","inline")},_loadValue:function(){return e.Deferred().resolve(this.option("value"))},_displayGetterExpr:function(){return this.option("valueExpr")},_setSelectedItem:function(e){this.callBase(e),this.option("displayValue",this.option("value"))},_popupConfig:function(){return e.extend(this.callBase(),{closeOnOutsideClick:e.proxy(function(t){return!e(t.target).closest(this.element()).length},this)})},_renderDimensions:function(){this.callBase(),this._setPopupOption("width")},_popupWrapperClass:function(){return this.callBase()+" "+o},_listConfig:function(){return e.extend(this.callBase(),{pageLoadMode:"none",indicateLoading:!1})},_listItemClickHandler:function(e){var t=this._displayGetter(e.itemData);this.option("value",t),this.close()},_refreshSelected:e.noop,_searchCanceled:function(){this.callBase(),this.close()},_dataSourceOptions:function(){return{paginate:!0}},_searchDataSource:function(){this._dataSource.pageSize(this.option("maxItemCount")),this.callBase(),this._clearFocusedItem()},_clearFocusedItem:function(){this._list&&(this._list.option("focusedElement",null),this._list.option("selectedIndex",-1))},_renderValueEventName:function(){return"input keyup"},_keyPressHandler:function(e){a[e.which||e.keyCode]||(this.callBase.apply(this,arguments),this._search())},_optionChanged:function(e){"maxItemCount"===e.name?this._searchDataSource():this.callBase(e)}});return t("dxAutocomplete",i,s),s}),DevExpress.require(["/ui/widgets/ui.autocomplete"]),DevExpress.define("/ui/widgets/ui.selectBox",["jquery","/utils/utils.common","/utils/utils.inkRipple","/componentRegistrator","/ui/events/ui.events.utils","/ui/widgets/ui.dropDownList","/ui/uiNamespace","/ui/ui.themes"],function(e,t,n,i,r,o,a,s){var l="dx-selectbox",u="dx-selectbox-popup",c="dx-selectbox-selected",d="dx-selectbox-container",h="dx-selectbox-popup-wrapper",p={9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow"},f=o.inherit({_supportedKeys:function(){var t=this.callBase(),n=function(e){this.option("showClearButton")&&!this._isEditable()&&(e.preventDefault(),this.reset())};return e.extend({},t,{tab:function(){var e=this.option("fieldEditEnabled"),n=this.option("searchEnabled");this.option("opened")&&(n&&!e&&this._input().val(""),t.tab.apply(this,arguments),this.close())},upArrow:function(){return t.upArrow.apply(this,arguments)?(this.option("opened")||this._setNextValue(-1),!0):void 0},downArrow:function(){return t.downArrow.apply(this,arguments)?(this.option("opened")||this._setNextValue(1),!0):void 0},enter:function(e){if(this._list&&null===this._list.option("focusedElement")&&""===this._input().val())this.option({selectedItem:null,value:null}),this.close();else if(this.option("fieldEditEnabled")&&e.preventDefault(),t.enter.apply(this,arguments))return this.option("opened")},backspace:n,del:n})},_getDefaultOptions:function(){return e.extend(this.callBase(),{placeholder:Globalize.localize("Select"),fieldTemplate:null,valueChangeEvent:"keyup",fieldEditEnabled:!1,showSelectionControls:!1,tooltipEnabled:!1,openOnFieldClick:!0,showDropButton:!0,displayCustomValue:!1,_isAdaptablePopupPosition:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return/win8/.test(s.current())},options:{_isAdaptablePopupPosition:!0,popupPosition:{at:"left top",offset:{h:0,v:0}}}},{device:function(){return/android5/.test(s.current())},options:{_isAdaptablePopupPosition:!0,popupPosition:{offset:{h:-16,v:-9}}}},{device:function(){return/android5/.test(s.current())},options:{useInkRipple:!0}}])},_selectedItemClass:function(){return c},_render:function(){this.callBase(),this.element().addClass(l),this.option("useInkRipple")&&this._renderInkRipple(),this._renderTooltip()},_renderInkRipple:function(){this._inkRipple=n.render()},_toggleActiveState:function(e,t,n){if(this.callBase.apply(this,arguments),this._inkRipple&&!this._isEditable()){var i={element:this._inputWrapper(),jQueryEvent:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_createPopup:function(){this.callBase(),this._updatePopupPosition(),this._popup.element().addClass(u)},_popupWrapperClass:function(){return this.callBase()+" "+h},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._updatePopupHeight(),this._scrollToSelectedItem())},_updatePopupPosition:function(){if(this.option("_isAdaptablePopupPosition")&&this.option("popupPosition")===this.initialOption("popupPosition"))if(this._isEditable()){var t=e.extend(this._getDefaultPopupPosition(),{offset:{h:(this.option("rtlEnabled")?-1:1)*this.option("popupPosition").offset.h,v:-4}});this._setPopupOption("position",t)}else this._setPopupOption("position",this.initialOption("popupPosition"))},_scrollToSelectedItem:function(){this._dataSource.paginate()&&this._isEditable()?this._list.scrollTo(0):this._list.scrollToItem(this._$list.find("."+this._selectedItemClass()))},_renderInputValue:function(){return this.callBase().always(e.proxy(function(){this._renderTooltip(),this._renderInputValueImpl(),this._refreshSelected()},this))},_renderInputValueImpl:function(){this._renderInputAddons()},_fitIntoRange:function(e,t,n){return e>n?t:t>e?n:e},_setNextValue:function(t){var n=this._dataSource.isLoaded()?e.Deferred().resolve():this._dataSource.load();n.done(e.proxy(function(){var e=this._valueGetter(this._calcNextItem(t));this._setValue(e)},this))},_calcNextItem:function(e){var t=this._items(),n=this._fitIntoRange(this._getSelectedIndex()+e,0,t.length-1);return t[n]},_items:function(){return this._list?this.option("items"):this._dataSource.items()},_getSelectedIndex:function(){var t=this._items(),n=this.option("selectedItem"),i=-1;return e.each(t,e.proxy(function(e,t){return this._isValueEquals(t,n)?(i=e,!1):void 0},this)),i},_setSelectedItem:function(e){var t=!this._isCustomValueAllowed()&&void 0===e;this.callBase(t?null:e)},_isCustomValueAllowed:function(){return this.option("fieldEditEnabled")||this.callBase()},_displayValue:function(e){return e=!t.isDefined(e)&&this._isCustomValueAllowed()?this.option("value"):e,this.callBase(e)},_listConfig:function(){var t=e.extend(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectionMode:"single"});return this.option("showSelectionControls")&&e.extend(t,{showSelectionControls:!0}),t},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?e.proxy(this._selectionChangeHandler,this):e.noop},_selectionChangeHandler:function(t){e.each(t.addedItems||[],e.proxy(function(e,t){this._setValue(this._valueGetter(t))},this))},_toggleOpenState:function(e){this.option("disabled")||(e=arguments.length?e:!this.option("opened"),this._wasSearch()&&e&&(this._wasSearch(!1),this.option("showDataBeforeSearch")||0===this.option("minSearchLength")?this._filterDataSource(null):(this._setListOption("items",[]),this._list&&this._setListOption("noDataText",this._list.initialOption("noDataText")))),this.callBase(e))},_renderTooltip:function(){this.option("tooltipEnabled")&&this.element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._setPopupOption("width")},_renderInput:function(){this.callBase(),this._$container.addClass(d);var t=r.addNamespace("blur",this.NAME);this._input().off(t).on(t,e.proxy(this._fieldBlurHandler,this))},_fieldBlurHandler:function(){if(this.option("searchEnabled")&&!this.option("fieldEditEnabled")){var t=this.option("selectedItem");this._renderInputValue().always(e.proxy(function(){this._setSelectedItem(t),this._renderDisplayText(this._displayGetter(this.option("selectedItem")))},this))}},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_isEditable:function(){return this.option("fieldEditEnabled")||this.option("searchEnabled")},_fieldRenderData:function(){return this.option("selectedItem")},_readOnlyPropValue:function(){return!this._isEditable()||this.option("readOnly")},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_listItemClickHandler:function(e){var t=this.option("value");this._completeSelection(this._valueGetter(e.itemData)),this.option("searchEnabled")&&t===this._valueGetter(e.itemData)&&this._renderDisplayText(this._displayGetter(e.itemData))},_completeSelection:function(e){void 0===e&&(e=this.option("fieldEditEnabled")&&this._searchValue()?this._searchValue():this.option("value")),this.option("opened",!1),this._wasSearch()&&this._clearFilter(),this._setValue(e)},_setValue:function(e){this.option("value",e)},_clearValueHandler:function(){this.reset()},_valueChangeEventHandler:function(e){p[e.which||e.keyCode]||(this.option("fieldEditEnabled")&&(this._valueUpdateSuppressed=!0,this.callBase.apply(this,arguments),this._valueUpdateSuppressed=!1),this.option("searchEnabled")&&this._search())},_createClearButton:function(){var e=r.addNamespace("dxclick",this.NAME);return this.callBase().on(e,function(){return!1})},_search:function(){this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase()},_wasSearch:function(e){return arguments.length?void(this._wasSearchValue=e):this._wasSearchValue},_filterDataSource:function(e){this.callBase(e),this._setCollectionWidgetOption("noDataText",e?"":this._list&&this._list.initialOption("noDataText"))},_optionChanged:function(e){switch(e.name){case"_isAdaptablePopupPosition":break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"fieldEditEnabled":case"showSelectionControls":case"useInkRipple":this._invalidate();break;default:this.callBase(e)}}});return i("dxSelectBox",a,f),f}),DevExpress.require(["/ui/widgets/ui.selectBox"]),DevExpress.define("/ui/widgets/tagBox/ui.tagBox.removeButton",["jquery","/ui/ui.widget"],function(e,t){var n="dx-tag-remove-button";return t.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{activeStateEnabled:!0})},_render:function(){this.callBase(),this.element().addClass(n)}})}),DevExpress.define("/ui/widgets/ui.tagBox",["jquery","/utils/utils.common","/componentRegistrator","/ui/templates/ui.template.function","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/widgets/ui.selectBox","/ui/uiNamespace","/ui/widgets/tagBox/ui.tagBox.removeButton"],function(e,t,n,i,r,o,a,s,l){var u="dxTagData",c="dx-tagbox",d="dx-tag-container",h="dx-tag",p="dx-tag-content",f="dx-tag-remove-button",m="dx-tagbox-only-select",g="dx-texteditor-empty",_=a.inherit({_supportedKeys:function(){var t=this.callBase();return e.extend(t,{backspace:function(e){if(!this._searchValue().length){e.preventDefault(),e.stopPropagation();var t=this._values();this._removeTagWithUpdate(t[t.length-1])}},enter:function(e){!this.option("fieldEditEnabled")||this._$list&&this._$list.find(".dx-state-focused").length?(this.option("opened")&&e.preventDefault(),this._keyboardProcessor._childProcessors[0].process(e)):(e.preventDefault(),this._completeSelection())}})},_setNextValue:e.noop,_getDefaultOptions:function(){return e.extend(this.callBase(),{values:[],onValuesChanged:null,showDropButton:!1,tagTemplate:"tag",selectAllText:Globalize.localize("dxList-selectAll"),onSelectAllChanged:null})},_init:function(){this.callBase(),this._initValuesChangedAction(),this._initDynamicTagTemplate(),this._values(this.option("values")),this._updateValues(),this._initSelectAllValueChangedAction()},_initValuesChangedAction:function(){this._valuesChangedAction=this._createActionByOption("onValuesChanged",{excludeValidators:["disabled","readonly"]}),this._removeTagAction=this._createAction(e.proxy(this._removeTagHandler,this))},_initDynamicTagTemplate:function(){this._displayGetterExpr()?this._dynamicTemplates.tag=new i(e.proxy(function(e){return this._displayGetter(e)},this)):delete this._dynamicTemplates.tag},_render:function(){this.callBase(),this.element().addClass(c),this.element().toggleClass(m,!(this.option("searchEnabled")||this.option("fieldEditEnabled")));var t=r.addNamespace("dxclick","dxTagBoxTagRemove");this.element().find(".dx-texteditor-container").off(t).on(t,"."+f,e.proxy(function(e){this._removeTagAction({jQueryEvent:e})},this))},_renderOpenHandler:function(){this.callBase();var e=this.element().find(".dx-dropdowneditor-input-wrapper"),t=r.addNamespace("mousedown",this.NAME);e.off(t),this.option("openOnFieldClick")&&e.on(t,function(e){e.preventDefault()})},_renderInputValueImpl:function(){this._renderMultiSelect()},_listContentReadyHandler:function(){this._suppressingSelectionChanged(function(){this._valuesChangedAction=e.noop}),this.callBase(),this._initValuesChangedAction()},_suppressingSelectionChanged:function(t){this._setListOption("onSelectionChanged",e.noop),t.call(this),this._setListOption("onSelectionChanged",this._getSelectionChangeHandler())},_initSelectAllValueChangedAction:function(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllChanged")},_listConfig:function(){var t=this,n=this.callBase();return this.option("showSelectionControls")&&e.extend(n,{selectionMode:"all",selectAllText:this.option("selectAllText"),onSelectAllChanged:function(e){t._selectAllValueChangeAction({value:e.value})},selectedItems:this._selectedItems}),n},_renderMultiSelect:function(){this._$tagsContainer=this.element().find(".dx-texteditor-container").addClass(d),this._renderInputSize(),this._clearFilter(),this._renderTags(),this._popup&&this._popup.repaint()},_renderInputSize:function(){var e=this._input();e.prop("size",e.val()?e.val().length+2:1)},_renderTags:function(){var t,n;this._cleanTags(),t=e("<div>"),this._selectedItems=[],n=e.map(this._values(),e.proxy(function(e){return this._renderTag(e,t)},this)),t.children().insertBefore(this._input()),e.when.apply(e,n).done(e.proxy(this._renderInputAddons,this)),this._renderEmptyState()},_renderEmptyState:function(){var e=!this._values().length;this.element().toggleClass(g,e),this._placeholder().toggle(e),this._renderDisplayText()},_renderDisplayText:function(){this._input().val(""),this._renderInputSize()},_cleanTags:function(){var t=this._tagElements(),n=this._values();e.each(t,function(t,i){var r=e(i);e.inArray(r.data(u),n)<0&&r.remove()})},_tagElements:function(){return this.element().find("."+h)},_renderTag:function(n,i){if(this._isTagRendered(n))return e.Deferred().resolve();var r=e("<div>").addClass(h).data(u,n).appendTo(i),o=this._getTemplateByOption("tagTemplate"),a=e("<div>").addClass(p).appendTo(r);return new l(e("<div>")).element().appendTo(r),this._loadItem(n).always(e.proxy(function(e){e=t.isDefined(e)?e:n,o.render(e,a),this._selectedItems.push(e)},this))},_isTagRendered:function(t){var n=this._tagElements(),i=!1;return e.each(n,function(n,r){var o=e(r);return t===o.data(u)?(i=!0,!1):void 0}),i},_toggleEmptinessEventHandler:function(){this._toggleEmptiness(!this._values().length&&!this._searchValue().length)},_removeTagHandler:function(t){var n,i,r=t.jQueryEvent;r.stopPropagation(),n=e(r.target).closest("."+h),i=n.data(u),this._removeTagWithUpdate(i)},_removeTagWithUpdate:function(e){this._removeTag(e),this.option("values",this._values())},_selectionChangeHandler:function(t){e.each(t.removedItems||[],e.proxy(function(e,t){this._removeTag(this._valueGetter(t))},this)),e.each(t.addedItems||[],e.proxy(function(e,t){this._addTag(this._valueGetter(t))},this)),this.callBase(t),this._suppressingSelectionChanged(function(){this.option("values",this._values())}),this._valuesChangedAction(t)},_removeTag:function(e){this.option().value=e;var t=this._values(),n=this._valueIndex(e);n>=0&&t.splice(n,1)},_addTag:function(e){var t=this._values(),n=this._valueIndex(e);0>n&&t.push(e)},_fieldRenderData:function(){return this._selectedItems},_setValue:function(e){if(null!==e&&!this._isSelectedValue(e)){var t=this._values();t.push(e),this.option("values",t)}},_isSelectedValue:function(e){return this._valueIndex(e)>-1},_valueIndex:function(t){var n=-1;return e.each(this._values(),e.proxy(function(e,i){return this._isValueEquals(t,i)?(n=e,!1):void 0},this)),n},_values:function(e){return arguments.length?void(this._valuesData=e?e.slice():[]):this._valuesData||[]},_previousValues:function(e){return arguments.length?void(this._previousValuesData=e.slice()):this._previousValuesData||[]},_optionValuesEqual:function(e,t,n){return"value"===e?!1:void this.callBase(e,t,n)},reset:function(){this.option("values",[]),this.callBase()},_updateValues:function(){var e=void 0===this._lastValue()?null:this._lastValue();this.option("value",e)},_lastValue:function(){return this._values().slice(-1).pop()},_valueChangeEventHandler:function(e){var t,n,i=this.element(),r=i.height();if(this._renderInputSize(),t=!this._searchValue().length&&!this._dataSource.searchValue(),n=i.height(),this._popup&&this.option("opened")&&this._isEditable()&&n!==r&&this._popup.repaint(),!t){if(this.option("fieldEditEnabled"))return void(this.option("searchEnabled")&&this._search());this.callBase(e)}},_valueChangeArgs:function(){var t=this.callBase.apply(this,arguments);return delete t.previousValue,e.extend(t,{values:this._values(),previousValues:this._previousValues()})},_refreshSelected:function(){this._list&&this._suppressingSelectionChanged(function(){this._setListOption("selectedItems",this._selectedItems),this.callBase()})},_setSelectedElement:function(e){this.callBase(e),this._setValue(this.option("value"))},_optionChanged:function(e){switch(e.name){case"onSelectAllChanged":this._initSelectAllValueChangedAction();break;case"displayExpr":this.callBase(e),this._initDynamicTagTemplate(),this._invalidate();break;case"tagTemplate":this._initDynamicTagTemplate(),this._invalidate();break;case"values":this._values(e.value),this._previousValues(e.previousValue),this._updateValues();break;case"onValuesChanged":this._initValuesChangedAction();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;default:this.callBase(e)}}});return n("dxTagBox",s,_),_}),DevExpress.require(["/ui/widgets/ui.tagBox"]),function(e,t,n){var i=t.ui,r=t.fx,o=t.require("/utils/utils.translator"),a=t.require("/utils/utils.math"),s=t.require("/utils/utils.common"),l=t.require("/devices"),u=t.require("/componentRegistrator"),c="dx-multiview",d="dx-multiview-wrapper",h="dx-multiview-item-container",p="dx-multiview-item",f="dx-multiview-item-hidden",m="dxMultiViewItemData",g=200,_=function(e){return+e},v=function(e){return o.locate(e).left},y=function(e,t){o.move(e,{left:t})},x={moveTo:function(e,t,n,i){r.animate(e,{type:"slide",to:{left:t},duration:n,complete:i})},complete:function(e){r.stop(e,!0)}};u("dxMultiView",i,i.CollectionWidget.inherit({_activeStateUnit:"."+p,_supportedKeys:function(){return e.extend(this.callBase(),{pageUp:e.noop,pageDown:e.noop})},_getDefaultOptions:function(){return e.extend(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return l.real().generic&&!l.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return p},_itemDataKey:function(){return m},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=this._$wrapper.width()),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(e){var t=this._itemsCount();return 0>e&&(e+=t),e>=t&&(e-=t),e},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.element();t.addClass(c),this._$wrapper=e("<div>").addClass(d),this._$wrapper.appendTo(t),this._$itemContainer=e("<div>").addClass(h),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_render:function(){this._deferredItems=[],this.callBase()},_renderItemContent:function(t){var n=e.Deferred(),i=this,r=this.callBase,o=e.Deferred();return o.done(function(){var e=r.call(i,t);n.resolve(e)}),this._deferredItems.push(o),this.option("deferRendering")||o.resolve(),n.promise()},_renderSelection:function(e){this._updateItems(e[0])},_updateItems:function(e,t){this._updateItemsPosition(e,t),this._updateItemsVisibility(e,t)},_updateItemsPosition:function(e,t){var n=this._itemElements(),i=-this._animationDirection(t,e),r=n.eq(e);y(r,0),y(n.eq(t),100*i+"%")},_updateItemsVisibility:function(t,i){var r=this._itemElements();r.each(e.proxy(function(r,o){var a=e(o),s=r!==t&&r!==i;s||this._renderSpecificItem(r),a.toggleClass(f,s),this.setAria("hidden",s||n,a)},this))},_renderSpecificItem:function(e){var t=this._itemElements().eq(e).find(this._itemContentClass()).length>0;s.isDefined(e)&&!t&&this._deferredItems[e].resolve()},_setAriaSelected:e.noop,_updateSelection:function(t,n){var i,r=t[0],o=n[0];x.complete(this._$itemContainer),this._updateItems(o,r),i=this._animationDirection(r,o),this._animateItemContainer(i*this._itemWidth(),e.proxy(function(){y(this._$itemContainer,0),this._updateItems(r),this._$itemContainer.width()},this))},_animateItemContainer:function(e,t){var n=this.option("animationEnabled")?g:0;x.moveTo(this._$itemContainer,e,n,t)},_animationDirection:function(e,t){var n=v(this._$itemContainer),i=(t-e)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),r=0!==n,o=r?n:i;return a.sign(o)},_initSwipeable:function(){this._createComponent(this.element(),"dxSwipeable",{disabled:!this.option("swipeEnabled"),elastic:!1,itemSizeFunc:e.proxy(this._itemWidth,this),onStart:e.proxy(function(e){this._swipeStartHandler(e.jQueryEvent)},this),onUpdated:e.proxy(function(e){this._swipeUpdateHandler(e.jQueryEvent)},this),onEnd:e.proxy(function(e){this._swipeEndHandler(e.jQueryEvent)},this)})},_swipeStartHandler:function(e){x.complete(this._$itemContainer);var t=this.option("selectedIndex"),n=this.option("loop"),i=this._itemsCount()-1,r=this.option("rtlEnabled");e.maxLeftOffset=_(n||(r?t>0:i>t)),e.maxRightOffset=_(n||(r?i>t:t>0)),this._swipeDirection=null},_swipeUpdateHandler:function(e){var t,n,i=e.offset,r=a.sign(i)*this._getRTLSignCorrection();y(this._$itemContainer,i*this._itemWidth()),r!==this._swipeDirection&&(this._swipeDirection=r,t=this.option("selectedIndex"),n=this._normalizeIndex(t-r),this._updateItems(t,n))},_swipeEndHandler:function(t){var n,i=t.targetOffset*this._getRTLSignCorrection();i?(this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-i)),n=this.itemElements().filter(".dx-item-selected"),this.option("focusStateEnabled")&&this.option("focusedElement",n)):this._animateItemContainer(0,e.noop)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.last()),t},_nextItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.first()),t},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_optionChanged:function(e){var t=e.value;switch(e.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this.element().dxSwipeable("option","disabled",!t);break;case"deferRendering":this._invalidate();break;default:this.callBase(e)}}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/validation/ui.defaultAdapter",["jquery","/class"],function(e,t){return t.inherit({ctor:function(t,n){var i,r=this;r.editor=t,r.validator=n,r.validationRequestsCallbacks=e.Callbacks(),i=function(){r.validationRequestsCallbacks.fire()},t.validationRequest.add(i),t.on("disposing",function(){t.validationRequest.remove(i)})},getValue:function(){return this.editor.option("value")},getCurrentValidationError:function(){return this.editor.option("validationError")},bypass:function(){return this.editor.option("disabled")},applyValidationResults:function(e){this.editor.option({isValid:e.isValid,validationError:e.brokenRule})},reset:function(){this.editor.reset()},focus:function(){this.editor.focus()}})}),DevExpress.define("/ui/widgets/ui.validator",["jquery","/ui/ui.errors","/componentRegistrator","/domComponent","/ui/ui.validationMixin","/validationEngine","/ui/widgets/validation/ui.defaultAdapter","/ui/uiNamespace"],function(e,t,n,i,r,o,a,s){var l="dx-validator",u=i.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{validationRules:[]})},_init:function(){this.callBase(),this._initGroupRegistration(),this.focused=e.Callbacks(),this._initAdapter()},_initGroupRegistration:function(){var e=this._findGroup();this._groupWasInit||this.on("disposing",function(e){o.removeRegistredValidator(e.component._validationGroup,e.component)}),this._groupWasInit&&this._validationGroup===e||(o.removeRegistredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=e,o.registerValidatorInGroup(e,this))},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{validationGroup:!0})},_initAdapter:function(){var e=this,n=e.element().data("dx-validation-target"),i=e.option("adapter");if(!i){if(n)return i=new a(n,this),i.validationRequestsCallbacks.add(function(){e.validate()}),this.option("adapter",i),void 0;throw t.Error("E0120")}i.validationRequestsCallbacks&&i.validationRequestsCallbacks.add(function(){e.validate()})},_render:function(){this.element().addClass(l),this.callBase()},_visibilityChanged:function(e){e&&this._initGroupRegistration()},_optionChanged:function(e){switch(e.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;default:this.callBase(e)}},validate:function(){var t,n=this,i=n.option("adapter"),r=n.option("name"),a=i.bypass&&i.bypass(),s=i.getValue(),l=i.getCurrentValidationError&&i.getCurrentValidationError(),u=e.map(n.option("validationRules"),function(e){return e.validator=n,e});return a?t={isValid:!0}:l&&l.editorSpecific?(l.validator=this,t={isValid:!1,brokenRule:l}):t=o.validate(s,u,r),this._applyValidationResult(t,i),t},reset:function(){var e=this,t=e.option("adapter"),n={isValid:!0,brokenRule:null};t.reset(),this._applyValidationResult(n,t)},_applyValidationResult:function(e,t){var n=this._createActionByOption("onValidated");e.validator=this,t.applyValidationResults&&t.applyValidationResults(e),this.option({isValid:e.isValid}),n(e)},focus:function(){var e=this.option("adapter");e.focus()}}).include(r);return n("dxValidator",s,u),u}),DevExpress.require(["/ui/widgets/ui.validator"]),DevExpress.define("/ui/widgets/ui.validationSummary",["jquery","/componentRegistrator","/ui/ui.validationMixin","/validationEngine","/ui/uiNamespace"],function(e,t,n,i,r){var o="dx-validationsummary",a=o+"-item",s=o+"-item-data",l=DevExpress.ui.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{validationGroup:!0})},_init:function(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration:function(){var t=this._findGroup(),n=i.addGroup(t);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=t,this.groupSubscription=e.proxy(this._groupValidationHandler,this),n.on("validated",this.groupSubscription)},_unsubscribeGroup:function(){var e=i.getGroupConfig(this._validationGroup);e&&e.off("validated",this.groupSubscription)},_getOrderedItems:function(t,n){var i=[];return e.each(t,function(t,r){var o=e.grep(n,function(e){return e.validator===r?!0:void 0})[0];o&&i.push(o)}),i},_groupValidationHandler:function(t){var n=this,i=n._getOrderedItems(t.validators,e.map(t.brokenRules,function(e){return{text:e.message,validator:e.validator}}));n.validators=t.validators,e.each(n.validators,function(t,i){if(i._validationSummary!==this){var r=e.proxy(n._itemValidationHandler,n),o=function(){i.off("validated",r),i._validationSummary=null,r=null};i.on("validated",r),i.on("disposing",o),i._validationSummary=this}}),n.option("items",i)},_itemValidationHandler:function(t){var n,i=this.option("items"),r=t.isValid,o=!1,a=t.brokenRule&&t.brokenRule.message,s=t.validator;e.each(i,function(e,t){return t.validator===s?(r?n=e:t.text=a,o=!0,!1):void 0}),r^o||(r?i.splice(n,1):i.push({text:a,validator:s}),i=this._getOrderedItems(this.validators,i),this.option("items",i))},_render:function(){this.element().addClass(o),this.callBase()},_optionChanged:function(e){switch(e.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(e)}},_itemClass:function(){return a},_itemDataKey:function(){return s},_postprocessRenderItem:function(e){e.itemElement.on("click",function(){e.itemData.validator.focus()})},_dispose:function(){this.callBase(),this._unsubscribeGroup()}}).include(n);return t("dxValidationSummary",r,l),l}),DevExpress.require(["/ui/widgets/ui.validationSummary"]),DevExpress.define("/ui/widgets/ui.validationGroup",["jquery","/componentRegistrator","/domComponent","/ui/widgets/ui.validationSummary","/validationEngine","/ui/widgets/ui.validator","/ui/uiNamespace"],function(e,t,n,i,r,o,a){var s="dx-validationgroup",l=n.inherit({_getDefaultOptions:function(){return this.callBase()},_init:function(){this.callBase()},_render:function(){var t=this.element();t.addClass(s),t.find(".dx-validator").each(function(t,n){o.getInstance(e(n))._initGroupRegistration()}),t.find(".dx-validationsummary").each(function(t,n){
i.getInstance(e(n))._initGroupRegistration()}),this.callBase()},validate:function(){return r.validateGroup(this)},reset:function(){return r.resetGroup(this)},_optionChanged:function(e){switch(e.name){default:this.callBase(e)}},_dispose:function(){r.removeGroup(this),this.element().removeClass(s),this.callBase()}});return t("dxValidationGroup",a,l),l}),DevExpress.require(["/ui/widgets/ui.validationGroup"]),DevExpress.define("/ui/widgets/ui.fileUploader",["jquery","/utils/utils.browser","/utils/utils.common","/devices","/componentRegistrator","/ui/ui.editor","/ui/widgets/ui.button","/ui/widgets/track/ui.progressBar","/ui/uiNamespace","/ui/events/ui.events.utils"],function(e,t,n,i,r,o,a,s,l,u){var c="dx-fileuploader",d="dx-fileuploader-empty",h="dx-fileuploader-show-file-list",p="dx-fileuploader-dragover",f="<input type='file'>",m="dx-fileuploader-wrapper",g="dx-fileuploader-container",_="dx-fileuploader-content",v="dx-fileuploader-input-wrapper",y="dx-fileuploader-input-container",x="dx-fileuploader-input-label",b="dx-fileuploader-input",w="dx-fileuploader-files-container",C="dx-fileuploader-file-container",S="dx-fileuploader-file-info",k="dx-fileuploader-file-status-message",D="dx-fileuploader-file",T="dx-fileuploader-file-name",E="dx-fileuploader-file-size",I="dx-fileuploader-button",A="dx-fileuploader-button-container",$="dx-fileuploader-cancel-button",B="dx-fileuploader-upload-button",O=400,P=function(){return!!window.FormData},M=function(){return FormData},R=function(){return XMLHttpRequest},V=o.inherit({_supportedKeys:function(){var t=function(e){e.preventDefault();var t=this._selectButton.element();t.trigger("dxclick")};return e.extend(this.callBase(),{space:t,enter:t})},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{value:!0})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{buttonText:{since:"15.1",alias:"selectButtonText"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{value:null,values:[],selectButtonText:Globalize.localize("dxFileUploader-selectFile"),uploadButtonText:Globalize.localize("dxFileUploader-upload"),labelText:Globalize.localize("dxFileUploader-dropFile"),name:"files[]",multiple:!1,accept:"",uploadUrl:"/",allowCanceling:!0,showFileList:!0,progress:0,readyToUploadMessage:Globalize.localize("dxFileUploader-readyToUpload"),uploadedMessage:Globalize.localize("dxFileUploader-uploaded"),uploadFailedMessage:Globalize.localize("dxFileUploader-uploadFailedMessage"),uploadMode:"instantly",onUploaded:null,onProgress:null,onUploadError:null,validationMessageMode:"always",validationMessageOffset:{h:0,v:0},useNativeInputClick:!1,useDragOver:!0,nativeDropSupported:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return i.real().generic&&!i.isSimulator()},options:{focusStateEnabled:!0}},{device:[{platform:"android"},{platform:"win"}],options:{validationMessageOffset:{v:0}}},{device:function(){return t.msie&&t.version<=10},options:{useNativeInputClick:!0}},{device:function(){return"generic"!==i.real().platform},options:{useDragOver:!1}},{device:function(){return t.msie&&t.version<=9},options:{uploadMode:"useForm"}},{device:function(){return t.msie||"generic"!==i.real().platform},options:{nativeDropSupported:!1}}])},_init:function(){this.option("value",null),this.option("values",[]),this.callBase.apply(this,arguments),this._initFileInput(),this._initLabel(),this._createFiles(),this._createUploadedAction(),this._createProgressAction(),this._createUploadErrorAction()},_initFileInput:function(){this._isCustomClickEvent=!1,this._$fileInput||(this._$fileInput=e(f),this._$fileInput.on("change",e.proxy(this._inputChangeHandler,this)).on("click",e.proxy(function(){return this.option("useNativeInputClick")||this._isCustomClickEvent},this))),this._$fileInput.prop({multiple:this.option("multiple"),name:this.option("name"),accept:this.option("accept"),tabindex:-1})},_inputChangeHandler:function(){var e,t,n;this._doPreventInputChange||(e=this._$fileInput.val().replace(/^.*\\/,""),t=this._$fileInput.prop("files"),(!t||t.length)&&(n=t?this._getFiles(t):[{name:e}],this._changeValues(n),"instantly"===this.option("uploadMode")&&this._uploadFiles()))},_changeValues:function(e){this._shouldChangeValue=!0,this.option("values",e),delete this._shouldChangeValue},_getFiles:function(t){var n=[];return e.each(t,function(e,t){n.push(t)}),n},_initLabel:function(){this._$inputLabel||(this._$inputLabel=e("<div>")),this._$inputLabel.text(this.option("labelText"))},_focusTarget:function(){return this.element().find("."+I)},_render:function(){this.element().addClass(c),this._renderWrapper(),this._renderInputWrapper(),this._renderDragEvents(),this._renderSelectButton(),this._renderInputContainer(),this._renderFiles(),this._renderUploadButton(),this.callBase.apply(this,arguments)},_createFiles:function(){this._files=[],e.each(this.option("values"),e.proxy(function(e,t){this._files.push(this._createFile(t))},this))},_createUploadedAction:function(){this._uploadedAction=this._createActionByOption("onUploaded")},_createProgressAction:function(){this._progressAction=this._createActionByOption("onProgress")},_createUploadErrorAction:function(){this._uploadErrorAction=this._createActionByOption("onUploadError")},_createFile:function(t){return{value:t,loadedSize:0,onProgress:e.Callbacks(),onLoad:e.Callbacks(),onError:e.Callbacks(),onLoadStart:e.Callbacks()}},_renderFiles:function(){var t,n;this._$filesContainer?this._$filesContainer.empty():this._$filesContainer=e("<div>").addClass(w).appendTo(this._$content),t=this.option("showFileList"),t&&(n=this,e.each(this._files,function(e,t){n._renderFile(t)})),this.element().toggleClass(h,t),this.element().toggleClass(d,!this._files.length),this._updateFileNameMaxWidth(),this._$validationMessage&&this._$validationMessage.dxOverlay("repaint")},_renderFile:function(t){var i,r=t.value,o=e("<div>").addClass(C).appendTo(this._$filesContainer);this._renderFileButtons(t,o),t.$file=e("<div>").addClass(D).appendTo(o),i=e("<div>").addClass(S).appendTo(t.$file),t.$statusMessage=e("<div>").addClass(k).text(this.option("readyToUploadMessage")).appendTo(t.$file),e("<div>").addClass(T).text(r.name).appendTo(i),n.isDefined(r.size)&&e("<div>").addClass(E).text(this._getFileSize(r.size)).appendTo(i)},_updateFileNameMaxWidth:function(){var e,t=this.option("allowCanceling")?1:0,n="useButtons"===this.option("uploadMode")?1:0,i=this._$filesContainer.width(),r=this._$filesContainer.find("."+A).eq(0),o=r.width()*(t+n),a=this._$filesContainer.find("."+E).eq(0),s=a.text();a.text("1000 Mb"),e=a.width(),a.text(s),this._$filesContainer.find("."+T).css("max-width",i-o-e)},_renderFileButtons:function(t,n){t.cancelButton=this._createComponent(e("<div>").addClass(I+" "+$),a,{onClick:e.proxy(function(){this._removeFile(t)},this),icon:"close",visible:this.option("allowCanceling"),_templates:{}}),e("<div>").addClass(A).append(t.cancelButton.element()).appendTo(n),"useButtons"===this.option("uploadMode")&&(t.uploadButton=this._createComponent(e("<div>").addClass(I+" "+B),a,{onClick:e.proxy(function(){this._uploadFile(t)},this),icon:"upload"}),e("<div>").addClass(A).append(t.uploadButton.element()).appendTo(n),t.onLoadStart.add(e.proxy(function(){t.uploadButton.element().remove()},this)))},_removeFile:function(t){t.$file.parent().remove(),this._files.splice(e.inArray(t,this._files),1);var n=this.option("values").slice();n.splice(e.inArray(t.value,n),1),this._shouldChangeValue=this._doPreventRecreatingFiles=!0,this.option("values",n),this._shouldChangeValue=this._doPreventRecreatingFiles=!1,this.element().toggleClass(d,!this._files.length),this._doPreventInputChange=!0,this._$fileInput.val(""),this._doPreventInputChange=!1},_getFileSize:function(e){for(var t=0,n=[Globalize.localize("dxFileUploader-bytes"),Globalize.localize("dxFileUploader-kb"),Globalize.localize("dxFileUploader-Mb"),Globalize.localize("dxFileUploader-Gb")],i=n.length-1;i>t&&e>=1024;)e/=1024,t++;return Math.round(e)+" "+n[t]},_renderSelectButton:function(){var t=e("<div>").addClass(I).appendTo(this._$inputWrapper);this._selectButton=this._createComponent(t,a,{text:this.option("selectButtonText"),focusStateEnabled:!1,_templates:{}}),"desktop"===i.real().deviceType?this._selectButton.option("onClick",e.proxy(this._selectButtonClickHandler,this)):t.off("click").on("click",e.proxy(this._selectButtonClickHandler,this))},_selectButtonClickHandler:function(){if(!this.option("useNativeInputClick")){if(this.option("disabled"))return!1;this._isCustomClickEvent=!0,this._$fileInput.click(),this._isCustomClickEvent=!1}},_renderUploadButton:function(){if("useButtons"===this.option("uploadMode")){var t=e("<div>").addClass(I).addClass(B).appendTo(this._$content);this._uploadButton=this._createComponent(t,a,{text:this.option("uploadButtonText"),onClick:e.proxy(this._uploadButtonClickHandler,this),_templates:{}})}},_uploadButtonClickHandler:function(){this._uploadFiles()},_shouldDragOverBeRendered:function(){return"useForm"!==this.option("uploadMode")||this.option("nativeDropSupported")},_renderInputContainer:function(){this._$inputContainer=e("<div>").addClass(y).appendTo(this._$inputWrapper),this._shouldDragOverBeRendered()||this._$inputContainer.css("display","none"),this._$fileInput.addClass(b),this._renderInput(),this._$inputLabel.addClass(x).appendTo(this._$inputContainer)},_renderInput:function(){this.option("useNativeInputClick")&&"useForm"===this.option("uploadMode")?this._selectButton.option("template",e.proxy(this._selectButtonInputTemplate,this)):(this._$fileInput.appendTo(this._$inputContainer),this._selectButton.option("template","content"))},_selectButtonInputTemplate:function(t,n){var i=e("<span>").addClass("dx-button-text").text(t.text);return n.append(i).append(this._$fileInput),n},_renderInputWrapper:function(){this._$inputWrapper=e("<div>").addClass(v).appendTo(this._$content)},_renderDragEvents:function(){this._$inputWrapper.off("."+this.NAME),this._shouldDragOverBeRendered()&&(this._dragEventsCount=0,this._$inputWrapper.on(u.addNamespace("dragenter",this.NAME),e.proxy(this._dragEnterHandler,this)).on(u.addNamespace("dragover",this.NAME),e.proxy(this._dragOverHandler,this)).on(u.addNamespace("dragleave",this.NAME),e.proxy(this._dragLeaveHandler,this)).on(u.addNamespace("drop",this.NAME),e.proxy(this._dropHandler,this)))},_useInputForDrop:function(){return this.option("nativeDropSupported")&&"useForm"===this.option("uploadMode")},_dragEnterHandler:function(e){return this.option("disabled")?!1:(this._useInputForDrop()||e.preventDefault(),this._dragEventsCount++,this.element().addClass(p),void 0)},_dragOverHandler:function(e){this._useInputForDrop()||e.preventDefault()},_dragLeaveHandler:function(e){this._useInputForDrop()||e.preventDefault(),this._dragEventsCount--,this._dragEventsCount<=0&&this.element().removeClass(p)},_dropHandler:function(e){if(this._dragEventsCount=0,this.element().removeClass(p),!this._useInputForDrop()){e.preventDefault();var t=e.originalEvent.dataTransfer.files,n=this._getFiles(t);!this.option("multiple")&&n.length>1||(this._changeValues(n),"instantly"===this.option("uploadMode")&&this._uploadFiles())}},_renderWrapper:function(){var t=e("<div>").addClass(m).appendTo(this.element()),n=e("<div>").addClass(g).appendTo(t);this._$content=e("<div>").addClass(_).appendTo(n)},_clean:function(){this._$fileInput.detach(),delete this._$filesContainer,this.callBase.apply(this,arguments)},_uploadFiles:function(){P()&&e.each(this._files,e.proxy(function(e,t){this._uploadFile(t)},this))},_uploadFile:function(t){if(!t.progressBar){var n=t.$file,i=t.value;this._initUploadRequest(t),n&&(t.progressBar=this._createProgressBar(i.size),t.progressBar.element().appendTo(n),this._initStatusMessage(t),this._initCancelButton(t)),t.onLoad.add(e.proxy(this._onLoadedHandler,this,t)),t.onError.add(e.proxy(this._onErrorHandler,this,t)),t.onProgress.add(e.proxy(this._onProgressHandler,this,t)),t.request.send(this._createFormData(this.option("name"),i))}},_onErrorHandler:function(e,t){var n=this;setTimeout(function(){n.option("showFileList")&&(e.$statusMessage.text(n.option("uploadFailedMessage")),e.$statusMessage.css("display",""),e.progressBar.element().remove())},O),this._uploadErrorAction({file:e.value,jQueryEvent:t})},_onLoadedHandler:function(e,t){var n=this;setTimeout(function(){n.option("showFileList")&&(e.$statusMessage.text(n.option("uploadedMessage")),e.$statusMessage.css("display",""),e.progressBar.element().remove())},O),this._uploadedAction({file:e.value,jQueryEvent:t})},_onProgressHandler:function(e,t){var n,i=this._getTotalSize(),r=0,o=this._getLoadedSize(),a=0;e&&(r=Math.min(t.loaded,e.value.size),n=r-e.loadedSize,o+=n,e.progressBar&&e.progressBar.option({value:r,showStatus:!0}),this._progressAction({file:e.value,segmentSize:n,bytesLoaded:t.loaded,jQueryEvent:t}),e.loadedSize=r),i&&(a=Math.round(o/i*100)),this.option("progress",a),this._setLoadedSize(o)},_initStatusMessage:function(e){e.$statusMessage.css("display","none")},_initCancelButton:function(t){var n,i=e.proxy(function(){t.request.abort(),this._removeFile(t)},this);t.cancelButton.option("onClick",i),n=function(){setTimeout(function(){t.cancelButton.option({visible:!1})},O)},t.onLoad.add(n),t.onError.add(n)},_initUploadRequest:function(t){var n=this;t.request=this._createRequest(this.option("uploadUrl")),t.loadedSize=0,t.request.onreadystatechange=e.proxy(function(e){if(4===e.currentTarget.readyState){var t=e.currentTarget.status;n._isStatusSuccess(t)?this.onLoad.fire(e):(n._isStatusError(t)||!this._isProgressStarted)&&(this._isError=!0,this.onError.fire(e))}},t),t.request.upload.onprogress=e.proxy(function(e){this._isError||(this._isProgressStarted=!0,this.onProgress.fire(e))},t),t.request.upload.onloadstart=e.proxy(function(e){this.onLoadStart.fire(e)},t)},_isStatusSuccess:function(e){return e>=200&&300>e},_isStatusError:function(e){return e>=400&&500>e},_createRequest:function(e){var t=R(),n=new t;return n.open("POST",e,!0),n},_createFormData:function(e,t){var n=M(),i=new n;return i.append(e,t),i},_createProgressBar:function(t){return this._createComponent(e("<div>"),s,{value:void 0,min:0,max:t,statusFormat:function(e){return Math.round(100*e)+"%"},showStatus:!1,statusPosition:"right"})},_getTotalSize:function(){if(!this._totalSize){var t=this.option("values"),n=0;e.each(t,function(e,t){n+=t.size}),this._totalSize=n}return this._totalSize},_getLoadedSize:function(){if(!this._loadedSize){var t=0;e.each(this._files,function(e,n){t+=n.loadedSize}),this._loadedSize=t}return this._loadedSize},_setLoadedSize:function(e){this._loadedSize=e},_recalculateProgress:function(){delete this._totalSize,delete this._loadedSize,this._onProgressHandler()},_getValidationMessageTarget:function(){return this._$inputWrapper},_optionChanged:function(e){var t=e.value;switch(e.name){case"height":case"width":this._updateFileNameMaxWidth(),this.callBase(e);break;case"value":this._shouldChangeValue||(this._$fileInput.val(""),this.option("values",[])),this.callBase(e);break;case"values":t.length&&!this._shouldChangeValue?this.option("values",[]):(this._doPreventRecreatingFiles||(this._createFiles(),this._renderFiles()),this.option("value",t[0]||null),this._recalculateProgress());break;case"name":case"accept":this._initFileInput();break;case"multiple":this._initFileInput(),e.value||this.option("values",[]);break;case"selectButtonText":this._selectButton.option("text",t);break;case"uploadButtonText":this._uploadButton&&this._uploadButton.option("text",t);break;case"readyToUploadMessage":case"uploadedMessage":case"uploadFailedMessage":this._invalidate();break;case"labelText":this._$inputLabel.text(t);break;case"showFileList":this._renderFiles();break;case"uploadUrl":case"progress":break;case"allowCanceling":case"uploadMode":this.reset(),this._invalidate();break;case"onUploaded":this._createUploadedAction();break;case"onProgress":this._createProgressAction();break;case"onUploadError":this._createUploadErrorAction();break;case"useNativeInputClick":this._renderInput();break;case"useDragOver":this._renderDragEvents();break;case"nativeDropSupported":this._invalidate();break;default:this.callBase(e)}},_valueChangeArgs:function(){return e.extend(this.callBase.apply(this,arguments),{values:this.option("values")})}});return r("dxFileUploader",l,V),V}),DevExpress.require(["/ui/widgets/ui.fileUploader"]),function(e,t,n){var i=t.ui,r=t.require("/utils/utils.support"),o=t.require("/devices"),a=t.require("/componentRegistrator"),s="dx-tabpanel",l="dx-tabpanel-tabs",u="dx-tabpanel-container";a("dxTabPanel",i,i.dxMultiView.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return o.real().generic&&!o.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!r.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.element().addClass(s),this.setAria("role","tabpanel"),this._renderLayout()},_renderContent:function(){var e=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){e._updateLayout()},0))},_renderLayout:function(){var t,n=this.element();this._$tabContainer=e("<div>").addClass(l).appendTo(n),t=e("<div>").appendTo(this._$tabContainer),this._tabs=this._createComponent(t,"dxTabs",this._tabConfig()),this._$container=e("<div>").addClass(u).appendTo(n),this._$container.append(this._$wrapper),this._updateLayout()},_updateLayout:function(){var e=this._$tabContainer.outerHeight();this._$container.css({"margin-top":-e,"padding-top":e})},_refreshActiveDescendant:function(){var t=this._tabs,i=t.itemElements(),r=e(i[t.option("selectedIndex")]),o=this.getFocusedItemId();this.setAria("controls",n,e(i)),this.setAria("controls",o,r)},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),onItemClick:this.option("onTitleClick"),onItemHold:this.option("onTitleHold"),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:e.proxy(function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()},this),onItemRendered:this.option("onTitleRendered"),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:e.proxy(function(e){var t,n,i=e.name,r=e.value;"focusedElement"===i&&(t=r?r.index():r,n=r?this._itemElements().eq(t):r,this.option("focusedElement",n))},this),onFocusIn:e.proxy(function(e){this._focusInHandler(e.jQueryEvent)},this),onFocusOut:e.proxy(function(e){this._focusOutHandler(e.jQueryEvent)},this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabindex",-1),this._refreshActiveDescendant()},_updateFocusState:function(e,t){this.callBase(e,t),e.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(t,this._focusTarget())},_setTabsOption:function(e,t){this._tabs&&this._tabs.option(e,t)},_visibilityChanged:function(e){e&&(this._tabs._dimensionChanged(),this._updateLayout())},_optionChanged:function(e){var t,n,i=e.name,r=e.value;switch(i){case"dataSource":this.callBase(e);break;case"items":case"selectedIndex":case"selectedItem":case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(i,r),this.callBase(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(i,r);break;case"focusedElement":t=r?r.index():r,n=r?this._tabs._itemElements().eq(t):r,this._setTabsOption("focusedElement",n),this.callBase(e),this._tabs.focus();break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._setTabsOption("onItemClick",r);break;case"onTitleHold":this._setTabsOption("onItemHold",r);break;case"onTitleRendered":this._setTabsOption("onItemRendered",r);break;case"loop":this._setTabsOption("loopItemFocus",r);break;default:this.callBase(e)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.colorView",["jquery","/utils/utils.translator","/utils/utils.browser","/color","/devices","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/ui/widgets/ui.numberBox","/ui/widgets/ui.textBox"],function(e,t,n,i,r,o,a,s,l,u){var c="dx-colorview",d="dx-colorview-container",h="dx-colorview-container-row",p="dx-colorview-container-cell",f="dx-colorview-palette",m="dx-colorview-palette-cell",g="dx-colorview-palette-handle",_="dx-colorview-palette-gradient",v="dx-colorview-palette-gradient-white",y="dx-colorview-palette-gradient-black",x="dx-colorview-hue-scale",b="dx-colorview-hue-scale-cell",w="dx-colorview-hue-scale-handle",C="dx-colorview-hue-scale-wrapper",S="dx-colorview-controls-container",k="dx-colorview-label-red",D="dx-colorview-label-green",T="dx-colorview-label-blue",E="dx-colorview-label-hex",I="dx-colorview-alpha-channel-scale",A="dx-colorview-alpha-channel-row",$="dx-colorview-alpha-channel-wrapper",B="dx-colorview-alpha-channel-label",O="dx-colorview-alpha-channel-handle",P="dx-colorview-alpha-channel-cell",M="dx-colorview-alpha-channel-border",R="dx-colorview-color-preview",V="dx-colorview-color-preview-container",L="dx-colorview-color-preview-container-inner",F="dx-colorview-color-preview-color-current",z="dx-colorview-color-preview-color-new",H=a.inherit({_supportedKeys:function(){var n=this.option("rtlEnabled"),i=this,r=function(e){var t=100/i._paletteWidth;return e.shiftKey&&(t*=i.option("keyStep")),t=t>1?t:1,Math.round(t)},o=function(e){var t=i._currentColor.hsv.s+e;t>100?t=100:0>t&&(t=0),i._currentColor.hsv.s=t,l()},a=function(e){var t=100/i._paletteHeight;return e.shiftKey&&(t*=i.option("keyStep")),t=t>1?t:1,Math.round(t)},s=function(e){var t=i._currentColor.hsv.v+e;t>100?t=100:0>t&&(t=0),i._currentColor.hsv.v=t,l()},l=function(){i._placePaletteHandle(),i._updateColorFromHsv(i._currentColor.hsv.h,i._currentColor.hsv.s,i._currentColor.hsv.v)},u=function(e){var t=360/(i._hueScaleWrapperHeight-i._hueScaleHandleHeight);return e.shiftKey&&(t*=i.option("keyStep")),t=t>1?t:1},c=function(e){i._currentColor.hsv.h+=e,i._placeHueScaleHandle();var n=t.locate(i._$hueScaleHandle);i._updateColorHue(n.top+i._hueScaleHandleHeight/2)},d=function(e){var t=1/i._alphaChannelScaleWorkWidth;return e.shiftKey&&(t*=i.option("keyStep")),t=t>.01?t:.01,t=n?-t:t},h=function(e){i._currentColor.a+=e,i._placeAlphaChannelHandle();var n=t.locate(i._$alphaChannelHandle);i._calculateColorTransparenceByScaleWidth(n.left+i._alphaChannelHandleWidth/2)};return e.extend(this.callBase(),{upArrow:function(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&c(u(e)):this._currentColor.hsv.v<100&&s(a(e))},downArrow:function(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),c(-u(e))):this._currentColor.hsv.v>0&&s(-a(e))},rightArrow:function(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey?(n?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&h(-d(e)):this._currentColor.hsv.s<100&&o(r(e))},leftArrow:function(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey?(n?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&h(d(e)):this._currentColor.hsv.s>0&&o(-r(e))},enter:function(){"useButtons"===this.option("applyValueMode")&&this.applyColor()}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{value:null,editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity()},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(e){e=e||"#000000";var t=new i(e);t.colorIsInvalid?this.option("value",this._currentColor.baseColor):this._currentColor&&this._makeRgba(this._currentColor)===this._makeRgba(t)||(this._currentColor=t,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,t))},_render:function(){this.callBase(),this.element().addClass(c),this._renderColorPickerContainer()},_enterKeyHandler:function(){"useButtons"===this.option("applyValueMode")&&this.applyColor()},_makeTransparentBackground:function(e,t){t instanceof i||(t=new i(t)),n.msie&&"8.0"===n.version?e.css({background:t.toHex(),filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*t.a+")"}):e.css("backgroundColor",this._makeRgba(t))},_makeRgba:function(e){return e instanceof i||(e=new i(e)),"rgba("+[e.r,e.g,e.b,e.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var t=this.element();this._$colorPickerContainer=e("<div>",{"class":d,appendTo:t}),this._renderHtmlRows(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_renderHtmlRows:function(t){var n,i,r,o,a=this._$colorPickerContainer.find("."+h),s=a.length,l=this._calculateRowsCount(),u=s-l;if(u>0&&(n=this._calculateRemovedHtmlRowIndex(s,t),a.eq(n).remove()),0>u){for(u=Math.abs(u),i=[],r=0;u>r;r++)i.push(e("<div>",{"class":h}));s?(o=this._calculateHtmlRowIndex(s,t),a.eq(o).after(i)):this._$colorPickerContainer.append(i)}},_renderHtmlCellInsideRow:function(t,n,i){return e("<div>",{"class":p,addClass:i,appendTo:n.find("."+h+t)})},_calculateRowsCount:function(){return this.option("editAlphaChannel")?"instantly"===this.option("applyValueMode")?2:3:"instantly"===this.option("applyValueMode")?1:2},_calculateRemovedHtmlRowIndex:function(e,t){var n=-1;return 3===e&&("editAlphaChannel"===t&&(n=-2),"applyValueMode"===t&&(n=-1)),n},_calculateHtmlRowIndex:function(e,t){var n=0;return 2===e&&"applyValueMode"===t&&(n=1),n},_renderPalette:function(){var t=this._renderHtmlCellInsideRow(":first",this._$colorPickerContainer,m),n=e("<div>",{"class":[_,v].join(" ")}),i=e("<div>",{"class":[_,y].join(" ")});this._$palette=e("<div>",{"class":f,css:{backgroundColor:this._currentColor.getPureColor().toHex()},appendTo:t}),this._paletteHeight=this._$palette.height(),this._paletteWidth=this._$palette.width(),this._renderPaletteHandle(),this._$palette.append([n,i])},_renderPaletteHandle:function(){this._createComponent(this._$paletteHandle=e("<div>",{"class":g,appendTo:this._$palette}),"dxDraggable",{area:this._$palette,allowMoveByClick:!0,boundOffset:e.proxy(function(){return-this._paletteHandleHeight/2},this),onDrag:e.proxy(function(){var e=t.locate(this._$paletteHandle);this._updateByDrag=!0,this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(e),this._calculateColorValue(e))},this)}),this._paletteHandleWidth=this._$paletteHandle.width(),this._paletteHandleHeight=this._$paletteHandle.height(),this._placePaletteHandle()},_placePaletteHandle:function(){t.move(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(e){var t=Math.floor(e.top+this._paletteHandleHeight/2);return 100-Math.round(100*t/this._paletteHeight)},_calculateColorSaturation:function(e){var t=Math.floor(e.left+this._paletteHandleWidth/2);return Math.round(100*t/this._paletteWidth)},_updateColorFromHsv:function(e,t,n){var r=this._currentColor.a;this._currentColor=new i("hsv("+[e,t,n].join(",")+")"),this._currentColor.a=r,this._updateColorParamsAndColorPreview(),"instantly"===this.option("applyValueMode")&&this.applyColor()},_renderHueScale:function(){var t=this._renderHtmlCellInsideRow(":first",this._$colorPickerContainer,b);this._$hueScaleWrapper=e("<div>",{"class":C,appendTo:t}),this._$hueScale=e("<div>",{"class":x,appendTo:this._$hueScaleWrapper}),this._hueScaleHeight=this._$hueScale.height(),this._hueScaleWrapperHeight=this._$hueScaleWrapper.outerHeight(),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._createComponent(this._$hueScaleHandle=e("<div>",{"class":w,appendTo:this._$hueScaleWrapper}),"dxDraggable",{area:this._$hueScaleWrapper,allowMoveByClick:!0,direction:"vertical",onDrag:e.proxy(function(){this._updateByDrag=!0,this._updateColorHue(t.locate(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)},this)}),this._hueScaleHandleHeight=this._$hueScaleHandle.height(),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var e=this._hueScaleWrapperHeight,n=this._hueScaleHandleHeight,i=(e-n)*(360-this._currentColor.hsv.h)/360;i+n>e&&(i=e-n),0>i&&(i=0),t.move(this._$hueScaleHandle,{top:Math.round(i)})},_updateColorHue:function(e){var t=360-Math.round(360*(e-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,i=this._currentColor.hsv.v;this._isTopColorHue=!1,t=0>t?0:t,t>=360&&(this._isTopColorHue=!0,t=0),this._updateColorFromHsv(t,n,i),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var t=this._renderHtmlCellInsideRow(":first",this._$colorPickerContainer);this._$controlsContainer=e("<div>",{"class":S,appendTo:t})},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var t=e("<div>",{"class":V,appendTo:this._$controlsContainer}),n=e("<div>",{"class":L,appendTo:t});this._$currentColor=e("<div>",{"class":[R,F].join(" ")}),this._$newColor=e("<div>",{"class":[R,z].join(" ")}),this._makeTransparentBackground(this._$currentColor,this._currentColor),this._makeTransparentBackground(this._$newColor,this._currentColor),n.append([this._$currentColor,this._$newColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+h).eq(1).addClass(A),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:l.publicName(),value:this._currentColor.r,onValueChanged:e.proxy(this._updateColor,this,!1),labelText:"R",labelAriaText:Globalize.localize("dxColorView-ariaRed"),labelClass:k}),this._renderEditorWithLabel({editorType:l.publicName(),value:this._currentColor.g,onValueChanged:e.proxy(this._updateColor,this,!1),labelText:"G",labelAriaText:Globalize.localize("dxColorView-ariaGreen"),labelClass:D}),this._renderEditorWithLabel({editorType:l.publicName(),value:this._currentColor.b,onValueChanged:e.proxy(this._updateColor,this,!1),labelText:"B",labelAriaText:Globalize.localize("dxColorView-ariaBlue"),labelClass:T})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")],e.each(this._rgbInputs,e.proxy(function(e,t){this._attachEnterKeyHandler(t)},this))},_renderEditorWithLabel:function(t){var n=e("<div>"),i=e("<label>",{"class":t.labelClass,text:t.labelText+":",append:n}).off("dxclick").on("dxclick",function(e){e.preventDefault();
}),r=t.editorType,o={value:t.value,onValueChanged:t.onValueChanged};return r===l.publicName()&&(o.min=t.min||0,o.max=t.max||255,o.step=t.step||1),n[r](o),this.setAria("label",t.labelAriaText,n),i},hexInputOptions:function(){return{editorType:u.publicName(),value:this._currentColor.toHex().replace("#",""),onValueChanged:e.proxy(this._updateColor,this,!0),labelClass:E,labelText:"#",labelAriaText:Globalize.localize("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=u.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox")),this._attachEnterKeyHandler(this._hexInput)},_attachEnterKeyHandler:function(t){t.registerKeyHandler("enter",e.proxy(function(e){this._enterKeyHandler(e)},this))},_renderAlphaChannelScale:function(){var t=this._renderHtmlCellInsideRow(":eq(1)",this._$colorPickerContainer,P),n=e("<div>",{"class":M,appendTo:t}),i=e("<div>",{"class":$,appendTo:n});this._$alphaChannelScale=e("<div>",{"class":I,appendTo:i}),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(t)},_makeCSSLinearGradient:function(e){var t=this._currentColor,n=[t.r,t.g,t.b].join(","),i=t.toHex().replace("#",""),r=function(e,t){var n=this.option("rtlEnabled"),i="rgba("+e+", "+(n?"1":"0")+")",r="rgba("+e+", "+(n?"0":"1")+")",o="'#"+(n?"00":"")+t+"'",a="'#"+(n?"":"00")+t+"'";return["background-image: -webkit-linear-gradient(180deg, "+i+", "+r+")","background-image: -moz-linear-gradient(-90deg, "+i+", "+r+")","background-image: -ms-linear-gradient(-90deg, "+i+", "+r+")","background-image: -o-linear-gradient(-90deg, "+i+", "+r+")","background-image: linear-gradient(-90deg, "+i+", "+r+")","filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+o+", endColorstr="+a+")","-ms-filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+o+", endColorstr="+a+")"].join(";")};e.attr("style",r.call(this,n,i))},_renderAlphaChannelInput:function(){var e=this,t=this._renderHtmlCellInsideRow(":eq(1)",this._$colorPickerContainer);e._alphaChannelInput=this._renderEditorWithLabel({editorType:l.publicName(),value:this._currentColor.a,max:1,step:.1,onValueChanged:function(t){var n=t.value;n=e._currentColor.isValidAlpha(n)?n:e._currentColor.a,e._updateColorTransparence(n),e._placeAlphaChannelHandle()},labelClass:B,labelText:"Alpha",labelAriaText:Globalize.localize("dxColorView-ariaAlpha")}).appendTo(t).find(".dx-numberbox").dxNumberBox("instance"),this._attachEnterKeyHandler(e._alphaChannelInput)},_updateColorTransparence:function(e){this._currentColor.a=e,this._makeTransparentBackground(this._$newColor,this._currentColor),"instantly"===this.option("applyValueMode")&&this.applyColor()},_renderAlphaChannelHandle:function(n){this._createComponent(this._$alphaChannelHandle=e("<div>",{"class":O,appendTo:n}),"dxDraggable",{area:n,allowMoveByClick:!0,direction:"horizontal",onDrag:e.proxy(function(){this._updateByDrag=!0;var e=this._$alphaChannelHandle,n=t.locate(e).left+this._alphaChannelHandleWidth/2;this._calculateColorTransparenceByScaleWidth(n)},this)}),this._alphaChannelHandleWidth=this._$alphaChannelHandle.width(),this._alphaChannelScaleWorkWidth=n.width()-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparenceByScaleWidth:function(e){var t=(e-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");t=n?t:1-t,e>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?t=n?1:0:1>t&&(t=t.toFixed(2)),t=Math.max(t,0),t=Math.min(t,1),this._alphaChannelInput.option("value",t)},_placeAlphaChannelHandle:function(){var e=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);0>e&&(e=0),this._alphaChannelScaleWorkWidth<e&&(e=this._alphaChannelScaleWorkWidth),t.move(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-e:e})},applyColor:function(){var e=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),this.option("value",e)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(e){var t,n;e?n=this._validateHex("#"+this._hexInput.option("value")):(t=this._validateRgb(),this._alphaChannelInput?(t.push(this._alphaChannelInput.option("value")),n="rgba("+t.join(", ")+")"):n="rgb("+t.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new i(n),this._refreshMarkup(),"instantly"===this.option("applyValueMode")&&this.applyColor())},_validateHex:function(e){return this._currentColor.isValidHex(e)?e:this._currentColor.toHex()},_validateRgb:function(){var e=this._rgbInputs[0].option("value"),t=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(e,t,n)||(e=this._currentColor.r,t=this._currentColor.g,n=this._currentColor.b),[e,t,n]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparence(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this._makeTransparentBackground(this._$newColor,this._currentColor),this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(e){var t=e.value;switch(e.name){case"value":this._setCurrentColor(t),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(e);break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"applyValueMode":this._$colorPickerContainer&&this._renderHtmlRows("applyValueMode");break;case"keyStep":break;default:this.callBase(e)}}});return o("dxColorView",s,H),H}),DevExpress.define("/ui/widgets/ui.colorBox",["jquery","/color","/componentRegistrator","/ui/widgets/ui.colorView","/ui/uiNamespace","/ui/events/ui.events.utils","/ui/widgets/ui.dropDownEditor"],function(e,t,n,i,r,o,a){var s="dx-colorbox",l=s+"-input",u=l+"-container",c=s+"-color-result-preview",d=s+"-color-is-not-defined",h=s+"-overlay",p="dx-colorview-container-cell",f="dx-colorview-button-cell",m="dx-colorview-buttons-container",g="dx-colorview-apply-button",_="dx-colorview-cancel-button",v=i.prototype,y={makeTransparentBackground:e.proxy(v._makeTransparentBackground,v),makeRgba:e.proxy(v._makeRgba,v)},x=a.inherit({_supportedKeys:function(){var t=function(e){return e.stopPropagation(),this.option("opened")?(e.preventDefault(),!0):void 0},n=function(e){return this.option("opened")?e.altKey?(this.close(),!1):!0:(e.preventDefault(),!1)},i=function(e){return this.option("opened")||e.altKey?!this.option("opened")&&e.altKey?(this._validatedOpening(),!1):!0:(e.preventDefault(),!1)};return e.extend(this.callBase(),{tab:function(e){this.option("opened")&&(e.preventDefault(),this._colorView._rgbInputs[0].focus())},enter:this._enterKeyHandler,leftArrow:t,rightArrow:t,upArrow:n,downArrow:i})},_getDefaultOptions:function(){return e.extend(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,onApplyButtonClick:null,onCancelButtonClick:null,buttonsLocation:"bottom after"})},_popupConfig:function(){return e.extend(this.callBase(),{height:"auto",width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var e=this._popup.bottomToolbar();e&&(e.addClass(p).addClass(f).find(".dx-toolbar-items-container").addClass(m),e.find(".dx-popup-done").addClass(g),e.find(".dx-popup-cancel").addClass(_))},_createColorView:function(){this._popup.overlayContent().addClass(h);var t=e("<div>").appendTo(this._popup.content());this._colorView=this._createComponent(t,i,this._colorViewConfig()),this._colorView._enterKeyHandler=e.proxy(this._enterKeyHandler,this),t.on("focus",e.proxy(function(){this.focus()},this))},_colorViewConfig:function(){var e=this;return{value:e.option("value"),editAlphaChannel:e.option("editAlphaChannel"),applyValueMode:e.option("applyValueMode"),focusStateEnabled:e.option("focusStateEnabled"),onValueChanged:function(t){var n=t.value;e.option("value",n),n&&y.makeTransparentBackground(e._$colorResultPreview,n)},_keyboardProcessor:e._colorViewProccessor}},_enterKeyHandler:function(e){var n=this._input().val(),i=this.option("editAlphaChannel")?y.makeRgba(this.option("value")):this.option("value"),r=new t(n);return r.colorIsInvalid&&""!==n?void this._input().val(i):n&&n!==i?(this._applyColorFromInput(n),this.option("value",this.option("editAlphaChannel")?y.makeRgba(n):n),!1):(this._colorView&&"useButtons"===this.option("applyValueMode")&&this._colorView.applyColor(),this.option("opened")&&(e.preventDefault(),this.close()),!1)},_applyButtonHandler:function(){this._colorView.applyColor(),e.isFunction(this.option("onApplyButtonClick"))&&this.option("onApplyButtonClick")(),this.callBase()},_cancelButtonHandler:function(){this._colorView.cancelColor(),e.isFunction(this.option("onCancelButtonClick"))&&this.option("onCancelButtonClick")(),this.callBase()},_attachChildKeyboardEvents:function(){return this._colorViewProccessor=this._keyboardProcessor.attachChildProcessor(),this._colorView?void this._colorView.option("_keyboardProcessor",this._colorViewProccessor):void 0},_init:function(){this.callBase()},_render:function(){this.callBase(),this.element().addClass(s)},_renderInput:function(){this.callBase(),this._input().addClass(l),this._renderColorPreview()},_renderColorPreview:function(){this.element().wrapInner(e("<div/>").addClass(u)),this._$colorBoxInputContainer=this.element().children().eq(0),this._$colorResultPreview=e("<div>",{"class":c,appendTo:this._$colorBoxInputContainer}),this.option("value")?y.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(d)},_renderValue:function(){var e=this.option("value");this.option("text",this.option("editAlphaChannel")?y.makeRgba(e):e),this.callBase()},_valueChangeEventHandler:function(e){var t=this._input().val();t&&(t=this._applyColorFromInput(t),this._colorView&&(this._colorView._setCurrentColor(t),this._colorView._refreshMarkup())),this.callBase(e,t)},_applyColorFromInput:function(e){var n=new t(e);return n.colorIsInvalid&&(e=this.option("value"),this._input().val(e)),e},_optionChanged:function(e){var t=e.value,n=e.name;switch(n){case"value":this._$colorBoxInputContainer.toggleClass(d,!t),t?y.makeTransparentBackground(this._$colorResultPreview,t):this._$colorResultPreview.removeAttr("style"),this._colorView&&this._colorView.option("value",t),this.callBase(e);break;case"applyButtonText":case"cancelButtonText":this.callBase(e),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"onCancelButtonClick":case"onApplyButtonClick":case"keyStep":this._colorView&&this._colorView.option(n,t);break;case"applyValueMode":this._colorView&&this._colorView.option(n,t),this.callBase(e);break;case"rtlEnabled":this._colorView&&this._colorView.option(n,t),this.callBase(e);break;default:this.callBase(e)}}});return n("dxColorBox",r,x),x}),DevExpress.require(["/ui/widgets/ui.colorBox"]),function(e,t){var n=t.ui,i=t.require("/ui/ui.errors"),r=t.require("/utils/utils.common"),o=t.require("/utils/utils.string"),a=t.require("/utils/utils.dom"),s=t.require("/componentRegistrator"),l=t.require("/ui/ui.widget"),u=(t.require("/ui/widgets/ui.validationSummary"),t.require("/ui/widgets/ui.validationGroup"),t.require("/validationEngine")),c="dx-form",d="dx-field-item",h="dx-field-item-label-text",p="dx-form-group",f="dx-form-group-content",m="dx-form-group-with-caption",g="dx-form-group-caption",_="dx-layout-manager-hidden-label",v="dx-field-item-label",y="dx-field-item-label-content",x="dx-field-item-tab",b="dx-col-",w="dx-group-colcount-",C="dx-field-item-content",S="dx-form-validation-summary",k="dx-widget";s("dxForm",n,l.inherit({_init:function(){this.callBase(),this._groupsColCount=[]},_getDefaultOptions:function(){return e.extend(this.callBase(),{formID:new t.data.Guid,formData:{},colCount:1,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:Globalize.localize("dxForm-optionalMark"),requiredMessage:Globalize.localize("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1})},_getColCount:function(e){for(var t,n=0,i=!0;i;)t=e.find("."+b+n),t.length?n++:i=!1;return n},_createHiddenElement:function(t){this._$hiddenElement=e("<div/>").addClass(k).addClass(_).appendTo(document.body);var n=t._renderLabel({text:" ",location:this.option("labelLocation")}).appendTo(this._$hiddenElement);this._hiddenLabelText=n.find("."+h)[0]},_removeHiddenElement:function(){this._$hiddenElement.remove(),this._hiddenLabelText=null},_getLabelWidthByText:function(e){return this._hiddenLabelText.innerHTML=e,this._hiddenLabelText.offsetWidth},_getLabelsSelectorByCol:function(e,t){t=t||{};var n=t.excludeTabbed?":not(."+x+")":"";return"."+(t.inOneColumn?d:b+e)+n+"> ."+v+" > ."+y},_getLabelText:function(e){for(var t,n=e.children.length,i="",r=0;n>r;r++)t=e.children[r],i+=o.isEmpty(t.innerText)?t.innerHTML:t.innerText;return i},_applyLabelsWidthByCol:function(e,t,n){for(var i,r=e.find(this._getLabelsSelectorByCol(t,n)),o=r.length,a=0,s=0;o>s;s++)i=this._getLabelWidthByText(this._getLabelText(r[s])),i>a&&(a=i);for(s=0;o>s;s++)r[s].style.width=a+"px"},_applyLabelsWidth:function(e,t,n){for(var i=n?1:this._getColCount(e),r={excludeTabbed:t,inOneColumn:n},o=0;i>o;o++)this._applyLabelsWidthByCol(e,o,r)},_getGroupElementsInColumn:function(e,t,n){var i=r.isDefined(n)?"."+w+n:"";return e.find("."+b+t+" > ."+C+" > ."+p+i)},_applyLabelsWidthWithGroups:function(e,t,n){var i,r,o,a,s,l,u=this.option("alignItemLabelsInAllGroups"),c={excludeTabbed:n};if(u)for(i=0;t>i;i++)for(s=this._getGroupElementsInColumn(e,i),this._applyLabelsWidthByCol(s,0,c),r=0;r<this._groupsColCount.length;r++)for(s=this._getGroupElementsInColumn(e,i,this._groupsColCount[r]),a=this._getColCount(s),l=1;a>l;l++)this._applyLabelsWidthByCol(s,l,c);else for(o=this.element().find("."+p),i=0;i<o.length;i++)this._applyLabelsWidth(o.eq(i),n)},_alignLabelsInColumn:function(e){this._createHiddenElement(e.layoutManager),e.inOneColumn?this._applyLabelsWidth(e.$container,e.excludeTabbed,!0):this._checkGrouping(e.items)?this._applyLabelsWidthWithGroups(e.$container,e.layoutManager._getColCount(),e.excludeTabbed):this._applyLabelsWidth(e.$container,e.excludeTabbed),this._removeHiddenElement()},_render:function(){this._clearEditorInstances(),this.callBase(),this.element().addClass(c)},_clearEditorInstances:function(){this._editorInstancesByField={}},_alignLabels:function(e,t){this._alignLabelsInColumn({$container:this.element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:t})},_clean:function(){this.callBase(),this._groupsColCount=[]},_renderContentImpl:function(){this.callBase(),this._renderForm(),this._renderValidationGroup(),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary()},_renderScrollable:function(){var e=this.option("useNativeScrolling");this._scrollable=this._$form.dxScrollable({useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1}).data("dxScrollable")},_getContent:function(){return this.option("scrollingEnabled")?this._scrollable.content():this._$form},_renderForm:function(){this._$form=e("<form>").appendTo(this.element()),this.setAria("role","form")},_renderValidationGroup:function(){this._$form.dxValidationGroup()},_renderValidationSummary:function(){var t=this,n=t._$form.find("."+S);n.length>0&&n.remove(),this.option("showValidationSummary")&&e("<div/>").addClass(S).dxValidationSummary({validationGroup:t}).appendTo(t._getContent())},_prepareItems:function(t,n){if(t){for(var i,o,a=this,s=[],l=0;l<t.length;l++)i=t[l],o=r.isObject(i)?e.extend({},i):i,a._prepareGroupItem(o),a._prepareTabbedItem(o),a._prepareItemTemplate(o),r.isObject(o)&&(n&&(o.cssItemClass=x),o.items=this._prepareItems(o.items,n)),s.push(o);return s}},_prepareGroupItem:function(t){"group"===t.itemType&&(t.alignItemLabels=r.ensureDefined(t.alignItemLabels,!0),t.template&&(t.groupContentTemplate=this._getTemplate(t.template)),t.template=e.proxy(this._itemGroupTemplate,this,t))},_prepareTabbedItem:function(t){"tabbed"===t.itemType&&(t.template=e.proxy(this._itemTabbedTemplate,this,t),t.tabs=this._prepareItems(t.tabs,!0))},_prepareItemTemplate:function(e){e.template&&(e.template=this._getTemplate(e.template))},_checkGrouping:function(e){var t,n;if(e)for(t=0;t<e.length;t++)if(n=e[t],"group"===n.itemType)return!0},_renderLayout:function(){var t=this,n=t.option("items"),i=t._getContent();n=t._prepareItems(n),t._testResultItems=n,t._rootLayoutManager=t._renderLayoutManager(n,i,{colCount:t.option("colCount"),width:this.option("width"),alignItemLabels:t.option("alignItemLabels"),onLayoutChanged:function(n){e.proxy(t._alignLabels,t)(t._rootLayoutManager,n)},onContentReady:function(e){t._alignLabels(e.component,e.component.isLayoutChanged())}})},_itemTabbedTemplate:function(t,n,i){var o=this,s=e("<div/>").appendTo(i),l=e.extend({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:function(e){a.triggerShownEvent(e.itemElement)},itemTemplate:function(t,n,i){var a,s=r.ensureDefined(t.alignItemLabels,!0);a=o._renderLayoutManager(t.items,i,{colCount:t.colCount,alignItemLabels:s,cssItemClass:t.cssItemClass,onLayoutChanged:function(n){e.proxy(o._alignLabelsInColumn,o)({$container:i,layoutManager:a,items:t.items,inOneColumn:n})}}),s&&e.proxy(o._alignLabelsInColumn,o)({$container:i,layoutManager:a,items:t.items,inOneColumn:a.isLayoutChanged()})}});o._createComponent(s,"dxTabPanel",l)},_itemGroupTemplate:function(t,n,i){var o,a,s,l,u=e("<div/>").appendTo(i).toggleClass(m,r.isDefined(t.caption)&&t.caption.length).addClass(p);t.caption&&e("<span/>").addClass(g).text(t.caption).appendTo(u),o=e("<div/>").addClass(f).appendTo(u),t.groupContentTemplate?(l={formData:this.option("formData"),component:this},t.groupContentTemplate.render(l,o)):(s=this._renderLayoutManager(t.items,o,{colCount:t.colCount,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass}),a=s._getColCount(),-1===e.inArray(a,this._groupsColCount)&&this._groupsColCount.push(a),u.addClass(w+a))},_renderLayoutManager:function(t,n,i){var r,o=e("<div />"),a=this,s=e.extend({items:t,showRequiredMark:this.option("showRequiredMark"),showOptionalMark:this.option("showOptionalMark"),requiredMark:this.option("requiredMark"),optionalMark:this.option("optionalMark"),requiredMessage:this.option("requiredMessage"),form:a,layoutData:this.option("formData"),labelLocation:this.option("labelLocation"),customizeItem:this.option("customizeItem"),minColWidth:this.option("minColWidth"),showColonAfterLabel:this.option("showColonAfterLabel"),onEditorEnterKey:this.option("onEditorEnterKey"),onContentReady:function(e){a._updateEditorInstancesFromLayoutManager(e.component._editorInstancesByField),i.onContentReady&&i.onContentReady(e)},onFieldDataChanged:function(e){a._updateFieldValue(e.dataField,e.value)}},{colCount:i.colCount,alignItemLabels:i.alignItemLabels,cssItemClass:i.cssItemClass,onLayoutChanged:i.onLayoutChanged,width:i.width,validationBoundary:a.option("scrollingEnabled")?a.element():void 0});return o.appendTo(n),r=a._createComponent(o,"dxLayoutManager",s),a._attachSyncSubscriptions(r),r},_updateEditorInstancesFromLayoutManager:function(t){e.extend(this._editorInstancesByField,t)},_createComponent:function(e,t,n){var i=this;return n=n||{},i._extendConfig(n,{readOnly:i.option("readOnly")}),i.callBase(e,t,n)},_attachSyncSubscriptions:function(e){var t=this;t.on("optionChanged",function(n){var i,o="formData.";0===n.fullName.search(o)&&(i=n.fullName.replace(o,"layoutData."),e.option(i,n.value)),r.isDefined(t.option("items"))&&"formData"===n.fullName&&e.updateData(n.value),"readOnly"===n.name&&e.option(n.fullName,n.value)})},_optionChanged:function(t){var n=this._getRootLevelOfExpectedComplexOption(t.fullName,["formData","items"]);if(n)return void this._customHandlerOfComplexOption(t,n);switch(t.name){case"formData":r.isDefined(this._options.items)?e.isEmptyObject(t.value)&&this._resetValues():(this._options[t.name]=t.value,this._invalidate(),this._triggerOnFieldDataChangedByDataSet(t.value));break;case"items":case"colCount":case"onFieldDataChanged":case"onEditorEnterKey":case"labelLocation":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"readOnly":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isLayoutChanged());break;case"visible":this.callBase(t),t.value&&a.triggerShownEvent(this.element());break;default:this.callBase(t)}},_getRootLevelOfExpectedComplexOption:function(e,t){var n,i,r,o=e.split(".");if(o.length>1)for(r=o[0],i=0;i<t.length;i++)-1!==r.search(t[i])&&(n=t[i]);return n},_customHandlerOfComplexOption:function(e,t){var n,i,r,o,a,s=e.fullName.split(".");switch(t){case"items":n=this._getItemPath(s),a=this.option(n),-1!==e.fullName.search("editorOptions")?(i=this.getEditor(a.dataField),i&&i.option(a.editorOptions)):a&&(o=e.fullName.replace(n+".",""),this._changeItemOption(a,o,e.value),r=this._generateItemsFromData(this.option("items")),this.option("items",r));break;case"formData":this._triggerOnFieldDataChanged({dataField:s[s.length-1],value:e.value})}},_getItemPath:function(e){for(var t=e[0],n=1;n<e.length&&-1!==e[n].search("items");n++)t+="."+e[n];return t},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_triggerOnFieldDataChangedByDataSet:function(t){var n=this;t&&r.isObject(t)&&e.each(t,function(e,t){n._triggerOnFieldDataChanged({dataField:e,value:t})})},_updateFieldValue:function(e,t){r.isDefined(this.option("formData"))&&this.option("formData."+e,t)},_generateItemsFromData:function(t){var n=this.option("formData"),i=[];return!t&&r.isDefined(n)&&e.each(n,function(e){i.push({dataField:e})}),t&&e.each(t,function(e,t){r.isObject(t)?i.push(t):i.push({dataField:t})}),i},_getItemByField:function(t,n){var i,o=this,a=r.isObject(t)?t:o._getFieldParts(t),s=a.fieldName,l=a.fieldPath;return n.length&&e.each(n,function(e,t){var n,r=t.itemType;return l.length?(n=l.slice(),t=o._getItemByFieldPath(n,s,t)):"group"!==r||t.caption||(t.items=o._generateItemsFromData(t.items),t=o._getItemByField({fieldName:s,fieldPath:l},t.items)),t&&(t.dataField===s||t.name===s||"group"===t.itemType&&o._getTextWithoutSpaces(t.caption)===s||o._getTextWithoutSpaces(t.title)===s)?(i=t,!1):void 0}),i},_getFieldParts:function(e){for(var t=".",n=e,i=n.indexOf(t),r=[];-1!==i;)r.push(n.substr(0,i)),n=n.substr(i+1),i=n.indexOf(t);return{fieldName:n,fieldPath:r.reverse()}},_getItemByFieldPath:function(e,t,n){var i,o,a,s,l=this,u=n.itemType,c=l._getSubItemField(u),d="group"===u||"tabbed"===u||n.title;do{if(!d)break;if(o=r.isDefined(n.caption||n.title),a=l._getTextWithoutSpaces(n.caption||n.title),n[c]=l._generateItemsFromData(n[c]),o&&(s=e.pop()),!e.length&&(i=l._getItemByField(t,n[c])))break;(!o||o&&a===s)&&e.length&&(i=l._searchItemInEverySubitem(e,t,n[c]))}while(e.length&&i!==!1);return i},_getSubItemField:function(e){return"tabbed"===e?"tabs":"items"},_searchItemInEverySubitem:function(t,n,i){var r,o=this;return e.each(i,function(e,i){return r=o._getItemByFieldPath(t,n,i),r?!1:void 0}),r||(r=!1),r},_getTextWithoutSpaces:function(e){return e?e.replace(" ",""):void 0},_changeItemOption:function(e,t,n){r.isObject(e)&&(e[t]=n)},_dimensionChanged:function(){"auto"===this.option("colCount")&&this._refresh()},_resetValues:function(){e.each(this._editorInstancesByField,function(e,t){t.reset(),t.option("isValid",!0)})},resetValues:function(){this._resetValues()},updateData:function(t,n){var i=this;r.isObject(t)?e.each(t,function(e,t){i._updateFieldValue(e,t)}):"string"==typeof t&&i._updateFieldValue(t,n)},getEditor:function(e){return this._editorInstancesByField[e]},updateDimensions:function(){var t=this,n=e.Deferred();return t._scrollable?t._scrollable.update().done(function(){n.resolveWith(t)}):n.resolveWith(t),n.promise()},itemOption:function(t,n,i){var o=this,a=arguments.length,s=o._generateItemsFromData(o.option("items")),l=o._getItemByField(t,s);return 1===a?l:(3===a?o._changeItemOption(l,n,i):r.isObject(n)&&e.each(n,function(e,t){o._changeItemOption(l,e,t)}),void this.option("items",s))},validate:function(){try{return u.validateGroup(this)}catch(e){i.log("E1036",e.message)}}})),n.dxForm.__internals={FORM_CLASS:c,FORM_GROUP_CLASS:p,FORM_GROUP_CAPTION_CLASS:g,FORM_FIELD_ITEM_COL_CLASS:b}}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.array").normalizeIndexes,r=t.require("/utils/utils.string"),o=t.require("/ui/ui.errors"),a=t.require("/utils/utils.support"),s=t.require("/utils/utils.inflector"),l=t.require("/utils/utils.common"),u=t.require("/utils/utils.knockout"),c=t.require("/componentRegistrator"),d=t.require("/ui/ui.widget"),h=t.require("/ui/widgets/ui.validator"),p="dxTextBox",f="dx-field-item",m="dx-field-empty-item",g="dx-field-item-required",_="dx-field-item-optional",v="dx-field-item-required-mark",y="dx-field-item-optional-mark",x="dx-field-item-label",b="dx-field-item-label-align",w="dx-field-item-label-content",C="dx-field-item-label-text",S="dx-field-item-label-location-",k="dx-field-item-content",D="dx-field-item-content-location-",T="dx-field-item-content-wrapper",E="dx-field-item-help-text",I="dx-layout-manager",A="dx-label-h-align",$="dx-label-v-align",B="dx-first-row",O="dx-first-col",P="dx-last-col",M="dx-flex-layout",R="dx-layout-manager-one-col";c("dxLayoutManager",n.dxForm,d.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:Globalize.localize("dxForm-optionalMark"),requiredMessage:Globalize.localize("dxForm-requiredMessage")})},_init:function(){this.callBase(),this._syncDataWithItems(),this._updateItems(this.option("layoutData"))},_syncDataWithItems:function(){var t=this,n=t.option("items");l.isDefined(n)&&e.each(n,function(e,n){var i;n.dataField&&void 0===t._getDataByField(n.dataField)&&(n.editorOptions&&(i=n.editorOptions.value),t._updateFieldValue(n.dataField,i))})},_getDataByField:function(e){return e?this.option("layoutData."+e):null},_updateFieldValue:function(e,t){var n,i=this.option("layoutData");!u.isObservable(i[e])&&l.isDefined(e)?(this.option("layoutData."+e,t),this._triggerOnFieldDataChanged({dataField:e,value:t})):u.isWritableObservable(i[e])&&(n=l.isFunction(t)?t():t,i[e](n))},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_updateItems:function(t){var n,i,r=this,o=this.option("items"),a=r.option("customizeItem");n=l.isDefined(o)?o:this._generateItemsByData(t),l.isDefined(n)&&(i=[],e.each(n,function(e,t){if(r._isAcceptableItem(t)){t=r._processItem(t),a&&a(t);var n=l.isDefined(t.visible);(l.isObject(t)&&!n||n&&t.visible)&&i.push(t)}}),this._items=i,this._sortItems())},_generateItemsByData:function(t){var n=[];return l.isDefined(t)&&e.each(t,function(e){n.push({dataField:e})}),n},_isAcceptableItem:function(e){var t=e.dataField||e,n=this.option("layoutData."+t);return!(l.isFunction(n)&&!u.isObservable(n))},_processItem:function(t){if("string"==typeof t&&(t={dataField:t}),"object"!=typeof t||t.itemType||(t.itemType="simple"),!l.isDefined(t.editorType)&&l.isDefined(t.dataField)){var n=this._getDataByField(t.dataField);t.editorType=l.isDefined(n)?this._getEditorTypeByDataType(e.type(n)):p}return t},_getEditorTypeByDataType:function(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){i(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(e,t){var n,i=e.visibleIndex,r=t.visibleIndex;return n=i>r?1:r>i?-1:0})},_render:function(){this._clearEditorInstances(),this.element().addClass(I),this.callBase()},_clearEditorInstances:function(){this._editorInstancesByField={}},_hasBrowserFlex:function(){return"flex"===a.styleProp("flex")},_renderContentImpl:function(){this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var t,n=this,i=n._getColCount();n._items&&n._items.length&&(n._prepareItemsWithMerging(i),t=n._generateLayoutItems(),n._responsiveBox=e("<div />").appendTo(n.element()).dxResponsiveBox({_layoutStrategy:n._hasBrowserFlex()?"flex":"fallback",onLayoutChanged:function(){var e=n.option("onLayoutChanged"),t=n.isLayoutChanged();e&&(n.element().toggleClass(R,t),e(t))},onContentReady:function(e){n.option("onLayoutChanged")&&n.element().toggleClass(R,n.isLayoutChanged(e.component)),n._fireContentReadyAction()},itemTemplate:function(t,r,o){if(t.location){var a=t.location.row*i,s=n._items[t.location.col+a],l=e("<div/>").addClass(s.cssClass).appendTo(o);0===t.location.row&&l.addClass(B),0===t.location.col&&l.addClass(O),(t.location.col===i-1||t.location.col+t.location.colspan===i)&&l.addClass(P),"empty"===s.itemType?n._renderEmptyItem(l):n._renderFieldItem(s,l)}},cols:n._generateRatio(i),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:t}).data("dxResponsiveBox"))},_getColCount:function(){var e=this.option("colCount");if("auto"===e){if(this._cashedColCount)return this._cashedColCount;var t=this.option("minColWidth"),n=this.element().width(),i=this._items.length,r=Math.floor(n/t)||1;this._cashedColCount=e=r>i?i:r}return 1>e?1:e},_prepareItemsWithMerging:function(e){for(var t,n,i,r=this._items.slice(0),o=[],a=0;a<r.length;a++)if(t=r[a],o.push(t),(this.option("alignItemLabels")||t.alignItemLabels||t.colSpan)&&(t.col=this._getColByIndex(o.length-1,e)),t.colSpan>1&&t.col+t.colSpan<=e){for(n=[],i=0;i<t.colSpan-1;i++)n.push({merged:!0});o=o.concat(n)}else delete t.colSpan;this._items=o},_getColByIndex:function(e,t){return e%t},_generateLayoutItems:function(){for(var e,t,n=this._items,i=this._getColCount(),r=[],o=0;o<n.length;o++)e=n[o],e.merged||(t={location:{row:parseInt(o/i),col:this._getColByIndex(o,i)}},l.isDefined(e.colSpan)&&(t.location.colspan=e.colSpan),l.isDefined(e.rowSpan)&&(t.location.rowspan=e.rowSpan),r.push(t));return r},_renderEmptyItem:function(e){return e.addClass(m).html("&nbsp;")},_renderFieldItem:function(n,i){var r,o,a,s=this._getName(n),u=this.getItemID(s),c=l.isDefined(n.isRequired)?n.isRequired:!!this._hasRequiredRuleInSet(n.validationRules),d=e.extend({showColon:this.option("showColonAfterLabel"),location:this.option("labelLocation"),id:u,visible:!0,isRequired:c},n?n.label:{}),h=e("<div/>");i.addClass(f).addClass(c?g:_).addClass(this.option("cssItemClass")).addClass(l.isDefined(n.col)?"dx-col-"+n.col:""),this._prepareLabelOptions(n.dataField,d),
d.visible&&d.text&&(r=this._renderLabel(d),r.appendTo(i)),n.helpText&&(o=new t.data.Guid),"simple"===n.itemType&&(this._isLabelNeedBaselineAlign(n)&&"top"!==d.location&&i.addClass(b),this._hasBrowserFlex()&&i.addClass(M)),this._appendEditorToField({$fieldItem:i,$label:r,$editor:h,labelOptions:d}),this._renderEditor({$container:h,dataField:s,editorType:n.editorType,editorOptions:n.editorOptions,template:this._getTemplateByFieldItem(n),isRequired:c,helpID:o,id:u,validationBoundary:this.option("validationBoundary")}),a=h.children().first(),a&&a.data("dx-validation-target")&&this._renderValidator(a,n),this._renderHelpText(n,h,o),this._attachClickHandler(r,h,n.editorType)},_hasRequiredRuleInSet:function(t){var n;return t&&t.length&&e.each(t,function(e,t){return"required"===t.type?(n=!0,!1):void 0}),n},_getName:function(e){return e.dataField||e.name},_isLabelNeedBaselineAlign:function(t){var n=["dxTextArea","dxRadioGroup","dxCalendar"];return!!t.helpText&&!this._hasBrowserFlex()||-1!==e.inArray(t.editorType,n)},_prepareLabelOptions:function(e,t){!t.text&&e&&(t.text=s.captionize(e)),t.text&&(t.text+=t.showColon?":":"")},_renderLabel:function(t){if(l.isDefined(t.text)&&t.text.length>0){var n=x+" "+S+t.location,i=e("<label />").addClass(n).attr("for",t.id),r=e("<span/>").addClass(w).appendTo(i);return e("<span />").addClass(C).text(t.text).appendTo(r),t.alignment&&i.css("text-align",t.alignment),r.append(this._renderLabelMark(t.isRequired)),i}},_renderLabelMark:function(t){var n,i,r,o=this._getRequiredMarksConfig(),a=o.showRequiredMark&&t,s=o.showOptionalMark&&!t;return(a||s)&&(i=a?v:y,r=a?o.requiredMark:o.optionalMark,n=e("<span />").addClass(i).html("&nbsp"+r)),n},_getRequiredMarksConfig:function(){return this._cashedRequiredConfig||(this._cashedRequiredConfig={showRequiredMark:this.option("showRequiredMark"),showOptionalMark:this.option("showOptionalMark"),requiredMark:this.option("requiredMark"),optionalMark:this.option("optionalMark")}),this._cashedRequiredConfig},_renderEditor:function(t){var n,i=this._getDataByField(t.dataField),r="dxTagBox"===t.editorType?{values:i||[]}:{value:i},o=!0;n=e.extend(o,r,t.editorOptions,{attr:{id:t.id},validationBoundary:t.validationBoundary}),this._createEditor(t.$container,{editorType:t.editorType,dataField:t.dataField,template:t.template,name:t.name,helpID:t.helpID,isRequired:t.isRequired},n)},_renderValidator:function(e,t){var n=this._getFieldLabelName(t),i=this._prepareValidationRules(t.validationRules,t.isRequired,t.itemType,n);l.isArray(i)&&this._createComponent(e,h,{validationRules:i,validationGroup:this.option("form")})},_getFieldLabelName:function(e){var t=e.label&&e.label.text,n=t?null:this._getName(e);return t?e.label.text:n&&s.captionize(n)},_prepareValidationRules:function(e,t,n,i){var o,a,s="simple"===n;return s&&(e?o=e:(a=r.format(this.option("requiredMessage"),i),o=t?[{type:"required",message:a}]:null)),o},_createEditor:function(t,n,i){var r,a,s,l,u=this,c=n.template;if(u._addItemContentClasses(t),c)a={dataField:n.dataField,editorOptions:i,component:c.owner()},c.render(a,t);else{s=e("<div/>").appendTo(t);try{r=u._createComponent(s,n.editorType,i),r.setAria("describedby",n.helpID),r.setAria("required",n.isRequired),n.dataField&&(l=u.option("form")||u,r.on("enterKey",function(t){l._createActionByOption("onEditorEnterKey")(e.extend(t,{dataField:n.dataField}))}),u._registerEditorInstance(r,n.dataField),u.linkEditorToDataField(r,n.dataField,n.editorType))}catch(d){o.log("E1035",d.message)}}},_addItemContentClasses:function(e){var t=this._getItemContentLocationSpecificClass();e.addClass([k,t].join(" "))},_getItemContentLocationSpecificClass:function(){var e=this.option("labelLocation"),t={right:"left",left:"right",top:"bottom"};return D+t[e]},_registerEditorInstance:function(e,t){this._editorInstancesByField[t]=e},_createComponent:function(e,t,n){var i,r=this,o=this.option("readOnly");return i=r.callBase(e,t,n),o&&i.option("readOnly",o),r.on("optionChanged",function(e){"readOnly"===e.name&&i.option(e.name,e.value)}),i},_getTemplateByFieldItem:function(e){return e.template?this._getTemplate(e.template):null},_appendEditorToField:function(e){if(e.$label){var t=e.labelOptions.location;("top"===t||"left"===t)&&e.$fieldItem.append(e.$editor),"right"===t&&e.$fieldItem.prepend(e.$editor),this._addInnerItemAlignmentClass(e.$fieldItem,t)}else e.$fieldItem.append(e.$editor)},_addInnerItemAlignmentClass:function(e,t){"top"===t?e.addClass($):e.addClass(A)},_renderHelpText:function(t,n,i){var r,o=t.helpText;o&&(r=e("<div>").addClass(T),n.wrap(r),e("<div>").addClass(E).attr("id",i).text(o).appendTo(n.parent()))},_attachClickHandler:function(e,t,n){var i="dxCheckBox"===n||"dxSwitch"===n;e&&i&&e.on("dxclick",function(){t.children().trigger("dxclick")})},_generateRatio:function(e,t){for(var n,i=[],r=0;e>r;r++)n={ratio:1},t&&(n.baseSize="auto"),i.push(n);return i},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_optionChanged:function(e){if(0!==e.fullName.search("layoutData."))switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":case"items":this._syncDataWithItems(),this._updateItems(e.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(e),"auto"===this.option("colCount")&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(e)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField:function(e,t,n){var i="layoutData."+t,r=this;r.on("optionChanged",function(t){if(t.fullName===i)switch(n){case"dxTagBox":r._managedUpdateEditorOption(e,"values",t.value);break;case"dxSelectBox":r._managedUpdateEditorOption(e,"value",t.value);break;default:e.option("value",t.value)}}),e.on("valueChanged",function(e){switch(n){case"dxTagBox":r._managedUpdateFieldValue(t,e.values);break;case"dxSelectBox":r._managedUpdateFieldValue(t,e.value);break;default:r._updateFieldValue(t,e.value)}})},_managedUpdateEditorOption:function(e,t,n){this._isValueChangedCalled||(this._isFieldValueChanged=!0,e.option(t,n),this._isFieldValueChanged=!1)},_managedUpdateFieldValue:function(e,t){this._isValueChangedCalled=!0,this._isFieldValueChanged||this._updateFieldValue(e,t),this._isValueChangedCalled=!1},getItemID:function(e){var n=this.option("form"),i=n&&n.option("formID");return"dx_"+i+"_"+(e||new t.data.Guid)},updateData:function(t,n){var i=this;l.isObject(t)?e.each(t,function(e,t){i._updateFieldValue(e,t)}):"string"==typeof t&&i._updateFieldValue(t,n)},getEditor:function(e){return this._editorInstancesByField[e]},isLayoutChanged:function(e){var t=this._responsiveBox||e;return t?t.option("currentScreenFactor")===t.option("singleColumnScreen"):void 0}})),e.extend(n.dxForm.__internals,{FIELD_ITEM_CLASS:f,FIELD_EMPTY_ITEM_CLASS:m,FIELD_ITEM_CONTENT_CLASS:k,FIELD_ITEM_CONTENT_LOCATION_CLASS:D,FIELD_ITEM_LABEL_CLASS:x,FIELD_ITEM_LABEL_ALIGN_CLASS:b,FIELD_ITEM_LABEL_LOCATION_CLASS:S,LABEL_HORIZONTAL_ALIGNMENT_CLASS:A,LABEL_VERTICAL_ALIGNMENT_CLASS:$,FORM_LAYOUT_MANAGER_CLASS:I,FIELD_ITEM_CONTENT_WRAPPER_CLASS:T,FIELD_ITEM_HELP_TEXT_CLASS:E,FIELD_ITEM_LABEL_CONTENT_CLASS:w,FIELD_ITEM_LABEL_TEXT_CLASS:C,FIELD_ITEM_REQUIRED_CLASS:g,FIELD_ITEM_OPTIONAL_CLASS:_,FIELD_ITEM_REQUIRED_MARK_CLASS:v,FIELD_ITEM_OPTIONAL_MARK_CLASS:y,LAYOUT_MANAGER_ONE_COLUMN:R,FLEX_LAYOUT_CLASS:M})}(jQuery,DevExpress),DevExpress.MOD_WIDGETS_BASE=!0}if(!window.DevExpress||!DevExpress.MOD_WIDGETS_MOBILE){if(!window.DevExpress||!DevExpress.MOD_WIDGETS_BASE)throw Error("Required module is not referenced: widgets-base");!function(e,t,n){var i=t.ui,r=t.fx,o=t.require("/utils/utils.translator"),a=t.require("/componentRegistrator"),s=t.require("/ui/events/ui.events.utils"),l="dx-pivottabs",u="dx-pivottabs-tab",c="dx-pivottabs-tab-selected",d="dx-pivottabs-ghosttab",h="dxPivotTabData",p=200,f="cubic-bezier(.40, .80, .60, 1)",m={moveTo:function(e,t,n){return r.animate(e,{type:"slide",to:{left:t},duration:p,easing:f,complete:n})},slideAppear:function(e,t){return r.animate(e,{type:"slide",to:{left:t,opacity:1},duration:p,easing:f})},slideDisappear:function(e,t){return r.animate(e,{type:"slide",to:{left:t,opacity:0},duration:p,easing:f})},complete:function(t){t&&e.each(t,function(e,t){r.stop(t,!0)})},stop:function(t){t&&e.each(t,function(e,t){r.stop(t)})}};a("dxPivotTabs",i,i.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{selectedIndex:0,onPrepare:null,onUpdatePosition:null,onRollback:null,focusStateEnabled:!1,selectionMode:"single",selectionRequired:!0,swipeEnabled:!0})},_itemClass:function(){return u},_itemDataKey:function(){return h},_itemContainer:function(){return this.element()},_elementWidth:function(){return this._elementWidthCache||(this._elementWidthCache=this.element().width()),this._elementWidthCache},_clearElementWidthCache:function(){delete this._elementWidthCache},_itemWidths:function(){if(!this._itemWidthsCache){var t=this._itemElements(),n=[];t.each(function(){n.push(e(this).outerWidth())}),this._itemWidthsCache=n}return this._itemWidthsCache},_init:function(){this.callBase(),this._initGhostTab(),this._initSwipeHandlers(),this._initActions()},_dimensionChanged:function(){this._clearElementWidthCache(),this._cleanPositionCache(),this._updateTabsPositions()},_initGhostTab:function(){this._$ghostTab=e("<div>").addClass(d)},_initActions:function(){this._updatePositionAction=this._createActionByOption("onUpdatePosition"),this._rollbackAction=this._createActionByOption("onRollback"),this._prepareAction=this._createActionByOption("onPrepare")},_render:function(){this.element().addClass(l),this.callBase(),this._renderGhostTab()},_renderGhostTab:function(){this._itemContainer().append(this._$ghostTab),this._toggleGhostTab(!1)},_toggleGhostTab:function(e){var t=this._$ghostTab;e?(this._updateGhostTabContent(),t.css("opacity",1)):t.css("opacity",0)},_isGhostTabVisible:function(){return"1"===this._$ghostTab.css("opacity")},_updateGhostTabContent:function(e){e=e===n?this._previousIndex():e;var t=this._$ghostTab,i=this._itemElements();t.html(i.eq(e).html())},_updateTabsPositions:function(e){e=this._applyOffsetBoundaries(e);var t=this.option("rtlEnabled")^e>0&&0!==e,n=this._calculateTabPositions(t?"replace":"append");this._moveTabs(n,e),this._toggleGhostTab(t)},_moveTabs:function(t,n){n=n||0;var i=this._allTabElements();i.each(function(i){o.move(e(this),{left:t[i]+n})})},_applyOffsetBoundaries:function(e){e=e||0;var t=e>0?this._maxRightOffset:this._maxLeftOffset;return e*t},_animateRollback:function(){var t=this,n=this._itemElements(),i=this._calculateTabPositions("prepend");this._isGhostTabVisible()&&(this._swapGhostWithTab(n.eq(this._previousIndex())),m.moveTo(this._$ghostTab,i[this._indexBoundary()],function(){t._toggleGhostTab(!1)})),n.each(function(t){m.moveTo(e(this),i[t])})},_animateComplete:function(e,t){var n=this._itemElements(),i=this._isGhostTabVisible();n.eq(t).removeClass(c),i?this._animateIndexDecreasing(e):this._animateIndexIncreasing(e),n.eq(e).addClass(c)},_animateIndexDecreasing:function(t){var n=this._itemElements(),i=this._calculateTabPositions("append",t),r=[];return n.each(function(t){r.push(m.moveTo(e(this),i[t]))}),r.push(m.slideDisappear(this._$ghostTab,i[this._indexBoundary()])),e.when.apply(e,r)},_animateIndexIncreasing:function(t){var n=this,i=this._itemElements(),r=this._calculateTabPositions("prepend",t),a=this._previousIndex(t),s=i.eq(a),l=o.locate(s).left,u=this.option("rtlEnabled"),c=u?this._elementWidth()-this._itemWidths()[a]:0,d=(l-c)*this._getRTLSignCorrection()<0,h=[];return d||this._moveTabs(this._calculateTabPositions("append",a)),this._updateGhostTabContent(a),this._swapGhostWithTab(i.eq(a)),i.each(function(t){var n=e(this),i=r[t];h.push(t===a?m.slideAppear(n,i):m.moveTo(n,i))}),h.push(m.moveTo(this._$ghostTab,r[this._indexBoundary()],function(){n._toggleGhostTab(!1)})),e.when.apply(e,h)},_swapGhostWithTab:function(e){var t=this._$ghostTab,n=o.locate(e).left,i=e.css("opacity");o.move(e,{left:o.locate(t).left}),e.css("opacity",t.css("opacity")),o.move(t,{left:n}),t.css("opacity",i)},_calculateTabPositions:function(e,t){t=t===n?this.option("selectedIndex"):t;var i=t+e;return this._calculetedPositionsMark!==i&&(this._calculetedPositions=this._calculateTabPositionsImpl(t,e),this._calculetedPositionsMark=i),this._calculetedPositions},_calculateTabPositionsImpl:function(t,n){var i,r=this._normalizeIndex(t-1),o=this._itemWidths(),a=this.option("rtlEnabled"),s=this._getRTLSignCorrection(),l=this._elementWidth(),u=a?l:0,c=[],d=function(e,t){var n=a*t;c.splice(e,0,u-n),u+=t*s};switch(e.each(o.slice(t),d),e.each(o.slice(0,t),d),n){case"replace":i=c[r],c.splice(r,1,a?l:-o[r]),c.push(i);break;case"prepend":c.push(a?l:-o[r]);break;case"append":c.push(u-o[t]*a)}return c},_allTabElements:function(){return this._itemContainer().find("."+u+", ."+d)},_initSwipeHandlers:function(){this.element().on(s.addNamespace("dxswipestart",this.NAME),{itemSizeFunc:e.proxy(this._elementWidth,this)},e.proxy(this._swipeStartHandler,this)).on(s.addNamespace("dxswipe",this.NAME),e.proxy(this._swipeUpdateHandler,this)).on(s.addNamespace("dxswipeend",this.NAME),e.proxy(this._swipeEndHandler,this))},_swipeStartHandler:function(e){this._prepareAnimation(),this._prepareAction(),e.maxLeftOffset=1,e.maxRightOffset=1,t.designMode||this.option("disabled")||!this.option("swipeEnabled")||this._indexBoundary()<=1?e.cancel=!0:this._swipeGestureRunning=!0},_prepareAnimation:function(){this._stopAnimation()},_stopAnimation:function(){m.complete(this._allTabElements())},_swipeUpdateHandler:function(e){var t=e.offset;this._updateTabsPositions(t),this._updatePositionAction({offset:t})},_swipeEndHandler:function(e){var t,n=e.targetOffset*this._getRTLSignCorrection();0===n?(this._animateRollback(),this._rollbackAction()):(t=this._normalizeIndex(this.option("selectedIndex")-n),this.option("selectedIndex",t)),this._swipeGestureRunning=!1},_previousIndex:function(e){return e=e===n?this.option("selectedIndex"):e,this._normalizeIndex(e-1)},_normalizeIndex:function(e){var t=this._indexBoundary();return 0>e&&(e=t+e),e>=t&&(e-=t),e},_indexBoundary:function(){return this.option("items").length},_renderSelection:function(e){this._calculateMaxOffsets(e),this._updateTabsPositions(),this._itemElements().eq(e).addClass(c)},_updateSelection:function(e,t){var n=e[0],i=t[0];this._calculateMaxOffsets(n),this._swipeGestureRunning||this._prepareAnimation(),this._itemElements().length&&this._animateComplete(n,i)},_calculateMaxOffsets:function(e){var t=this._itemWidths()[e],n=this._itemWidths()[this._previousIndex(e)],i=this.option("rtlEnabled");this._maxLeftOffset=i?n:t,this._maxRightOffset=i?t:n},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_visibilityChanged:function(e){e&&this._dimensionChanged()},_clean:function(){m.stop(this._allTabElements()),this._clearElementWidthCache(),this._cleanPositionCache(),this.callBase()},_cleanPositionCache:function(){delete this._itemWidthsCache,delete this._calculetedPositionsMark},_optionChanged:function(e){switch(e.name){case"items":case"rtlEnabled":this._cleanPositionCache(),this.callBase(e);break;case"onPrepare":case"swipeEnabled":break;case"onUpdatePosition":case"onRollback":this._initActions();break;default:this.callBase(e)}},prepare:function(){this._prepareAnimation()},updatePosition:function(e){this._updateTabsPositions(e)},rollback:function(){this._animateRollback()}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.fx,r=t.require("/utils/utils.translator"),o=t.require("/utils/utils.dom"),a=t.require("/utils/utils.common"),s=t.require("/componentRegistrator"),l=t.require("/ui/events/ui.events.utils"),u="dx-pivot",c="dx-pivot-autoheight",d="dx-pivot-wrapper",h="dx-pivottabs-container",p="dx-pivot-itemcontainer",f="dx-pivot-itemwrapper",m="dx-pivot-item",g="dx-pivot-item-hidden",_="dxPivotItemData",v=200,y=50,x=250,b="cubic-bezier(.10, 1, 0, 1)",w={returnBack:function(e){i.animate(e,{type:"slide",to:{left:0},duration:v})},slideAway:function(e,t,n){i.animate(e,{type:"slide",to:{left:t},duration:y,complete:n})},slideBack:function(e){i.animate(e,{type:"slide",to:{left:0},easing:b,duration:x})},complete:function(e){i.stop(e,!0)}};s("dxPivot",n,n.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{selectedIndex:0,swipeEnabled:!0,itemTitleTemplate:"title",contentTemplate:"content",focusStateEnabled:!1,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_itemClass:function(){return m},_itemDataKey:function(){return _},_itemContainer:function(){return this._$itemWrapper},_elementWidth:function(){return this._elementWidthCache||(this._elementWidthCache=this.element().width()),this._elementWidthCache},_clearElementWidthCache:function(){delete this._elementWidthCache},_init:function(){this.callBase(),this.element().addClass(u),this._initWrapper(),this._initTabs(),this._initItemContainer(),this._clearItemsCache(),this._initSwipeHandlers()},_dimensionChanged:function(){this._clearElementWidthCache()},_initWrapper:function(){this._$wrapper=e("<div>").addClass(d).appendTo(this.element())},_initItemContainer:function(){var t=e("<div>").addClass(p);this._$wrapper.append(t),this._$itemWrapper=e("<div>").addClass(f),t.append(this._$itemWrapper)},_clearItemsCache:function(){this._itemsCache=[]},_initTabs:function(){var t=this,n=e("<div>").addClass(h);this._$wrapper.append(n),this._tabs=this._createComponent(n,"dxPivotTabs",{itemTemplateProperty:"titleTemplate",itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),selectedIndex:this.option("selectedIndex"),onPrepare:function(){t._prepareAnimation()},onUpdatePosition:function(e){t._updateContentPosition(e.offset)},onRollback:function(){t._animateRollback()},onSelectionChanged:function(e){t.option("selectedItem",e.addedItems[0])},swipeEnabled:this.option("swipeEnabled")})},_render:function(){this._renderContentTemplate(),this.callBase();var e=this.option("selectedIndex");this._renderCurrentContent(e,e)},_renderContentTemplate:function(){a.isDefined(this._singleContent)||(this._getTemplateByOption("contentTemplate").render(this._$itemWrapper),this._singleContent=!this._$itemWrapper.is(":empty"))},_renderDimensions:function(){this.callBase(),this.element().toggleClass(c,"auto"===this.option("height"))},_visibilityChanged:function(e){e&&this._tabs._dimensionChanged()},_renderCurrentContent:function(t,n){var i,r,a=this._itemsCache;a[n]=this._selectedItemElement(),i=a[n],r=a[t],o.triggerHidingEvent(i),i.addClass(g),r?(r.removeClass(g),o.triggerShownEvent(r)):this._renderContent(),this._selectionChangePromise&&this._selectionChangePromise.resolve(),this._selectionChangePromise=e.Deferred()},_updateContentPosition:function(e){r.move(this._$itemWrapper,{left:this._calculatePixelOffset(e)})},_animateRollback:function(){w.returnBack(this._$itemWrapper)},_animateComplete:function(t,n){var i=this._$itemWrapper,o=this._getRTLSignCorrection(),a=this._elementWidth()*(this._isPrevSwipeHandled()?1:-1)*o;w.slideAway(i,a,e.proxy(function(){r.move(i,{left:-a}),this._renderCurrentContent(t,n)},this)),w.slideBack(i)},_calculatePixelOffset:function(e){return e=e||0,e*this._elementWidth()},_isPrevSwipeHandled:function(){var e=r.locate(this._$itemWrapper).left,t=this.option("rtlEnabled");return t^e>0&&0!==e},_initSwipeHandlers:function(){this.element().on(l.addNamespace("dxswipestart",this.NAME),{itemSizeFunc:e.proxy(this._elementWidth,this)},e.proxy(this._swipeStartHandler,this)).on(l.addNamespace("dxswipe",this.NAME),e.proxy(this._swipeUpdateHandler,this)).on(l.addNamespace("dxswipeend",this.NAME),e.proxy(this._swipeEndHandler,this))},_swipeStartHandler:function(e){this._prepareAnimation(),this._tabs.prepare(),t.designMode||this.option("disabled")||!this.option("swipeEnabled")||this._indexBoundary()<=1?e.cancel=!0:this._swipeGestureRunning=!0,e.maxLeftOffset=1,e.maxRightOffset=1},_prepareAnimation:function(){this._stopAnimation()},_stopAnimation:function(){w.complete(this._$itemWrapper)},_swipeUpdateHandler:function(e){var t=e.offset;this._updateContentPosition(t),this._tabs.updatePosition(t)},_swipeEndHandler:function(e){var t,n=e.targetOffset*this._getRTLSignCorrection();0===n?(this._animateRollback(),this._tabs.rollback()):(t=this._normalizeIndex(this.option("selectedIndex")-n),this.option("selectedIndex",t)),this._swipeGestureRunning=!1},_normalizeIndex:function(e){var t=this._indexBoundary();return 0>e&&(e=t+e),e>=t&&(e-=t),e},_indexBoundary:function(){return this.option("items").length},_renderContentImpl:function(){if(!this._singleContent){var e=this.option("items"),t=this.option("selectedIndex");e.length&&this._renderItems([e[t]])}},_selectedItemElement:function(){return this._$itemWrapper.children("."+m+":not(."+g+")")},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_clean:function(){w.complete(this._$itemWrapper),this.callBase()},_cleanItemContainer:function(){this._singleContent||this.callBase()},_refresh:function(){this._tabs._refresh(),this.callBase()},_updateSelection:function(e,t){var n=e[0],i=t[0];this._swipeGestureRunning||this._prepareAnimation(),this._animateComplete(n,i),this._tabs.option("selectedIndex",n)},_optionChanged:function(e){var t=e.value;switch(e.name){case"disabled":this._tabs.option("disabled",t),this.callBase(e);break;case"items":this._tabs.option("items",t),this._clearItemsCache(),this.callBase(e);break;case"rtlEnabled":this._tabs.option("rtlEnabled",t),this._clearItemsCache(),this.callBase(e);break;case"itemTitleTemplate":this._tabs.option("itemTemplate",this._getTemplate(t));break;case"swipeEnabled":this._tabs.option("swipeEnabled",t);break;case"contentTemplate":this._singleContent=null,this._invalidate();break;default:this.callBase(e)}}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.support"),r=t.require("/componentRegistrator"),o=t.require("/ui/widgets/ui.button"),a="dx-actionsheet",s="dx-actionsheet-container",l="dx-actionsheet-popup-wrapper",u="dx-actionsheet-popover-wrapper",c="dx-actionsheet-cancel",d="dx-actionsheet-item",h="dxActionSheetItemData",p="dx-actionsheet-without-title";r("dxActionSheet",n,n.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{usePopover:!1,target:null,title:"",showTitle:!0,showCancelButton:!0,cancelText:Globalize.localize("Cancel"),onCancelClick:null,visible:!1,noDataText:"",focusStateEnabled:!1,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios",tablet:!0},options:{usePopover:!0}}])},_itemContainer:function(){return this._$itemContainer},_itemClass:function(){return d},_itemDataKey:function(){return h},_toggleVisibility:e.noop,_renderDimensions:e.noop,_render:function(){this.element().addClass(a),this._createItemContainer(),this._renderPopup()},_createItemContainer:function(){this._$itemContainer=e("<div>").addClass(s),this._renderDisabled()},_renderDisabled:function(){this._$itemContainer.toggleClass("dx-state-disabled",this.option("disabled"))},_renderPopup:function(){this._$popup=e("<div>").appendTo(this.element()),this._isPopoverMode()?this._createPopover():this._createPopup(),this._renderPopupTitle(),this._mapPopupOption("visible")},_mapPopupOption:function(e){this._popup.option(e,this.option(e))},_isPopoverMode:function(){return this.option("usePopover")&&this.option("target")},_renderPopupTitle:function(){this._mapPopupOption("showTitle"),this._popup._wrapper().toggleClass(p,!this.option("showTitle"))},_clean:function(){this._$popup&&this._$popup.remove(),this.callBase()},_overlayConfig:function(){return{onInitialized:e.proxy(function(e){this._popup=e.component},this),disabled:!1,showTitle:!0,title:this.option("title"),deferRendering:!i.hasNg,onContentReady:e.proxy(this._popupContentReadyAction,this),onHidden:e.proxy(this.hide,this)}},_createPopover:function(){this._createComponent(this._$popup,"dxPopover",e.extend(this._overlayConfig(),{width:this.option("width")||200,height:this.option("height")||"auto",target:this.option("target")})),this._popup._wrapper().addClass(u)},_createPopup:function(){this._createComponent(this._$popup,"dxPopup",e.extend(this._overlayConfig(),{dragEnabled:!1,width:this.option("width")||"100%",height:this.option("height")||"auto",showCloseButton:!1,position:{my:"bottom",at:"bottom",of:window},animation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom",of:window}},to:{position:{my:"bottom",at:"bottom",of:window}}},hide:{type:"slide",duration:400,from:{position:{my:"bottom",at:"bottom",of:window}},to:{position:{my:"top",at:"bottom",of:window}}}}})),this._popup._wrapper().addClass(l)},_popupContentReadyAction:function(){this._popup.content().append(this._$itemContainer),this._attachClickEvent(),this._attachHoldEvent(),this._renderContent(),this._renderCancelButton()},_renderCancelButton:function(){if(!this._isPopoverMode()&&(this._$cancelButton&&this._$cancelButton.remove(),this.option("showCancelButton"))){var t=this._createActionByOption("onCancelClick")||e.noop,n=this;this._$cancelButton=e("<div>").addClass(c).appendTo(this._popup.content()),this._createComponent(this._$cancelButton,o,{disabled:!1,text:this.option("cancelText"),onClick:function(e){var i={jQueryEvent:e,cancel:!1};t(i),i.cancel||n.hide()},_templates:{}})}},_attachItemClickEvent:e.noop,_itemClickHandler:function(t){this.callBase(t),e(t.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_itemHoldHandler:function(t){this.callBase(t),e(t.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_optionChanged:function(e){switch(e.name){case"width":case"height":case"visible":case"title":this._mapPopupOption(e.name);break;case"disabled":this._renderDisabled();break;case"showTitle":this._renderPopupTitle();break;case"showCancelButton":case"onCancelClick":case"cancelText":this._renderCancelButton();break;case"target":case"usePopover":case"items":this._invalidate();break;default:this.callBase(e)}},toggle:function(t){var n=this,i=e.Deferred();return n._popup.toggle(t).done(function(){n.option("visible",t),i.resolveWith(n)}),i.promise()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.fx,r=t.require("/utils/utils.translator"),o=DevExpress.require("/class"),a=o["abstract"],s=t.require("/componentRegistrator"),l=t.require("/ui/events/ui.events.utils"),u="dx-panorama",c="dx-panorama-wrapper",d="dx-panorama-title",h="dx-panorama-ghosttitle",p="dx-panorama-itemscontainer",f="dx-panorama-item",m="dx-panorama-ghostitem",g="dxPanoramaItemData",_=.02,v=.02,y=300,x="cubic-bezier(.40, .80, .60, 1)",b=300,w="cubic-bezier(.40, .80, .60, 1)",C=300,S="cubic-bezier(.40, .80, .60, 1)",k=function(e,t){e.css("background-position",t+"px 0%")},D=function(e){return r.locate(e).left},T=function(e,t){r.move(e,{left:t}),e.css("visibility","")},E={backgroundMove:function(e,t,n){return i.animate(e,{to:{"background-position":t+"px 0%"},duration:y,easing:x,complete:n})},titleMove:function(e,t,n){return i.animate(e,{type:"slide",to:{left:t},duration:b,easing:w,complete:n})},itemMove:function(e,t,n){return i.animate(e,{type:"slide",to:{left:t},duration:C,easing:S,complete:function(){n&&n.apply(this,arguments),e.css("visibility",D(e)>0?"":"hidden")}})}},I=function(t){t&&e.each(t,function(e,t){i.stop(t,!0)})},A=o.inherit({ctor:function(e){this._panorama=e},init:e.noop,render:e.noop,allItemElements:function(){return this._panorama._itemElements()},updatePositions:a,animateRollback:a,detectBoundsTransition:a,animateComplete:a,_getRTLSignCorrection:function(){return this._panorama._getRTLSignCorrection()},_isRTLEnabled:function(){return this._panorama.option("rtlEnabled")},_itemMargin:function(){return this._containerWidth()*_},_containerWidth:function(){return this._panorama._elementWidth()},_itemWidth:function(){return this._panorama._itemWidth()},_indexBoundary:function(){return this._panorama._indexBoundary()},_normalizeIndex:function(e){return this._panorama._normalizeIndex(e)},_startNextPosition:function(){return this._isRTLEnabled()?this._containerWidth()-(this._itemMargin()+this._itemWidth()):this._itemMargin()},_startPrevPosition:function(){return this._isRTLEnabled()?this._containerWidth():-this._itemWidth()}}),$=A.inherit({updatePositions:function(){var t=this._panorama._itemElements(),n=this._startNextPosition();t.each(function(){T(e(this),n)})},animateRollback:e.noop,detectBoundsTransition:e.noop,animateComplete:e.noop}),B=A.inherit({init:function(){this._initGhostItem()},render:function(){this._renderGhostItem()},_initGhostItem:function(){this._$ghostItem=e("<div>").addClass(m)},_renderGhostItem:function(){this._panorama._itemContainer().append(this._$ghostItem),this._toggleGhostItem(!1)},_toggleGhostItem:function(e){var t=this._$ghostItem;e?t.css("opacity",1):t.css("opacity",0)},_updateGhostItemContent:function(e){e!==!1&&e!==this._prevGhostIndex&&(this._$ghostItem.html(this._panorama._itemElements().eq(e).html()),this._prevGhostIndex=e)},_isGhostItemVisible:function(){return"1"===this._$ghostItem.css("opacity")},_swapGhostWithItem:function(e){var t=this._$ghostItem,n=D(e);T(e,D(t)),T(t,n)},allItemElements:function(){return this._panorama._itemContainer().find("."+f+", ."+m)},updatePositions:function(t){var n=this.allItemElements(),i=this._panorama.option("selectedIndex"),r=t*this._getRTLSignCorrection(),o=r>0&&0===i||0>r&&1===i,a=0>r&&0===i||r>0&&1===i,s=o&&"replaceLast"||a&&"replaceFirst",l=o&&1||a&&0,u=this._calculateItemPositions(i,s);this._updateGhostItemContent(l),this._toggleGhostItem(o||a),n.each(function(n){T(e(this),u[n]+t)})},animateRollback:function(t){var n=this,i=this._panorama._itemElements(),r=this._startNextPosition(),o=this._getRTLSignCorrection(),a=(D(i.eq(t))-r)*o,s=(D(this._$ghostItem)-r)*o,l=this._calculateItemPositions(t,s>0?"prepend":"append"),u=0===t&&a>0&&s>0||1===t&&0>s;u?this._swapGhostWithItem(i.eq(1)):this._swapGhostWithItem(i.eq(0)),i.each(function(t){E.itemMove(e(this),l[t])}),E.itemMove(this._$ghostItem,l[2],function(){n._toggleGhostItem(!1)})},detectBoundsTransition:function(e,t){var n=D(this._$ghostItem),i=this._startNextPosition(),r=this._isRTLEnabled();return 0===e&&r^i>n?"left":0===t&&r^n>i?"right":void 0},animateComplete:function(t,n,i){var r=this,o=!t^0!==i?"prepend":"append",a=this._panorama._itemElements(),s=this._calculateItemPositions(n,o),l=[];return a.each(function(t){l.push(E.itemMove(e(this),s[t]))}),l.push(E.itemMove(this._$ghostItem,s[2],function(){r._toggleGhostItem(!1)})),e.when.apply(e,l)},_calculateItemPositions:function(e,t){var n=[],i=this._itemMargin(),r=this._itemWidth(),o=(r+i)*this._getRTLSignCorrection(),a=0===e,s=this._startPrevPosition(),l=this._startNextPosition();switch(n.push(l),l+=o,a?n.push(l):n.splice(0,0,l),l+=o,t){case"replaceFirst":n.push(n[0]),n[0]=a?l:s;break;case"replaceLast":a?n.splice(1,0,s):n.splice(1,0,l);break;case"prepend":n.push(s);break;case"append":n.push(l)}return n}}),O=A.inherit({updatePositions:function(t){var n=this._panorama._itemElements(),i=t*this._getRTLSignCorrection()<0,r=this._calculateItemPositions(this._panorama.option("selectedIndex"),i);n.each(function(n){T(e(this),r[n]+t)})},animateRollback:function(t){var n=this._panorama._itemElements(),i=this._calculateItemPositions(t),r=[t,this._normalizeIndex(t+1)];this._isRTLEnabled()^D(n.eq(t))>this._startNextPosition()&&r.push(this._normalizeIndex(t-1)),n.each(function(t){var n=e(this);-1!==e.inArray(t,r)?E.itemMove(n,i[t]):T(n,i[t])})},detectBoundsTransition:function(e,t){var n=this._indexBoundary()-1;
return t===n&&0===e?"left":0===t&&e===n?"right":void 0},animateComplete:function(t,n,i){var r=[],o=this._panorama._itemElements(),a=this._calculateItemPositions(n),s=this._normalizeIndex(i-1)===n,l=3===o.length&&s?this._normalizeIndex(i+1):null,u=a[this._indexBoundary()],c=[n,i],d=s?i:n;return s||c.push(this._normalizeIndex(d+1)),o.each(function(t){var n=e(this);return-1===e.inArray(t,c)?void T(n,a[t]):void r.push(t!==l?E.itemMove(n,a[t]):E.itemMove(n,u,function(){T(n,a[t])}))}),e.when.apply(e,r)},_calculateItemPositions:function(e,t){for(var n=this._normalizeIndex(e-1),i=this._itemMargin(),r=this._itemWidth(),o=(r+i)*this._getRTLSignCorrection(),a=[],s=this._startPrevPosition(),l=this._startNextPosition(),u=e;u!==n;u=this._normalizeIndex(u+1))a[u]=l,l+=o;return t?(a[n]=l,l+=o):a[n]=s,a.push(l),a}});s("dxPanorama",n,n.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{selectedIndex:0,title:"panorama",backgroundImage:{url:null,width:0,height:0},focusStateEnabled:!1,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_itemClass:function(){return f},_itemDataKey:function(){return g},_itemContainer:function(){return this._$itemsContainer},_itemWidth:function(){return this._itemWidthCache||(this._itemWidthCache=this._itemElements().eq(0).outerWidth()),this._itemWidthCache},_clearItemWidthCache:function(){delete this._itemWidthCache},_elementWidth:function(){return this._elementWidthCache||(this._elementWidthCache=this.element().width()),this._elementWidthCache},_clearElementWidthCache:function(){delete this._elementWidthCache},_titleWidth:function(){return this._titleWidthCache||(this._titleWidthCache=this._$title.outerWidth()),this._titleWidthCache},_clearTitleWidthCache:function(){delete this._titleWidthCache},_init:function(){this.callBase(),this._initItemsRenderStrategy(),this._initWrapper(),this._initTitle(),this._initItemsContainer(),this._initSwipeHandlers()},_dimensionChanged:function(){this._clearItemWidthCache(),this._clearElementWidthCache(),this._clearTitleWidthCache(),this._updatePositions()},_initWrapper:function(){this._$wrapper=e("<div>").addClass(c).appendTo(this.element())},_initItemsRenderStrategy:function(){var e;switch(this.option("items").length){case 0:case 1:e=$;break;case 2:e=B;break;default:e=O}this._itemsRenderStrategy=new e(this),this._itemsRenderStrategy.init()},_initBackgroundImage:function(){var e=this.option("backgroundImage.url");e&&this.element().css("background-image","url("+e+")")},_initTitle:function(){this._$title=e("<div>").addClass(d),this._$ghostTitle=e("<div>").addClass(h),this._$wrapper.append(this._$title),this._$wrapper.append(this._$ghostTitle),this._updateTitle()},_updateTitle:function(){var e=this.option("title");this._$title.text(e),this._$ghostTitle.text(e),this._toggleGhostTitle(!1)},_toggleGhostTitle:function(e){var t=this._$ghostTitle;e?t.css("opacity",1):t.css("opacity",0)},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_initItemsContainer:function(){this._$itemsContainer=e("<div>").addClass(p),this._$wrapper.append(this._$itemsContainer)},_render:function(){this.element().addClass(u),this.callBase(),this._initBackgroundImage(),this._itemsRenderStrategy.render()},_updatePositions:function(e){e=e||0,this._updateBackgroundPosition(e*this._calculateBackgroundStep()),this._updateTitlePosition(e*this._calculateTitleStep()),this._itemsRenderStrategy.updatePositions(e*this._elementWidth())},_updateBackgroundPosition:function(e){k(this.element(),this._calculateBackgroundPosition(this.option("selectedIndex"))+e)},_updateTitlePosition:function(e){T(this._$title,this._calculateTitlePosition(this.option("selectedIndex"))+e)},_animateRollback:function(e){this._animateBackgroundMove(e),this._animateTitleMove(e),this._itemsRenderStrategy.animateRollback(e)},_animateBackgroundMove:function(e){return E.backgroundMove(this.element(),this._calculateBackgroundPosition(e))},_animateTitleMove:function(e){return E.titleMove(this._$title,this._calculateTitlePosition(e))},_animateComplete:function(t,n){var i=this,r=this._itemsRenderStrategy.detectBoundsTransition(t,n),o=this._performBackgroundAnimation(r,t),a=this._performTitleAnimation(r,t),s=this._itemsRenderStrategy.animateComplete(r,t,n);e.when(o,a,s).done(function(){i._indexChangeOnAnimation=!0,i.option("selectedIndex",t),i._indexChangeOnAnimation=!1})},_performBackgroundAnimation:function(e,t){return e?this._animateBackgroundBoundsTransition(e,t):this._animateBackgroundMove(t)},_animateBackgroundBoundsTransition:function(e,t){var n=this,i="left"===e,r=this._calculateBackgroundPosition(t),o=i^this.option("rtlEnabled")?-this._calculateBackgroundScaledWidth():this._calculateBackgroundScaledWidth(),a=r+o;return E.backgroundMove(this.element(),a,function(){k(n.element(),r)})},_performTitleAnimation:function(e,t){return e?this._animateTitleBoundsTransition(e,t):this._animateTitleMove(t)},_animateTitleBoundsTransition:function(t,n){var i,r,o=this,a=this._$ghostTitle,s=this._titleWidth(),l=this._elementWidth(),u="left"===t,c=this.option("rtlEnabled"),d=u^c?l:-s,h=u^c?-(l+s):l;return T(a,d),this._toggleGhostTitle(!0),this._swapGhostWithTitle(),i=E.titleMove(a,h,function(){o._toggleGhostTitle(!1)}),r=E.titleMove(this._$title,this._calculateTitlePosition(n)),e.when(i,r)},_swapGhostWithTitle:function(){var e=this._$ghostTitle,t=this._$title,n=D(t);T(t,D(e)),T(e,n)},_calculateTitlePosition:function(e){var t=this._elementWidth(),n=this._titleWidth(),i=t*v,r=this.option("rtlEnabled")?t-i-n:i,o=e*this._calculateTitleStep()*this._getRTLSignCorrection();return r-o},_calculateTitleStep:function(){var e=this._elementWidth(),t=this._titleWidth(),n=this._indexBoundary()||1;return Math.max((t-e)/n,t/n)},_calculateBackgroundPosition:function(e){var t=this._elementWidth(),n=this._calculateBackgroundScaledWidth(),i=this.option("rtlEnabled")?t-n:0,r=e*this._calculateBackgroundStep()*this._getRTLSignCorrection();return i-r},_calculateBackgroundStep:function(){var e=this._itemWidth(),t=this._calculateBackgroundScaledWidth();return Math.max((t-e)/(this._indexBoundary()||1),0)},_calculateBackgroundScaledWidth:function(){return this.element().height()*this.option("backgroundImage.width")/(this.option("backgroundImage.height")||1)},_initSwipeHandlers:function(){this.element().on(l.addNamespace("dxswipestart",this.NAME),{itemSizeFunc:e.proxy(this._elementWidth,this)},e.proxy(this._swipeStartHandler,this)).on(l.addNamespace("dxswipe",this.NAME),e.proxy(this._swipeUpdateHandler,this)).on(l.addNamespace("dxswipeend",this.NAME),e.proxy(this._swipeEndHandler,this))},_swipeStartHandler:function(e){this._stopAnimations(),e.maxLeftOffset=1,e.maxRightOffset=1,(t.designMode||this.option("disabled")||this._indexBoundary()<=1)&&(e.cancel=!0)},_stopAnimations:function(){I([this.element(),this._$ghostTitle,this._$title]),I(this._itemsRenderStrategy.allItemElements())},_swipeUpdateHandler:function(e){this._updatePositions(e.offset)},_swipeEndHandler:function(e){var t=this.option("selectedIndex"),n=e.targetOffset*this._getRTLSignCorrection();0===n?this._animateRollback(t):this._animateComplete(this._normalizeIndex(t-n),t)},_renderSelection:function(){this._indexChangeOnAnimation||this._updatePositions()},_normalizeIndex:function(e){var t=this._indexBoundary();return 0>e&&(e=t+e),e>=t&&(e-=t),e},_indexBoundary:function(){return this.option("items").length},_visibilityChanged:function(e){e&&this._dimensionChanged()},_optionChanged:function(e){switch(e.name){case"width":this.callBase(e),this._dimensionChanged();break;case"backgroundImage":this._invalidate();break;case"title":this._updateTitle();break;case"items":this._initItemsRenderStrategy(),this.callBase(e);break;default:this.callBase(e)}}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.fx,o=t.require("/utils/utils.translator"),a=t.require("/utils/utils.topOverlay").hideCallback,s=t.require("/componentRegistrator"),l=t.require("/ui/ui.widget"),u="dx-slideoutview",c="dx-slideoutview-wrapper",d="dx-slideoutview-menu-content",h="dx-slideoutview-content",p="dx-slideoutview-shield",f="dx-state-invisible",m="content",g=400,_={moveTo:function(e,t,n){r.animate(e,{type:"slide",to:{left:t},duration:g,complete:n})},complete:function(e){r.stop(e,!0)}};s("dxSlideOutView",i,l.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{menuPosition:"normal",menuVisible:!1,swipeEnabled:!0,menuTemplate:"menu",contentTemplate:"content",contentOffset:45})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{android:!0},options:{contentOffset:54}},{device:function(e){return"generic"===e.platform&&"desktop"!==e.deviceType},options:{contentOffset:56}},{device:{win:!0,phone:!1},options:{contentOffset:76}}])},_getAnonymousTemplateName:function(){return m},_init:function(){this.callBase(),this.element().addClass(u),this._deferredAnimate=n,this._initHideTopOverlayHandler()},_initHideTopOverlayHandler:function(){this._hideMenuHandler=e.proxy(this.hideMenu,this)},_render:function(){this.callBase(),this._renderShield(),this._toggleMenuPositionClass(),this._initSwipeHandlers(),this._dimensionChanged()},_renderContentImpl:function(){this._renderMarkup();var e=this._getTemplate(this.option("menuTemplate")),t=this._getTemplate(this.option("contentTemplate"));e&&e.render(this.menuContent()),t&&t.render(this.content())},_renderMarkup:function(){var t=e("<div>").addClass(c);this._$menu=e("<div>").addClass(d),this._$container=e("<div>").addClass(h),t.append(this._$menu),t.append(this._$container),this.element().append(t),this._$container.on("MSPointerDown",e.noop)},_renderShield:function(){this._$shield=this._$shield||e("<div>").addClass(p),this._$shield.appendTo(this.content()),this._$shield.off("dxclick").on("dxclick",e.proxy(this.hideMenu,this)),this._toggleShieldVisibility(this.option("menuVisible"))},_initSwipeHandlers:function(){this._createComponent(this.content(),"dxSwipeable",{disabled:!this.option("swipeEnabled"),elastic:!1,itemSizeFunc:e.proxy(this._getMenuWidth,this),onStart:e.proxy(this._swipeStartHandler,this),onUpdated:e.proxy(this._swipeUpdateHandler,this),onEnd:e.proxy(this._swipeEndHandler,this)})},_isRightMenuPosition:function(){var e="inverted"===this.option("menuPosition"),t=this.option("rtlEnabled");return t&&!e||!t&&e},_swipeStartHandler:function(e){_.complete(this.content());var t=e.jQueryEvent,n=this.option("menuVisible"),i=this._isRightMenuPosition();t.maxLeftOffset=+(i?!n:n),t.maxRightOffset=+(i?n:!n),this._toggleShieldVisibility(!0)},_swipeUpdateHandler:function(e){var t=e.jQueryEvent,n=this.option("menuVisible")?t.offset+1*this._getRTLSignCorrection():t.offset;n*=this._getRTLSignCorrection(),this._renderPosition(n,!1)},_swipeEndHandler:function(e){var t=e.jQueryEvent.targetOffset*this._getRTLSignCorrection()+this.option("menuVisible"),n=0!==t;this.option("menuVisible")===n?this._renderPosition(this.option("menuVisible"),!0):this.option("menuVisible",n)},_toggleMenuPositionClass:function(){var e=u+"-left",t=u+"-right",n=this._isRightMenuPosition()?"right":"left";this._$menu.removeClass(e+" "+t),this._$menu.addClass(u+"-"+n)},_renderPosition:function(t,n){var i=this._calculatePixelOffset(t)*this._getRTLSignCorrection();this._toggleHideMenuCallback(t),n?(this._toggleShieldVisibility(!0),_.moveTo(this.content(),i,e.proxy(this._animationCompleteHandler,this))):o.move(this.content(),{left:i})},_calculatePixelOffset:function(e){return e=e||0,e*this._getMenuWidth()},_getMenuWidth:function(){var e,t;return this._menuWidth||(e=this.element().width()-this.option("contentOffset"),this.menuContent().css("max-width",e),t=this.menuContent().width(),this._menuWidth=Math.min(t,e)),this._menuWidth},_animationCompleteHandler:function(){this._toggleShieldVisibility(this.option("menuVisible")),this._deferredAnimate&&this._deferredAnimate.resolveWith(this)},_toggleHideMenuCallback:function(e){e?a.add(this._hideMenuHandler):a.remove(this._hideMenuHandler)},_getRTLSignCorrection:function(){return this._isRightMenuPosition()?-1:1},_dispose:function(){_.complete(this.content()),this._toggleHideMenuCallback(!1),this.callBase()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){delete this._menuWidth,this._renderPosition(this.option("menuVisible"),!1)},_toggleShieldVisibility:function(e){this._$shield.toggleClass(f,!e)},_optionChanged:function(e){switch(e.name){case"width":this.callBase(e),this._dimensionChanged();break;case"contentOffset":this._dimensionChanged();break;case"menuVisible":this._renderPosition(e.value,!0);break;case"menuPosition":this._renderPosition(this.option("menuVisible"),!0),this._toggleMenuPositionClass();break;case"swipeEnabled":this._initSwipeHandlers();break;case"contentTemplate":case"menuTemplate":this._invalidate();break;default:this.callBase(e)}},menuContent:function(){return this._$menu},content:function(){return this._$container},showMenu:function(){return this.toggleMenuVisibility(!0)},hideMenu:function(){return this.toggleMenuVisibility(!1)},toggleMenuVisibility:function(t){return t=t===n?!this.option("menuVisible"):t,this._deferredAnimate=e.Deferred(),this.option("menuVisible",t),this._deferredAnimate.promise()}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.common"),r=t.require("/componentRegistrator"),o="dx-slideout",a="dx-slideout-item-container",s="dx-slideout-menu",l="dx-slideout-item",u="dxSlideoutItemData";r("dxSlideOut",n,n.CollectionWidget.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{activeStateEnabled:!1,menuItemTemplate:"menuItem",swipeEnabled:!0,menuVisible:!1,menuPosition:"normal",menuGrouped:!1,menuGroupTemplate:"menuGroup",onMenuItemRendered:null,onMenuGroupRendered:null,contentTemplate:"content",selectionMode:"single",selectionRequired:!0})},_itemClass:function(){return l},_itemDataKey:function(){return u},_itemContainer:function(){return this._slideOutView.content()},_init:function(){this.callBase(),this.element().addClass(o),this._initSlideOutView()},_initEditStrategy:function(){if(this.option("menuGrouped")){var t=n.CollectionWidget.PlainEditStrategy.inherit({_getPlainItems:function(){return e.map(this.callBase(),function(e){return e.items})}});this._editStrategy=new t(this)}else this.callBase()},_initSlideOutView:function(){this._slideOutView=this._createComponent(this.element(),"dxSlideOutView",{_templates:[],menuVisible:this.option("menuVisible"),swipeEnabled:this.option("swipeEnabled"),menuPosition:this.option("menuPosition"),onOptionChanged:e.proxy(this._slideOutViewOptionChanged,this)}),this._itemContainer().addClass(a)},_slideOutViewOptionChanged:function(e){"menuVisible"===e.name&&this.option(e.name,e.value)},_render:function(){this._slideOutView._renderShield(),this._renderList(),this._renderContentTemplate(),this.callBase()},_renderList:function(){this._$list=this._$list||e("<div>").addClass(s).appendTo(this._slideOutView.menuContent()),this._renderItemClickAction(),this._createComponent(this._$list,"dxList",{itemTemplateProperty:"menuTemplate",indicateLoading:!1,onItemClick:e.proxy(this._listItemClickHandler,this),items:this.option("items"),dataSource:this.option("dataSource"),itemTemplate:this._getTemplateByOption("menuItemTemplate"),grouped:this.option("menuGrouped"),groupTemplate:this.option("menuGroupTemplate"),onItemRendered:this.option("onMenuItemRendered"),onGroupRendered:this.option("onMenuGroupRendered"),onContentReady:e.proxy(this._updateSlideOutView,this)})},_updateSlideOutView:function(){this._slideOutView._dimensionChanged()},_renderItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_listItemClickHandler:function(e){var t=this._$list.find(".dx-list-item").index(e.itemElement);this.option("selectedIndex",t),this._itemClickAction(e)},_renderContentTemplate:function(){if(!i.isDefined(this._singleContent)){var e=this._itemContainer().html().length;this._getTemplateByOption("contentTemplate").render(this._itemContainer()),this._singleContent=this._itemContainer().html().length!==e}},_itemClickHandler:e.noop,_renderContentImpl:function(){var e,t,n;this._singleContent||(e=this.option("items"),t=this.option("selectedIndex"),e.length&&t>-1&&(n=this._$list.dxList("instance").getItemByIndex(t),this._renderItems([n])))},_renderItem:function(e,t){this._itemContainer().find("."+l).remove(),this.callBase(e,t)},_selectedItemElement:function(){return this._itemElements().eq(0)},_renderSelection:function(){this._renderContent()},_getListWidth:function(){return this._slideOutView._getMenuWidth()},_changeMenuOption:function(e,t){this._$list.dxList("instance").option(e,t),this._updateSlideOutView()},_cleanItemContainer:function(){this._singleContent||this.callBase()},beginUpdate:function(){this.callBase(),this._$list&&this._$list.dxList("beginUpdate")},endUpdate:function(){this._$list&&this._$list.dxList("endUpdate"),this.callBase()},_optionChanged:function(e){var t=e.name,n=e.value;switch(t){case"menuVisible":case"swipeEnabled":case"rtlEnabled":case"menuPosition":this._slideOutView.option(t,n);break;case"width":this.callBase(e),this._updateSlideOutView();break;case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(n));break;case"items":this._changeMenuOption("items",this.option("items"));break;case"dataSource":this._changeMenuOption(t,n),this.callBase(e);break;case"menuGrouped":this._initEditStrategy(),this._changeMenuOption("grouped",n);break;case"menuGroupTemplate":this._changeMenuOption("groupTemplate",this._getTemplate(n));break;case"onMenuItemRendered":this._changeMenuOption("onItemRendered",n);break;case"onMenuGroupRendered":this._changeMenuOption("onGroupRendered",n);break;case"onItemClick":this._renderItemClickAction();break;case"contentTemplate":this._singleContent=null,this._invalidate();break;default:this.callBase(e)}},showMenu:function(){return this._slideOutView.toggleMenuVisibility(!0)},hideMenu:function(){return this._slideOutView.toggleMenuVisibility(!1)},toggleMenuVisibility:function(e){return this._slideOutView.toggleMenuVisibility(e)}}))}(jQuery,DevExpress),DevExpress.MOD_WIDGETS_MOBILE=!0}if(!window.DevExpress||!DevExpress.MOD_WIDGETS_WEB){if(!window.DevExpress||!DevExpress.MOD_WIDGETS_BASE)throw Error("Required module is not referenced: widgets-base");!function(e,t,n){var i=t.ui,r=t.fx,o=t.require("/devices"),a=t.require("/componentRegistrator"),s=t.require("/ui/events/ui.events.utils"),l="dx-accordion",u="dx-accordion-wrapper",c="dx-accordion-item",d="dx-accordion-item-opened",h="dx-accordion-item-closed",p="dx-accordion-item-title",f="dx-accordion-item-body",m="dxAccordionItemData";a("dxAccordion",i,i.CollectionWidget.inherit({_activeStateUnit:"."+c,_getDefaultOptions:function(){return e.extend(this.callBase(),{hoverStateEnabled:!0,height:n,itemTitleTemplate:"title",onItemTitleClick:null,onItemTitleHold:null,selectedIndex:0,collapsible:!1,multiple:!1,animationDuration:300,deferRendering:!0,selectionByClick:!0,activeStateEnabled:!0,_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return o.real().generic&&!o.isSimulator()},options:{focusStateEnabled:!0}}])},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_init:function(){this.callBase(),this.option("selectionRequired",!this.option("collapsible")),this.option("selectionMode",this.option("multiple")?"multiple":"single");var t=this.element();t.addClass(l),this._$container=e("<div>").addClass(u),t.append(this._$container)},_render:function(){this._deferredItems=[],this.callBase(),this._fireContentReadyAction(),this.setAria({role:"tablist",multiselectable:this.option("multiple")}),this._attachItemTitleClickAction()},_renderContent:function(){this._renderContentImpl()},_itemDataKey:function(){return m},_itemClass:function(){return c},_itemContainer:function(){return this._$container},_itemTitles:function(){return this._itemElements().find("."+p)},_itemContents:function(){return this._itemElements().find("."+f)},_getItemData:function(t){return e(t).parent().data(this._itemDataKey())||this.callBase.apply(this,arguments)},_executeItemRenderAction:function(e){e.type||this.callBase.apply(this,arguments)},_itemSelectHandler:function(t){e(t.target).closest(this._itemContents()).length||this.callBase.apply(this,arguments)},_renderItemContent:function(t){var n=this.callBase(e.extend({},t,{contentClass:p,templateProperty:"titleTemplate",defaultTemplateName:this.option("itemTitleTemplate")})),i=e.Deferred();this._deferredItems.push(i),this.option("deferRendering")||i.resolve(),i.done(e.proxy(this.callBase,this,e.extend({},t,{contentClass:f,container:e("<div>").appendTo(n.parent())})))},_attachItemTitleClickAction:function(){var t="."+p,n=s.addNamespace("dxclick",this.NAME);this._itemContainer().off(n,t).on(n,t,e.proxy(this._itemTitleClickHandler,this))},_itemTitleClickHandler:function(e){this._itemJQueryEventHandler(e,"onItemTitleClick")},_renderSelection:function(e,t){this._itemElements().addClass(h),this.setAria("hidden",!0,this._itemContents()),this._updateItems(e,t,!0)},_updateSelection:function(e,t){this._updateItems(e,t,!1)},_updateItems:function(t,n,i){var r=this._itemElements(),o=this;e.each(t,function(e,t){o._deferredItems[t].resolve();var n=r.eq(t).addClass(d).removeClass(h);o.setAria("hidden",!1,n.find("."+f))}),e.each(n,function(e,t){var n=r.eq(t).removeClass(d);o.setAria("hidden",!0,n.find("."+f))}),this._updateItemHeights(i)},_updateItemHeights:function(t){var n=this,i=n._deferredAnimate,r=this._splitFreeSpace(this._calculateFreeSpace());return e.when.apply(e,e.map(this._itemElements(),function(i){return n._updateItemHeight(e(i),r,t)})).done(function(){i&&i.resolveWith(n)})},_updateItemHeight:function(e,t,n){var i,o,a=e.children("."+p);return r.isAnimating(e)&&r.stop(e),i=e.outerHeight(),o=e.hasClass(d)?t+a.outerHeight()||e.height("auto").outerHeight():a.outerHeight(),this._animateItem(e,i,o,n,!!t)},_animateItem:function(t,n,i,o,a){var s;return o||n===i?(t.css("height",i),s=e.Deferred().resolve()):s=r.animate(t,{type:"custom",from:{height:n},to:{height:i},duration:this.option("animationDuration")}),s.done(function(){t.hasClass(d)&&!a&&t.css("height",""),t.not("."+d).addClass(h)})},_splitFreeSpace:function(e){return e?e/this.option("selectedItems").length:e},_calculateFreeSpace:function(){var t,i,r=this.option("height");return r!==n&&"auto"!==r?(t=this._itemTitles(),i=0,e.each(t,function(t,n){i+=e(n).outerHeight()}),this.element().height()-i):void 0},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._updateItemHeights(!0)},_optionChanged:function(e){switch(e.name){case"animationDuration":case"onItemTitleClick":break;case"collapsible":this.option("selectionRequired",!this.option("collapsible"));break;case"itemTitleTemplate":case"onItemTitleHold":case"height":case"deferRendering":this._invalidate();break;case"multiple":this.option("selectionMode",e.value?"multiple":"single");break;default:this.callBase(e)}},expandItem:function(t){return this._deferredAnimate=e.Deferred(),this.selectItem(t),this._deferredAnimate.promise()},collapseItem:function(t){return this._deferredAnimate=e.Deferred(),this.unselectItem(t),this._deferredAnimate.promise()},updateDimensions:function(){return this._updateItemHeights(!1)}}))}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/utils/utils.string"),o=DevExpress.require("/class"),a=t.require("/utils/utils.common"),s=t.require("/componentRegistrator"),l=t.require("/ui/ui.widget"),u=t.require("/ui/events/ui.events.utils"),c=4,d="dx-pager",h="dx-page",p="dx-pages",f="dx-selection",m="dx-separator",g="dx-page-sizes",_="dx-page-size",v="dx-navigate-button",y="dx-prev-button",x="dx-next-button",b="dx-info",w="dx-button-disable",C=o.inherit({ctor:function(t,n){var i=this;i.index=n,i._$page=e("<div />").text(t).addClass(h)},value:function(e){var t,n=this;return a.isDefined(e)?void n._$page.text(e):(t=n._$page.text(),a.isNumber(t)?parseInt(t):t)},element:function(){return this._$page},select:function(e){this._$page.toggleClass(f,e)},render:function(e,t){t?this._$page.prependTo(e):this._$page.appendTo(e)}});s("dxPager",i,l.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{visible:!0,pagesNavigatorVisible:"auto",pageIndex:1,maxPagesCount:10,pageCount:10,totalCount:0,pageSize:5,showPageSizes:!0,pageSizes:[5,10],hasKnownLastPage:!0,showNavigationButtons:!1,showInfo:!1,infoText:Globalize.localize("dxPager-infoText"),rtlEnabled:!1,pageIndexChanged:e.noop,pageSizeChanged:e.noop})},_toggleVisibility:function(e){var t=this.element();t&&t.css("display",e?"":"none")},_getPages:function(e,t){var n,i,r=[],o=!this.option("hasKnownLastPage");if(t>0||o)if(t<=this.option("maxPagesCount")){for(i=1;t>=i;i++)r.push(new C(i,i-1));o&&r.push(new C(">",i-1))}else{for(r.push(new C(1,0)),n=e?e.value()-e.index:1,i=1;c>=i;i++)r.push(new C(n+i,i));r.push(new C(t,c+1)),o&&r.push(new C(">",c+1))}return r},_getPageByValue:function(e){for(var t,n=this,i=0;i<n._pages.length;i++)if(t=n._pages[i],t.value()===e)return t},_processSelectedPage:function(t,n,i){var r,o=this,s=!1;o._pages&&(e.each(o._pages,function(e,t){n===t.value()&&(s=!0)}),s||(o.selectedPage=null)),a.isDefined(o.selectedPage)?n===i&&i>t&&o.selectedPage.index!==c+1&&(o.selectedPage.index=c+1):n>c&&i>n&&(r=n>i-c?c-(i-n)+1:2,o.selectedPage=new C(n,r))},_selectPageByValue:function(e){var t,i,r,o,s=this,l=s._getPageByValue(e),u=s._pages,c=u.length;if(a.isDefined(l)){if(i=s._pages[l.index-1],r=s._pages[l.index+1],r&&">"===r.value()&&(o=r,r=n,c--,u.pop()),s.selectedPage&&s.selectedPage.select(!1),l.select(!0),s.selectedPage=l,r&&r.value()-e>1)if(0!==l.index)for(i.value(e+1),s._pages.splice(l.index,1),s._pages.splice(l.index-1,0,l),s._pages[l.index].index=l.index,l.index=l.index-1,t=l.index-1;t>0;t--)s._pages[t].value(s._pages[t+1].value()-1);else for(t=0;c-1>t;t++)s._pages[t].value(t+1);if(i&&e-i.value()>1)if(l.index!==c-1)for(r.value(e-1),s._pages.splice(l.index,1),s._pages.splice(l.index+1,0,l),s._pages[l.index].index=l.index,l.index=l.index+1,t=l.index+1;c-1>t;t++)s._pages[t].value(s._pages[t-1].value()+1);else for(t=1;c-2>=t;t++)s._pages[c-1-t].value(s._pages[c-1].value()-t);o&&u.push(o)}},_nextPage:function(e){var t=this.selectedPage&&this.selectedPage.value(),n=this.option("pageCount");a.isDefined(t)&&(t="next"===e?++t:--t,t>0&&n>=t&&this.option("pageIndex",t))},_renderPages:function(t){var n,i,r,o=this,a=t.length,s=o._createAction(function(t){var n=t.jQueryEvent,i=e(n.target).text(),r=">"===i?o.option("pageCount")+1:Number(i);o.option("pageIndex",r)});for(a>1&&(o._pageClickHandler=function(e){s({jQueryEvent:e})},o.$pagesChooser.on(u.addNamespace("dxclick",o.Name+"Pages"),"."+h,o._pageClickHandler)),r=0;a>r;r++)i=t[r],i.render(o.$pagesChooser,o.option("rtlEnabled")),o.setAria({role:"button",label:"Page "+i.value()},i.element()),t[r+1]&&t[r+1].value()-i.value()>1&&(n=e("<div>. . .</div>").addClass(m),o.option("rtlEnabled")?n.prependTo(o.$pagesChooser):n.appendTo(o.$pagesChooser))},_renderPagesChooser:function(){var t=this,n=t.option("pagesNavigatorVisible"),i=t.element();if(i){if(!n)return void(t.$pagesChooser&&t.$pagesChooser.remove());if(0===t._pages.length)return void(t.selectedPage=null);a.isDefined(t.$pagesChooser)?t.$pagesChooser.empty():t.$pagesChooser=e("<div />").addClass(p),"auto"===n&&t.$pagesChooser.css("visibility",1===t._pages.length?"hidden":""),t._renderInfo(),t._renderNavigateButton("prev"),t._renderPages(t._pages),t._renderNavigateButton("next"),a.isDefined(t.$pagesChooser[0].parentElement)||t.$pagesChooser.appendTo(i)}},_renderPagesSizeChooser:function(){var t,n,i,r=this,o=r.option("pageSize"),s=r.option("pageSizes"),l=r.option("showPageSizes"),c=s&&s.length,d=r.element();if(d&&(r._clickPagesSizeAction=r._createAction(function(t){var n=t.jQueryEvent;i=parseInt(e(n.target).text()),r.option("pageSize",i)}),a.isDefined(r.pagesSizeChooserElement)?r.pagesSizeChooserElement.empty():r.pagesSizeChooserElement=e("<div />").addClass(g).on(u.addNamespace("dxclick",r.Name+"PageSize"),"."+_,function(e){r._clickPagesSizeAction({jQueryEvent:e})}),l&&c)){for(t=0;c>t;t++)n=e("<div />").text(s[t]).addClass(_),r.setAria({role:"button",label:"Display "+s[t]+" items on page"},n),o===s[t]&&n.addClass(f),r.pagesSizeChooserElement.append(n);a.isDefined(r.pagesSizeChooserElement[0].parentElement)||r.pagesSizeChooserElement.appendTo(d)}},_renderInfo:function(){var t=this.option("infoText");this.option("showInfo")&&a.isDefined(t)&&e("<div>").addClass(b).text(r.format(t,this.selectedPage&&this.selectedPage.value(),this.option("pageCount"),this.option("totalCount"))).appendTo(this.$pagesChooser)},_renderNavigateButton:function(t){var n,i,r,o=this,a=o._createAction(function(){o._nextPage(t)});o.option("showNavigationButtons")&&(n=o.option("pageIndex"),r=n>1&&"prev"===t||n<o.option("pageCount")&&"next"===t,i=e("<div>").addClass(v).addClass(r?"":w).on(u.addNamespace("dxclick",o.Name+"Pages"),function(e){a({jQueryEvent:e})}),o.setAria({role:"button",label:"prev"===t?"Previous page":" Next page"},i),o.option("rtlEnabled")?(i.addClass("prev"===t?x:y),i.prependTo(this.$pagesChooser)):(i.addClass("prev"===t?y:x),i.appendTo(this.$pagesChooser)))},_render:function(){this.callBase(),this._update(),this.element().addClass(d),this._toggleVisibility(this.option("visible")),this._renderPagesSizeChooser(),this._renderPagesChooser()},_update:function(){var e=this.option("pageCount"),t=this.option("pageIndex");this._processSelectedPage(this.option("maxPagesCount"),t,e),this._pages=this._getPages(this.selectedPage,e),this._selectPageByValue(t)},_optionChanged:function(e){var t,n;switch(e.name){case"visible":this._toggleVisibility(e.value);break;case"pageIndex":t=this.option("pageIndexChanged"),t&&t(e.value),this._update(),this._renderPagesChooser();break;case"maxPagesCount":case"pageCount":case"totalCount":case"hasKnownLastPage":case"pagesNavigatorVisible":case"showNavigationButtons":this._update(),this._renderPagesChooser();break;case"pageSize":n=this.option("pageSizeChanged"),n&&n(e.value),this._renderPagesSizeChooser();break;case"pageSizes":this._renderPagesSizeChooser();break;default:this._invalidate()}},_clean:function(){this.$pagesChooser&&this.$pagesChooser.off(u.addNamespace("dxclick",this.Name+"Pages"),"."+h,this._pageClickHandler)},getHeight:function(){return this.option("visible")?this.element().outerHeight():0}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.common"),r=t.require("/utils/utils.inkRipple"),o=t.require("/ui/hierarchicalCollectionWidget/ui.hierarchicalCollectionWidget"),a=t.require("/devices"),s=t.require("/ui/ui.themes"),l="dx-menu",u=l+"-no-icons",c="dx-menu-base",d=l+"-item",h=d+"-selected",p=d+"-wrapper",f=l+"-items-container",m=d+"-expanded",g=l+"-separator",_=l+"-last-group-item",v=d+"-has-text",y=d+"-has-icon",x=d+"-has-submenu",b=d+"-popout",w=b+"-container",C=d+"-text",S="single",k={show:50,hide:300},D=o.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectionByClick:!1,focusOnSelectedItem:!1,_remoteSelectionSync:!1,_itemAttributes:{role:"menuitem"},useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return/android5/.test(s.current())},options:{useInkRipple:!0}}])},_activeStateUnit:"."+d,_itemDataKey:function(){return"dxMenuItemDataKey"},_itemClass:function(){return d},_setAriaSelected:e.noop,_selectedItemClass:function(){return h},_widgetClass:function(){return c},_focusTarget:function(){return this._itemContainer()},_supportedKeys:function(){var t=function(){var e=this.option("focusedElement");e&&this._isSelectionEnabled()&&this.selectItem(e[0])};return e.extend(this.callBase(),{space:t,pageUp:e.noop,pageDown:e.noop})},_isSelectionEnabled:function(){
return this.option("selectionMode")===S},_init:function(){this.callBase(),this._renderSelectedItem(),this._initActions()},_useCustomExpressions:function(){return this.callBase()||"items"!==this.option("itemsExpr")},_getTextContainer:function(t){var n=this._displayGetter(t),i=e("<span>").addClass(C),r=e.isPlainObject(t)?n:String(t);return n&&i.html(r)},_getPopoutContainer:function(t){var n,i,r=this._itemsGetter(t);return r&&r.length&&(i=e("<div>").addClass(b),n=e("<span>").addClass(w).append(i)),n},_getDataAdapterOptions:function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}},_selectByItem:function(e){if(e){var t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}},_renderSelectedItem:function(){var e,t=this._dataAdapter.getSelectedNodesKeys(),n=t.length&&t[0],i=this.option("selectedItem");if(!n)return void this._selectByItem(i);if(e=this._dataAdapter.getNodeByKey(n),e.selectable!==!1){if(!i)return void this.option("selectedItem",e.internalFields.item);i!==e.internalFields.item&&(this._dataAdapter.toggleSelection(n,!1),this._selectByItem(i))}},_initActions:e.noop,_render:function(){this.callBase(),this._addCustomCssClass(this.element()),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=r.render()},_toggleActiveState:function(e,t,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:e,jQueryEvent:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_getShowSubmenuMode:function(){var e="onClick",t=this.option("showSubmenuMode");return t=i.isObject(t)?t.name:t,this._isDesktopDevice()?t:e},_initSelectedItems:e.noop,_isDesktopDevice:function(){return"desktop"===a.real().deviceType},_initEditStrategy:function(){var e=n.CollectionWidget.MenuBaseEditStrategy;this._editStrategy=new e(this)},_addCustomCssClass:function(e){e.addClass(this.option("cssClass"))},_itemWrapperSelector:function(){return"."+p},_hoverStartHandler:function(t){var n=this,i=n._getItemElementByEventArgs(t);i&&!n._isItemDisabled(i)&&(t.stopPropagation(),n.option("focusedElement",i),"onHover"===n._getShowSubmenuMode()&&(this._showSubmenusTimeout=setTimeout(e.proxy(n._showSubmenu,n,i),n._getSubmenuDelay("show"))))},_isItemDisabled:function(e){return this._disabledGetter(e.data(this._itemDataKey()))},_showSubmenu:function(e){clearTimeout(this._showSubmenusTimeout),this._hasFocusClass(e)&&this._addExpandedClass(e)},_addExpandedClass:function(e){e.addClass(m)},_getSubmenuDelay:function(e){var t=this.option("showSubmenuMode").delay;return i.isDefined(t)?i.isObject(t)?t[e]:t:k[e]},_getItemElementByEventArgs:function(t){var n=e(t.target);if(n.hasClass(this._itemClass())||n.get(0)===t.currentTarget)return n;for(;!n.hasClass(this._itemClass());)if(n=n.parent(),n.hasClass("dx-submenu"))return null;return n},_hoverEndHandler:e.noop,_hasSubmenu:function(e){return e.internalFields.childrenKeys.length},_renderContentImpl:function(){this._renderItems(this._dataAdapter.getRootNodes())},_renderItems:function(t,n){var i,r=this;t.length&&(this.hasIcons=!1,i=this._renderContainer(this.element(),n),e.each(t,function(e,t){r._renderItem(e,t,i)}),this.hasIcons||i.addClass(u))},_renderContainer:function(t){return e("<ul>").appendTo(t).addClass(f)},_createDOMElement:function(t){return e("<li>").appendTo(t).addClass(p)},_renderItem:function(e,t,n){var i,r,o=this.option("items");this._renderSeparator(t,e,n),t.internalFields.item.visible!==!1&&(r=this._createDOMElement(n),o[e+1]&&o[e+1].beginGroup&&r.addClass(_),i=this.callBase(e,t.internalFields.item,r),t.internalFields.item===this.option("selectedItem")&&i.addClass(h),this._addContentClasses(t,i),this._hasSubmenu(t)&&this.setAria("haspopup","true",i))},_addContentClasses:function(e,t){this._displayGetter(e)&&t.addClass(v),(e.icon||e.iconSrc)&&(t.addClass(y),this.hasIcons=!0),this._hasSubmenu(e)&&t.addClass(x)},_postprocessRenderItem:function(t){var n,i=e(t.itemElement),r=this._dataAdapter.getSelectedNodesKeys();return r.length&&this._selectedGetter(t.itemData)&&this._isItemSelectable(t.itemData)?(n=this._dataAdapter.getNodeByItem(t.itemData),void(n.internalFields.key===r[0]?(i.addClass(this._selectedItemClass()),this._setAriaSelected(i,"true")):this._setAriaSelected(i,"false"))):void this._setAriaSelected(i,"false")},_isItemSelectable:function(e){return e.selectable!==!1},_renderSeparator:function(t,n,i){t.beginGroup&&n>0&&(this._needSeparate=!0),t.visible!==!1&&this._needSeparate&&(e("<li>").appendTo(i).addClass(g),this._needSeparate=!1)},_itemClickHandler:function(t){var n=this._createAction(e.proxy(this._updateSubmenuVisibilityOnClick,this));this._itemJQueryEventHandler(t,"onItemClick",{},{afterExecute:e.proxy(n,this)})},_updateSubmenuVisibilityOnClick:function(e){this._updateSelectedItemOnClick(e),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(e.args[0].itemElement)},_updateSelectedItemOnClick:function(e){var t,n,i=e.args?e.args[0]:e;this._isItemSelectionAllowed(i.itemData)&&(t=this._dataAdapter.getSelectedNodesKeys(),n=t.length&&this._dataAdapter.getNodeByKey(t[0]),n&&this._toggleItemSelection(n,!1),n&&n.internalFields.item===i.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionSilent("selectedItem",null)):this.selectItem(i.itemData))},_isItemSelectionAllowed:function(e){var t=this._isSelectionEnabled()&&this.option("selectionByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)},_isContainerEmpty:function(){return this._itemContainer().is(":empty")},_syncSelectionOptions:e.noop,_optionChanged:function(e){if(!this._cancelOptionChange)switch(e.name){case"showSubmenuMode":break;case"selectedItem":var t=e.value,n=this._dataAdapter.getNodeByItem(t),i=this._dataAdapter.getSelectedNodesKeys()[0];if(n&&n.internalFields.key!==i){if(n.selectable===!1)break;i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems()}break;case"_remoteSelectionSync":case"cssClass":case"position":case"selectionByClick":case"animation":case"useInkRipple":this._invalidate();break;default:this.callBase(e)}},_toggleItemSelection:function(t,n){var i=this._getElementByItem(t.internalFields.item);i&&e(i).toggleClass(h),this._dataAdapter.toggleSelection(t.internalFields.key,n)},_getElementByItem:function(t){var n,i=this;return e.each(this._itemContainer().find("."+d),function(r,o){return e(o).data(i._itemDataKey())!==t?!0:(n=o,!1)}),n},_updateSelectedItems:function(e,t){(e||t)&&(this._updateSelection(t,e),this._fireSelectionChangeEvent(t,e))},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})},selectItem:function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),i=this._dataAdapter.getSelectedNodesKeys()[0],r=this.option("selectedItem");n.internalFields.key!==i&&(i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems(r,t),this._setOptionSilent("selectedItem",t))},unselectItem:function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionSilent("selectedItem",null))}});D.publicName("dxMenuBase"),n.dxMenuBase=D}(jQuery,DevExpress),function(e,t){var n=t.ui;DevExpress.require("/ui/ui.errors");n.CollectionWidget.MenuBaseEditStrategy=n.CollectionWidget.PlainEditStrategy.inherit({_getPlainItems:function(){return e.map(this._collectionWidget.option("items"),function t(n){return n.items?[n].concat(e.map(n.items,t)):n})},_stringifyItem:function(e){var t=this;return JSON.stringify(e,function(e,n){return"template"===e?t._getTemplateString(n):n})},_getTemplateString:function(t){var n;return n="object"==typeof t?e(t).text():t.toString()},selectedItemIndices:function(){var t,n=[],i=this._collectionWidget._dataAdapter,r=i.getData(),o=i.getNodeByKey(i.getSelectedNodesKeys()[0]);return o&&(t=e.inArray(o,r),-1!==t&&n.push(t)),n},fetchSelectedItems:function(t){t=t||this._collectionWidget._selectedItemIndices;var n=this._getPlainItems(),i=[];return e.each(t,function(e,t){i.push(n[t])}),i}})}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.fx,o=t.require("/utils/utils.position"),a=t.require("/utils/utils.common"),s=t.require("/devices"),l=t.require("/componentRegistrator"),u=t.require("/ui/events/ui.events.utils"),c="dx-menu",d=c+"-item",h=d+"-expanded",p="dx-menu-phone-overlay",f=c+"-items-container",m=d+"-wrapper",g="dx-submenu",_="dx-context-menu",v="dx-has-context-menu",y="dx-state-disabled",x="up",b="down",w="left",C="right",S="first",k="last",D=["onShowing","onShown","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],T=[x,b,S,k];l("dxContextMenu",i,i.dxMenuBase.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{alternativeInvocationMode:{enabled:!1,invokingElement:null},position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:window,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})},_initActions:function(){this._actions={},e.each(D,e.proxy(function(t,n){this._actions[n]=this._createActionByOption(n)||e.noop},this))},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{animation:!0,position:!0,selectedItem:!0})},_itemContainer:function(){return this._overlay&&this._overlay.content()},_eventBindingTarget:function(){return this._itemContainer()},_supportedKeys:function(){var t=function(){var e=this.option("focusedElement");this.hide(),e&&this._isSelectionEnabled()&&this.selectItem(e[0])};return e.extend(this.callBase(),{space:t,esc:this.hide})},_moveFocus:function(e){var t,n=this._getItemsByLocation(e),i=this._getActiveItem(!0),r=this.option("focusedElement");switch(e){case x:t=r?this._prevItem(n):n.last(),i.is(n.first())&&this._actions.onLeftFirstItem(i);break;case b:t=r?this._nextItem(n):n.first(),i.is(n.last())&&this._actions.onLeftLastItem(i);break;case C:t=this.option("rtlEnabled")?this._hideSubmenuHandler(n):this._expandSubmenuHandler(n,e);break;case w:t=this.option("rtlEnabled")?this._expandSubmenuHandler(n,e):this._hideSubmenuHandler(n);break;case S:t=n.first();break;case k:t=n.last();break;default:return this.callBase(e)}0!==t.length&&this.option("focusedElement",t)},_getItemsByLocation:function(t){var n,i=this._getActiveItem(!0),r=this.option("rtlEnabled")?w:C;return e.inArray(t,T)>=0?n=i.closest("."+f).children().children():(n=this._itemElements(),t!==r&&(n=n.filter(":visible"))),n},_getAriaTarget:function(){return this.element()},_refreshActiveDescendant:function(){var e=this._overlay.content(),t=this.getFocusedItemId();return e?(this.setAria("activedescendant","",e),void this.setAria("activedescendant",t,e)):this.callBase()},_hideSubmenuHandler:function(){var e=this._getActiveItem(!0),t=e.parents("."+h).first();return t.length?(this._hideSubmenusOnSameLevel(t),t):(this._actions.onCloseRootSubmenu(e),e)},_expandSubmenuHandler:function(e,t){var n=this._getActiveItem(!0),i=this._dataAdapter.getNodeByItem(this._getItemData(n)),r=this._hasSubmenu(i),o=n.children("."+g);return r&&!n.hasClass(y)?(o.length&&"hidden"!==o.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t))):(this._actions.onExpandLastSubmenu(n),n)},_render:function(){this.element().addClass(v),this.callBase(),this.setAria("role","menu")},_renderContentImpl:function(){this._renderContextMenuOverlay(),this._detachShowContextMenuEvents(this.option("target")),this._attachShowContextMenuEvents(),this._attachInvokeContextMenuEvents(),this.callBase()},_renderContextMenuOverlay:function(){if(!this._overlay){var t,n=this._getOverlayOptions(),i=e("<div>");this._overlay=this._createComponent(i.appendTo(this._$element),"dxOverlay",n),t=this._overlay.content(),t.addClass(_),this._addCustomCssClass(t),this._addPlatformDependentClass(t)}},_addPlatformDependentClass:function(e){s.current().phone&&e.addClass(p)},_detachShowContextMenuEvents:function(t){var n=u.addNamespace("dxcontextmenu",this.NAME);this._showContextMenuEventHandler?e(document).off(n,this._getTargetSelector(t),this._showContextMenuEventHandler).off(n):e(t).off(n),this._overlay&&this._overlay.content().off(n)},_attachShowContextMenuEvents:function(){var t=this,n=u.addNamespace("dxcontextmenu",this.NAME),i=this._createAction(e.proxy(function(e){t.option("alternativeInvocationMode").enabled||t._show(e.jQueryEvent)},this),{validatingTargetName:"target"}),r=e.proxy(function(t){i({jQueryEvent:t,target:e(t.currentTarget)})},this);i=this._createAction(i),this._overlay&&this._overlay.content().on(n,e.noop),this.option("target")instanceof e?this._attachShowEventHandler(n,this.option("target"),r):this._attachLiveShowEventHandler(n,this.option("target"),r)},_attachShowEventHandler:function(e,t,i){this._showContextMenuEventHandler=n,t.on(e,i)},_attachLiveShowEventHandler:function(t,n,i){this._showContextMenuEventHandler=i;var r=this;e(document).on(t,n,function(e){r._showContextMenuEventHandler(e),e.liveEvent=!0}).on(t,function(e){e._cancel=!e.liveEvent})},_getTargetSelector:function(t){return t instanceof e?t.selector:t},_attachInvokeContextMenuEvents:function(){var t=this,n=u.addNamespace("dxclick",this.NAME),i=this._createAction(e.proxy(function(){t.toggle()},this),{validatingTargetName:"target"});this.option("alternativeInvocationMode").enabled&&this._getInvokeTarget()&&e(this._getInvokeTarget()).off(n).on(n,e.proxy(function(t){i({jQueryEvent:t,target:e(t.target)})},this))},_getInvokeTarget:function(){return this.option("alternativeInvocationMode").invokingElement},_hoverEndHandler:function(e){e.stopPropagation()},_renderDimensions:e.noop,_renderContainer:function(t,n){var i,r=n||this._itemContainer();return t=e("<div>"),t.appendTo(r).addClass(g).css("visibility",n?"hidden":"visible"),i=this.callBase(t),n?i:this.option("width")?i.css("min-width",this.option("width")):this.option("height")?i.css("min-height",this.option("height")):i},_renderSubmenuItems:function(e,t){this._renderItems(this._getChildNodes(e),t)},_getOverlayOptions:function(){var t=this.option("position"),n=this.option("animation");return{focusStateEnabled:this.option("focusStateEnabled"),animation:n,closeOnOutsideClick:e.proxy(this._closeOnOutsideClickHandler,this),closeOnTargetScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this.option("target"),collision:"fit"},shading:!1,showTitle:!1,height:"auto",width:"auto",visible:this.option("visible"),onShown:e.proxy(this._overlayShownActionHandler,this),onHiding:e.proxy(this._overlayHidingActionHandler,this),onHidden:e.proxy(this._overlayHiddenActionHandler,this),onPositioned:e.proxy(this._overlayPositionedActionHandler,this)}},_overlayShowingActionHandler:function(e){this._actions.onShowing(e),this._clearFocusedItem()},_overlayShownActionHandler:function(e){this._actions.onShown(e),this._clearFocusedItem()},_clearFocusedItem:function(){this._removeFocusedItem(),this.option("focusedElement",null)},_overlayHidingActionHandler:function(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionSilent("visible",!1))},_overlayHiddenActionHandler:function(e){this._actions.onHidden(e)},_overlayPositionedActionHandler:e.noop,_closeOnOutsideClickHandler:function(t){var n,i,r,o,a,s,l=e(t.target).closest(this._getInvokeTarget());return t.target===document?!0:l&&l.length?!1:(i=this._getActiveItemsContainer(t.target),r=this._getItemsContainers(),n=this._searchActiveItem(t.target),o=this.element().parents("."+d),a=n[0]===o[0]&&n.length&&o.length,s=this._isIncludeOverlay(i,r)&&n.length,s||a?("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(n),!1):!0)},_getActiveItemsContainer:function(t){return e(t).closest("."+f)},_getItemsContainers:function(){return this._overlay._$content.find("."+f)},_searchActiveItem:function(t){return e(t).closest("."+d).eq(0)},_isIncludeOverlay:function(t,n){var i=!1;return e.each(n,function(e,n){t.is(n)&&!i&&(i=!0)}),i},_hideAllShownChildSubmenus:function(t){var n,i=this,r=t.find("."+g),o=e.extend([],this._shownSubmenus);r.length>0&&e.each(o,function(e,r){n=i._searchActiveItem(r.context).parent(),n.parent().is(t.parent().parent())&&!n.is(t.parent())&&i._hideSubmenu(r)})},_showSubmenu:function(e){var t,n=this._dataAdapter.getNodeByItem(this._getItemData(e)),i=this._hasSubmenu(n);this._hideSubmenusOnSameLevel(e),i&&(this.callBase(e),e.closest("."+f).find("."+h).removeClass(h),e.children("."+g).length||this._renderSubmenuItems(n,e,2),t=this._isSubmenuVisible(e.children("."+g)),t||(e.addClass(h),this._drawSubmenu(e)))},_hideSubmenusOnSameLevel:function(e){var t=e.closest("."+f).find("."+h);t.length&&(t.removeClass(h),this._hideSubmenu(t.find("."+g)))},_hideSubmenuGroup:function(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)},_isSubmenuVisible:function(e){return"visible"===e.css("visibility")},_drawSubmenu:function(t){var n=this.option("animation")?this.option("animation").show:{},i=t.children("."+g);this._overlay&&this._overlay.option("visible")&&(a.isDefined(this._shownSubmenus)||(this._shownSubmenus=[]),e.inArray(i,this._shownSubmenus)&&this._shownSubmenus.push(i),o.setup(i,this._getSubmenuPosition(t)),n&&this._animate(i,n),i.css("visibility","visible"))},_animate:function(e,t){r.animate(e,t)},_getSubmenuPosition:function(e){var t=this.option("submenuDirection").toLowerCase(),n=e.parent("."+m),i={collision:"flip",of:n,offset:{h:0,v:-1}};switch(t){case"left":i.at="left top",i.my="right top";break;case"right":i.at="right top",i.my="left top";break;default:this.option("rtlEnabled")?(i.at="left top",i.my="right top"):(i.at="right top",i.my="left top")}return i},_updateSubmenuVisibilityOnClick:function(t){var n,i,r,o,a,s,l;t.args.length&&(t.args[0].jQueryEvent.stopPropagation(),n=t.args[0].itemElement,i=t.args[0].itemData,r=this._dataAdapter.getNodeByItem(i))&&(o=r.internalFields.childrenKeys.length&&!n.find("."+g).length,o&&this._renderSubmenuItems(r,n,2),s=i&&i.closeMenuOnClick===!1,a=n.children("."+g),n.context!==a.context||"visible"!==a.css("visibility"))&&(!i||i.disabled||s||(this._updateSelectedItemOnClick(t),0===a.length?(l=e(n.parents("."+g)[0]),this._hideSubmenu(l),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)):(this._shownSubmenus&&this._shownSubmenus.length>0&&(this._shownSubmenus[0].is(a)||1===this._shownSubmenus[0].has(a).length?this._hideSubmenu(a):this._hideAllShownSubmenus()),this._showSubmenu(n))))},_hideSubmenu:function(t){var n=this,i=e.extend([],n._shownSubmenus);e.each(i,function(e,i){(t.is(i)||t.has(i).length)&&(i.parent().removeClass(h),n._hideSubmenuCore(i))})},_hideSubmenuCore:function(t){var n=e.inArray(t,this._shownSubmenus),i=this.option("animation")?this.option("animation").hide:null;n>=0&&this._shownSubmenus.splice(n,1),this._stopAnimate(t),i&&this._animate(t,i),t.css("visibility","hidden")},_stopAnimate:function(e){r.stop(e,!0)},_hideAllShownSubmenus:function(){var t=this,n=e.extend([],t._shownSubmenus),i=this._overlay.content().find("."+h);i.removeClass(h),e.each(n,function(e,n){t._hideSubmenuCore(n)})},_visibilityChanged:function(e){e&&(this._detachShowContextMenuEvents(this.option("target")),this._attachShowContextMenuEvents(),this._attachInvokeContextMenuEvents())},_optionChanged:function(t){if(!this._cancelOptionChange){if(e.inArray(t.name,D)>-1)return void this._initActions();switch(t.name){case"visible":this._toggleVisibility(t.value);break;case"alternativeInvocationMode":this._invalidate();break;case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this.option("position").of=null,this._invalidate();break;case"focusedElement":this.callBase(t);break;default:this.callBase(t)}}},_toggleVisibility:function(e){e?this._show():this._hide()},_show:function(t){var n,i,r,o={jQEvent:t};return this._actions.onShowing(o),o.cancel?e.Deferred().reject().promise():(n=!(this._overlay&&this._positionContextMenu(t)),i=new DevExpress.data.Guid,n&&this._overlay&&(this._setOptionSilent("visible",!0),this.option("focusedElement",this._itemElements().first()),r=this._overlay.show(),this._overlay.content().attr({id:i,role:"menu"}),this.setAria("owns",i)),r||e.Deferred().reject().promise())},_positionContextMenu:function(e){var t,n=this.option("position"),i=this._createActionByOption("onPositioning",t);return e&&e.preventDefault&&(n={at:"top left",my:"top left",of:e}),n.of||(n.of=this.option("target")),t={position:n,jQueryEvent:e},i(t),!t.cancel&&this._overlay?n&&!this._overlay.option("visible")&&this._overlay.option("position",n):t.jQueryEvent&&(t.jQueryEvent.cancel=!0),t.cancel},_hide:function(){var t;return this._overlay&&(this._overlay.content().removeAttr("id"),t=this._overlay.hide(),this._setOptionSilent("visible",!1)),this.setAria("owns",n),t||e.Deferred().reject().promise()},_clean:function(){this._detachShowContextMenuEvents(e(this.option("target"))),this.callBase()},toggle:function(e){var t=this.option("visible");return e=e===n?!t:e,e?this._show():this._hide()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}}))}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.position"),r=t.require("/utils/utils.common"),o=t.require("/componentRegistrator"),a=t.require("/ui/events/ui.events.utils"),s=t.require("/ui/events/pointer/ui.events.pointer"),l=t.require("/ui/events/ui.events.hover"),u="dx-menu",c=u+"-vertical",d=u+"-horizontal",h=u+"-item",p=u+"-items-container",f=h+"-expanded",m="dx-context-menu",g=m+"-container-border",_="dx-context-menu-content-delimiter",v="dx-submenu",y="dx-state-disabled",x="dx-state-focused",b="up",w="down",C="left",S="right",k="showSubmenu",D="nextItem",T="prevItem",E={show:50,hide:300},I=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden"],A=n.dxContextMenu.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{orientation:"horizontal"})},_initDataAdapter:function(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter?this._dataAdapter.options.rooValue=this.option("_parentKey"):this.callBase()},_renderContentImpl:function(){this._renderContextMenuOverlay(),this._detachShowContextMenuEvents(this.option("target")),this._attachShowContextMenuEvents(),this._attachInvokeContextMenuEvents();var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()},_renderDelimiter:function(){this.$contentDelimiter=e("<div>").appendTo(this._itemContainer()).addClass(_)},_overlayPositionedActionHandler:function(e){this._showDelimiter(e)},_hoverEndHandler:function(e){this._toggleFocusClass(!1,e.currentTarget)},_isMenuHorizontal:function(){return"horizontal"===this.option("orientation")},_hoverStartHandler:function(e){this.callBase(e),this._toggleFocusClass(!0,e.currentTarget)},_showDelimiter:function(e){var t,n,r=this._itemContainer().children("."+v).eq(0),o=this.option("position").of,a={of:r};this.$contentDelimiter&&(t=e.position,n=o.offset(),this.$contentDelimiter.css("display","block"),this._isMenuHorizontal()?(this.$contentDelimiter.width(o.width()<r.width()?o.width()-2:r.width()-2),this.$contentDelimiter.height(2),t.v.location>n.top?Math.round(t.h.location)===Math.round(n.left)?(a.offset="1 -1",a.at="left top",a.my="left top"):(a.offset="-1 -1",a.at="right top",a.my="right top"):(this.$contentDelimiter.height(5),Math.round(t.h.location)===Math.round(n.left)?(a.offset="1 4",a.at="left bottom",a.my="left bottom"):(a.offset="-1 2",a.at="right bottom",a.my="right bottom"))):(this.$contentDelimiter.width(2),this.$contentDelimiter.height(o.height()<r.height()?o.height()-2:r.height()-2),t.h.location>n.left?Math.round(t.v.location)===Math.round(n.top)?(a.offset="-1 1",a.at="left top",a.my="left top"):(a.offset="-1 -1",a.at="left bottom",a.my="left bottom"):Math.round(t.v.location)===Math.round(n.top)?(a.offset="1 1",a.at="right top",a.my="right top"):(a.offset="1 -1",a.at="right bottom",a.my="right bottom")),i.setup(this.$contentDelimiter,a))},isOverlayVisible:function(){return this._overlay.option("visible")},getOverlayContent:function(){return this._overlay.content()}});o("dxMenu",n,n.dxMenuBase.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null})},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{animation:!0,selectedItem:!0})},_focusTarget:function(){return this.element()},_isMenuHorizontal:function(){return"horizontal"===this.option("orientation")},_moveFocus:function(e){var t,n,i,r,o=this._itemElements().filter(":visible"),a=this._isMenuHorizontal(),s=this._getActiveItem(!0);switch(e){case b:n=a?k:this._getItemsNavigationOperation(T),t=a?s:o,i=this._getKeyboardNavigationAction(n,t),r=i();break;case w:n=a?k:this._getItemsNavigationOperation(D),t=a?s:o,i=this._getKeyboardNavigationAction(n,t),r=i();break;case S:n=a?this._getItemsNavigationOperation(D):k,t=a?o:s,i=this._getKeyboardNavigationAction(n,t),r=i();break;case C:n=a?this._getItemsNavigationOperation(T):k,t=a?o:s,i=this._getKeyboardNavigationAction(n,t),r=i();break;default:return this.callBase(e)}r&&0!==r.length&&this.option("focusedElement",r)},_getItemsNavigationOperation:function(e){var t=e;return this.option("rtlEnabled")&&(t=e===T?D:T),t},_getKeyboardNavigationAction:function(t,n){var i=e.noop;switch(t){case k:n.hasClass(y)||(i=e.proxy(this._showSubmenu,this,n));break;case D:i=e.proxy(this._nextItem,this,n);break;case T:i=e.proxy(this._prevItem,this,n)}return i},_init:function(){this.callBase(),this._submenus=[]},_initActions:function(){this._actions={},e.each(I,e.proxy(function(t,n){this._actions[n]=this._createActionByOption(n)||e.noop},this))},_render:function(){this._visibleSubmenu=null,this.callBase(),this.element().addClass(u),this.setAria("role","menubar")},_getDelay:function(e){var t=this.option("showFirstSubmenuMode").delay;return r.isDefined(t)?r.isObject(t)?t[e]:t:E[e]},_renderContainer:function(){var t=e("<div>");return t.appendTo(this.element()).addClass(this._isMenuHorizontal()?d:c),this.callBase(t)},_renderSubmenuItems:function(e,t){var n=this._createSubmenu(e,t);return this._submenus.push(n),this._renderBorderElement(t),n},_createSubmenu:function(t,n){var i=e("<div>").addClass(m).appendTo(n),r=this._getChildNodes(t),o=this._createComponent(i,"dxSubmenu",e.extend(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:t.internalFields.key,items:r,position:this.getSubmenuPosition(n)}));return this._attachSubmenuHandlers(n,o),o},_getSubmenuOptions:function(){var t=e("<div>"),n=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),templateProvider:this.option("templateProvider"),target:t,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),selectionByClick:this.option("selectionByClick"),cssClass:this.option("cssClass"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onSelectionChanged:e.proxy(this._nestedItemOnSelectionChangedHandler,this),onItemClick:e.proxy(this._nestedItemOnItemClickHandler,this),onItemRendered:this.option("onItemRendered"),onLeftFirstItem:n?null:e.proxy(this._moveMainMenuFocus,this,T),onLeftLastItem:n?null:e.proxy(this._moveMainMenuFocus,this,D),onCloseRootSubmenu:e.proxy(this._moveMainMenuFocus,this,n?T:null),onExpandLastSubmenu:n?e.proxy(this._moveMainMenuFocus,this,D):null,_remoteSelectionSync:!0}},_getShowFirstSubmenuMode:function(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return r.isObject(e)?e.name:e},_moveMainMenuFocus:function(e){var t,n=this.element().find("."+f).first(),i=n.parent();switch(e){case T:t=i.prev(),t.length||(t=i.siblings().last());break;case D:t=i.next(),t.length||(t=i.siblings().first());break;default:t=i,t.length||(t=i.siblings().first())}t=t.children(),this._visibleSubmenu&&this._hideSubmenu(this._visibleSubmenu),this.focus(),this.option("focusedElement",t)},_nestedItemOnSelectionChangedHandler:function(e){var t=e.addedItems.length&&e.addedItems[0],n=e.element.dxSubmenu("instance"),i=this._createActionByOption("onSelectionChanged",{});i(e),t&&this._clearSelectionInSubmenus(t[0],n),this._clearRootSelection(),this._setOptionSilent("selectedItem",t)},_clearSelectionInSubmenus:function(t,n){var i=this,r=!arguments.length;e.each(this._submenus,function(e,t){var o,a=t._itemContainer(),s=!a.is(n&&n._itemContainer()),l=a.find("."+i._selectedItemClass());(s&&l.length||r)&&(l.removeClass(i._selectedItemClass()),o=i._getItemData(l),o&&(o.selected=!1),t._clearSelectedItems())})},_clearRootSelection:function(){var e,t=this.element().find("."+p).first().children().children().filter("."+this._selectedItemClass());t.length&&(e=this._getItemData(t),e.selected=!1,t.removeClass(this._selectedItemClass()))},_nestedItemOnItemClickHandler:function(e){var t=this._createActionByOption("onItemClick",{});t(e)},_attachSubmenuHandlers:function(t,n){var i=this,r=n.getOverlayContent(),o=r.find("."+v),s=a.addNamespace(l.end,this.NAME+"_submenu");n.option({onShowing:e.proxy(this._submenuOnShowingHandler,this,t,n),onShown:e.proxy(this._submenuOnShownHandler,this,t,n),onHiding:e.proxy(this._submenuOnHidingHandler,this,t,n),onHidden:e.proxy(this._submenuOnHiddenHandler,this,t,n)}),e.each(o,function(n,r){e(r).off(s).on(s,null,e.proxy(i._submenuMouseLeaveHandler,i,t))})},_submenuOnShowingHandler:function(e,t){var n=e.children("."+g);this._actions.onSubmenuShowing({rootItem:e,submenu:t}),n.show(),e.addClass(f)},_submenuOnShownHandler:function(e,t){this._actions.onSubmenuShown({rootItem:e,submenu:t})},_submenuOnHidingHandler:function(e,t,n){var i=e.children("."+g),r=n;r.rootItem=e,r.submenu=t,this._actions.onSubmenuHiding(r),n=r,n.cancel||(this._visibleSubmenu===t&&(this._visibleSubmenu=null),i.hide(),e.removeClass(f))},_submenuOnHiddenHandler:function(e,t){this._actions.onSubmenuHidden({rootItem:e,submenu:t})},_submenuMouseLeaveHandler:function(t,n){var i=this,r=e(n.relatedTarget).parents("."+m)[0],o=this._getSubmenuByRootElement(t).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&r!==o&&(clearTimeout(this._showSubmenuTimer),clearTimeout(this._hideSubmenuTimer),setTimeout(e.proxy(this._hideSubmenuAfterTimeout,this),i._getDelay("hide")))},_hideSubmenuAfterTimeout:function(){if(this._visibleSubmenu){var e=this._visibleSubmenu.getOverlayContent().find("."+x).length;e||this._visibleSubmenu.hide()}},_getSubmenuByRootElement:function(e){if(!e)return!1;var t=e.children("."+m);return t.length&&t.data().dxSubmenu},getSubmenuPosition:function(e){var t=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),i=this.option("rtlEnabled"),r={collision:"flip",of:e};switch(n){case"leftortop":r.at="left top",r.my=t?"left bottom":"right top";break;case"rightorbottom":r.at=t?"left bottom":"right top",r.my="left top";break;default:t?(r.at=i?"right bottom":"left bottom",r.my=i?"right top":"left top"):(r.at=i?"left top":"right top",r.my=i?"right top":"left top")}return r},_renderBorderElement:function(t){e("<div>").appendTo(t).addClass(g).hide();
},_hoverStartHandler:function(t){var n,i=a.addNamespace(s.move,this.NAME),o=this._getItemElementByEventArgs(t),l=this._dataAdapter.getNodeByItem(this._getItemData(o)),u=r.isDefined(t.buttons)&&1===t.buttons||!r.isDefined(t.buttons)&&1===t.which;if(!this._isItemDisabled(o)){if(o.off(i),!this._hasChildren(l))return void setTimeout(e.proxy(this._hideSubmenuAfterTimeout,this),this._getDelay("hide"));"onHover"!==this._getShowFirstSubmenuMode()||u||(n=this._getSubmenuByElement(o),clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer),n.isOverlayVisible())||(o.on(i,e.proxy(this._itemMouseMoveHandler,this)),this._showSubmenuTimer=this._getDelay("hide"))}},_hoverEndHandler:function(t){var n=this,i=this._getItemElementByEventArgs(t);this._isItemDisabled(i)||e(t.relatedTarget).hasClass(_)||this.option("hideSubmenuOnMouseLeave")&&!e(t.relatedTarget).hasClass(p)&&(clearTimeout(this._showSubmenuTimer),clearTimeout(this._hideSubmenuTimer),this._hideSubmenuTimer=setTimeout(function(){n._hideSubmenuAfterTimeout()},n._getDelay("hide")))},_hideVisibleSubmenu:function(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1},_showSubmenu:function(e){var t=this._getSubmenuByElement(e);this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t&&t.show(),this._visibleSubmenu=t,this._hoveredRootItem=e},_hideSubmenu:function(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null},_itemMouseMoveHandler:function(t){if(!t.pointers||!t.pointers.length){var n=this,i=e(t.currentTarget);r.isDefined(this._showSubmenuTimer)&&(clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer),this._showSubmenuTimer=setTimeout(function(){var e=n._getSubmenuByElement(i);e&&!e.isOverlayVisible()&&n._showSubmenu(i)},n._getDelay("show")))}},_getSubmenuByElement:function(e,t){var n,i;return t=t||this._getItemData(e),n=this._getSubmenuByRootElement(e),n?n:(i=this._dataAdapter.getNodeByItem(t),this._hasChildren(i)&&this._renderSubmenuItems(i,e))},_updateSubmenuVisibilityOnClick:function(e){var t,n=e.args.length&&e.args[0];if(n&&!this._disabledGetter(n.itemData)){if(n.jQueryEvent.stopPropagation(),t=this._getSubmenuByElement(n.itemElement,n.itemData),this._updateSelectedItemOnClick(e),this._visibleSubmenu){if(this._visibleSubmenu===t)return void this._hideSubmenu(this._visibleSubmenu);this._hideSubmenu(this._visibleSubmenu)}if(t&&!t.isOverlayVisible())return void this._showSubmenu(n.itemElement)}},_optionChanged:function(e){if(!this._cancelOptionChange)switch(this._hideShownSubmenuOnOptionChange(e.name),e.name){case"orientation":case"submenuDirection":case"hideSubmenuOnMouseLeave":case"showFirstSubmenuMode":this._invalidate();break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"onSubmenuShowing":case"onSubmenuShown":case"onSubmenuHiding":case"onSubmenuHidden":this._initActions();break;default:this.callBase(e)}},_hideShownSubmenuOnOptionChange:function(e){"focusedElement"!==e&&this._visibleSubmenu&&this._hideSubmenu(this._visibleSubmenu)},_changeSubmenusOption:function(t,n){e.each(this._submenus,function(e,i){i.option(t,n)})},selectItem:function(e){this._hideSubmenu(this._visibleSubmenu),this.callBase(e)},unselectItem:function(e){this._hideSubmenu(this._visibleSubmenu),this.callBase(e)}})),o("dxSubmenu",n.dxMenu,A)}(jQuery,DevExpress),function(e,t,n){function i(t){var n=o.isString(t)?t:t.toString(),i=n.match(/[^a-zA-Z0-9]/g);return i&&e.each(i,function(e,t){n=n.replace(t,"_"+t.charCodeAt()+"_")}),n}var r=t.ui,o=t.require("/utils/utils.common"),a=t.require("/componentRegistrator"),s=t.require("/ui/widgets/ui.checkBox"),l=t.require("/ui/hierarchicalCollectionWidget/ui.hierarchicalCollectionWidget"),u=t.require("/ui/events/ui.events.utils"),c=t.require("/ui/events/pointer/ui.events.pointer"),d="dx-treeview",h="dx-treeview-node-container",p="dx-treeview-node-container-opened",f="dx-treeview-node",m="dx-treeview-item",g="dx-treeview-item-with-checkbox",_="dx-treeview-item-data",v="dx-treeview-node-is-leaf",y="dx-treeview-toggle-item-visibility",x="dx-treeview-toggle-item-visibility-opened",b="dx-treeview-select-all-item",w="dx-state-disabled",C="dx-state-selected",S="data-item-id",k="dxdblclick",D=e.noop;a("dxTreeView",r,l.inherit({_supportedKeys:function(){var t=function(e){var t=this.option("focusedElement");t&&(e.target=t,e.currentTarget=t,this._itemClickHandler(e,t.find(">."+m)))},n=function(e){e.preventDefault(),this._changeCheckBoxState(this.option("focusedElement"))},i=function(e,t){var n,i;this.option("expandAllEnabled")&&(t.preventDefault(),n=this.option("focusedElement"))&&(i=this._getItemData(n.find("."+m)),this._toggleExpandedNestedItems([i],e))};return e.extend(this.callBase(),{enter:this._showCheckboxes()?n:t,space:this._showCheckboxes()?n:t,asterisk:e.proxy(i,this,!0),minus:e.proxy(i,this,!1)})},_changeCheckBoxState:function(e){var t=this._getCheckBoxInstance(e),n=t.option("value");t.option("disabled")||this._updateItemSelection(!n,e.find("."+m).get(0),!0,e)},_toggleExpandedNestedItems:function(e,t){var n,i,r,o;if(e)for(n=0,i=e.length;i>n;n++)r=e[n],o=this._dataAdapter.getNodeByItem(r),this._toggleExpandedState(o,t),this._toggleExpandedNestedItems(r.items,t)},_getNodeElementById:function(e){return this.element().find("["+S+"='"+i(e)+"']")},_activeStateUnit:"."+m,_widgetClass:function(){return d},_getDefaultOptions:function(){return e.extend(this.callBase(),{animationEnabled:!0,dataStructure:"tree",expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:Globalize.localize("dxList-selectAll"),onItemSelected:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",virtualModeEnabled:!1,rootValue:0,searchValue:"",focusStateEnabled:!1,selectionMode:"multiple"})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{showCheckBoxes:{since:"15.2",message:"use 'showCheckBoxesMode' option instead"},selectAllEnabled:{since:"15.2",message:"use 'showCheckBoxesMode' option instead"}})},_initSelectedItems:e.noop,_syncSelectionOptions:e.noop,_fireSelectionChanged:function(){var t=this._selectionChangePromise;e.when(t).done(e.proxy(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()},this))},_checkBoxModeChange:function(e,t){if("none"===t||"none"===e)return void this.repaint();var n=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":n||this._renderSelectAllItem();break;case"normal":n&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}},_removeSelection:function(){var t=this;e.each(this._dataAdapter.getData(),function(e,n){t._hasChildren(n)&&t._dataAdapter.toggleSelection(n.internalFields.key,!1,!0)})},_optionChanged:function(e){var t=e.name,n=e.value,i=e.previousValue;switch(t){case"showCheckBoxes":this.option("showCheckBoxesMode",n?"normal":"none");break;case"selectAllEnabled":this.option("showCheckBoxesMode",n?"selectAll":"normal");break;case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",n);break;case"showCheckBoxesMode":this._checkBoxModeChange(n,i);break;case"scrollDirection":this._scrollableContainer.option("direction",n);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"dataStructure":case"rootValue":case"searchValue":(!n.length||e.value<e.previousValue)&&"none"!==this.option("showCheckBoxesMode")&&this._removeSelection(),this._initDataAdapter(),this.repaint();break;case"selectNodesRecursive":case"expandNodesRecursive":case"onItemSelected":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":break;default:this.callBase(e)}},_initDataSource:function(){if(this.callBase(),this._isVirtualMode()){this._customerFilters=this._dataSource.filter();var e=this._combineFilter([this.option("parentIdExpr"),this.option("rootValue")]);this._dataSource.filter(e)}},_combineFilter:function(e){if(!this._customerFilters||!this._customerFilters.length)return e;var t=[];return t.push(this._customerFilters,e),t},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this.callBase(),this._initStoreChangeHandlers(),this._initCheckBoxesMode()},_initStoreChangeHandlers:function(){if("plain"===this.option("dataStructure")){var e=this;this._dataSource&&this._dataSource.store().on("inserted",function(t){e.option().items=e.option("items").concat(t),e._dataAdapter.addItem(t),e._isFiltered(t)&&e._updateLevel(e._parentIdGetter(t))}).on("removed",function(t){var n=e._dataAdapter.getNodeByKey(t);e.option("items")[e._dataAdapter.getIndexByKey(n.internalFields.key)]=0,e._markChildrenItemsToRemove(n),e._removeItems(),e._dataAdapter.removeItem(t),e._updateLevel(e._parentIdGetter(n))})}},_markChildrenItemsToRemove:function(t){var n=this,i=t.internalFields.childrenKeys;e.each(i,function(e,t){n.option("items")[n._dataAdapter.getIndexByKey(t)]=0,n._markChildrenItemsToRemove(n._dataAdapter.getNodeByKey(t))})},_removeItems:function(){var t=this,n=0,i=e.extend(!0,[],this.option("items"));e.each(i,function(e,i){i||(t.option("items").splice(e-n,1),n++)})},_isFiltered:function(e){var t=this.option("searchValue"),n=new RegExp(t,"i");return n.test(this._displayGetter(e))},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){return e.length?e.find(" > ."+h):this._scrollableContainer.content().children()},_getContainerByParentKey:function(e){var t,n=this._findItemElementByIndex(e).parent();return this._getOldContainer(n).remove(),t=this._renderNodeContainer(n),this._isRootLevel(e)&&this._scrollableContainer.content().append(t),t},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){return["key","display","selected","expanded","items","parentId","disabled","hasItems"]},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),recursiveSelection:this.option("selectNodesRecursive"),recursiveExpansion:this.option("expandNodesRecursive"),searchValue:this.option("searchValue"),dataType:this.option("dataStructure")}},_render:function(){this._attachPointerEventHandler(),this.callBase(),this.setAria("role","tree")},_attachPointerEventHandler:function(){var t=this,n=c.down;this.element().off(n).on(n,function(n){var i=e(n.target).closest(t._activeStateUnit);i.length||n.preventDefault()})},_renderContentImpl:function(){if(this.option("items").length){var e=this._renderNodeContainer();this._renderScrollableContainer(),this._scrollableContainer.content().append(e),this._renderItems(e,this._dataAdapter.getRootNodes()),this._selectAllEnabled()&&this._renderSelectAllItem(e)}},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){this.callBase(),this._scrollableContainer&&this._scrollableContainer.content().height()>this.element().height()&&(this._scrollableContainer.update(),D())},_renderScrollableContainer:function(){this._scrollableContainer=this._createComponent(e("<div>").appendTo(this.element()),"dxScrollable",{direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(t){var n,i=e("<ul>").addClass(h);return this.setAria("role","group",i),t&&t.length&&(n=this._getItemData(t.find("> ."+m)),this._expandedGetter(n)&&i.addClass(p),i.appendTo(t)),i},_createDOMElement:function(t,n){var r=e("<li>").addClass(f).attr(S,i(n.internalFields.key)).prependTo(t);return this.setAria({role:"treeitem",label:this._displayGetter(n.internalFields.item)||"",expanded:n.internalFields.expanded||!1,level:this._getLevel(t)},r),r},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_selectAllEnabled:function(){return"selectAll"===this.option("showCheckBoxesMode")},_initCheckBoxesMode:function(){if(!this._showCheckboxes()){this._suppressDeprecatedWarnings();var e=this.option("showCheckBoxes"),t=this.option("selectAllEnabled");this._resumeDeprecatedWarnings(),this.option("showCheckBoxesMode",e?t?"selectAll":"normal":"none")}},_renderItems:function(e,t){var n,i=t.length-1;for(this._firstSelected=!1,n=i;n>=0;n--)this._renderItem(t[n],e);this._renderFocusTarget(),delete this._firstSelected},_renderItem:function(e,t){var n,i=this._createDOMElement(t,e),r=e.internalFields;this._showCheckboxes()&&this._renderCheckBox(i,e),n=this.callBase(r.key,r.item,i),this._firstSelected&&this._isSingleSelection()||this._toggleSelectedClass(i,r.selected),r.selected&&(this._firstSelected=!0),this._attachDblclickToItem(n,e),r.item.visible!==!1&&this._renderChildren(i,e)},_renderChildren:function(e,t){this._hasChildren(t)?(this._renderToggleItemVisibilityIcon(e,t),this._renderSublevel(e,t)):this._addLeafClass(e)},_hasChildren:function(e){return this._isVirtualMode()?this._hasItemsGetter(e.internalFields.item)!==!1:this.callBase(e)},_renderSublevel:function(e,t){var n,i=this._renderNodeContainer(e,t);t.internalFields.expanded&&(n=this._getChildNodes(t),this._renderItems(i,n),i.addClass(p))},_executeItemRenderAction:function(e,t,n){var i=this._dataAdapter.getNodeByItem(t);this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t,node:i})},_addLeafClass:function(e){e.addClass(v)},_attachDblclickToItem:function(e,t){var i=this,r=u.addNamespace(k,i.NAME);e.off(r).on(r,function(e){i._toggleExpandedState(t,n,e)})},_getNodeByItemElement:function(t){return o.isPrimitive(t)?this._dataAdapter.getNodeByKey(t):(t=e(t).get(0),t?t.nodeType?this._dataAdapter.getNodeByItem(this._getItemData(t)):this._dataAdapter.getNodeByItem(t):null)},_convertItemElementToNode:function(e){return!e||e.internalFields?e:this._getNodeByItemElement(e)},_toggleExpandedState:function(e,t,n){var i,r,a=this._convertItemElementToNode(e);this._isVirtualMode()&&(i=this._getNodeElementById(a.internalFields.key),this._hasChildren(a)&&this._createLoadIndicator(i)),r=a.internalFields.expanded,a.internalFields.disabled||o.isDefined(r)&&r===t||(o.isDefined(t)||(t=!r),this._dataAdapter.toggleExpansion(a.internalFields.key,t),a.internalFields.expanded=t,(!this._isVirtualMode()||this._hasChildren(a))&&this._updateExpandedItemsUI(a,t,n))},_createLoadIndicator:function(e){var t=e.find(">."+y),n=e.find(" > ."+h);t.hasClass(x)||n.not(":empty").length||(this._createComponent("<div>","dxLoadIndicator",{}).element().appendTo(e),t.hide())},_renderToggleItemVisibilityIcon:function(t,n){var i=e("<div>").addClass(y).appendTo(t);n.internalFields.expanded&&!this._isVirtualMode()&&(i.addClass(x),t.parent().addClass(p)),n.internalFields.disabled&&i.addClass(w),this._renderToggleItemVisibilityIconClick(i,n)},_renderToggleItemVisibilityIconClick:function(e,t){var i=u.addNamespace("dxclick",this.NAME),r=this;e.off(i).on(i,function(e){r._toggleExpandedState(t,n,e)})},_updateExpandedItemsUI:function(e,t,n){var i,r=this,o=r._getNodeElementById(e.internalFields.key),a=o.find(">."+y);return a.toggleClass(x,t),t?(i=o.find(" > ."+h),void r._renderNestedItems(i).done(function(i){i&&r._updateExpandedItem(e,t,n)})):void r._updateExpandedItem(e,t,n)},_updateExpandedItem:function(e,t,n){var i=this._getNodeElementById(e.internalFields.key),r=i.find(" > ."+h);this._animateNodeContainer(r,t),this.setAria("expanded",t,i),this._fireExpandedStateUpdatedEvt(t,e,n)},_animateNodeContainer:function(n,i){var r=n.height();t.fx.stop(n,!0),t.fx.animate(n,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{"max-height":i?0:r},to:{"max-height":i?r:0},start:function(){n.addClass(p)},complete:e.proxy(function(){n.css("max-height","none"),n.toggleClass(p,i),this._scrollableContainer.update()},this)})},_fireExpandedStateUpdatedEvt:function(e,t,n){var i,r=e?"onItemExpanded":"onItemCollapsed";this.option(r)&&(o.isDefined(n)?this._itemJQueryEventHandler(n,r,{node:this._dataAdapter.getPublicNode(t)}):(i=this._getNodeElementById(t.internalFields.key),this._itemEventHandler(i,r,{jQueryEvent:n,node:this._dataAdapter.getPublicNode(t)})))},_renderNestedItems:function(t){var n=e.Deferred();if(!t.is(":empty"))return n.resolve(!0).promise();if(this._isVirtualMode())this._renderVirtualNodes(t).done(function(e){n.resolve(e&&e.length)});else{var i=t.parent().find(">."+m),r=this._getNodeByItemElement(i),o=this._getChildNodes(r);this._renderItems(t,o),n.resolve(!0)}return n.promise()},_renderVirtualNodes:function(e){var t=e.parent(),n=this._getNodeByItemElement(t.find(">."+m)),i=this;return this._dataSource.filter(this._combineFilter([this.option("parentIdExpr"),n.internalFields.key])),this._dataSource.load().done(function(r){var o,a,s=i._getVirtualNodes(r);i._renderItems(e,s),s.length&&!n.internalFields.selected&&(o=s[0].internalFields.key,a=i._getNodeElementById(o),i._updateParentsState(i._dataAdapter.getNodeByKey(o),a)),i._normalizeIconState(t,s.length)})},_getVirtualNodes:function(t){var n=this,i=[];return e.each(t,function(e,t){var r=n._dataAdapter.getNodeByItem(t);r&&i.push(r)}),i},_normalizeIconState:function(e,t){var n,i=e.find(".dx-loadindicator");return i.dxLoadIndicator("instance").option("visible",!1),t?(n=e.find("."+y),void n.show()):(e.find("."+y).removeClass(y),void e.addClass(v))},_dataSourceChangedHandler:function(t){var n=e.inArray(t[0],this.option("items"))+1;return this._initialized&&this._isVirtualMode()&&!n?(this.option().items=this.option("items").concat(t),this._initDataAdapter(),this._contentAlreadyRendered||this._renderContent(),void 0):void this.option("items",t)},_renderContent:function(){this._renderEmptyMessage();var e=this.option("items");e&&e.length&&(e.length&&(this._contentAlreadyRendered=!0),this.callBase())},_renderSelectAllItem:function(t){t=t||this.element().find("."+h).first(),this._$selectAllItem=e("<div>").addClass(b);var n=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,s,{value:n,text:this.option("selectAllText"),onValueChanged:e.proxy(this._toggleSelectAll,this)}),this._toggleSelectedClass(this._$selectAllItem,n),t.before(this._$selectAllItem)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateCheckBoxes(),this._toggleSelectedClass(this.element().find("."+f),e.value),this._fireSelectionChanged()},_renderCheckBox:function(t,n){var i,r=n.internalFields.selected;t.addClass(g),this.setAria("selected",r,t),i=e("<div>").appendTo(t),this._createComponent(i,s,{value:r,onValueChanged:e.proxy(this._changeCheckboxValue,this),focusStateEnabled:!1,disabled:this._disabledGetter(n)}),r!==!1&&this._toggleSelectedClass(t,r),this._attachCheckboxClick(i,n)},_toggleSelectedClass:function(e,t){e.toggleClass(C,!!t)},_attachCheckboxClick:function(t,n){var i=u.addNamespace("dxclick",this.NAME),r=function(e){this._itemJQueryEventHandler(e,"onItemSelected",{node:this._dataAdapter.getPublicNode(n)})};t.off(i).on(i,e.proxy(r,this))},_changeCheckboxValue:function(e){var t=e.element.parent("."+f),n=this._getItemData(t.find("> ."+m)),i=this._dataAdapter.getNodeByItem(n),r=e.value;if(this._toggleSelectedClass(t,r),this.setAria("selected",r,t),i.internalFields.selected!==r){if(this._dataAdapter.toggleSelection(i.internalFields.key,r),e.jQueryEvent&&!this.option("selectNodesRecursive")&&this._fireSelectionChanged(),this._selectAllEnabled())this._$selectAllItem.dxCheckBox("instance").option("value",this._dataAdapter.isAllSelected());else if(!e.jQueryEvent||!this.option("selectNodesRecursive"))return;this._updateCheckBoxes(),this._fireSelectionChanged()}},_isSingleSelection:function(){return!this._showCheckboxes()||"single"===this.option("selectionMode")},_updateItemSelection:function(e,t,n,i){var r,o=this._getNodeByItemElement(t);o&&o.internalFields.selected!==e&&(this._isSingleSelection()&&this._toggleSelectAll({value:!1}),i||(r=this._getNodeElementById(o.internalFields.key),i=r.length&&r),this._showCheckboxes()?(i?this._getCheckBoxInstance(i).option("value",e):this._dataAdapter.toggleSelection(o.internalFields.key,e),this._updateCheckBoxes()):(this._dataAdapter.toggleSelection(o.internalFields.key,e),i&&this._toggleSelectedClass(i,e)),this._fireOnSelectedEvent(o),this._fireSelectionChanged())},_fireOnSelectedEvent:function(e){var t=this.option("onItemSelected");t&&t.call(this,{itemData:e.internalFields.item,node:this._dataAdapter.getPublicNode(e)})},_getCheckBoxInstance:function(e){return e.find("> .dx-checkbox").dxCheckBox("instance")},_updateCheckBoxes:function(){if(this._showCheckboxes()){var t=this;e.each(this._dataAdapter.getData(),function(e,n){var i,r,o=t._getNodeElementById(n.internalFields.key);o.length&&(i=t._getCheckBoxInstance(o),r=n.internalFields.selected,i.option("value")!==r)&&(i.option("value",r),t._toggleSelectedClass(o,r))})}},_updateParentsState:function(t,n){var i,r,o=this._dataAdapter.getNodeByKey(t.internalFields.parentKey);n&&this._showCheckboxes()&&(i=o.internalFields.selected,r=e(n.parents("."+f)[0]),this._getCheckBoxInstance(r).option("value",i),this._toggleSelectedClass(r,i)),o.parentId&&this._updateParentsState(o,r)},_itemEventHandlerImpl:function(t,n,i){var r=e(t).closest("."+f).find("> ."+m);return n(e.extend(this._extendActionArgs(r),i))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var n=this._getItemData(t.currentTarget),i=this._dataAdapter.getNodeByItem(n);this._itemJQueryEventHandler(t,e,{node:this._dataAdapter.getPublicNode(i)})},_itemClass:function(){return m},_itemDataKey:function(){return _},_selectionEnabled:function(){return!0},_attachClickEvent:function(){var t=this,n=t._itemSelector(),i=u.addNamespace("dxclick",t.NAME),r=u.addNamespace(c.down,this.NAME);t._itemContainer().off(i,n).off(r,n).on(i,n,function(n){t._itemClickHandler(n,e(this))}).on(r,n,e.proxy(this._itemPointerDownHandler,this))},_itemClickHandler:function(e,t){var n=this._getItemData(t),i=this._dataAdapter.getNodeByItem(n);this._itemJQueryEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(i)})},_updateSelectionToFirstItem:function(t,n){for(var i,r=n;r>=0;)i=e(t[r]),this._updateItemSelection(!0,i.find("."+m).get(0),!0,i),r--},_updateSelectionToLastItem:function(t,n){for(var i,r=n,o=t.length;o>r;)i=e(t[r]),this._updateItemSelection(!0,i.find("."+m).get(0),!0,i),r++},_focusInHandler:function(t){var n,i=t.currentTarget,r=this._focusTarget();return-1!==e.inArray(i,r)&&this._toggleFocusClass(!0,i),this.option("focusedElement")?void this._setFocusedItem(this.option("focusedElement")):(n=this._getActiveItem(),void this.option("focusedElement",n.closest("."+f)))},_setFocusedItem:function(e){e&&e.length&&(e.children().hasClass(w)||this.callBase(e),this._scrollableContainer.scrollToElement(e.find("."+m).first()))},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var n,i=e(t.target).closest("."+f);i.hasClass(f)&&(n=i.hasClass(w)?null:i,this.option("focusedElement",n))}},_findNonDisabledNodes:function(t){return t.not(function(){return e(this).find(">."+m).hasClass(w)})},_moveFocus:function(e,n){var i,r,o,a,s,l="up",u="down",c="first",d="last",p=this.option("rtlEnabled")?"right":"left",f=this.option("rtlEnabled")?"left":"right";if(this.element().find("."+h).each(function(){t.fx.stop(this,!0)}),i=this._findNonDisabledNodes(this._nodeElements()),i&&i.length)switch(e){case l:r=this._prevItem(i),this.option("focusedElement",r),n.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,r.find("."+m).get(0),!0,r);break;case u:o=this._nextItem(i),this.option("focusedElement",o),n.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,o.find("."+m).get(0),!0,o);break;case c:a=i.first(),n.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(i,i.index(this._prevItem(i))),this.option("focusedElement",a);break;case d:s=i.last(),n.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(i,i.index(this._nextItem(i))),this.option("focusedElement",s);break;case f:this._expandFocusedContainer();break;case p:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_nodeElements:function(){return this.element().find("."+f).not(":hidden")},_expandFocusedContainer:function(){var e,t,n=this.option("focusedElement");if(n&&!n.hasClass(v)){if(e=n.find("."+h).eq(0),e.hasClass(p))return void this.option("focusedElement",this._nextItem(this._findNonDisabledNodes(this._nodeElements())));t=this._getNodeByItemElement(n.find(">."+m)),this._toggleExpandedState(t,!0)}},_getClosestNonDisabledNode:function(e){do e=e.parent().closest("."+f);while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e,t,n,i=this.option("focusedElement");i&&(e=i.find("."+h).eq(0),!i.hasClass(v)&&e.hasClass(p)?(t=this._getNodeByItemElement(i.find(">."+m)),this._toggleExpandedState(t,!1)):(n=this._getClosestNonDisabledNode(i),n.length&&this.option("focusedElement",n)))},updateDimensions:function(){var t=this,n=e.Deferred();return t._scrollableContainer?t._scrollableContainer.update().done(function(){n.resolveWith(t)}):n.resolveWith(t),n.promise()},selectItem:function(e){this._updateItemSelection(!0,e)},unselectItem:function(e){this._updateItemSelection(!1,e)},expandItem:function(e){this._toggleExpandedState(e,!0)},collapseItem:function(e){this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})}}))}(jQuery,DevExpress),function(e,t){function n(t,n,i){var r=e(t),o=r.offset();return n>=o.left&&n<=o.left+r.outerWidth(!0)&&i>=o.top&&i<=o.top+r.outerHeight(!0)?!0:void 0}function i(t){var n=[];return e.each(t,function(){var t=this;e(t).is(":visible")&&n.push({pos:e(t).offset().top+e(t).outerHeight(!0)/2,item:e(t)})}),n}var r=t.ui,o=t.require("/ui/events/ui.events.utils"),a=o.addNamespace,s=t.require("/componentRegistrator"),l=t.require("/domComponent"),u="dxSortable",c="dx-sortable";s("dxSortable",r,l.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{onChanged:null,onDragging:null,itemRender:null,groupSelector:null,itemSelector:".dx-sort-item",itemContainerSelector:".dx-sortable",sourceClass:"dx-drag-source",dragClass:"dx-drag",targetClass:"dx-drag-target"})},_renderItem:function(e,t){var n,i=this.option("itemRender");return i?n=i(e,t):(n=e.clone(),n.css({width:e.width(),height:e.height()})),n},_attachEventHandlers:function(){var t,r,o,s,l,c,d,h,p,f=this,m=f.option("itemSelector"),g=f.option("itemContainerSelector"),_=f.option("groupSelector"),v=f.option("sourceClass"),y=f.option("dragClass"),x=f.option("targetClass"),b=f.option("onDragging"),w=f.element();w.off(a("dxdragstart dxdrag dxdragend dxdragenter dxdragleave dxdrop",u)).on(a("dxdragstart",u),m,function(n){t=e(n.currentTarget),l=t.offset(),l.top-=w.offset().top,l.left-=w.offset().left,r=t.index(),h=_?w.find(_):w,d=t.closest(_).attr("group"),c=f._renderItem(t,"drag").appendTo(w),o=f._renderItem(t,"target"),c.addClass(y),t.addClass(v),o.addClass(x)}).on(a("dxdrag",u),function(a){var u,f,_,y,w=[];if(t)if(c.css({top:l.top+a.offset.y,left:l.left+a.offset.x}),s&&s.removeClass(x),s=void 0,e.each(h,function(){return n(this,a.pageX,a.pageY)?(s=e(this),!1):void 0}),s&&(u={sourceGroup:d,sourceIndex:r,sourceElement:t,targetGroup:s.attr("group"),targetIndex:o.index()},b&&b(u)),u&&u.cancel&&(s=void 0),s){for(s.addClass(x),_=s.find(g),y=_.find(m),w=i(y),p=0;p<w.length;p++)if(a.pageY<w[p].pos){f=w[p]&&w[p].item;break}f?f.hasClass(v)||f.prev().hasClass(v)&&f.prev().is(":visible")?o.detach():o.insertBefore(f):y.last().is(":visible")&&y.last().hasClass(v)||o.appendTo(_)}else o.detach()}).on(a("dxdragend",u),function(){var e,n,i=f.option("onChanged");t&&(s&&(s.removeClass(x),n=t.closest(_).attr("group"),e={sourceGroup:n,sourceIndex:r,sourceElement:t,targetGroup:s.attr("group"),targetIndex:o.index(),removeSourceElement:!0},(n!==e.targetGroup||o.parent().length)&&(i&&i(e),e.removeSourceElement&&t.remove())),t.removeClass(v),c.remove(),t=null,o.removeClass(x),o=null)})},_init:function(){this.callBase(),this._attachEventHandlers()},_render:function(){this.callBase(),this.element().addClass(c)},_optionChanged:function(e){var t=this;switch(e.name){case"onDragging":case"onChanged":case"itemRender":case"groupSelector":case"itemSelector":case"itemContainerSelector":case"sourceClass":case"targetClass":case"dragClass":t._attachEventHandlers();break;default:t.callBase(e)}}}))}(jQuery,DevExpress),function(e,t){var n,i=t.ui,r=t.require("/utils/utils.string"),o=t.require("/utils/utils.browser"),a=t.require("/class"),s=t.require("/ui/ui.errors"),l=t.require("/utils/utils.console").logger,u=t.require("/utils/utils.formatHelper"),c=t.require("/utils/utils.common"),d=t.require("/componentRegistrator"),h=t.require("/ui/ui.widget"),p=".dx-row",f="Specifying grid templates with the name of a jQuery selector is now deprecated. Instead, use the jQuery object that references this selector.",m={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},dayOfWeek:function(e){return e&&e.getDay()},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}},g=["year","month","day"],_=a.inherit({_endUpdateCore:function(){},ctor:function(t){var n=this;n._updateLockCount=0,n.component=t,n._actions={},n._actionConfigs={},e.each(this.callbackNames()||[],function(t,i){var r=n.callbackFlags(i);n[this]=e.Callbacks(r)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,n=t._optionCache;return 1===arguments.length&&n?(e in n||(n[e]=t.option(e)),n[e]):t.option.apply(t,arguments)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=Globalize.localize(e)),t[e]):Globalize.localize(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,n){var i=n.get(0),r="role"!==e&&"id"!==e?"aria-":"";i.setAttribute?i.setAttribute(r+e,t):n.attr(r+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(t,n){var i;return c.isFunction(t)?(i=this.component._createAction(e.proxy(t,this),n),function(e){i({jQueryEvent:e})}):(this._actions[t]=this.component._createActionByOption(t,n),void(this._actionConfigs[t]=n))},executeAction:function(e,t){var n=this._actions[e];return n&&n(t)},dispose:function(){var t=this;e.each(t.callbackNames()||[],function(){t[this].empty()})}}),v=_,y=v.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),x=_.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),
this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=this.component._requireResize||e,this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_afterRender:function(){},_parentElement:function(){return this._$parent},ctor:function(t){this.callBase(t),this.renderCompleted=e.Callbacks(),this.resizeCompleted=e.Callbacks()},element:function(){return this._$element},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(t,n){var i=this._$element,r=this.isVisible();this._requireReady=!1,i||(i=this._$element=e("<div />").appendTo(t),this._$parent=t),i.toggleClass("dx-hidden",!r),r&&(this.component._optionCache={},this._renderCore(n),this.component._optionCache=void 0,this._afterRender(t),this.renderCompleted.fire())},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(){this.element().focus()}}),b=function(t,n){var i,r,o=n.modules,a=n.controllerTypes||{},l=n.viewTypes||{};n.controllerTypes||(e.each(o,function(){var t=this.controllers,n=this.name,i=this.views;t&&e.each(t,function(e,t){if(a[e])throw s.Error("E1001",n,e);if(!(t&&t.subclassOf&&t.subclassOf(v)))throw t.subclassOf(v),s.Error("E1002",n,e);a[e]=t}),i&&e.each(i,function(e,t){if(l[e])throw s.Error("E1003",n,e);if(!(t&&t.subclassOf&&t.subclassOf(x)))throw s.Error("E1004",n,e);l[e]=t})}),e.each(o,function(){var t=this.extenders;t&&(t.controllers&&e.each(t.controllers,function(e,t){a[e]&&(a[e]=a[e].inherit(t))}),t.views&&e.each(t.views,function(e,t){l[e]&&(l[e]=l[e].inherit(t))}))}),n.controllerTypes=a,n.viewTypes=l),i=function(t,n,i){var r=i.publicMethods();r&&e.each(r,function(e,r){if(!i[r])throw s.Error("E1006",n,r);if(t[r])throw s.Error("E1005",r);t[r]=function(){return i[r].apply(i,arguments)}})},r=function(n){var r={};return e.each(n,function(e,n){var o=new n(t);o.name=e,i(t,e,o),r[e]=o}),r},t._controllers=r(a),t._views=r(l)},w=function(t,n,i){i=i||[],t._controllers&&e.each(t._controllers,function(){this[n]&&this[n].apply(this,i)}),t._views&&e.each(t._views,function(){this[n]&&this[n].apply(this,i)})};d("dxDataGrid",i,h.inherit({_activeStateUnit:p,_setDefaultOptions:function(){var t=this;t.callBase(),e.each(i.dxDataGrid.modules,function(){e.isFunction(this.defaultOptions)&&t.option(this.defaultOptions())})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{"editing.editMode":{since:"15.2",alias:"editing.mode"},"editing.editEnabled":{since:"15.2",alias:"editing.allowUpdating"},"editing.insertEnabled":{since:"15.2",alias:"editing.allowAdding"},"editing.removeEnabled":{since:"15.2",alias:"editing.allowDeleting"}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return o.webkit},options:{loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}}])},_init:function(){var e=this;e.callBase(),b(e,i.dxDataGrid),w(e,"init")},_clean:e.noop,_optionChanged:function(e){var t=this;w(t,"optionChanged",[e]),e.handled||t.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_renderContentImpl:function(){var e=this;e.getView("gridView").render(e.element())},_renderContent:function(){this._renderContentImpl()},_getTemplate:function(t){var n=t;return c.isString(n)&&"#"===n[0]&&(n=e(t),l.warn(f)),this.callBase(n)},_dispose:function(){var e=this;e.callBase(),w(e,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){var e=this;e.callBase(),w(e,"beginUpdate")},endUpdate:function(){var e=this;w(e,"endUpdate"),e.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.callBase(),c.isDefined(e)&&this.getController("keyboardNavigation").focus(e)}})),n=3,e.extend(i.dxDataGrid,function(){var o=function(){var e,t,n=arguments[1],i=this.calculateCellValue(n);return c.isDefined(i)?"date"===this.dataType?(t=arguments[0],m[t](i)):"number"===this.dataType?(e=arguments[0],Math.floor(Number(i)/e)*e):void 0:null},a=function(t){return c.isDate(t)?[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()]:e.map((""+t).split("/"),function(e,t){return 1===t?Number(e)-1:Number(e)})},s=function(e,t,n){var r,o,s=this,l=d(s,n),u=a(e),c=i.dxDataGrid.getGroupInterval(s)[u.length-1];switch(c){case"year":r=new Date(u[0],0,1),o=new Date(u[0]+1,0,1);break;case"month":r=new Date(u[0],u[1],1),o=new Date(u[0],u[1]+1,1);break;case"quarter":r=new Date(u[0],3*u[1],1),o=new Date(u[0],3*u[1]+3,1);break;case"hour":r=new Date(u[0],u[1],u[2],u[3]),o=new Date(u[0],u[1],u[2],u[3]+1);break;case"minute":r=new Date(u[0],u[1],u[2],u[3],u[4]),o=new Date(u[0],u[1],u[2],u[3],u[4]+1);break;case"second":r=new Date(u[0],u[1],u[2],u[3],u[4],u[5]),o=new Date(u[0],u[1],u[2],u[3],u[4],u[5]+1);break;default:r=new Date(u[0],u[1],u[2]),o=new Date(u[0],u[1],u[2]+1)}switch(t){case"<":return[l,"<",r];case"<=":return[l,"<",o];case">":return[l,">=",o];case">=":return[l,">=",r];case"<>":return[[l,"<",r],"or",[l,">=",o]];default:return[[l,">=",r],"and",[l,"<",o]]}},l=function(e,t,n){var r,o,a,s=this,l=d(s,n),u=(""+e).split("/"),h=Number(u[u.length-1]),p="exclude"===s.filterType,f=i.dxDataGrid.getGroupInterval(s);return"headerFilter"===n&&f&&c.isDefined(e)?(r=f[u.length-1],o=[l,p?"<":">=",h],a=[l,p?">=":"<",h+r],[o,p?"or":"and",a]):[l,t||"=",e]},d=function(e,t){var n=e.dataField||e.selector;return"search"===t&&(n=e.displayField||e.calculateDisplayValue||n),n},h=function(e){var t=this,n=t.dataField;return c.isArray(e)&&c.isDefined(e[0])&&c.isDefined(e[1])?[[n,">=",e[0]],"and",[n,"<=",e[1]]]:void 0};return{__internals:{},modules:[],View:x,ViewController:y,Controller:v,registerModule:function(e,t){for(var n=this.modules,i=0;i<n.length;i++)if(n[i].name===e)return;t.name=e,n.push(t),delete this.controllerTypes,delete this.viewTypes},unregisterModule:function(t){this.modules=e.grep(this.modules,function(e){return e.name!==t}),delete this.controllerTypes,delete this.viewTypes},processModules:b,formatValue:function(e,t){var n=u.format(e,t.format,t.precision)||e&&e.toString()||"",i={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(n):n,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,i):i.valueText},getDisplayValue:function(e,t,n,i){return e.displayValueMap&&void 0!==e.displayValueMap[t]?e.displayValueMap[t]:e.calculateDisplayValue&&n&&"group"!==i?e.calculateDisplayValue(n):e.lookup?e.lookup.calculateCellValue(t):t},getGroupRowSummaryText:function(e,t){for(var n,r="(",o=0;o<e.length;o++)n=e[o],r+=(o>0?", ":"")+i.dxDataGrid.getSummaryText(n,t);return r+=")"},getSummaryText:function(e,t){var n=e.displayFormat||e.columnCaption&&t[e.summaryType+"OtherColumn"]||t[e.summaryType];return this.formatValue(e.value,{format:e.valueFormat,precision:e.precision,getDisplayFormat:function(t){return n?r.format(n,t,e.columnCaption):t},customizeText:e.customizeText})},equalKeys:function(e,t,r){var o,a;if(r=r||0,n>r){if(c.isObject(e)&&c.isObject(t)){for(o in e)if(e.hasOwnProperty(o)&&!i.dxDataGrid.equalKeys(e[o],t[o],r+1))return!1;for(o in t)if(!(o in e))return!1;return!0}if(c.isArray(e)&&c.isArray(t)){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(!i.dxDataGrid.equalKeys(e[a],t[a],r+1))return!1;return!0}return c.isDate(e)&&c.isDate(t)?e.getTime()===t.getTime():e===t}return!0},getIndexByKey:function(e,t,n){var r,o,a=-1;if(c.isArray(t))for(n=arguments.length<=2&&"key"||n,o=0;o<t.length;o++)if(r=c.isDefined(n)?t[o][n]:t[o],i.dxDataGrid.equalKeys(e,r)){a=o;break}return a},normalizeSortingInfo:function(e){e=e||[];for(var n=t.data.utils.normalizeSortingInfo(e),i=0;i<e.length;i++)e&&e[i]&&void 0!==e[i].isExpanded&&(n[i].isExpanded=e[i].isExpanded),e&&e[i]&&void 0!==e[i].groupInterval&&(n[i].groupInterval=e[i].groupInterval);return n},getFormatByDataType:function(e){switch(e){case"date":return"shortDate"}},defaultCalculateFilterExpression:function(e,t,n){var i=this,r=d(i,n),o=i.calculateDisplayValue&&"search"===n,a=o&&i.lookup&&i.lookup.dataType||i.dataType,u=null;if("headerFilter"===n&&null===e)u=[r,t||"=",null],"string"===a&&(u=[u,"="===t?"or":"and",[r,t||"=",""]]);else if("string"!==a||i.lookup&&!o){if("between"===t)return h.apply(i,arguments);if("date"===a&&c.isDefined(e))return s.apply(i,arguments);if("number"===a)return l.apply(i,arguments);"object"!==a&&(u=[r,t||"=",e])}else u=[r,t||"contains",e];return u},getGroupDataSourceParameters:function(t,n){var i=[],r=t.dataField||t.name,a=this.getGroupInterval(t);return t.calculateGroupValue?n?[{selector:t.calculateGroupValue,isExpanded:!1}]:e.proxy(t.calculateGroupValue,t):a?(e.each(a,function(a,s){i.push(n?{selector:r,groupInterval:s,isExpanded:!1}:e.proxy(o,t,s))}),i):n?[{selector:r,isExpanded:!1}]:function(e){var n=t.calculateCellValue(e);return(void 0===n||""===n)&&(n=null),n}},getGroupInterval:function(t){var n,i=[],r=["year","month","day","hour","minute","second"],o=t.headerFilter&&t.headerFilter.groupInterval,a="quarter"===o?"month":o;return"date"===t.dataType?(i=g,n=e.inArray(a,r),n>=0?(i=r.slice(0,n),i.push(o),i):i):c.isDefined(o)?c.isArray(o)?o:[o]:void 0},getKeyHash:function(e){if(c.isObject(e)||c.isArray(e))try{return JSON.stringify(e)}catch(t){return e}return e}}}())}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=t.require("/ui/ui.errors"),o=t.require("/utils/utils.browser"),a=t.require("/utils/utils.storage"),s=t.require("/utils/utils.common"),l=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,u=function(t){t&&e.each(t,function(n,i){var r;e.isPlainObject(i)||e.isArray(i)?u(i):"string"==typeof i&&(r=l.exec(i),r&&(t[n]=new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6]))))})},c=function(t){var n=t.getController("columns"),r=t.getController("selection"),o=t.getController("export"),a=t.getController("data"),s=t.getView("pagerView");n&&n.columnsChanged.add(function(){var r=n.getUserState(),o=i.getKeyHash(r),a=i.getKeyHash(t._state.columns);i.equalKeys(a,o)||(e.extend(t._state,{columns:r}),t.isEnabled()&&t.save())}),r&&r.selectionChanged.add(function(n){e.extend(t._state,{selectedRowKeys:n}),t.isEnabled()&&t.save()}),a&&(t._initialPageSize=t.option("paging.pageSize"),a.changed.add(function(){e.extend(t._state,{searchText:t.option("searchPanel.text"),pageIndex:a.pageIndex(),pageSize:a.pageSize(),allowedPageSizes:s?s.getPageSizes():void 0}),t.isEnabled()&&t.save()})),o&&o.selectionOnlyChanged.add(function(){e.extend(t._state,{exportSelectionOnly:o.selectionOnly()}),t.isEnabled()&&t.save()})},d=function(e,t){var n=t.allowedPageSizes,i=t.searchText,r=t.selectedRowKeys,o=e.getController("export"),a=e.getController("columns"),s=e.option("scrolling.mode");e.component.beginUpdate(),a&&a.setUserState(t.columns),o&&o.selectionOnly(t.exportSelectionOnly),e.option("selectedRowKeys",r||[]),n&&"auto"===e.option("pager.allowedPageSizes")&&(e.option("pager").allowedPageSizes=n),e.option("searchPanel.text",i||""),e.option("paging.pageSize","virtual"!==s&&"infinite"!==s&&t.pageSize?t.pageSize:e._initialPageSize),e.option("paging.pageIndex",t.pageIndex||0),e.component.endUpdate()};i.StateStoringController=i.ViewController.inherit(function(){var t=function(e){var t="sessionStorage"===e.type?a.sessionStorage():localStorage;if(!t)throw"file:"===window.location.protocol&&o.msie?new Error("E1038"):new Error("E1007");return t},n=function(e){return s.isDefined(e.storageKey)?e.storageKey:"storage"};return{_loadState:function(){var e=this.option("stateStoring");if("custom"===e.type)return e.customLoad&&e.customLoad();try{return JSON.parse(t(e).getItem(n(e)))}catch(i){r.log(i.message)}},_saveState:function(e){var i=this.option("stateStoring");if("custom"===i.type)return void(i.customSave&&i.customSave(e));try{t(i).setItem(n(i),JSON.stringify(e))}catch(r){}},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var t=this;return t._state={},t._isLoaded=!1,t._isLoading=!1,t._windowUnloadHandler=function(){void 0!==t._savingTimeoutID&&t._saveState(t.state())},e(window).on("unload",t._windowUnloadHandler),t},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var t,n=this;return n._isLoading=!0,t=n._loadState(),t&&e.isFunction(t.done)||(t=e.Deferred().resolve(t)),t.done(function(e){n._isLoaded=!0,n._isLoading=!1,n.state(e)}),t},state:function(t){var n=this;return arguments.length?(n._state=e.extend({},t),void u(n._state)):e.extend(!0,{},n._state)},save:function(){var e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout(function(){e._saveState(e.state()),e._savingTimeoutID=void 0},e.option("stateStoring.savingTimeout"))},optionChanged:function(e){var t=this;switch(e.name){case"stateStoring":t.isEnabled()&&t.isLoaded()&&t.load(),e.handled=!0;break;default:t.callBase(e)}},dispose:function(){clearTimeout(this._savingTimeoutID),e(window).off("unload",this._windowUnloadHandler)}}}()),i.registerModule("stateStoring",{defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:n.dxDataGrid.StateStoringController},extenders:{controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),c(this)},state:function(t){var n=this.callBase.apply(this,arguments);return void 0!==t&&d(this,e.extend({},t)),n}},columns:{getVisibleColumns:function(){var e=this.callBase(),t=this.getController("stateStoring");return t.isEnabled()&&!t.isLoaded()?[]:e}},data:{_refreshDataSource:function(){var e=this,t=e.callBase,n=e.getController("stateStoring");n.isEnabled()&&!n.isLoaded()?(clearTimeout(e._restoreStateTimeoutID),e._restoreStateTimeoutID=setTimeout(function(){n.load().always(function(){e._restoreStateTimeoutID=null,t.call(e)})})):e._restoreStateTimeoutID||t.call(e)},isLoading:function(){var e=this,t=e.getController("stateStoring");return this.callBase()||t.isLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}}}}})}(jQuery,DevExpress),function(e,t,n){var i,r=t.ui,o=t.require("/ui/ui.errors"),a=r.dxDataGrid,s=a.normalizeSortingInfo,l=t.require("/utils/utils.array").normalizeIndexes,u=t.require("/utils/utils.object"),c=t.require("/utils/utils.inflector"),d=t.require("/utils/utils.date"),h=t.require("/utils/utils.common"),p=t.require("/utils/utils.knockout"),f=t.data.utils,m=h.isDefined,g=["filterValues","filterType","fixed","fixedPosition"],_=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","sortIndex","groupIndex","filterValue","selectedFilterOperation"].concat(g),v="dx-command-expand";a.checkChanges=function(e,t){for(var n=0,i=0;i<t.length;i++)e[t[i]]&&n++;return e.length&&e.length===n},i=a.Controller.inherit(function(){var i={visible:!0,showInColumnChooser:!0},r={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"]},y={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},x="group",b="columnChooser",w=function(t,n,r){var o,a;return n?(h.isString(n)&&(n={dataField:n}),n.command?e.extend(!0,{},n):(o=t.getCommonSettings(),r&&r.name&&r.dataField&&(n=e.extend({},n,{dataField:r.dataField})),a=t._createCalculatedColumnOptions(n),e.extend(!0,{},i,o,a,n,{selector:null}))):void 0},C=function(t,n){var i=[];return n&&e.each(n,function(e,n){var r=t._columnsUserState&&F(n,t._columnsUserState[e])&&t._columnsUserState[e],o=w(t,n,r);o&&i.push(o)}),i},S=function(t){var i=e.type(t);return"string"!==i&&"boolean"!==i&&"number"!==i&&"date"!==i&&"object"!==i&&(i=n),i},k=function(e,t){switch(e){case"date":return d.getDateSerializationFormat(t);case"number":if(h.isString(t))return"string"}},D=function(e,t){e.deserializeValue||("date"===t&&(e.deserializeValue=function(e){return d.deserializeDate(e,this.serializationFormat)},e.serializeValue=function(e){return d.serializeDate(e,this.serializationFormat)}),"number"===t&&(e.deserializeValue=function(e){return h.isDefined(e)?Number(e):e},e.serializeValue=function(e){return h.isDefined(e)&&"string"===this.serializationFormat?e.toString():e}))},T=function(e,t){switch(e){case"number":return"right";case"boolean":return"center";default:return h.getDefaultAlignment(t)}},E=function(e){return"boolean"===e?function(e){return e.value===!0?this.trueText||"true":e.value===!1?this.falseText||"false":e.valueText||""}:void 0},I=function(e,t){for(var n,i,r=B(t),o={},a=[],s=0;s<r.length;s++)if(r[s])for(n in r[s])o[n]=!0;for(n in o)0!==n.indexOf("__")&&(i=w(e,n),a.push(i));return a},A=a.equalSortParameters=function(t,n,i){var r;if(t=s(t),n=s(n),e.isArray(t)&&e.isArray(n)){if(t.length!==n.length)return!1;for(r=0;r<t.length;r++)if(t[r].selector!==n[r].selector||t[r].desc!==n[r].desc||t[r].groupInterval!==n[r].groupInterval||!i&&Boolean(t[r].isExpanded)!==Boolean(n[r].isExpanded))return!1;return!0}return(!t||!t.length)==(!n||!n.length)},$=a.equalFilterParameters=function(t,n){var i;if(e.isArray(t)&&e.isArray(n)){if(t.length!==n.length)return!1;for(i=0;i<t.length;i++)if(!$(t[i],n[i]))return!1;return!0}return e.isFunction(t)&&t.columnIndex>=0&&e.isFunction(n)&&n.columnIndex>=0?t.columnIndex===n.columnIndex:f.toComparable(t)===f.toComparable(n)},B=function(e){var t,n=[],i=function(e,t){var n,r;if(!e||!t)return e;for(n=0;n<e.length;n++)if(r=i(e[n].items||e[n].collapsedItems,t-1),r&&r.length)return r};return e&&e.items().length>0&&(t=s(e.group()).length,n=i(e.items(),t)||[]),n},O=function(t){e.each(t._columns,function(e,t){t.index=e}),e.each(t._commandColumns,function(e,t){t.index=-(e+1)})},P=function(e,t){l(e._columns,"groupIndex",t,function(e){var t=e.grouped;return delete e.grouped,t})},M=function(t,n){e.each(t._columns,function(e,t){m(t.sortIndex)&&!q(t.sortOrder)&&delete t.sortIndex}),l(t._columns,"sortIndex",n,function(e){return!m(e.groupIndex)&&q(e.sortOrder)})},R=function(e,t){l(e._columns,"visibleIndex",t)},V=function(e,t,n){var i=n===x?e.getGroupColumns():n===b?e.getChooserColumns():e.getVisibleColumns(),r=i[t];return r&&m(r.index)?r.index:-1},L=function(e,t,n){var i,r=e.getGroupColumns();if(n>=0)for(i=0;i<r.length;i++)r[i].groupIndex>=n&&r[i].groupIndex++;else for(n=0,i=0;i<r.length;i++)n=Math.max(n,r[i].groupIndex+1);t.groupIndex=n},F=function(e,t){return e&&t&&t.name===e.name&&(t.dataField===e.dataField||e.name)},z=function(t){function n(t,n){var i,r;if(n)for(r=0;r<_.length;r++)i=_[r],e.inArray(i,l)>=0||("dataType"===i?t[i]=t[i]||n[i]:e.inArray(i,g)>=0?i in n&&(t[i]=n[i]):t[i]=n[i])}function i(e,t){for(var n=t.name||t.dataField,i=c[n]||0,r=0;r<e.length;r++)if(F(t,e[r])){if(!i)return c[n]=c[n]||0,c[n]++,r;i--}return-1}var r,o,a,s=t._columnsUserState,l=t._ignoreColumnOptionNames||[],u=t._columns,c={},d=[];if(s){for(a=0;a<u.length;a++)r=u[a],o=i(s,r,a),r=e.extend({},r),n(r,s[o]),o>=0&&m(s[o].initialIndex)?d[o]=r:d.push(r);N(t,d)}},H=function(e,t){O(e),P(e,t),M(e,t),R(e,t)},N=function(e,t){e._columns=t,e._visibleColumns=n,e.updateColumnDataTypes()},j=function(e,t,i,r){var o,a,s=e._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:r};i=i||"all",o=s.changeTypes,t&&!o[t]&&(o[t]=!0,o.length++),a=s.optionNames,i&&!a[i]&&(a[i]=!0,a.length++),(r===n||r!==s.columnIndex)&&delete s.columnIndex,e._columnChanges=s,e._visibleColumns=n},W=function(t){var i=t.option("onColumnsChanging"),r=t._columnChanges;t.isInitialized()&&!t._updateLockCount&&r&&(i&&(t._updateLockCount++,i(e.extend({component:t.component},r)),t._updateLockCount--),t._columnChanges=n,r.optionNames&&(r.optionNames.dataField||r.optionNames.lookup)?t.reinit():(t.columnsChanged.firing=!0,t.columnsChanged.fire(r),t.columnsChanged.firing=!1))},G=function(t,n,i,r,o){var a,s,l,u=f.compileGetter(i),c=n.index;return 3===arguments.length?u(n,{functionsAsIs:!0}):void(u(n,{functionsAsIs:!0})!==r&&(l="groupIndex"===i?"grouping":"sortIndex"===i||"sortOrder"===i?"sorting":"columns",a=f.compileSetter(i),a(n,r,{functionsAsIs:!0}),o||(e.inArray(i,_)<0&&"visibleWidth"!==i&&(s=t.option("columns"),n=s&&s[c],h.isString(n)&&(n=s[c]={dataField:n}),n&&a(n,r,{functionsAsIs:!0})),j(t,l,i,c))))},q=function(e){return"asc"===e||"desc"===e},U=function(e){e.addCommandColumn({command:"expand",width:"auto",cssClass:v,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1})},Y=function(e,t){var n,i,r=this.dataField.split("."),o=r.length-1;for(this.serializeValue&&(t=this.serializeValue(t)),i=0;o>i;i++)n=r[i],e=e[n]=e[n]||{};e[r[o]]=t};return{_endUpdateCore:function(){W(this)},init:function(){var e=this,t=e.option("columns");e._commandColumns=e._commandColumns||[],e._columns=e._columns||[],U(e),e._isColumnsFromOptions=!!t,e._isColumnsFromOptions?(N(e,t?C(e,t):[]),z(e)):N(e,e._columnsUserState?C(e,e._columnsUserState):e._columns),e._dataSourceApplied?e.applyDataSource(e._dataSource,!0):H(e)},callbackNames:function(){return["columnsChanged"]},optionChanged:function(e){switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"columns":e.handled=!0,this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init();break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"editing":e.handled=!0,this.reinit();break;case"rtlEnabled":this.reinit();break;default:this.callBase(e)}},publicMethods:function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping"]},applyDataSource:function(e,t){var n=this,i=e&&e.isLoaded();return n._dataSource=e,(!n._dataSourceApplied||0===n._dataSourceColumnsCount||t||n.option("regenerateColumnsByVisibleItems"))&&i?(n._isColumnsFromOptions||(N(n,I(n,e)),n._dataSourceColumnsCount=n._columns.length,z(n)),n.updateColumns(e,t)):void 0},reset:function(){this._dataSourceApplied=!1,this._dataSourceColumnsCount=n,this.reinit()},reinit:function(){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=null,this.init()},isInitialized:function(){return!!this._columns.length||!!this.option("columns")},isDataSourceApplied:function(){return this._dataSourceApplied},getCommonSettings:function(){var t=this.option("commonColumnSettings")||{},n=this.option("grouping")||{},i=this.option("groupPanel")||{};return e.extend({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing"),allowReordering:this.option("allowColumnReordering"),autoExpandGroup:n.autoExpandAll,allowCollapsing:n.allowCollapsing,allowGrouping:i.allowColumnDragging&&i.visible},t)},isColumnOptionUsed:function(e){for(var t=0;t<this._columns.length;t++)if(this._columns[t][e])return!0},isAllDataTypesDefined:function(){var e,t=this._columns;if(!t.length)return!1;for(e=0;e<t.length;e++)if(!t[e].dataType)return!1;return!0},getColumns:function(){return this._columns},getGroupColumns:function(){var t=[];return e.each(this._columns,function(){var e=this;m(e.groupIndex)&&(t[e.groupIndex]=e)}),t},getVisibleColumns:function(){return this._visibleColumns=this._visibleColumns||this._getVisibleColumnsCore()},getFixedColumns:function(){var t,n,i=this,r=[],o=i._isColumnFixing(),a=0;return o&&(n=i.getVisibleColumns(),e.each(n,function(e,n){n.command||n.fixed||(a++,m(t)||(t=e))}),a<n.length&&(r=n.slice(0),a>0&&r.splice(t,a,{command:"transparent",colspan:a}))),r},_isColumnFixing:function(){var t=this.option("columnFixing.enabled");return t||e.each(this._columns,function(e,n){return n.fixed?(t=!0,!1):void 0}),t},_getExpandColumnsCore:function(){return this.getGroupColumns()},getExpandColumns:function(){var t,n=this._getExpandColumnsCore();return n.length&&(t=this.columnOption("command:expand")),n=e.map(n,function(n){return e.extend({},n,{visibleWidth:"auto"},t,{index:n.index})})},_getVisibleColumnsCore:function(){var t,n=this.getExpandColumns(),i=[{},{},{}],r={},o=0,a=this.option("rtlEnabled"),s=this._columns.length?this._commandColumns.concat(this._columns):[];return e.each(s,function(){var n,s=this,l=s.visibleIndex;s.visible&&(!m(s.groupIndex)||s.showWhenGrouped)&&(s=e.extend(!0,{},s),0>l?(l=-l,n=r):s.fixed||s.command?(t="right"===s.fixedPosition,a&&(t=!t),n=t||s.command?i[2]:i[0]):n=i[1],n[l]=n[l]||[],n[l].push(s),o++)}),u.orderEach(r,function(e,t){n.unshift.apply(n,t)}),e.each(i,function(e,t){u.orderEach(t,function(e,t){n.push.apply(n,t)})}),!o&&this._columns.length&&n.push({command:"empty"}),n},getHiddenColumns:function(){var t=[];return e.each(this._columns,function(e,n){n.visible||t.push(n)}),t},getChooserColumns:function(){return e.grep(this.getHiddenColumns(),function(e){return e.showInColumnChooser})},allowMoveColumn:function(e,t,n,i){var r=this,o=V(r,e,n),a=r._columns[o];return a&&(a.allowReordering||a.allowGrouping||a.allowHiding)?n===i?n===b?!1:e!==t&&e+1!==t:n===x&&i!==b||i===x?a&&a.allowGrouping:n===b||i===b?a&&a.allowHiding:!0:!1},moveColumn:function(e,t,i,r){var o,a,s,l,u,c=this,d=i===x||r===x;o=V(c,e,i),a=V(c,t,r),o>=0&&(l=c._columns[o],s=a>=0?c._columns[a].groupIndex:-1,m(l.groupIndex)&&i===x&&(s>l.groupIndex&&s--,delete l.groupIndex,delete l.sortOrder,P(c)),r===x?(L(c,l,s),P(c)):t>=0&&(0>a?l.visibleIndex=n:(u=c._columns[a],l.visibleIndex=l.fixed^u.fixed?n:u.visibleIndex),R(c,l)),l.visible=r!==b,j(c,d?"grouping":"columns"),W(c))},changeSortOrder:function(t,n){var i=this,r=i.option("sorting"),o=r&&r.mode,a="single"===o||!n,s="single"===o||"multiple"===o,l=i._columns[t],u=function(e){if("ctrl"===n){if(!("sortOrder"in e&&"sortIndex"in e))return!1;delete e.sortOrder,delete e.sortIndex}else e.sortOrder=m(e.groupIndex)||m(e.sortIndex)?"desc"===e.sortOrder?"asc":"desc":"asc";return!0},c=!1;s&&l&&l.allowSorting&&(a&&!m(l.groupIndex)&&e.each(i._columns,function(e){e!==t&&this.sortOrder&&!m(this.groupIndex)&&(delete this.sortOrder,delete this.sortIndex,c=!0)}),q(n)?l.sortOrder!==n&&(l.sortOrder=n,c=!0):"none"===n?l.sortOrder&&(delete l.sortIndex,delete l.sortOrder,c=!0):c=u(l)),c&&(M(i),j(i,"sorting"),W(i))},getSortDataSourceParameters:function(t){var n=this,i=[],r=[];return e.each(n._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&m(this.sortIndex)&&!m(this.groupIndex)&&(i[this.sortIndex]=this)}),e.each(i,function(){var e=this&&this.sortOrder;q(e)&&r.push({selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||t&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder})}),r.length>0?r:null},getGroupDataSourceParameters:function(t){var n=[];return e.each(this.getGroupColumns(),function(){var e=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||t&&this.selector||this.dataField||this.calculateCellValue;e&&n.push({selector:e,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup})}),n.length>0?n:null},refresh:function(t){var n=[];return e.each(this._columns,function(){var e=this.lookup;if(e&&!this.calculateDisplayValue){if(t&&e.valueMap)return;e.update&&n.push(e.update())}}),e.when.apply(e,n)},updateColumnDataTypes:function(t){var n=B(t),i=this.option("rtlEnabled");e.each(this._columns,function(t,o){var s,l,u,c,d,p=o.lookup;if(o.calculateCellValue&&n.length){if(!o.dataType||p&&!p.dataType){for(s=0;s<n.length;s++)l=o.calculateCellValue(n[s]),d=o.dataType||S(l),u=u||d,u&&d&&u!==d&&(u="string"),p&&(d=p.dataType||S(a.getDisplayValue(o,l,n[s])),c=c||d,c&&d&&c!==d&&(c="string"));o.dataType=u,p&&(p.dataType=c)}if(!o.serializationFormat||p&&!p.serializationFormat)for(s=0;s<n.length;s++)l=o.calculateCellValue(n[s],!0),o.serializationFormat=o.serializationFormat||k(o.dataType,l),p&&(p.serializationFormat=p.serializationFormat||k(p.dataType,p.calculateCellValue(l,!0)))}o.selector=o.selector||function(e){return o.calculateCellValue(e)},e.each(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],function(e,t){var n=o[t];h.isFunction(n)&&!n.isProxy&&(o[t]=function(e){return n.call(o,e)},o[t].isProxy=!0)}),h.isString(o.calculateDisplayValue)&&(o.displayField=o.calculateDisplayValue,o.calculateDisplayValue=f.compileGetter(o.displayField)),o.calculateDisplayValue&&(o.displayValueMap=o.displayValueMap||{}),D(o,o.dataType),p&&D(p,p.dataType),u=p?p.dataType:o.dataType,u&&(o.alignment=o.alignment||T(u,i),o.format=o.format||a.getFormatByDataType(u),o.customizeText=o.customizeText||E(u),m(o.filterOperations)||(o.filterOperations=!p&&r[u]||[]),o.defaultFilterOperation=o.filterOperations&&o.filterOperations[0]||"=",o.defaultSelectedFilterOperation=o.selectedFilterOperation,o.showEditorAlways=m(o.showEditorAlways)?o.showEditorAlways:"boolean"===u&&!o.cellTemplate)})},_customizeColumns:function(e){var t=this,n=t.option("customizeColumns");n&&(n(e),N(t,C(t,e)))},updateColumns:function(t,n){var i,r,o=this;return n||o.updateSortingGrouping(t),!t||t.isLoaded()?(i=t?t.sort()||[]:o.getSortDataSourceParameters(),r=t?t.group()||[]:o.getGroupDataSourceParameters(),o._customizeColumns(o._columns),H(o),e.when(o.refresh(!0)).always(function(){t&&(o.updateColumnDataTypes(t),o._dataSourceApplied=!0),A(i,o.getSortDataSourceParameters())||j(o,"sorting"),A(r,o.getGroupDataSourceParameters())||j(o,"grouping"),j(o,"columns"),W(o)})):void 0},updateSortingGrouping:function(t,i){var r,o,a,l,u,c=this,d=function(t,i,r){var o,a,s;e.each(t,function(e,t){if(delete t[r],i)for(o=0;o<i.length;o++)if(a=i[o].selector,s=i[o].isExpanded,a===t.dataField||a===t.name||a===t.selector||a===t.calculateCellValue||a===t.calculateGroupValue){t.sortOrder=t.sortOrder||(i[o].desc?"desc":"asc"),s!==n&&(t.autoExpandGroup=s),t[r]=o;break}})};t&&(r=s(t.sort()),o=s(t.group()),a=c.getGroupDataSourceParameters(),l=c.getSortDataSourceParameters(),c._columns.length||(e.each(o,function(e,t){c._columns.push(t.selector)}),e.each(r,function(e,t){c._columns.push(t.selector)}),N(c,C(c,c._columns))),!i&&(a||c._hasUserState)||A(o,a)||(d(c._columns,o,"groupIndex"),i&&(j(c,"grouping"),u=!0)),!i&&(l||c._hasUserState)||A(r,l)||(d(c._columns,r,"sortIndex"),i&&(j(c,"sorting"),u=!0)),u&&W(c))},updateFilter:function(t,n,i){var r,o,a=this;if(!h.isArray(t))return t;for(t=e.extend([],t),i=t.columnIndex||i,n&&h.isString(t[0])?(r=a.columnOption(t[0]),r&&r.selector&&(t[0]=r.selector,t[0].columnIndex=r.index)):h.isFunction(t[0])&&(t[0].columnIndex=i),o=0;o<t.length;o++)t[o]=a.updateFilter(t[o],n,i);return t},columnCount:function(){return this._columns.length},columnOption:function(t,i,r,o){var a,s,l,u=this,c=h.isString(t)&&t.substr(0,t.indexOf(":")),d=0>t||"command"===c?u._commandColumns:u._columns;if(t!==n){for(c&&(t=t.substr(c.length+1)),a=0;a<d.length;a++)if(c){if(""+d[a][c]===t){l=d[a];break}}else if(d[a].index===t||d[a].name===t||d[a].dataField===t||d[a].caption===t){l=d[a];break}if(l){if(1===arguments.length)return e.extend({},l);if(h.isString(i)){if(2===arguments.length)return G(u,l,i);s=s||y[i],G(u,l,i,r,o)}else h.isObject(i)&&e.each(i,function(e,t){s=s||y[e],G(u,l,e,t,o)});s&&H(u,l),W(u)}}},clearSorting:function(){var e,t=this,i=this.columnCount();for(t.beginUpdate(),e=0;i>e;e++)t.columnOption(e,"sortOrder",n);t.endUpdate()},clearGrouping:function(){var e,t=this,i=this.columnCount();for(t.beginUpdate(),e=0;i>e;e++)t.columnOption(e,"groupIndex",n);t.endUpdate()},getVisibleIndex:function(e){for(var t=this.getVisibleColumns(),n=0;n<t.length;n++)if(t[n].index===e)return n;return-1},addColumn:function(e){var t=this,n=w(t,e);t._columns.push(n),H(t,n),t.updateColumns(t._dataSource)},deleteColumn:function(e){var t=this,n=t.columnOption(e,"index");n>=0&&(t._columns.splice(n,1),H(t),t.updateColumns(t._dataSource))},addCommandColumn:function(e){for(var t=this._commandColumns,n=0;n<t.length;n++)if(t[n].command===e.command)return;t.push(e);
},getUserState:function(){function t(e,t){i[o][t]!==n&&(r[o][t]=i[o][t])}for(var i=this._columns,r=[],o=0;o<i.length;o++)r[o]={},e.each(_,t);return r},setUserState:function(e){var t,n=this,i=n.option("stateStoring.ignoreColumnOptionNames");i||(i=[],t=n.getCommonSettings(),n.option("columnChooser.enabled")||i.push("visible"),"none"===n.option("sorting.mode")&&i.push("sortIndex","sortOrder"),t.allowGrouping||i.push("groupIndex"),t.allowFixing||i.push("fixed","fixedPosition"),t.allowResizing||i.push("width","visibleWidth"),n.option("filterRow.visible")||i.push("filterValue","selectedFilterOperation"),n.option("headerFilter.visible")||i.push("filterValues","filterType")),n._columnsUserState=e,n._ignoreColumnOptionNames=i,n._hasUserState=!!e,n.init()},_createCalculatedColumnOptions:function(n){var i,r={},s=n.dataField;return s?(h.isString(s)&&(i=f.compileGetter(s),r={caption:c.captionize(s),calculateCellValue:function(e,t){var n=i(e);return this.deserializeValue&&!t?this.deserializeValue(n):n},setCellValue:Y,parseValue:function(e){var t,n,i=this;return"number"===i.dataType?h.isString(e)?(n=Globalize.parseFloat(e),h.isNumber(n)&&(t=n)):h.isDefined(e)&&(t=Number(e)):"boolean"===i.dataType?e===i.trueText?t=!0:e===i.falseText&&(t=!1):"date"===i.dataType?(n=Globalize.parseDate(e),n&&(t=n)):t=e,t}}),r.allowFiltering=!0):r.allowFiltering=!!n.calculateFilterExpression,r.calculateFilterExpression=function(){return a.defaultCalculateFilterExpression.apply(this,arguments)},r.createFilterExpression=function(){var e;return this.calculateFilterExpression&&(e=this.calculateFilterExpression.apply(this,arguments)),e&&(e.columnIndex=this.index),e},s&&h.isString(s)||e.extend(!0,r,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),n.dataType&&(r.userDataType=n.dataType),n.lookup&&(r.lookup={calculateCellValue:function(e,t){return this.valueExpr&&(e=this.valueMap&&this.valueMap[e]),this.deserializeValue&&!t?this.deserializeValue(e):e},updateValueMap:function(){var e,t,n,i;if(this.valueMap={},this.items)for(e=f.compileGetter(this.valueExpr),t=f.compileGetter(this.displayExpr),i=0;i<this.items.length;i++)n=this.items[i],this.valueMap[e(n)]=t(n)},update:function(){var e,n=this,i=n.dataSource;if(i)if(h.isFunction(i)&&!p.isObservable(i)&&(i=i({})),h.isObject(i)||h.isArray(i)){if(n.valueExpr)return e=f.normalizeDataSourceOptions(i),e.paginate=!1,i=new t.data.DataSource(e),i.load().done(function(e){n.items=e,n.updateValueMap&&n.updateValueMap()})}else o.log("E1016");else n.updateValueMap&&n.updateValueMap()}}),r.resizedCallbacks=e.Callbacks(),n.resized&&r.resizedCallbacks.add(e.proxy(n.resized,n)),e.each(r,function(e){var t;h.isFunction(r[e])&&0!==e.indexOf("default")&&(t="default"+e.charAt(0).toUpperCase()+e.substr(1),r[t]=r[e])}),r}}}()),r.dxDataGrid.ColumnsController=i,a.registerModule("columns",{defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:Globalize.localize("dxDataGrid-trueText"),falseText:Globalize.localize("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,adaptColumnWidthByRatio:!0,columns:n,regenerateColumnsByVisibleItems:!1,customizeColumns:null}},controllers:{columns:i}})}(jQuery,DevExpress),function(e,t){var n=t.ui.dxDataGrid,i=t.require("/utils/utils.common"),r=t.require("/utils/utils.support"),o=t.require("/ui/events/ui.events.utils"),a=n.getKeyHash,s="dx-editor-cell",l="dx-row",u="dx-selection",c="dx-select-checkbox",d="dx-select-checkboxes-hidden",h="dx-command-select",p="dx-selection-disabled",f="dx-data-row",m="selection.showCheckBoxesMode",g="selection.mode",_=function(e){return"single"===e||"multiple"===e},v=function(t,n){var i=t.getController("selection"),r=t.getView("rowsView"),o=e(n.target).closest("."+f),a=r.getRowIndex(o);0>a||("onLongTap"===t.option(m)?i.isSelectionWithCheckboxes()?i.stopSelectionWithCheckboxes():i.startSelectionWithCheckboxes():("onClick"===t.option(m)&&i.startSelectionWithCheckboxes(),i.changeItemSelection(a,{control:!0})))};n.SelectionController=n.Controller.inherit(function(){var r=function(e,t,n){var r,o,a=n?e._unselectedItemKeys:e._selectedItemKeys;if(i.isObject(t)){for(r=0;r<a.length;r++)if(c(a[r],t))return r;return-1}return o=e._selectedItemKeyHashIndices[t],o&&o[0]>=0?o[0]:-1},o=function(e,t){var n=e.getController("data").keyOf(t),o=a(n);-1===r(e,o)&&(i.isObject(o)||(e._selectedItemKeyHashIndices[o]=[e._selectedItemKeys.length]),e._selectedItemKeys.push(n),e._addedItemKeys.push(n),e._selectedItems.push(t))},s=function(e,t){var n,o,s,l,u=a(t),c=r(e,u);if(c>=0&&(e._selectedItemKeys.splice(c,1),e._removedItemKeys.push(t),e._selectedItems.splice(c,1),!i.isObject(u)&&(s=e._selectedItemKeyHashIndices[u])))for(s.shift(),s.length||delete e._selectedItemKeyHashIndices[u],n=c;n<e._selectedItemKeys.length;n++)if(o=e._selectedItemKeyHashIndices[a(e._selectedItemKeys[n])])for(l=0;l<o.length;l++)o[l]>c&&o[l]--},l=function(e){u(e,[],[])},u=function(t,n,r){var o,s,l,u=t._selectedItemKeys;for(t._selectedItemKeys=n,t._selectedItemKeyHashIndices={},t._selectedItems=r,t._unselectedItemKeys=[],o=0;o<u.length;o++)-1===e.inArray(u[o],n)&&t._removedItemKeys.push(u[o]);for(o=0;o<n.length;o++)s=a(n[o]),i.isObject(s)||(l=t._selectedItemKeyHashIndices[s]=t._selectedItemKeyHashIndices[s]||[],l.push(o)),-1===e.inArray(n[o],u)&&t._addedItemKeys.push(n[o])},c=n.equalKeys,d=function(e){delete e._shiftFocusedItemIndex},p=function(e){return e&&"data"===e.rowType&&!e.inserted},f=function(e,t,n){var r,a,l=!1,u=e.getController("data"),c=n[e._focusedItemIndex]&&e.isRowSelected(u.keyOf(n[e._focusedItemIndex].data)),d=function(e,t,n){n?s(e,u.keyOf(t)):o(e,t)};if(i.isDefined(e._shiftFocusedItemIndex)||(e._shiftFocusedItemIndex=e._focusedItemIndex),e._shiftFocusedItemIndex!==e._focusedItemIndex)for(r=e._focusedItemIndex<e._shiftFocusedItemIndex?1:-1,a=e._focusedItemIndex;a!==e._shiftFocusedItemIndex;a+=r)p(n[a])&&(d(e,n[a].data,!0),l=!0);if(t!==e._shiftFocusedItemIndex)for(r=t<e._shiftFocusedItemIndex?1:-1,a=t;a!==e._shiftFocusedItemIndex;a+=r)p(n[a])&&(d(e,n[a].data,!1),l=!0);return p(n[e._focusedItemIndex])&&!c&&(d(e,n[e._focusedItemIndex].data,!1),l=!0),l},v=function(t,n,i){var r,o,a=t&&t.key(),s=[];return t&&(a?e.each(n,function(t,n){if(s.length>0&&s.push(i?"and":"or"),e.isArray(a)){for(r=[],o=0;o<a.length;o++)o>0&&r.push(i?"or":"and"),r.push([a[o],i?"<>":"=",n[a[o]]]);s.push(r)}else s.push([a,i?"<>":"=",n])}):s=function(e){for(var t=0;t<n.length;t++)if(c(n[t],e))return!i;return i}),s.length>0||e.isFunction(s)?s:void 0},y=function(t){var n,i,r=[],o=t.getController("data"),a=t.isSelectionWithCheckboxes();o&&(e.each(o.items(),function(e,n){p(n)&&n.isSelected!==t.isRowSelected(n.key)&&r.push(e)}),"onClick"===t.option(m)&&(t._selectedItemKeys.length>1?t.startSelectionWithCheckboxes():0===t._selectedItemKeys.length&&t._removedItemKeys.length&&t.stopSelectionWithCheckboxes()),(r.length||a!==t.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:r}),n=t._addedItemKeys,i=t._removedItemKeys,(n.length||i.length)&&(t._selectedItemsInternalChange=!0,t.option("selectedRowKeys",t._selectedItemKeys.slice(0)),t._selectedItemsInternalChange=!1,t.selectionChanged.fire(t._selectedItemKeys),t._addedItemKeys=[],t._removedItemKeys=[],t.executeAction("onSelectionChanged",{selectedRowsData:t._selectedItems,selectedRowKeys:t._selectedItemKeys,currentSelectedRowKeys:n,currentDeselectedRowKeys:i})))},x=function(e){var t=e.getController("columns"),n=e.isSelectColumnVisible();t.addCommandColumn({command:"select",visible:n,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:h,width:"auto"}),t.columnOption("command:select","visible",n)};return{init:function(){var e=this;e._isSelectionWithCheckboxes=!1,e._focusedItemIndex=-1,e._selectedItemKeys=[],e._selectedItemKeyHashIndices={},e._unselectedItemKeys=[],e._selectedItems=[],e._addedItemKeys=[],e._removedItemKeys=[],x(e),e.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},callbackNames:function(){return["selectionChanged"]},optionChanged:function(e){var t=this;switch(t.callBase(e),e.name){case"selection":t.init(),t.getController("columns").updateColumns(),e.handled=!0;break;case"selectedRowKeys":i.isArray(e.value)&&!t._selectedItemsInternalChange&&t.selectRows(e.value),e.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(e){var t=a(e),n=r(this,t);return-1!==n},isSelectColumnVisible:function(){var e=this.option(m);return"multiple"===this.option(g)&&("always"===e||"onClick"===e||this._isSelectionWithCheckboxes)},isSelectAll:function(){var e,n=this.getController("data"),i=n.items(),r=n.getCombinedFilter(),o=this.getSelectedRowsData();if(r&&t.data.query(o).filter(r).enumerate().done(function(e){o=e}),!o.length){for(e=0;e<i.length;e++)if(i[e].selected)return;return!1}return o.length>=n.totalCount()?!0:void 0},selectAll:function(){return"onClick"===this.option(m)&&this.startSelectionWithCheckboxes(),this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(){return this.selectedItemKeys([],!0,!0,!0)},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){return this.selectedItemKeys(this.option("selectedRowKeys")||[])},selectedItemKeys:function(n,r,a,l){var c,d,h,p,f,m,g,_=this,x=_.getController("data"),b=x.dataSource(),w=b&&b.store(),C=[];if(i.isDefined(n)){if(w&&(c=e.isArray(n)?e.extend([],n):[n],c.length||l)){if(d=v(b,c,l),h=e.isFunction(d),l&&(f=x.getCombinedFilter(),a&&!f))return _.clearSelection();(d||l)&&(d&&!h&&f?(m=[],m.push(d),m.push(f)):f?m=f:d&&!h&&(m=d),p=e.Deferred(),a&&new t.data.ArrayStore(_._selectedItems).load({filter:m}).done(function(e){C=e}),g={filter:m,select:b.select()},new t.data.ArrayStore(C.length?C:b.items()).load({filter:d}).done(function(n){l||!C.length&&n.length!==c.length?b.load(g).done(function(e){new t.data.ArrayStore(e).load({filter:d}).done(p.resolve)}).fail(e.proxy(p.reject,p)):p.resolve(n)}))}return p=p||e.Deferred().resolve([]),p.done(function(e){var t,n,i,l=[];if(w&&e.length>0)for(t=0;t<e.length;t++)i=e[t],n=w.keyOf(i),r?a?s(_,n):o(_,i):l.push(n);r||u(_,l,e),y(_)}),p}return _._selectedItemKeys},getSelectedRowKeys:function(){return this.selectedItemKeys()},selectRows:function(e,t){return this.selectedItemKeys(e,t)},deselectRows:function(e){return this.selectedItemKeys(e,!0,!0)},selectRowsByIndexes:function(t){var n=this.getController("data").items(),r=[];return i.isArray(t)||(t=Array.prototype.slice.call(arguments,0)),e.each(t,function(){var e=n[this];e&&"data"===e.rowType&&r.push(e.key)}),this.selectRows(r)},getSelectedRowsData:function(){return this._selectedItems},changeItemSelection:function(e,t){var n,i,r,a=this,h=a.getController("data"),m=h.items(),v=m[e],x=v&&(v.oldData||v.data),b=a.option(g);return _(b)&&p(v)&&(r=h.keyOf(x),t=t||{},a.isSelectionWithCheckboxes()&&(t.control=!0),t.shift&&"multiple"===b&&a._focusedItemIndex>=0?n=f(a,e,m):t.control?(d(a),i=a.isRowSelected(r),"single"===b&&l(a),i?s(a,r):o(a,x),n=!0):(d(a),1===a._selectedItemKeys.length&&c(a._selectedItemKeys[0],r)||(u(a,[r],[x]),n=!0)),n)?(a._focusedItemIndex=e,y(a),!0):!1},focusedItemIndex:function(e){var t=this;return i.isDefined(e)?void(t._focusedItemIndex=e):t._focusedItemIndex},isSelectionWithCheckboxes:function(){var e=this.option(g),t=this.option(m);return"multiple"===e&&("always"===t||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){var e=this,t=e.isSelectColumnVisible();return"multiple"!==e.option(g)||e.isSelectionWithCheckboxes()?!1:(e._isSelectionWithCheckboxes=!0,x(e),t===e.isSelectColumnVisible()&&"onClick"===e.option(m)&&y(e),!0)},stopSelectionWithCheckboxes:function(){var e=this;return e._isSelectionWithCheckboxes?(e._isSelectionWithCheckboxes=!1,x(e),!0):!1}}}()),n.registerModule("selection",{defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0},selectedRowKeys:[]}},controllers:{selection:n.SelectionController},extenders:{controllers:{data:{setDataSource:function(e){this.callBase(e),e&&this.getController("selection").refresh()},pageIndex:function(e){var t=this,n=t._dataSource;return n&&e&&n.pageIndex()!==e&&t.getController("selection").focusedItemIndex(-1),t.callBase(e)},_processDataItem:function(e,t){var n,i=this,r=i.getController("selection"),o=r.isSelectColumnVisible(),a=this.callBase.apply(this,arguments);if(a.isSelected=r.isRowSelected(a.key),o&&a.values)for(n=0;n<t.visibleColumns.length;n++)if("select"===t.visibleColumns[n].command){a.values[n]=a.isSelected;break}return a},refresh:function(){var t=this,n=e.Deferred();return this.callBase.apply(this,arguments).done(function(){t.getController("selection").refresh().done(n.resolve).fail(n.reject)}).fail(n.reject),n.promise()}},contextMenu:{_contextMenuPrepared:function(e){var t=e.jQueryEvent;"dxhold"!==t.originalEvent.type||e.items&&e.items.length>0||v(this,t)}}},views:{columnHeadersView:{init:function(){var t=this;t.callBase(),t.getController("selection").selectionChanged.add(e.proxy(t._updateSelectAllValue,t))},_updateSelectAllValue:function(){var e=this,t=e.element().find("."+c);"multiple"===e.option("selection.mode")&&t.length&&t.dxCheckBox("instance").option("value",e.getController("selection").isSelectAll())},_handleDataChanged:function(e){this.callBase(e),e&&"refresh"!==e.changeType||this._updateSelectAllValue()},_getDefaultTemplate:function(t){var n,i=this,r=i.getController("selection");return"select"===t.command?function(t,o){var a=o.column;"select"===a.command&&(t.addClass(s),n=e("<div />").appendTo(t).addClass(c),i.setAria("label",Globalize.localize("dxDataGrid-ariaSelectAll"),t),i.getController("editorFactory").createEditor(n,e.extend({},a,{parentType:"headerRow",value:r.isSelectAll(),editorOptions:{visible:i.option("selection.allowSelectAll")||r.isSelectAll()!==!1},tabIndex:-1,setValue:function(e,t){var n=i.option("selection.allowSelectAll");t.jQueryEvent&&r.isSelectAll()!==e&&((void 0===t.previousValue||t.previousValue)&&(r.deselectAll(),t.component.option("value",!1)),t.previousValue===!1&&(n?r.selectAll():t.component.option("value",!1)),t.jQueryEvent.preventDefault()),t.component.option("visible",n||t.component.option("value")!==!1)}})),t.on("dxclick",i.createAction(function(t){var n=t.jQueryEvent;e(n.target).closest("."+c).length||e(n.currentTarget).children().trigger("dxclick"),n.preventDefault()})))}:i.callBase(t)}},rowsView:{_getDefaultTemplate:function(t){var n,i=this;return"select"===t.command?function(r,o){"data"!==o.rowType||o.row.inserted||(r.addClass(s),r.on("dxclick",i.createAction(function(t){var n=i.getController("selection"),r=t.jQueryEvent,o=i.getRowIndex(e(r.currentTarget).closest("."+l));o>=0&&(n.startSelectionWithCheckboxes(),n.changeItemSelection(o,{shift:r.shiftKey}))})),i.setAria("label",Globalize.localize("dxDataGrid-ariaSelectRow"),r),n=e("<div />").addClass(c).appendTo(r),i.getController("editorFactory").createEditor(n,e.extend({},t,{parentType:"dataRow",value:o.value,tabIndex:-1,setValue:function(e,t){t&&t.jQueryEvent&&"keydown"===t.jQueryEvent.type&&r.trigger("dxclick",t)}})))}:i.callBase(t)},_update:function(t){var n=this,i=n.getTableElements();"updateSelection"===t.changeType?i.length>0&&(e.each(i,function(i,r){e.each(t.itemIndexes||[],function(i,o){var a,s;t.items[o]&&(a=n._getRowElements(e(r)).eq(o),s=!!t.items[o].isSelected,a.toggleClass(u,s).find("."+c).dxCheckBox("option","value",s),n.setAria("selected",s,a))})}),n._updateCheckboxesClass()):n.callBase(t)},_createTable:function(){var e=this,t=e.option("selection.mode"),n=e.callBase.apply(e,arguments);return"none"!==t&&("onLongTap"!==e.option(m)&&r.touch||n.on(o.addNamespace("dxhold","dxDataGridRowsView"),"."+f,e.createAction(function(t){v(e.component,t.jQueryEvent),t.jQueryEvent.stopPropagation()})),n.on("mousedown selectstart",e.createAction(function(e){var t=e.jQueryEvent;t.shiftKey&&t.preventDefault()}))),n},_createRow:function(e){var t,n=this.callBase(e);return e&&(t=!!e.isSelected,n.toggleClass(u,t),this.setAria("selected",t,n)),n},_rowClick:function(t){var n=this,i=t.jQueryEvent,r=e(i.target).closest("."+h).length,o=e(i.target).closest("."+p).length;r||(o||"multiple"===n.option(g)&&"always"===n.option(m)||n.getController("selection").changeItemSelection(t.rowIndex,{control:i.ctrlKey,shift:i.shiftKey})&&(i.preventDefault(),t.handled=!0),n.callBase(t))},_renderCore:function(e){this.callBase(e),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var t=this.getTableElements(),n=this.getController("selection"),i=n.isSelectColumnVisible()&&!n.isSelectionWithCheckboxes();e.each(t,function(t,n){e(n).toggleClass(d,i)})}}}}})}(jQuery,DevExpress),function(e,t){var n=t.ui.dxDataGrid,i=t.require("/utils/utils.browser"),r=t.require("/devices"),o=t.require("/utils/utils.position"),a=t.require("/utils/utils.formatHelper").defaultDateTimeFormat,s=t.require("/utils/utils.common"),l=t.require("/utils/utils.knockout"),u=t.require("/ui/events/ui.events.utils"),c=t.require("/ui/events/pointer/ui.events.pointer"),d=u.addNamespace,h="dx-datagrid-checkbox-size",p="dx-cell-focus-disabled",f="dx-editor-inline-block",m="dxDataGridEditorFactory",g=d(c.down+" focusin dxclick",m),_="dx-datagrid-focus-overlay",v="dx-focused",y="dx-datagrid-content",x="dx-pointer-events-target",b="dx-pointer-events-none",w="dx-hidden",C=9;n.EditorFactoryController=n.ViewController.inherit(function(){var n=function(t,n){return e.extend(t,{readOnly:n.readOnly,placeholder:n.placeholder,attr:{id:n.id}},n.editorOptions)},S=function(e){var t=i.msie&&parseInt(i.version)<=11||r.real().ios,o=!1,a={},l=e.sharedData||a;return n({placeholder:e.placeholder,width:e.width,value:e.value,onValueChanged:function(t){var n=function(t,n){o=!1,e&&e.setValue(t.value,n)};window.clearTimeout(a.valueChangeTimeout),t.jQueryEvent&&"keyup"===t.jQueryEvent.type?"filterRow"===e.parentType||"searchPanel"===e.parentType?l.valueChangeTimeout=a.valueChangeTimeout=window.setTimeout(function(){n(t,a.valueChangeTimeout!==l.valueChangeTimeout)},s.isDefined(e.updateValueTimeout)?e.updateValueTimeout:0):o=!0:n(t)},onFocusOut:function(n){t&&o&&(o=!1,e.setValue(n.component.option("value")))},onKeyDown:function(n){t&&o&&13===n.jQueryEvent.keyCode&&(o=!1,e.setValue(n.component.option("value")))},valueChangeEvent:"change"+("filterRow"===e.parentType||t?" keyup":"")},e)},k=function(e){e.editorName="dxDateBox",e.editorOptions=n({value:e.value,onValueChanged:function(t){e.setValue(t.value)},formatString:s.isString(e.format)&&a[e.format.toLowerCase()]||e.format,formatWidthCalculator:null,width:"auto"},e)},D=function(e){var t=S(e),n="searchPanel"===e.parentType,i=function(e){return s.isDefined(e)?e.toString():""};t.value=i(e.value),t.valueChangeEvent+=n?" keyup search":"",t.mode=n?"search":"text",e.editorName="dxTextBox",e.editorOptions=t},T=function(e){var t=S(e);t.value=s.isDefined(e.value)?e.value:null,e.editorName="dxNumberBox",e.editorOptions=t},E=function(t){"filterRow"===t.parentType?I(e.extend(t,{lookup:{displayExpr:function(e){return e===!0?t.trueText||"true":e===!1?t.falseText||"false":void 0},dataSource:[!0,!1]}})):A(t)},I=function(e){var i,r,o,a=e.lookup,u="filterRow"===e.parentType;a&&(i=t.data.utils.compileGetter(a.displayExpr),r=a.dataSource,s.isFunction(r)&&!l.isObservable(r)&&(r=r(e.row||{})),(s.isObject(r)||s.isArray(r))&&(r=t.data.utils.normalizeDataSourceOptions(r),u&&(o=r.postProcess,r.postProcess=function(e){return 0===this.pageIndex()&&(e=e.slice(0),e.unshift(null)),o?o.call(this,e):e})),e.editorName="dxSelectBox",e.editorOptions=n({searchEnabled:!0,value:e.value,valueExpr:e.lookup.valueExpr,searchExpr:e.lookup.searchExpr||e.lookup.displayExpr,showClearButton:Boolean(a.allowClearing&&!u),displayExpr:function(t){return null===t?e.showAllText:i(t)},dataSource:r,onValueChanged:function(t){var n=[t.value];u||n.push(t.component.option("text")),e.setValue.apply(this,n)}},e))},A=function(e){e.editorName="dxCheckBox",e.editorOptions=n({value:e.value,hoverStateEnabled:!e.readOnly,focusStateEnabled:!e.readOnly,activeStateEnabled:!1,onValueChanged:function(t){e.setValue&&e.setValue(t.value,t)},tabIndex:e.tabIndex?e.tabIndex:0},e)},$=function(t,n){n.editorName&&n.editorOptions&&n.editorElement[n.editorName]&&("dxCheckBox"===n.editorName&&n.editorElement.addClass(h),t._createComponent(n.editorElement,n.editorName,n.editorOptions),"dxTextBox"===n.editorName&&n.editorElement.dxTextBox("instance").registerKeyHandler("enter",e.noop))};return{_getFocusedElement:function(e){return e.find("[tabindex]:focus, input:focus")},_updateFocusCore:function(){var e,t,n=this._$focusedElement,i=this.component&&this.component.element();return i&&(n=this._getFocusedElement(i),n.length&&(n.hasClass(p)||(e=n.closest(".dx-row > td, ."+p),t=e.get(0)!==n.get(0)&&e.hasClass(f),n=e),n.length&&!n.hasClass(p)))?void this.focus(n,t):void this.loseFocus()},_updateFocus:function(t){var n=this,i=t&&t.jQueryEvent&&e(t.jQueryEvent.target).hasClass(_);n._isFocusOverlay=n._isFocusOverlay||i,clearTimeout(n._updateFocusTimeoutID),n._updateFocusTimeoutID=setTimeout(function(){delete n._updateFocusTimeoutID,n._isFocusOverlay||n._updateFocusCore(),n._isFocusOverlay=!1})},_updateFocusOverlaySize:function(t,n){var i=o.calculate(t,e.extend({collision:"fit"},n));i.h.oversize>0&&t.outerWidth(t.outerWidth()-i.h.oversize),i.v.oversize>0&&t.outerHeight(t.outerHeight()-i.v.oversize)},callbackNames:function(){return["focused"]},focus:function(t,n){var r=this;return void 0===t?r._$focusedElement:void(t&&setTimeout(function(){var a,s,l,u=r._$focusOverlay=r._$focusOverlay||e("<div>").addClass(_+" "+x);n?r._$focusOverlay&&r._$focusOverlay.addClass(w):(s=i.msie?"left bottom":i.mozilla?"right bottom":"left top",l=t.closest("."+y),u.removeClass(w).appendTo(l).outerWidth(t.outerWidth()+1).outerHeight(t.outerHeight()+1),a={my:s,at:s,of:t,boundary:l.length&&l},r._updateFocusOverlaySize(u,a),o.setup(u,a),u.css("visibility","visible")),r._$focusedElement&&r._$focusedElement.removeClass(v),t.addClass(v),r._$focusedElement=t,r.focused.fire(t)}))},resize:function(){var e=this._$focusedElement;e&&this.focus(e)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass(v),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(w)},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(e.proxy(this._updateFocus,this)),e(document).on(g,this._updateFocusHandler),this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var t=this,n=t.component&&t.component.element(),r=i.msie&&parseInt(i.version)<11;n&&(n.on(d("keydown",m),function(e){e.which===C&&t._updateFocusHandler(e)}),r&&n.on([c.down,c.up,"dxclick"].join(" "),"."+x,e.proxy(t._focusOverlayEventProxy,t)))},_focusOverlayEventProxy:function(t){var n,i=e(t.target),r=e(t.currentTarget),o=i.hasClass(x)||i.hasClass(b),a=this._$focusedElement;o&&!r.hasClass(w)&&(r.addClass(w),n=i.get(0).ownerDocument.elementFromPoint(t.clientX,t.clientY),u.fireEvent({originalEvent:t,target:n}),t.stopPropagation(),r.removeClass(w),a&&a.find("input").focus())},dispose:function(){clearTimeout(this._updateFocusTimeoutID),e(document).off(g,this._updateFocusHandler)},createEditor:function(e,t){if(t.cancel=!1,t.editorElement=e,t.lookup)I(t);else switch(t.dataType){case"date":k(t);break;case"boolean":E(t);break;case"number":T(t);break;default:D(t)}this.executeAction("onEditorPreparing",t),t.cancel||($(this,t),this.executeAction("onEditorPrepared",t))}}}()),n.registerModule("editorFactory",{defaultOptions:function(){return{}},controllers:{editorFactory:n.EditorFactoryController},extenders:{controllers:{columnsResizer:{_startResizing:function(e){this.callBase(e),this.isResizing()&&this.getController("editorFactory").loseFocus()}}}}})}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=t.require("/utils/utils.browser"),o=t.require("/utils/utils.common"),a=t.require("/devices"),s=i.dxDataGrid,l="dx-datagrid-scroll-container",u="dx-row",c="dx-datagrid-group-space",d="dx-group-row",h="dx-master-detail-row",p="dx-datagrid-content",f="dx-datagrid-table",m="dx-column-indicators",g="dx-datagrid-table-fixed",_="dx-indicator-alignment-",v="dxCellHintVisible",y={sort:"dx-sort",headerFilter:"dx-header-filter"},x={render:function(e,t){t.append(e)}};s.getWidths=function(t){var n,i,r,o=[];return t&&(n=t.children("tbody").children("tr").filter(":not(."+d+")").filter(":not(."+h+")").first().find("> td"),e.each(n,function(e,t){i=t.offsetWidth,t.getBoundingClientRect&&(r=t.getBoundingClientRect(),r.width>i&&(i=Math.ceil(r.width))),o.push(i)})),o},s.ColumnsView=s.View.inherit({_getColumnAlignment:function(e,t){return t=t||this.option("rtlEnabled"),"center"!==e?e:o.getDefaultAlignment(t)},_applyColumnState:function(t){var n=this,i=this.option("rtlEnabled"),r=n._getColumnAlignment(t.column.alignment,i),o=e.extend(!0,{columnAlignment:r},t),a=n._createIndicatorContainer(o),s=e("<span />").addClass(y[t.name]),l=function(){return i?"left"===r?"right":"left":r};return o.container=a,o.indicator=s,n._renderIndicator(o),a[t.showColumnLines||"left"!==l()?"prependTo":"appendTo"](t.rootElement).addClass(_+r),s},_createIndicatorContainer:function(t){var n=t.rootElement.find("."+m),i="left"===t.columnAlignment?"right":"left";return n.length||(n=e("<div/>").addClass(m)),n.css("float",t.showColumnLines?i:null)},_getIndicatorContainer:function(e){return e&&e.find("."+m)},_renderIndicator:function(e){var t=e.container,n=e.indicator;t&&n&&t.append(n)},_updateIndicators:function(e){for(var t,n=this,i=n.getColumns(),r=n.getColumnElements(),o=0;o<i.length;o++)t=r.eq(o),n._updateIndicator(t,i[o],e)},_updateIndicator:function(e,t,n){return t.command?void 0:this._applyColumnState({name:n,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})},_updateCell:function(e,t){t.rowType&&this._cellPrepared(e,t)},_createCell:function(t){var n,i=o.getDefaultAlignment(this.option("rtlEnabled")),r=t.alignment||i,a=window.document.createElement("td");return a.style.textAlign=r,n=e(a),this.setAria("role","gridcell",n),!o.isDefined(t.groupIndex)&&t.cssClass&&n.addClass(t.cssClass),"expand"===t.command&&n.addClass(c),n},_createRow:function(){return e("<tr />").addClass(u).attr("role","row")},_createTable:function(t){var i,s=this,l=e("<table />").addClass(f).addClass(g).attr("role","grid");return t&&(l.append(s._createColGroup(t)),a.real().ios&&l.append("<thead><tr></tr></thead>")),r.mozilla&&l.on("mousedown","td",function(e){e.ctrlKey&&e.preventDefault()}),s.option("cellHintEnabled")&&l.on("mousemove",".dx-row > td",this.createAction(function(t){var i=t.jQueryEvent,r=e(i.target),a=e(i.currentTarget),l=a.parent(),u=l.hasClass("dx-data-row"),c=l.hasClass("dx-header-row"),d=l.hasClass("dx-group-row"),h=s._columnsController.getVisibleColumns(),p=l.data("options"),f=a.index(),m=p&&p.cells&&p.cells[f],g=m?m.column:h[f];(!u||u&&g&&!g.cellTemplate)&&(!c||c&&g&&!g.headerCellTemplate)&&(!d||d&&g&&(g.groupIndex===n||!g.groupCellTemplate))&&(r.data(v)&&(r.removeAttr("title"),r.data(v,!1)),r[0].scrollWidth>r[0].clientWidth&&!o.isDefined(r.attr("title"))&&(r.attr("title",r.text()),r.data(v,!0)))})),i=function(t){var n=e(t.currentTarget),i=n.parent().data("options"),r=i&&i.cells&&i.cells[n.index()];return e.extend({},r,{cellElement:n,jQueryEvent:t,eventType:t.type})},s.option("onCellHoverChanged")&&(l.on("mouseover",".dx-row > td",function(e){s.executeAction("onCellHoverChanged",i(e))}),l.on("mouseout",".dx-row > td",function(e){s.executeAction("onCellHoverChanged",i(e))})),s.option("onCellClick")&&l.on("dxclick",".dx-row > td",function(e){s.executeAction("onCellClick",i(e))}),l.on("dxclick",".dx-row",{useNative:s._isNativeClick()},s.createAction(function(t){var n=t.jQueryEvent;e(n.target).closest("a").length||(t.rowIndex=s.getRowIndex(n.currentTarget),t.rowElement=e(n.currentTarget),t.columns=s.getColumns(),s._rowClick(t))})),l},_isNativeClick:e.noop,_rowClick:e.noop,_createColGroup:function(t){for(var n,i,r=e("<colgroup />"),o=t.length,a=0;o>a;a++)for(i=t[a].colspan||1,n=0;i>n;n++)r.append(this._createCol(t[a]));return r},_createCol:function(t){return e("<col />").width(t.visibleWidth||t.width)},renderDelayedTemplates:function(){for(var e,t=this._delayedTemplates;t.length;)e=t.shift(),e.template.render(e.options,e.container),e.options.column&&this._updateCell(e.container,e.options)},_processTemplate:function(t){var n,i,r=this;return t&&t.render?i={allowRenderToDetachedContainer:t.allowRenderToDetachedContainer,render:function(e,n){t.render(n,e)}}:e.isFunction(t)?i={render:function(e,n){t(n,e)}}:(n=o.isString(t)?t:e(t).attr("id"),n?(r._templatesCache[n]||(r._templatesCache[n]=r.getTemplate(t)),i=r._templatesCache[n]):i=r.getTemplate(t)),i},_renderTemplate:function(e,t,n){var i=this,r=i._processTemplate(t,n);if(r){if(r.allowRenderToDetachedContainer)return r.render(n,e),!0;i._delayedTemplates.push({template:r,container:e,options:n})}return!1},_appendRow:function(e,t,n){var i=this;i.option("rowTemplate")&&i._delayedTemplates.length&&t?i._delayedTemplates.push({container:e,template:n||x,options:t}):e.append(t)},_resizeCore:function(){var e=this,t=e._scrollLeft;e._scrollLeft=0,e.scrollTo({left:t})},_renderCore:function(){var e=this.element().parent();(!e||e.parent().length)&&this.renderDelayedTemplates()},_renderTable:function(e){e=e||{};var t,n=this;return e.columns=n._columnsController.getVisibleColumns(),t=n._createTable(e.columns),n._renderRows(t,e),t},_renderRows:function(t,n){for(var i=this,r=i._getRows(n.change),o=0;o<r.length;o++)i._renderRow(t,e.extend({row:r[o]},n))},_renderRow:function(t,n){var i,r=this;n.row.cells=[],i=r._createRow(n.row),r._renderCells(i,n),r._appendRow(t,i),r._rowPrepared(i,e.extend({columns:n.columns},n.row))},_renderCells:function(t,n){for(var i=this,r=0,a=n.row,s=n.columns,l=0;l<s.length;l++)i._renderCell(t,e.extend({column:s[l],columnIndex:r,value:a.values&&a.values[r]},n)),o.isDefined(s[l].colspan)?r+=s[l].colspan:r++},_renderCell:function(e,t){var n,i=this,r=i._getCellOptions(t),a=t.column;return t.row.cells.push(r),n=i._createCell(a),o.isDefined(a.command)||i.setAria("label",i.localize("dxDataGrid-ariaColumn")+" "+a.caption+", "+i.localize("dxDataGrid-ariaValue")+" "+r.text,n),i._renderCellContent(n,r),e.get(0).appendChild(n.get(0)),n},_renderCellContent:function(e,t){var n=this._getCellTemplate(t);(!n||this._renderTemplate(e,n,t))&&this._updateCell(e,t)},_getCellTemplate:function(){},_getRows:function(){return[]},_getCellOptions:function(e){return{column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType}},_cellPrepared:function(e,t){t.cellElement=e,this.executeAction("onCellPrepared",t)},_rowPrepared:function(e,t){e.data("options",t),t.rowElement=e,this.executeAction("onRowPrepared",t)},_columnOptionChanged:function(t){var n,i,r=t.optionNames;return s.checkChanges(r,["width","visibleWidth"])?(n=this._columnsController.getVisibleColumns(),i=e.map(n,function(e){return e.visibleWidth||e.width||"auto"}),this.setColumnWidths(i),void 0):void(this._requireReady||this.render())},getTableElements:function(){return this._tableElement||e()},_getTableElement:function(){return this._tableElement},_setTableElement:function(e){this._tableElement=e},optionChanged:function(e){switch(this.callBase(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0}},init:function(){var t=this;t._scrollLeft=0,t._columnsController=t.getController("columns"),t._dataController=t.getController("data"),t._delayedTemplates=[],t._templatesCache={},t.createAction("onCellClick"),
t.createAction("onRowClick"),t.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),t.createAction("onCellPrepared",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering"}),t.createAction("onRowPrepared",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering",afterExecute:function(e){t._afterRowPrepared(e)}}),t._columnsController.columnsChanged.add(e.proxy(t._columnOptionChanged,t)),t._dataController&&t._dataController.changed.add(e.proxy(t._handleDataChanged,t))},_afterRowPrepared:e.noop,_handleDataChanged:function(){},callbackNames:function(){return["scrollChanged"]},scrollTo:function(e){var t=this,n=t.element(),i=n&&n.find("."+l);t._skipScrollChanged=!1,o.isDefined(e)&&o.isDefined(e.left)&&t._scrollLeft!==e.left&&(t._scrollLeft=e.left,i&&i.scrollLeft(Math.round(e.left)),t._skipScrollChanged=!0)},_wrapTableInScrollContainer:function(t){var n,i=this;return n=e("<div/>").on("scroll",function(){i._skipScrollChanged||i.scrollChanged.fire({left:n.scrollLeft()},i.name),i._skipScrollChanged=!1}).addClass(p).addClass(l).append(t).appendTo(i.element())},_updateContent:function(e){this._setTableElement(e),this._wrapTableInScrollContainer(e)},_findContentElement:e.noop,getColumnWidths:function(){var e=this,t=[],n=e._getTableElement();return n&&(t=s.getWidths(n)),t},setColumnWidths:function(t){var n,i,r,o,a,s=this.getTableElements(!0);if(s.length&&t)for(i=0;i<s.length;i++)for(o=0,n=e(s[i]).find("col"),a=this.getColumns(e(s[i])),r=0;r<a.length;r++)a[r].colspan?o+=a[r].colspan:(n.eq(o).css("width",t[o]||"auto"),o++)},getCellElements:function(e){var t=this._getRowElements().eq(e);return t.children()},getCellElement:function(e,t){var n,i,r=this,a=r.getCellElements(e),s=r._columnsController,l=t;return o.isString(t)&&(i=s.columnOption(t,"index"),l=s.getVisibleIndex(i)),a.length&&l>=0&&(n=a.eq(l)),n&&n.length?n:void 0},getColumnElements:function(){},getColumns:function(){return this._columnsController.getVisibleColumns()},getCell:function(e,t){var n,i=t||this._getRowElements();return i.length>0&&e.rowIndex>=0&&(e.rowIndex=e.rowIndex<i.length?e.rowIndex:i.length-1,n=this.getCellElements(e.rowIndex),n&&n.length>0)?n.eq(n.length>e.columnIndex?e.columnIndex:n.length-1):void 0},getRowsCount:function(){var e=this._getTableElement();return e&&1===e.length?e[0].rows.length:0},_getRowElements:function(t){return t=t||this._getTableElement(),t&&t.children("tbody").children("."+u)||e()},getRowIndex:function(e){return this._getRowElements().index(e)},getBoundingRect:function(){},getName:function(){},setScrollerSpacing:function(e){var t=this,n=t.element(),i=t.option("rtlEnabled");n&&n.css(i?{paddingLeft:e}:{paddingRight:e})}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=t.require("/utils/utils.common"),o=t.require("/ui/ui.themes"),a=t.require("/ui/widgets/ui.button"),s="dx-datagrid-column-chooser",l="dx-datagrid-column-chooser-button",u="column-chooser",c="dx-column-chooser-item",d="dx-column-chooser-message",h="dx-datagrid-notouch-action",p="dx-datagrid-drag-action";i.ColumnChooserController=i.ViewController.inherit({renderShowColumnChooserButton:function(t){var n,i=this,r=i.option("columnChooser.enabled"),o=t.find("."+l);r?o.length?o.show():(n=e("<div />").addClass(l).appendTo(t),i._createComponent(n,a,{icon:u,onClick:function(){i.getView("columnChooserView").showColumnChooser()},hint:i.option("columnChooser.title"),_templates:{}})):o.hide()},getPosition:function(){var e=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}),i.ColumnChooserView=i.ColumnsView.inherit({_resizeCore:e.noop,_isWinDevice:function(){return!!t.devices.real().win},_updateItems:function(){var t,n=this._columnsController.getChooserColumns(),r=this.option("columnChooser"),o=this._popupContainer.content(),a=i.createScrollableOptions(this);this._isWinDevice()&&(a.useNative=!1),t=this._createComponent(o,"dxScrollable",a),this._renderColumnChooserItems(o,n),n.length||e("<span />").addClass(d).text(r?r.emptyPanelText:"").appendTo(t.content())},_initializePopupContainer:function(){var t=this,n=t.element().addClass(s),i=t.option("columnChooser"),a=o.current(),l=a&&a.indexOf("generic")>-1,u=a&&a.indexOf("android5")>-1,c={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,buttons:[{text:i.title,toolbar:"top",location:l||u?"before":"center"}],position:t.getController("columnChooser").getPosition(),width:i.width,height:i.height,rtlEnabled:t.option("rtlEnabled"),onHidden:function(){t._isWinDevice()&&e(document.body).removeClass(h)},container:i.container};l?e.extend(c,{showCloseButton:!0}):c.buttons[c.buttons.length]={shortcut:"cancel"},r.isDefined(this._popupContainer)?this._popupContainer.option(c):(t._popupContainer=t._createComponent(n,"dxPopup",c),t._popupContainer.on("optionChanged",function(e){"visible"===e.name&&t.renderCompleted.fire()}))},_renderCore:function(){this._popupContainer&&this._updateItems()},_renderColumnChooserItems:function(t,n){var i,r=t.dxScrollable("instance"),o=r.content();o.empty(),e.each(n,function(t,n){i=e("<div />").addClass(n.cssClass).addClass(c).toggleClass(p,n.allowHiding).text(n.caption).appendTo(o)}),r.update()},getColumnElements:function(){var e=this._popupContainer&&this._popupContainer.content();return e&&e.find("."+c)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e){return this.isColumnChooserVisible()&&e&&e.allowHiding},getBoundingRect:function(){var e,t=this,n=t._popupContainer&&t._popupContainer._container();return n&&n.is(":visible")?(e=n.offset(),{left:e.left,top:e.top,right:e.left+n.outerWidth(),bottom:e.top+n.outerHeight()}):null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&e(document.body).addClass(h)},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}}),i.registerModule("columnChooser",{defaultOptions:function(){return{columnChooser:{enabled:!1,width:250,height:260,title:Globalize.localize("dxDataGrid-columnChooserTitle"),emptyPanelText:Globalize.localize("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:i.ColumnChooserController},views:{columnChooserView:i.ColumnChooserView},extenders:{views:{headerPanel:{_renderShowColumnChooserButton:function(){this.getController("columnChooser").renderShowColumnChooserButton(this.element())},_renderCore:function(){this.callBase(),this._renderShowColumnChooserButton()},optionChanged:function(e){switch(e.name){case"columnChooser":this._renderShowColumnChooserButton(),e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this,t=e.option("columnChooser.enabled");return e.callBase()||t}}}}})}(jQuery,DevExpress),function(e,t){function n(t,i){if(t&&(t=t.slice(0),i))for(var r=0;r<t.length;r++)t[r]=e.extend({key:t[r].key},t[r]),t[r].items=n(t[r].items,i-1);return t}var i=t.ui,r=i.dxDataGrid;r.DataSourceAdapter=r.Controller.inherit(function(){function t(e,t){var n={};return t&&(n={sorting:!r.equalSortParameters(e.sort,t.sort),grouping:!r.equalSortParameters(e.group,t.group,!0),filtering:!r.equalFilterParameters(e.filter,t.filter),skip:e.skip!==t.skip,take:e.take!==t.take},n.reload=n.sorting||n.grouping||n.filtering,n.paging=n.skip||n.take),n}return{init:function(t,n){var i=this;i._dataSource=t,i._remoteOperations=n||{},i._isLastPage=!t.isLastPage(),i._hasLastPage=!1,i._currentTotalCount=0,i.changed=e.Callbacks(),i.loadingChanged=e.Callbacks(),i.loadError=e.Callbacks(),i.customizeStoreLoadOptions=e.Callbacks(),i._dataChangedHandler=e.proxy(i._handleDataChanged,i),i._dataLoadingHandler=e.proxy(i._handleDataLoading,i),i._dataLoadedHandler=e.proxy(i._handleDataLoaded,i),i._loadingChangedHandler=e.proxy(i._handleLoadingChanged,i),i._loadErrorHandler=e.proxy(i._handleLoadError,i),t.on("changed",i._dataChangedHandler),t.on("customizeStoreLoadOptions",i._dataLoadingHandler),t.on("customizeLoadResult",i._dataLoadedHandler),t.on("loadingChanged",i._loadingChangedHandler),t.on("loadError",i._loadErrorHandler),e.each(t,function(t,n){!i[t]&&e.isFunction(n)&&(i[t]=function(){return this._dataSource[t].apply(this._dataSource,arguments)})})},remoteOperations:function(){return this._remoteOperations},dispose:function(e){var t=this,n=t._dataSource;n.off("changed",t._dataChangedHandler),n.off("customizeStoreLoadOptions",t._dataLoadingHandler),n.off("customizeLoadResult",t._dataLoadedHandler),n.off("loadingChanged",t._loadingChangedHandler),n.off("loadError",t._loadErrorHandler),e||n.dispose()},refresh:function(e,t,n){var i=this,r=i._dataSource;(t||n.reload)&&(i._currentTotalCount=0,i._isLastPage=!r.paginate(),i._hasLastPage=i._isLastPage)},_customizeRemoteOperations:function(){},_handleDataLoading:function(n){var i,r,o,a=this,s=a._dataSource,l=a._lastLoadOptions;a.customizeStoreLoadOptions.fire(n),n.delay=this.option("loadingTimeout"),n.originalStoreLoadOptions=n.storeLoadOptions,n.remoteOperations=e.extend({},this.remoteOperations()),o=!a.isLoaded()&&!a._isRefreshing,i=e.extend({},n.storeLoadOptions),r=t(i,l),a._customizeRemoteOperations(n,o,r),n.isCustomLoading||(a._lastLoadOptions=i,a._isRefreshing=!0,e.when(a.refresh(n,o,r)).always(function(){a._lastOperationId===n.operationId&&a.load(),a._isRefreshing=!1}),s.cancel(a._lastOperationId),a._lastOperationId=n.operationId,a._isRefreshing&&s.cancel(a._lastOperationId))},_handleDataLoaded:function(e){e.storeLoadOptions=e.originalStoreLoadOptions},_handleLoadingChanged:function(e){this.loadingChanged.fire(e)},_handleLoadError:function(e){this.changed.fire({changeType:"loadError",error:e}),this.loadError.fire(e)},_handleDataChanged:function(e){var t,n=this,i=n._dataSource,r=!1,o=n.itemsCount();n._isLastPage=!o||!n.pageSize()||o<n.pageSize(),n._isLastPage&&(n._hasLastPage=!0),i.totalCount()>=0?i.pageIndex()>=n.pageCount()&&(i.pageIndex(n.pageCount()-1),i.load(),r=!0):(t=i.pageIndex()*n.pageSize()+o,n._currentTotalCount=Math.max(n._currentTotalCount,t),0===o&&i.pageIndex()>=n.pageCount()&&(i.pageIndex(n.pageCount()-1),i.load(),r=!0)),r||(this.component._optionCache={},this.changed.fire(e),this.component._optionCache=void 0)},isLastPage:function(){return this._isLastPage},totalCount:function(){return parseInt(this._currentTotalCount||this._dataSource.totalCount())},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var e=this._dataSource;return arguments.length||e.paginate()?e.pageSize.apply(e,arguments):0},pageCount:function(){var e=this,t=e.totalItemsCount(),n=e.pageSize();return n&&t>0?Math.max(1,Math.ceil(t/n)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},load:function(t){var n,i,r,o=this,a=o._dataSource,s=e.Deferred();return t?(n=a.store(),r=a.loadOptions(),i={storeLoadOptions:t,isCustomLoading:!0},e.each(n._customLoadOptions()||[],function(e,t){t in i.storeLoadOptions||(i.storeLoadOptions[t]=r[t])}),a._scheduleLoadCallbacks(s),o._handleDataLoading(i),e.when(i.data||n.load(i.storeLoadOptions)).done(function(r,a){i.data=r,i.extra=a||{},o._handleDataLoaded(i),t.requireTotalCount&&void 0===i.extra.totalCount&&(i.extra.totalCount=n.totalCount(i.storeLoadOptions)),e.when(i.data,i.extra.totalCount).done(function(e,t){i.extra.totalCount=t,s.resolve(e,i.extra)}).fail(s.reject)}).fail(s.reject),s.fail(function(){o.fireEvent("loadError",arguments)}).promise()):a.load()}}}()),r.DataSourceAdapter=r.DataSourceAdapter.inherit({reload:function(e){return e?this._dataSource.reload():this._dataSource.load()},_customizeRemoteOperations:function(t,n,i){var r=this,o=r._cachedStoreData,a=r._cachedPagingData;r.callBase.apply(r,arguments),n?(o=void 0,a=void 0):(i.reload&&(a=void 0),e.each(i,function(e,n){n&&t.remoteOperations[e]&&(o=void 0,a=void 0)})),a&&(t.remoteOperations.paging=!1),t.cachedStoreData=o,t.cachedPagingData=a,t.isCustomLoading||(r._cachedStoreData=o,r._cachedPagingData=a)},_handleDataLoading:function(e){this.callBase(e),this._handleDataLoadingCore(e)},_handleDataLoadingCore:function(t){var n,i=t.remoteOperations;t.loadOptions={},n={filter:!i.filtering,sort:!i.sorting,group:!i.grouping,summary:!i.summary,skip:!i.paging,take:!i.paging,requireTotalCount:!i.paging},e.each(t.storeLoadOptions,function(e,i){n[e]&&(t.loadOptions[e]=i,delete t.storeLoadOptions[e])}),t.data=t.cachedStoreData},_handleDataLoaded:function(i){var o,a=this.callBase,s=i.loadOptions,l=i.remoteOperations&&!i.remoteOperations.paging,u=this.option("cacheEnabled")!==!1&&l&&i.storeLoadOptions,c=u&&!i.isCustomLoading;return s?(l&&(i.skip=s.skip,i.take=s.take,delete s.skip,delete s.take),s.group&&(s.group=i.group||s.group),o=r.normalizeSortingInfo(i.storeLoadOptions.group||s.group).length,u&&i.cachedPagingData?i.data=n(i.cachedPagingData,o):(c&&!this._cachedStoreData&&(this._cachedStoreData=n(i.data,r.normalizeSortingInfo(i.storeLoadOptions.group).length)),new t.data.ArrayStore(i.data).load(s).done(function(e){i.data=e}),c&&(this._cachedPagingData=n(i.data,o))),s.requireTotalCount&&l&&(i.extra=e.isPlainObject(i.extra)?i.extra:{},i.extra.totalCount=i.data.length),this._handleDataLoadedCore(i),a.apply(this,arguments),void 0):void this._dataSource.cancel(i.operationId)},_handleDataLoadedCore:function(e){e.remoteOperations&&!e.remoteOperations.paging&&(void 0!==e.skip&&(e.data=e.data.slice(e.skip)),void 0!==e.take&&(e.data=e.data.slice(0,e.take)))}})}(jQuery,DevExpress),function(e,t){var n,i,r,o=t.ui,a=o.dxDataGrid,s=t.require("/utils/utils.common"),l=t.require("/class"),u=t.data.utils.normalizeSortingInfo,c="dx-datagrid-group-panel",d="dx-group-panel-message",h="dx-group-panel-item",p="dx-datagrid-group-opened",f="dx-datagrid-group-closed",m="dx-datagrid-expand",g="dx-selection-disabled",_=function(){return{init:function(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper:function(e){var t=this._grouping,n=e?e.remoteOperations:this.remoteOperations();n.filtering&&n.sorting&&n.paging&&!n.grouping?(!t||t instanceof a.CollapsedGroupingHelper)&&(this._grouping=new a.ExpandedGroupingHelper(this)):(!t||t instanceof a.ExpandedGroupingHelper)&&(this._grouping=new a.CollapsedGroupingHelper(this))},totalItemsCount:function(){var e=this,t=e.callBase();return t>0&&e._dataSource.group()&&e._dataSource.requireTotalCount()?t+e._grouping.totalCountCorrection():t},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase()},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isRowExpanded:function(e){var t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(e){return this._collapseExpandAll(e,!1)},expandAll:function(e){return this._collapseExpandAll(e,!0)},_collapseExpandAll:function(e,t){var n,i=this,r=i._dataSource,o=r.group(),a=u(o||[]);if(a.length){for(n=0;n<a.length;n++)void 0===e||e===n?a[n].isExpanded=t:o&&o[n]&&(a[n].isExpanded=o[n].isExpanded);r.group(a),i._grouping.foreachGroups(function(n,i){(void 0===e||e===i.length-1)&&(n.isExpanded=t)},!1,!0)}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(e){var t=this,n=t._dataSource;return n.group()?(n._changeLoadingCount(1),t._changeRowExpandCore(e).always(function(){n._changeLoadingCount(-1)})):void 0},_changeRowExpandCore:function(e){return this._grouping.changeRowExpand(e)},_hasCollapsedGroupLevels:function(t){if(t&&e.isArray(t))for(var n=0;n<t.length;n++)if(t[n].isExpanded===!1)return!0},_customizeRemoteOperations:function(e){var t=e.remoteOperations;e.storeLoadOptions.group&&(t.grouping&&!e.isCustomLoading&&(t.paging=!1),t.grouping||t.sorting&&t.filtering&&!e.isCustomLoading&&!this._hasCollapsedGroupLevels(e.storeLoadOptions.group)||(t.paging=!1)),this.callBase.apply(this,arguments)},_handleDataLoading:function(e){return this.callBase(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)},_handleDataLoaded:function(t){return this._grouping.handleDataLoaded(t,e.proxy(this.callBase,this))},_handleDataLoadedCore:function(t){return this._grouping.handleDataLoadedCore(t,e.proxy(this.callBase,this))}}}();a.GroupingHelper=l.inherit(function(){var t=function(e,t){var n=e.hash;return n&&n[t]},n=function(e,t){for(var n=0;n<e.length&&!(e[n].offset>t);n++);return n},i=function(e,t){for(var i,r,o,a=0;a<e.length;a++)if(i=e[a],i.data&&i.data.offset!==i.offset){for(e.splice(a,1),i.offset=i.data.offset,o=0;o<t.length;o++)t[o].offset=i.offset;r=n(e,i.offset),e.splice(r,0,i),r>a&&a--}},r=function(e,t,n){for(var i=0;i<e.length;i++)t+1>=n?e[i].children=[]:r(e[i].children,t+1,n)};return{ctor:function(e){this._dataSource=e,this.reset()},reset:function(){this._groupsInfo=[],this._totalCountCorrection=0,this._itemsCount=0},totalCountCorrection:function(){return this._totalCountCorrection},updateTotalItemsCount:function(e){this._totalCountCorrection=e||0},_isGroupItemCountable:function(e){return!this._isVirtualPaging()||!e.isContinuation},_isVirtualPaging:function(){var e=this._dataSource.option("scrolling.mode");return"virtual"===e||"infinite"===e},itemsCount:function(){return this._itemsCount},updateItemsCount:function(e,t){function n(e,t,i){var r,o=0;if(t)if(i)for(r=0;r<t.length;r++)e._isGroupItemCountable(t[r])&&o++,o+=n(e,t[r].items,i-1);else o=t.length;return o}this._itemsCount=n(this,e,t)},foreachGroups:function(t,n,r,o){function a(t,n,s,l){function u(e,t,n,i){var r=t&&e(t,n);return i.push(r),r}for(var c,d,h=[],p=0;p<t.length;p++){if(l.push(t[p].data),!s&&u(n,t[p].data,l,h)===!1||(!t[p].data||t[p].data.isExpanded||r)&&(c=a(t[p].children,n,s,l),h.push(c),c===!1)||s&&u(n,t[p].data,l,h)===!1)return!1;t[p].data&&t[p].data.offset===t[p].offset||(o=!0),l.pop()}return d=l.slice(0),o&&e.when.apply(e,h).always(function(){i(t,d)})}var s=this;return a(s._groupsInfo,t,n,[])},findGroupInfo:function(e){for(var n,i=this,r=i._groupsInfo,o=0;r&&o<e.length;o++)n=t(r,e[o]),r=n&&n.children;return n&&n.data},addGroupInfo:function(e){for(var r,o,a=this,s=e.path,l=a._groupsInfo,u=0;u<s.length;u++)o=t(l,s[u]),o||(o={key:s[u],offset:e.offset,data:{offset:e.offset,isExpanded:!0,path:s.slice(0,u+1)},children:[]},r=n(l,e.offset),l.splice(r,0,o),l.hash=l.hash||{},l.hash[o.key]=o),u===s.length-1&&(o.data=e,o.offset!==e.offset&&i(l)),l=o.children},allowCollapseAll:function(){return!0},refresh:function(e){var t,n=this,i=e.storeLoadOptions,o=u(n._group||[]),a=u(i.group||[]),s=Math.min(o.length,a.length);for(n._group=i.group,t=0;s>t;t++)if(o[t].selector!==a[t].selector){s=t;break}s?r(n._groupsInfo,0,s):n.reset()},handleDataLoading:function(){},handleDataLoaded:function(e,t){t(e)},handleDataLoadedCore:function(e,t){t(e)}}}()),a.DataSourceAdapter=a.DataSourceAdapter.inherit(_),n=function(){return{init:function(){var e=this;e.callBase(),e.createAction("onRowExpanding"),e.createAction("onRowExpanded"),e.createAction("onRowCollapsing"),e.createAction("onRowCollapsed")},_processItems:function(e,t){var n=this._columnsController.getGroupColumns();return e.length&&n.length&&(e=this._processGroupItems(e,n.length)),this.callBase(e,t)},_processItem:function(e,t){return s.isDefined(e.groupIndex)&&s.isString(e.rowType)&&0===e.rowType.indexOf("group")?(e=this._processGroupItem(e,t),t.dataIndex=0):e=this.callBase.apply(this,arguments),e},_processGroupItem:function(e){return e},_processGroupItems:function(e,t,n){var i,r,o,a,s=this,l=s._columnsController.getGroupColumns(),u=l[l.length-t];if(n||(i=s.option("scrolling.mode"),n={collectContinuationItems:"virtual"!==i&&"infinite"!==i,resultItems:[],path:[],values:[]}),a=n.resultItems,n.data&&(n.collectContinuationItems||!n.data.isContinuation)&&a.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)}),e)if(0===t)a.push.apply(a,e);else for(r=0;r<e.length;r++)o=e[r],o&&"items"in o?(n.data=o,n.path.push(o.key),n.values.push(u&&u.deserializeValue?u.deserializeValue(o.key):o.key),s._processGroupItems(o.items,t-1,n),n.data=void 0,n.path.pop(),n.values.pop()):a.push(o);return a},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(e){var t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())},expandAll:function(e){var t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())},changeRowExpand:function(t){var n=this,i=n.isRowExpanded(t),r={key:t,expanded:i};return n.executeAction(i?"onRowCollapsing":"onRowExpanding",r),r.cancel?void 0:e.when(n._changeRowExpandCore(t)).done(function(){r.expanded=!i,n.executeAction(i?"onRowCollapsed":"onRowExpanded",r)})},_changeRowExpandCore:function(t){var n,i=this,r=this._dataSource;return r?(n=e.Deferred(),e.when(r.changeRowExpand(t)).done(function(){i.load().done(n.resolve).fail(n.reject)}).fail(n.reject),n):void 0},isRowExpanded:function(e){var t=this._dataSource;return t&&t.isRowExpanded(e)},expandRow:function(t){return this.isRowExpanded(t)?e.Deferred().resolve():this.changeRowExpand(t)},collapseRow:function(t){return this.isRowExpanded(t)?this.changeRowExpand(t):e.Deferred().resolve()},optionChanged:function(e){"grouping"===e.name&&(e.name="dataSource"),this.callBase(e)}}}(),i=function(){return{_renderGroupPanel:function(){var t,n=this,i=n.element(),r=n.option("groupPanel"),o=n.getController("columns").getGroupColumns();t=i.find("."+c),r&&r.visible?(t.length?t.show():t=e("<div />").addClass(c).prependTo(i),n._renderGroupPanelItems(t,o),r.allowColumnDragging&&!o.length&&e("<div />").addClass(d).text(r.emptyPanelText).appendTo(t)):t.hide()},_renderGroupPanelItems:function(t,n){var i=this;t.empty(),e.each(n,function(e,n){i._createGroupPanelItem(t,n)})},_createGroupPanelItem:function(t,n){return e("<div />").addClass(n.cssClass).addClass(h).appendTo(t).text(n.caption)},_renderCore:function(){this.callBase.apply(this,arguments),this._renderGroupPanel()},allowDragging:function(e){var t=this.option("groupPanel");return t&&t.visible&&t.allowColumnDragging&&e&&e.allowGrouping},getColumnElements:function(){var e=this.element();return e&&e.find("."+h)},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var e,t=this,n=t.element();return n&&n.find("."+c).length?(e=n.offset(),{top:e.top,bottom:e.top+n.height()}):null},getName:function(){return"group"},isVisible:function(){return this.callBase()||this.option("groupPanel.visible")},optionChanged:function(e){"groupPanel"===e.name?(this._renderGroupPanel(),e.handled=!0):this.callBase(e)}}}(),a.GroupingHeaderPanelExtender=i,r=function(){return{_rowClick:function(t){var n,i=this,r=i.getController("data"),o=e(t.jQueryEvent.target).closest("."+m);o.length&&(n=r.getKeyByRowIndex(t.rowIndex),r.changeRowExpand(n),t.jQueryEvent.preventDefault(),t.handled=!0),i.callBase(t)},_getColumnTemplate:function(t){var n=this;return"expand"===t.column.command?{allowRenderToDetachedContainer:!0,render:function(t,i){!s.isDefined(i.value)||i.data&&i.data.isContinuation||i.row.inserted||(t.addClass(m).addClass(g),e("<div>").addClass(i.value?p:f).appendTo(t),n.setAria("label",i.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),t))}}:n.callBase(t)}}}(),a.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,groupContinuesMessage:Globalize.localize("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:Globalize.localize("dxDataGrid-groupContinuedMessage")},groupPanel:{visible:!1,emptyPanelText:Globalize.localize("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:n},views:{headerPanel:i,rowsView:r}}})}(jQuery,DevExpress),function(e,t){var n=t.data.utils,i=t.ui.dxDataGrid,r=i.normalizeSortingInfo,o=n.keysEqual,a=function(t,n){var i=e.Deferred(),r=e.extend({skip:0,take:1,requireTotalCount:!0},n);return t.load(r).done(function(e,t){i.resolve(t&&t.totalCount)}).fail(e.proxy(i.reject,i)),i};i.ExpandedGroupingHelper=i.GroupingHelper.inherit(function(){var s=function(e,t,n){return e.foreachGroups(function(e){return e.isExpanded?void 0:t(e)},!1,!1,n)},l=function(e,t){var n=0,i=t||0;return t&&(s(e,function(e){return e.offset-n>=t?!1:void(n+=e.count-1)}),i+=n),i},u=function(e,t,n,i,r,o){for(var a,s,l,c=0,d=!1,h=0;h<t.length;h++)a=t[h],void 0!==a.items?(n.push(a.key),l=e.findGroupInfo(n),l&&!l.isExpanded?(a.collapsedItems=a.items,a.items=null,i+=l.count,o--,0>o&&c++,r&&(d=!0)):a.items&&(s=u(e,a.items,n,i,r,o),r&&(s.offset-i>1?a.isContinuation=!0:d=!0),i=s.offset,o=s.take,0>o&&(a.items.length?a.isContinuationOnNextPage=!0:c++)),n.pop()):(r&&(d=!0),i++,o--,0>o&&c++),r=!1;return d&&t.splice(0,1),c&&t.splice(-c,c),{offset:i,take:o}},c=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!o(null,e[n],t[n]))return!1;return!0},d=function(e,t,n,i,r){var o,a,s;if(t){for(o=0;o<t.length;o++)a=t[o],"key"in a&&void 0!==a.items?(n.push(a.key),r&&c(r.path,n)&&!a.isContinuation&&(r.offset=i),s=e.findGroupInfo(n),s&&(s.offset=i),s&&!s.isExpanded?i+=s.count:i=d(e,a.items,n,i,r),n.pop()):i++;return i}},h=function(e,t){var i,o;t.group&&(i=r(t.group),o=r(e.sort),e.sort=n.arrangeSortingInfo(i,o),delete t.group)},p=i.createGroupFilter=function(e,t){for(var n=r(t.group),o=[],a=0;a<e.length;a++)o.push([n[a].selector,"=",e[a]]);return t.filter&&o.push(t.filter),i.combineFilters(o)},f=function(e,t,n){for(var o,a,s=r(n||t.group),l=[],u=0;u<e.length;u++){for(a=[],o=0;u>=o;o++)a.push([s[o].selector,u===o?"<>":"=",e[o]]);l.push(i.combineFilters(a))}return l=i.combineFilters(l,"or"),i.combineFilters([l,t.filter])},m=function(e,t){for(var n,o,a=r(t.group),s=[],l=0;l<e.length;l++){for(o=[],n=0;l>=n;n++)o.push([a[n].selector,l===n?a[n].desc?">":"<":"=",e[n]]);s.push(i.combineFilters(o))}return s=i.combineFilters(s,"or"),i.combineFilters([s,t.filter])},g=function(e,t){var n,i=e.count||e.items.length;if(!e.count&&t>1)for(i=0,n=0;n<e.items.length;n++)i+=g(e.items[n],t-1);return i};return{handleDataLoading:function(t){var n,i,r=this,o=t.storeLoadOptions,a=[],u=0,c=!1,d=t.loadOptions.group,p=0;h(o,t.loadOptions),t.group=t.group||d,t.isCustomLoading||(n=e.extend({},o),n.skip=l(r,o.skip),n.skip&&n.take&&d&&(n.skip--,n.take++,c=!0),n.take&&d&&(i=n.take,n.take++),s(r,function(e){return e.offset>=n.skip+n.take+p?!1:void(e.offset>=n.skip+p&&e.count&&(p+=e.count-1,a.push(e),u+=e.count))}),e.each(a,function(){n.filter=f(this.path,n,d)}),t.storeLoadOptions=n,t.collapsedGroups=a,t.collapsedItemsCount=u,t.skip=n.skip||0,t.skipFirstItem=c,t.take=i)},handleDataLoaded:function(e,i){function o(e,t,i,r,a){if(e&&t.length&&i.length){for(var s,l=n.toComparable(t[0],!0),u=0;u<e.length&&(s=n.toComparable(e[u].key,!0),!(a>=r.offset||l===s));u++)a+=g(e[u],i.length);e.length&&l===s||e.splice(u,0,{key:t[0],items:[],count:1===t.length?r.count:void 0}),o(e[u].items,t.slice(1),i.slice(1),r,a)}}var a,s,l=this,c=e.data,d=e.collapsedGroups,h=r(e.group),p=h.length;if(i(e),p){if(s=t.data.query(c),t.data.utils.multiLevelGroup(s,h).enumerate().done(function(e){c=e}),d)for(a=0;a<d.length;a++)o(c,d[a].path,h,d[a],e.skip);e.isCustomLoading||(u(l,c,[],e.skip,e.skipFirstItem,e.take),l.updateItemsCount(c,p)),e.data=c,e.collapsedItemsCount&&e.extra&&e.extra.totalCount>=0&&(e.extra.totalCount+=e.collapsedItemsCount)}},updateTotalItemsCount:function(){var e=0;s(this,function(t){t.count&&(e-=t.count-1)}),this.callBase(e)},changeRowExpand:function(t){var n,i=this,r=i._dataSource,o=r.beginPageIndex?r.beginPageIndex():r.pageIndex(),s=r.items(),u=l(i,o*r.pageSize()),c=i.findGroupInfo(t);return n=c&&!c.isExpanded?e.Deferred().resolve(c.count):a(r,{filter:p(t,{filter:r.filter(),group:r.group()})}),e.when(n).done(function(e){e=parseInt(e.length?e[0]:e),c?(d(i,s,[],u),c.isExpanded=!c.isExpanded,c.count=e):(c={offset:-1,count:e,path:t,isExpanded:!1},d(i,s,[],u,c),c.offset>=0&&i.addGroupInfo(c)),i.updateTotalItemsCount()}).fail(function(){r.fireEvent("loadError",arguments)})},allowCollapseAll:function(){return!1},refresh:function(t,n,i){var r=this,o=t.storeLoadOptions,l=r._dataSource;return this.callBase.apply(this,arguments),n||i.reload?s(r,function(t){var n=a(l,{filter:p(t.path,o)}),i=a(l,{filter:m(t.path,o)});return e.when(i,n).done(function(e,n){e=parseInt(e.length?e[0]:e),n=parseInt(n.length?n[0]:n),t.offset=e,t.count!==n&&(t.count=n,r.updateTotalItemsCount())})},!0):void 0}}}())}(jQuery,DevExpress),function(e,t){var n=t.ui.dxDataGrid,i=n.normalizeSortingInfo,r=t.require("/ui/ui.errors");n.CollapsedGroupingHelper=n.GroupingHelper.inherit(function(){function o(i,r,o){var a,s,l=[],u=r.data;e.each(o.paths,function(e,t){l.push(n.createGroupFilter(t,{group:r.storeLoadOptions.group}))}),a=r.storeLoadOptions.filter,r.storeLoadOptions.isLoadingAll||(a=n.combineFilters([a,n.combineFilters(l,"or")])),r.data=e.Deferred(),s=e.extend({},r.storeLoadOptions,{group:null,filter:a,skip:o.skip,take:o.take}),e.when(0===o.take?[]:i._dataSource.store().load(s)).done(function(n){e.each(o.items,function(e,i){t.data.query(n).filter(l[e]).enumerate().done(function(e){i.items=e})}),r.data.resolve(u)}).fail(r.data.reject)}var a=function(e,t){return e.foreachGroups(function(e,n){return e.isExpanded?t(e,n):void 0},!0)},s=function(e,t,n,i,r,o,a){var l,u,c,d;if(i.items=i.items||[],i.paths=i.paths||[],i.count=i.count||0,i.lastCount=i.lastCount||0,n)for(l=0;l<t.length;l++)u=t[l],void 0!==u.items&&(r.push(u.key),o?d=!0:(c=e.findGroupInfo(r),d=c&&c.isExpanded),d?u.items?s(e,u.items,n-1,i,r,o,a):1===n&&u.count&&(!o||a)&&(i.items.push(u),i.paths.push(r.slice(0)),i.count+=i.lastCount,i.lastCount=u.count):(u.collapsedItems=u.items,u.items=null),r.pop())},l=function(e,t,n,i){return u(e,t,0,n,[],i)},u=function(e,t,n,i,r,o){var a,s,l,c,d=0;if(n>=i)return t.length;for(l=0;l<t.length;l++)if(a=t[l]){if(r.push(a.key),!a.count&&!a.items||void 0===a.items||(c=e.findGroupInfo(r),c?(c.count=a.count>0?a.count:a.items.length,c.offset=o+l):e.addGroupInfo({isExpanded:e._isGroupExpanded(n),path:r.slice(0),offset:o+l,count:a.count>0?a.count:a.items.length}),s=a.items||!a.count?u(e,a.items,n+1,i,r,0):a.count,0>s))return-1;d+=s,r.pop()}return d},c=function(e,t){return e&&e.length&&e[t]&&!!e[t].isExpanded},d=function(e,t,n){for(var i,r=n,o=0;o<e.length;o++)i=e[o].offset+1,o>0&&(i+=e[o-1].childrenTotalCount,t&&(i+=h(r,t,i,o-1)*o)),r+=i;return r},h=function(e,t,n,i){if(i=i||0,t>1&&n>0){var r=e-Math.floor(e/t)*t||t;return r+=n-i-2,0>r&&(r+=t),Math.floor(r/(t-i-1))}return 0};return{updateTotalItemsCount:function(e){var t=0,n=e.extra&&e.extra.totalCount||0,i=e.extra&&e.extra.totalGroupCount||0,r=this._dataSource.pageSize(),o=this._isVirtualPaging();a(this,function(e){e.childrenTotalCount=0}),a(this,function(e,n){var i=d(n,o?0:r,t),a=e.count+e.childrenTotalCount;o||(a+=h(i,r,a,n.length-1)),n[n.length-2]?n[n.length-2].childrenTotalCount+=a:t+=a}),this.callBase(t-n+i)},_isGroupExpanded:function(e){var t=this._dataSource.group();return c(t,e)},_updatePagingOptions:function(e){var t=this,n=t._isVirtualPaging(),i=t._dataSource.pageSize(),r=[],o=[],s=0,l=0;e.take&&(a(this,function(e){e.childrenTotalCount=0,e.skipChildrenTotalCount=0}),a(t,function(t,a){var u,c,p=0,f=0,m=d(a,n?0:i,l),g=0,_=0,v=t.count+t.childrenTotalCount,y=v;u=e.skip-m,m<=e.skip+e.take&&v&&(c=e.take,n||(g=h(m,i,v,a.length-1),v+=g*a.length,y+=g,i&&u>=0&&(p=a.length,f=a.length-1,_=Math.floor(u/i))),u>=0?(m+v>e.skip&&r.unshift(u-_*p-t.skipChildrenTotalCount),m+v>=e.skip+c&&o.unshift(c-p-t.childrenTotalCount+t.skipChildrenTotalCount)):m+v>=e.skip+c&&o.unshift(c+u-t.childrenTotalCount)),m<=e.skip&&(a[a.length-2]?a[a.length-2].skipChildrenTotalCount+=Math.min(y,u+1-_*f):s+=Math.min(y,u+1)),
m<=e.skip+c&&(v=Math.min(y,u+c-(_+1)*f),a[a.length-2]?a[a.length-2].childrenTotalCount+=v:l+=v)}),e.skip-=s,e.take-=l-s),e.skips=r,e.takes=o},changeRowExpand:function(t){var n=this,i=n.findGroupInfo(t);return i?(i.isExpanded=!i.isExpanded,e.Deferred().resolve()):e.Deferred().reject()},handleDataLoadedCore:function(t,n){var a,u=this,c=i(t.storeLoadOptions.group||t.loadOptions.group).length,d={};if(t.isCustomLoading)n(t),s(u,t.data,c,d,[],t.isCustomLoading,t.storeLoadOptions.isLoadingAll);else{if(a=l(u,t.data,c,0),0>a)return void(t.data=e.Deferred().reject(r.Error("E1037")));t.remoteOperations.paging||c&&t.extra&&t.loadOptions.requireTotalCount&&(t.extra.totalCount=a,t.extra.totalGroupCount=t.data.length),u.updateTotalItemsCount(t),u._updatePagingOptions(t),n(t),u._processPaging(t,c),s(u,t.data,c,d,[]),d.skip=t.skips[c-1],void 0!==t.takes[c-1]&&(d.take=d.count?d.count-(d.skip||0):0,d.take+=t.takes[c-1])}d.paths.length&&t.storeLoadOptions.group&&o(u,t,d),t.isCustomLoading||e.when(t.data).done(function(e){u.updateItemsCount(e,c)})},_processPaging:function(e,t){var n,i,r,o,a,s;for(n=e.skips,i=e.takes,a=e.data,r=0;a&&t>r;r++)o=a[0],a=o&&o.items,void 0!==n[r]&&(o.isContinuation=!0,a&&(a=a.slice(n[r]),o.items=a));for(a=e.data,r=0;a&&t>r;r++)o=a[a.length-1],a=o&&o.items,o&&(s=o.count-(o.isContinuation&&n[r]||0)||a.length,void 0!==i[r]&&s>i[r]&&(o.isContinuationOnNextPage=!0,a&&(a=a.slice(0,i[r]),o.items=a)))},refresh:function(e){function t(e,t){t.length===s+1&&(e.isExpanded=n)}for(var n,r=this,o=e.storeLoadOptions,a=i(r._group),s=0;s<a.length;s++)n=c(o.group,s),c(r._group,s)!==n&&r.foreachGroups(t);r.callBase.apply(this,arguments),r.foreachGroups(function(e){e.count=0})}}}())}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=t.require("/utils/utils.common"),o="dx-master-detail-cell",a="dx-master-detail-row",s="dx-cell-focus-disabled",l="dx-row-lines";i.registerModule("masterDetail",{defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({}),e}},data:function(){var t=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")};return{init:function(){var e=this;t(e),e.callBase()},expandAll:function(e){var t=this;0>e?(t._isExpandAll=!0,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},collapseAll:function(e){var t=this;0>e?(t._isExpandAll=!1,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},isRowExpanded:function(e){var t=this,n=i.getIndexByKey(e,t._expandedItems);return r.isArray(e)?t.callBase.apply(t,arguments):!!(t._isExpandAll^(n>=0&&t._expandedItems[n].visible))},_changeRowExpandCore:function(e){var t,n,o,a=this;return r.isArray(e)?a.callBase.apply(a,arguments):(t=i.getIndexByKey(e,a._expandedItems),t>=0?(o=a._expandedItems[t].visible,a._expandedItems[t].visible=!o):a._expandedItems.push({key:e,visible:!0}),n=a.getRowIndexByKey(e),a.updateItems({changeType:"update",rowIndices:[n,n+1]}),void 0)},_processDataItem:function(t,n){var i=this,o=i.callBase.apply(i,arguments);return o.isExpanded=i.isRowExpanded(o.key),void 0===n.detailColumnIndex&&(n.detailColumnIndex=-1,e.each(n.visibleColumns,function(e,t){return"expand"!==t.command||r.isDefined(t.groupIndex)?void 0:(n.detailColumnIndex=e,!1)})),n.detailColumnIndex>=0&&(o.values[n.detailColumnIndex]=o.isExpanded),o},_processItems:function(t,n){var r,o=this,a=[];return t=o.callBase.apply(o,arguments),"loadingAll"===n?t:("refresh"===n&&(o._expandedItems=e.grep(o._expandedItems,function(e){return e.visible})),e.each(t,function(e,t){a.push(t),r=i.getIndexByKey(t.key,o._expandedItems),"data"===t.rowType&&(t.isExpanded||r>=0)&&!t.inserted&&a.push({visible:t.isExpanded,rowType:"detail",key:t.key,data:t.data,values:[]})}),a)},optionChanged:function(e){var n,i,r,o,a=this;if("masterDetail"===e.name){switch(e.name="dataSource",e.fullName){case"masterDetail":n=e.value||{},i=e.previousValue||{},r=n.enabled!==i.enabled,o=n.autoExpandAll!==i.autoExpandAll;break;case"masterDetail.enabled":r=!0;break;case"masterDetail.autoExpandAll":o=!0}(r||o)&&t(a)}a.callBase(e)}}}()},views:{rowsView:function(){return{_getColumnTemplate:function(e){var t,n=this,i=e.column;return t="detail"===i.command?n.option("masterDetail.template")||n._getDefaultTemplate(i):n.callBase.apply(n,arguments)},_createRow:function(e){var t=this.callBase(e);return e&&"detail"===e.rowType&&(this.option("showRowLines")&&t.addClass(l),t.addClass(a).toggle(e.visible)),t},_getGroupCellOptions:function(e){var t=e.row,n=this._columnsController.getGroupColumns(),i=n.length+e.columnsCountBeforeGroups,r=i+Number(this.option("masterDetail.enabled"));return t&&"detail"===t.rowType?{columnIndex:i,emptyCellsCount:r,colspan:e.columns.length-r}:this.callBase(e)},_renderCells:function(e,t){var n,i,r,a=t.row;if("detail"===a.rowType){for(i=this._getGroupCellOptions(t),r=0;r<i.emptyCellsCount;r++)this._renderCell(e,{value:null,row:a,rowIndex:a.rowIndex,column:t.columns[r]});n=this._renderCell(e,{value:null,row:a,rowIndex:a.rowIndex,column:{command:"detail"},columnIndex:i.columnIndex}),n.addClass(s).addClass(o).attr("colspan",i.colspan)}else this.callBase.apply(this,arguments)}}}()}}})}(jQuery,DevExpress),function(e,t){var n=t.ui.dxDataGrid,i=t.require("/ui/events/ui.events.utils"),r=i.addNamespace,o=t.require("/utils/utils.object"),a=t.require("/utils/utils.common"),s=t.require("/ui/ui.dialog"),l=t.require("/ui/widgets/ui.button"),u=DevExpress.require("/ui/ui.errors"),c=t.require("/devices"),d=n.getIndexByKey,h="dx-link",p="dx-editor-cell",f="dx-selection",m="dx-edit-row",g="dx-datagrid-edit-form",_="dx-edit-button",v="__DX_INSERT_INDEX__",y="dx-row",x="dx-row-removed",b="dx-row-inserted",w="dx-row-modified",C="dx-cell-modified",S="dx-highlight-outline",k="dxDataGridEditing",D="dx-datagrid-focus-overlay",T="dx-datagrid-readonly",E="dx-data-row",I="dx-checkbox",A="dx-editor-inline-block",$="dx-cell-focus-disabled",B="batch",O="row",P="cell",M="form",R="insert",V="update",L="remove",F="dx-pointer-events-none",z="dx-pointer-events-target",H=function(e){var t=e.option("editing.mode");return t===B||t===P||t===M?t:O},N=function(e){var t=H(e);return t===O||t===M};n.EditingController=n.ViewController.inherit(function(){var n=function(t){return function(n,i){var r=e("<div/>").appendTo(n);t.getController("editorFactory").createEditor(r,e.extend({},i.column,{value:i.value,setValue:i.setValue,row:i.row,parentType:"dataRow",width:null,readOnly:!i.setValue,id:i.id}))}};return{init:function(){var t=this;t._insertIndex=1,t._editRowIndex=-1,t._editData=[],t._editColumnIndex=-1,t._columnsController=t.getController("columns"),t._dataController=t.getController("data"),t._dataChangedHandler||(t._dataChangedHandler=e.proxy(t._handleDataChanged,t),t._dataController.changed.add(t._dataChangedHandler)),t._saveEditorHandler||(t.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),t.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),t._saveEditorHandler=t.createAction(function(n){var i,r,o,a,s,l,u,c,d,h=n.jQueryEvent;N(t)||!t.isEditing()||t._editCellInProgress||(r=e(h.target).closest(".dx-dropdowneditor-overlay").length,o=e(h.target).closest(document).length,a=e(h.target).hasClass(D),c=e(h.target).closest("."+E).length,i=t._columnsController.getVisibleColumns(),s=e(h.target).closest("."+y+"> td"),u=s[0]&&s[0].cellIndex,d=t.getView("rowsView").getRowIndex(s.parent()),l=i[u]&&i[u].allowEditing,c&&(!c||l||t.isEditCell(d,u))||r||a||!o||t.closeEditCell())}),e(document).on("dxclick",t._saveEditorHandler)),t._updateEditColumn(),t._updateEditButtons()},_handleDataChanged:function(t){"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndeces(),"prepend"===t.changeType&&e.each(this._editData,function(e,n){n.rowIndex+=t.items.length,n.type===R&&(n.key.rowIndex+=t.items.length)})},getEditMode:function(){return H(this)},getFirstEditableColumnIndex:function(){var t,n=this.getController("columns"),i=n.getVisibleColumns();return e.each(i,function(e,n){return n.allowEditing?(t=e,!1):void 0}),t},getFirstEditableCellInRow:function(e){return this.getView("rowsView").getCellElement(e?e:0,this.getFirstEditableColumnIndex())},getFocusedCellInRow:function(e){return this.getFirstEditableCellInRow(e)},getIndexByKey:function(e,t){return d(e,t)},hasChanges:function(){for(var e=this,t=!1,n=0;n<e._editData.length;n++)if(e._editData[n].type){t=!0;break}return t},dispose:function(){this.callBase(),e(document).off("dxclick",this._saveEditorHandler)},optionChanged:function(e){"editing"===e.name?(this.init(),e.handled=!0):this.callBase(e)},publicMethods:function(){return["insertRow","addRow","removeRow","deleteRow","undeleteRow","editRow","editCell","closeEditCell","saveEditData","cancelEditData","hasEditData"]},refresh:function(){H(this)!==B?this.init():(this._editRowIndex=-1,this._editColumnIndex=-1)},isEditing:function(){return this._editRowIndex>-1},isEditRow:function(e){return(H(this)===O||H(this)===M)&&this._editRowIndex===e},getEditFormRowIndex:function(){return H(this)===M?this._editRowIndex:-1},isEditCell:function(e,t){return this._editRowIndex===e&&this._editColumnIndex===t},_needInsertItem:function(e,t){var n=this,i=n._dataController.dataSource(),r=n.option("scrolling.mode"),o=i.pageIndex(),a=i.beginPageIndex?i.beginPageIndex():o,s=i.endPageIndex?i.endPageIndex():o;if("standard"!==r)switch(t){case"append":return e.key.pageIndex===s;case"prepend":return e.key.pageIndex===a;case"refresh":e.key.rowIndex=0,e.key.pageIndex=0;break;default:return e.key.pageIndex>=a&&e.key.pageIndex<=s}return e.key.pageIndex===o},processItems:function(e,t){var n,i,r,o=this,a=o._editData;for(o.update(t),n=0;n<a.length;n++)i=a[n].key,r={key:i},a[n].type===R&&o._needInsertItem(a[n],t)&&(r[v]=i[v],e.splice(i.rowIndex,0,r));return e},processDataItem:function(t,n,i){var r,o,a,s,l=this,u=t.data[v]?t.data.key:t.key;if(r=d(u,l._editData),r>=0)switch(s=H(l),o=l._editData[r],a=o.data,o.type){case R:t.inserted=!0,t.key=u,t.data=a;break;case V:t.modified=!0,t.oldData=t.data,t.data=e.extend(!0,{},t.data,a),t.modifiedValues=i(a,n);break;case L:s===B&&(t.data=e.extend(!0,{},t.data,a)),t.removed=!0}},insertRow:function(){return u.log("W0002","dxDataGrid","insertRow","15.2","Use the 'addRow' method instead"),this.addRow()},addRow:function(){var e,n=this,i=n._dataController,r=i.store(),o=r&&r.key(),a=n.getView("rowsView"),s={data:{}},l={pageIndex:i.pageIndex(),rowIndex:a?a.getTopVisibleItemIndex():0},u=n._editRowIndex,c=H(n);c===P&&n.hasChanges()&&n.saveEditData(),n.refresh(),c!==B&&n._insertIndex>1||(o||(s.data.__KEY__=String(new t.data.Guid)),n.executeAction("onInitNewRow",s),c!==B&&(n._editRowIndex=l.rowIndex),l[v]=n._insertIndex++,n._addEditData({key:l,data:s.data,type:R}),i.updateItems({changeType:"update",rowIndices:[u,l.rowIndex]}),e=n.getFirstEditableCellInRow(l.rowIndex),n._delayedInputFocus(e,function(){var e=n.getFirstEditableCellInRow(l.rowIndex);e&&e.trigger("dxclick")}),n._afterInsertRow({key:l,data:s.data}))},_isEditingStart:function(e){return this.executeAction("onEditingStart",e),e.cancel},_beforeEditCell:function(e,t,n){return H(this)===P&&!n.inserted&&this.hasChanges()&&(this.saveEditData(),this.hasChanges())?!0:void 0},editRow:function(e){var t,n=this,i=n._dataController,r=i.items(),o=r[e],a={data:o.data,cancel:!1},s=n._editRowIndex;return e===s?!0:(o.inserted||(a.key=o.key),void(n._isEditingStart(a)||(n.init(),n._pageIndex=i.pageIndex(),n._editRowIndex=r[0].inserted?e-1:e,n._addEditData({data:{},key:o.key,oldData:o.data}),i.updateItems({changeType:"update",rowIndices:[s,e]}),(H(n)===O||H(n)===M)&&(t=n.getFocusedCellInRow(n._editRowIndex),n._delayedInputFocus(t,function(){t&&n.component.focus(t)})))))},editCell:function(e,t){var n,i,r=this,o=r._columnsController,s=r._dataController,l=s.items(),u=l[e],c={data:u&&u.data,cancel:!1},d=r._editRowIndex,h=r._editColumnIndex,p=o.getVisibleColumns();return a.isString(t)&&(t=o.columnOption(t,"index"),t=o.getVisibleIndex(t)),c.column=o.getVisibleColumns()[t],i=c.column&&c.column.showEditorAlways,c.column&&u&&"data"===u.rowType&&!u.removed&&!N(r)?this.isEditCell(e,t)?!0:r._beforeEditCell(e,t,u)?!0:(u.inserted||(c.key=u.key),r._isEditingStart(c)?!0:(r._editRowIndex=e,r._editColumnIndex=t,r._pageIndex=s.pageIndex(),r._addEditData({data:{},key:u.key,oldData:u.data}),i&&(!p[h]||p[h].showEditorAlways)||(r._editCellInProgress=!0,r.getController("editorFactory").loseFocus(),s.updateItems({changeType:"update",rowIndices:[d,r._editRowIndex]})),n=r.getView("rowsView").getCellElement(r._editRowIndex,r._editColumnIndex),n.find(":focus").length?r._editCellInProgress=!1:r._focusEditingCell(function(){r._editCellInProgress=!1},n),!0)):!1},_delayedInputFocus:function(e,t){function n(){t&&t(),e&&e.find("[tabindex], input").first().focus()}c.real().ios?n():setTimeout(n)},_focusEditingCell:function(e,t){var n=this;t=t||n.getView("rowsView").getCellElement(n._editRowIndex,n._editColumnIndex),n._delayedInputFocus(t,e)},removeRow:function(e){return u.log("W0002","dxDataGrid","removeRow","15.2","Use the 'deleteRow' method instead"),this.deleteRow(e)},deleteRow:function(e){var t,n,i=this,r=i.option("editing"),o=r&&r.texts,l=o&&o.confirmDeleteTitle,u=r&&r.mode===B,c=o&&o.confirmDeleteMessage,h=i._dataController,p=i._editRowIndex,f=h.items()[e],m=f&&f.key;f&&(t=function(t){i.refresh();var n=d(t,i._editData);n>=0?i._editData[n].type===R?i._editData.splice(n,1):i._editData[n].type=L:i._addEditData({key:t,oldData:f.data,type:L}),u?h.updateItems({changeType:"update",rowIndices:[p,e]}):i.saveEditData()},u||!c?t(m):(n=a.isDefined(l)&&l.length>0,s.confirm(c,l,n).done(function(e){e&&t(m)})))},undeleteRow:function(t){var n,i,r=this,o=r._dataController,a=o.items()[t],s=r._editRowIndex,l=a&&a.key;a&&(n=d(l,r._editData),n>=0&&(i=r._editData[n],e.isEmptyObject(i.data)?r._editData.splice(n,1):i.type=V,o.updateItems({changeType:"update",rowIndices:[s,t]})))},_saveEditDataCore:function(t,n){function i(t,n,i){function o(e){return function(t){var n=t instanceof Error?t:new Error(t&&String(t)||"Unknown error");e.reject(n)}}var a=e.Deferred();return r.executeAction(t,n),e.when(n.cancel).done(function(e){e?a.resolve("cancel"):i(n).done(a.resolve).fail(o(a))}).fail(o(a)),a}var r=this,o=r._dataController.store(),a=!1;return e.each(r._editData,function(a,s){var l,u,c,d=s.data,h=s.oldData,p=s.key,f=s.type;if(!r._beforeSaveEditData(s,a)){switch(f){case L:c={data:h,key:p,cancel:!1},l=i("onRowRemoving",c,function(){return o.remove(p)});break;case R:c={data:d,cancel:!1},l=i("onRowInserting",c,function(){return o.insert(c.data)});break;case V:c={newData:d,oldData:h,key:p,cancel:!1},l=i("onRowUpdating",c,function(){return o.update(p,c.newData)})}l&&(u=e.Deferred(),l.always(function(){n.push(p)}).always(u.resolve),t.push(u.promise()))}}),a},_processSaveEditDataResult:function(e,t){for(var n,i,r,o=this,a=o._dataController,s=H(o),l=0;l<e.length;l++)if(n=e[l],i=d(t[l],o._editData),o._editData[i])if(r=n&&n instanceof Error){if(o._editData[i].error=n,a.dataErrorOccurred.fire(n),s!==B)return!1}else{if("cancel"===n)return!1;o._editData.splice(i,1)}return!0},_fireSaveEditDataEvents:function(t){var n=this;e.each(t,function(t,i){var r=i.data,o=i.key,a=i.type,s={key:o,data:r};switch(i.error&&(s.error=i.error),a){case L:n.executeAction("onRowRemoved",e.extend({},s,{data:i.oldData}));break;case R:n.executeAction("onRowInserted",s);break;case V:n.executeAction("onRowUpdated",s)}})},saveEditData:function(){var t=this,n=[],i=[],r=t._dataController,o=e.extend({},t._editData),a=H(t),s=e.Deferred(),l=function(e){e._editColumnIndex=-1,e._editRowIndex=-1};return t._beforeSaveEditData()?void t._afterSaveEditData():(t._saveEditDataCore(i,n),i.length?(e.when.apply(e,i).done(function(){t._processSaveEditDataResult(arguments,n)&&(l(t),e.when(r.refresh()).always(function(){t._fireSaveEditDataEvents(o),t._afterSaveEditData(),s.resolve()}))}).fail(s.resolve),s.promise()):(N(t)?t.hasChanges()||t.cancelEditData():a===B||a===P?(l(t),r.updateItems()):t._focusEditingCell(),t._afterSaveEditData(),s.resolve().promise()))},_updateEditColumn:function(){var e=this,t=e.option("editing"),n=H(e),i=t&&((t.allowUpdating||t.allowAdding)&&n===O||t.allowUpdating&&n===M||t.allowDeleting);e._columnsController.addCommandColumn({command:"edit",visible:i,cssClass:"dx-command-edit",width:"auto"}),e._columnsController.columnOption("command:edit","visible",i)},_updateEditButtons:function(){var e=this,t=e._saveChangesButton,n=e._cancelChangesButton,i=e.hasChanges();t&&t.option("disabled",!i),n&&n.option("disabled",!i)},cancelEditData:function(){var e=this,t=e._dataController;e._beforeCancelEditData(),e.init(),t.updateItems()},hasEditData:function(){return this.hasChanges()},closeEditCell:function(){var e=this,t=H(e),n=e._editRowIndex,i=e._dataController;N(e)||setTimeout(function(){t===P&&e.hasChanges()?e.saveEditData():n>=0&&(e._editRowIndex=-1,e._editColumnIndex=-1,i.updateItems({changeType:"update",rowIndices:[n]}))})},update:function(e){var t=this,n=t._dataController;n&&t._pageIndex!==n.pageIndex()&&("refresh"===e&&t.refresh(),t._pageIndex=n.pageIndex()),t._updateEditButtons()},updateFieldValue:function(e,t,n){var i,r=this,o={},a=e.key,s=e.cellElement,l=H(r);void 0!==a&&e.column.setCellValue&&(l===B&&s&&s.addClass(C),e.value=t,e.column.setCellValue(o,t,n),n&&e.column.displayValueMap&&(e.column.displayValueMap[t]=n),i={data:o,key:a,oldData:e.data,type:V},r._addEditData(i),r._updateEditButtons(),e.column.showEditorAlways&&H(r)===P&&e.row&&!e.row.inserted?r.saveEditData().always(function(){r._editColumnIndex=e.columnIndex,r._editRowIndex=e.row.rowIndex,r._focusEditingCell()}):e.row&&(void 0!==n||e.column.setCellValue!==e.column.defaultSetCellValue)&&r._dataController.updateItems({changeType:"update",rowIndices:[e.row.rowIndex]}))},_addEditData:function(e){var t=this,n=d(e.key,t._editData);return 0>n&&(n=t._editData.length,t._editData.push(e)),t._editData[n]&&(e.type=t._editData[n].type||e.type,o.deepExtendArraySafe(t._editData[n],{data:e.data,type:e.type})),n},_formEditorPrepared:function(){},getFormEditorTemplate:function(t,i,r){var o=this;return function(a,s){var l=e.extend({},t,{value:i.calculateCellValue(t.data),column:e.extend({},i,{editorOptions:r.editorOptions}),id:a.component.getItemID(r.name||r.dataField),columnIndex:i.index,setValue:i.allowEditing&&function(e){o.updateFieldValue(l,e)}}),u=i.editCellTemplate||n(o);u(s,l),o._formEditorPrepared(l,s)}},getEditFormTemplate:function(){var n=this;return function(i,r){var o,a,s=n.option("editing.form"),u=n.option("editing.form.items"),c=n.option("editing.form.customizeItem");u||(o=n.getController("columns").getColumns(),u=[],e.each(o,function(e,t){u.push({column:t,name:t.name,dataField:t.dataField})})),n._createComponent(e("<div>").appendTo(i),"dxForm",e.extend({},s,{items:u,formID:new t.data.Guid,customizeItem:function(t){var i=t.column||n._columnsController.columnOption(t.name||t.dataField);i&&(t.label=t.label||{},t.label.text=t.label.text||i.caption,t.template=t.template||n.getFormEditorTemplate(r,i,t),t.column=i,i.formItem&&e.extend(t,i.formItem)),c&&c.call(this,t)}})),a=e("<div>").addClass("dx-datagrid-form-buttons-container").appendTo(i),n._createComponent(e("<div>").appendTo(a),l,{text:n.option("editing.texts.saveRowChanges"),onClick:e.proxy(n.saveEditData,n)}),n._createComponent(e("<div>").appendTo(a),l,{text:n.option("editing.texts.cancelRowChanges"),onClick:e.proxy(n.cancelEditData,n)})}},getColumnTemplate:function(t){var i,o,s,l,u,c=this,d=t.column,p=t.row&&t.row.rowIndex,f=N(c),m=c.isEditRow(p),g=c.isEditCell(p,t.columnIndex);return(d.showEditorAlways||d.setCellValue&&(m&&d.allowEditing||g))&&"data"===t.rowType&&!a.isDefined(d.command)?(l=c.option("editing.allowUpdating"),((l||m)&&d.allowEditing||g)&&(f&&m||!f)&&(d.showEditorAlways&&!f&&(u={cancel:!1,key:t.row.key,data:t.row.data,column:d},c._isEditingStart(u)),u&&u.cancel||(t.setValue=function(e,n){c.updateFieldValue(t,e,n)})),i=d.editCellTemplate||n(c)):"edit"===d.command&&"data"===t.rowType?i=function(t,n){var i=function(t,n,i,o){var a=e("<a />").addClass(h).text(n).on(r("dxclick",k),c.createAction(function(e){var t=e.jQueryEvent;t.stopPropagation(),setTimeout(function(){o.row&&c[i](o.row.rowIndex)})}));o.rtlEnabled?t.prepend(a,"&nbsp;"):t.append(a,"&nbsp;")};t.css("text-align","center"),n.rtlEnabled=c.option("rtlEnabled"),o=c.option("editing")||{},s=o.texts||{},n.row&&n.row.rowIndex===c._editRowIndex&&f?(i(t,s.saveRowChanges,"saveEditData",n),i(t,s.cancelRowChanges,"cancelEditData",n)):(o.allowUpdating&&f&&i(t,s.editRow,"editRow",n),o.allowDeleting&&(n.row.removed?i(t,s.undeleteRow,"undeleteRow",n):i(t,s.deleteRow,"deleteRow",n)))}:"detail"===d.command&&"detail"===t.rowType&&m&&(i=c.getEditFormTemplate(t)),i},renderEditButtons:function(t){var n=this,i=t.find("."+_),r=n.option("editing")||{},o=n.option("editing.texts")||{},a={cancel:o.cancelAllChanges,save:o.saveAllChanges,addrow:o.addRow},s=function(t,i,r){return n._createComponent(e("<div />").addClass(_).addClass("dx-datagrid-"+i+"-button").appendTo(t),l,{icon:"edit-button-"+i,onClick:function(e){var t=e.jQueryEvent;t.stopPropagation(),n[r]()},hint:a&&a[i]})};i.length&&i.remove(),(r.allowUpdating||r.allowAdding||r.allowDeleting)&&H(n)===B&&(n._cancelChangesButton=s(t,"cancel","cancelEditData"),n._saveChangesButton=s(t,"save","saveEditData"),n._updateEditButtons()),r.allowAdding&&s(t,"addrow","addRow")},createHighlightCell:function(t){var n=t.find("."+S);n.length||t.wrapInner(e("<div>").addClass(S+" "+z))},resetRowAndPageIndeces:function(t){var n=this;e.each(n._editData,function(e,i){(i.pageIndex!==n._pageIndex||t)&&(delete i.pageIndex,delete i.rowIndex)})},_afterInsertRow:function(){},_beforeSaveEditData:function(){},_afterSaveEditData:function(){},_beforeCancelEditData:function(){}}}()),n.registerModule("editing",{defaultOptions:function(){return{editing:{mode:"row",allowAdding:!1,allowUpdating:!1,allowDeleting:!1,texts:{editRow:Globalize.localize("dxDataGrid-editingEditRow"),saveAllChanges:Globalize.localize("dxDataGrid-editingSaveAllChanges"),saveRowChanges:Globalize.localize("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:Globalize.localize("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:Globalize.localize("dxDataGrid-editingCancelRowChanges"),addRow:Globalize.localize("dxDataGrid-editingAddRow"),deleteRow:Globalize.localize("dxDataGrid-editingDeleteRow"),undeleteRow:Globalize.localize("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:Globalize.localize("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:Globalize.localize("dxDataGrid-editingConfirmDeleteTitle")},form:{colCount:2}}}},controllers:{editing:n.EditingController},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(e){var t,n=this.getController("editing");return this._editingController.refresh(),t=this.callBase(e),t&&t.done(function(){n.resetRowAndPageIndeces(!0)})},_updateItemsCore:function(e){this.callBase(e);var t=this.items()[this.getController("editing").getEditFormRowIndex()];t&&(t.rowType="detail")},_processItems:function(e,t){return e=this._editingController.processItems(e,t),this.callBase(e,t)},_processDataItem:function(e,t){return this._editingController.processDataItem(e,t.visibleColumns,this.generateDataValues),this.callBase(e,t)},_processItem:function(e,t){return e=this.callBase(e,t),e.inserted&&(t.dataIndex--,delete e.dataIndex),e}},columnsResizer:{_startResizing:function(e){var t=this,n=t.getController("editing"),i=function(){var e=t.option("editing");return e&&e.mode!==O&&n.isEditing()};t.callBase(e),t.isResizing()&&i()&&n.closeEditCell()}}},views:{rowsView:{publicMethods:function(){return this.callBase().concat(["cellValue"])},_getColumnTemplate:function(e){var t=this,n=t.getController("editing").getColumnTemplate(e);return n||t.callBase(e)},_isNativeClick:function(){return c.real().ios&&this.option("editing.allowUpdating")},_createTable:function(){var e=this,t=e.callBase.apply(e,arguments);return!N(e)&&e.option("editing.allowUpdating")&&t.on(r("dxhold","dxDataGridRowsView"),"td:not(."+p+")",e.createAction(function(){var t=e.getController("editing");t.isEditing()&&t.closeEditCell()})),t},_createRow:function(e){var t,n,i,r,o,a=this.callBase(e);return e&&(t=this.getController("editing"),n=t.isEditRow(e.rowIndex),i=!!e.removed,r=!!e.inserted,o=!!e.modified,H(this)===B?i&&a.addClass(x):n&&a.addClass(m),r&&a.addClass(b),o&&a.addClass(w),(n||r||i)&&a.removeClass(f),n&&"detail"===e.rowType&&a.addClass(g)),a},_rowClick:function(t){var n=this,i=n.getController("editing"),r=e(t.jQueryEvent.target).closest("."+y+"> td"),o=n.getCellIndex(r),a=n.option("editing.allowUpdating"),s=n._columnsController.getVisibleColumns()[o],l=s&&(s.allowEditing||i.isEditCell(t.rowIndex,o));r.hasClass(F)||a&&l&&i.editCell(t.rowIndex,o)||i.isEditRow(t.rowIndex)||n.callBase(t)},_cellPrepared:function(e,t){var n,i,r,o=t.columnIndex,s=this.getController("editing"),l=!!t.column.command,u=t.setValue;t.isEditing=s.isEditCell(t.rowIndex,t.columnIndex)||s.isEditRow(t.rowIndex)&&t.column.allowEditing,!a.isDefined(t.column.command)&&(t.isEditing||t.column.showEditorAlways)&&(n=t.column.alignment,e.addClass(p).toggleClass(T,!u).toggleClass($,!u),n&&e.find("input").first().css("text-align",n)),i=e.get(0).firstChild,i&&i.className&&i.className.indexOf(I)>=0&&e.addClass(A).toggleClass($,l||!u),r=t.row&&(t.row.inserted?t.row.values:t.row.modifiedValues),r&&void 0!==r[o]&&t.column&&!l?(s.createHighlightCell(e),e.addClass(C)):u&&s.createHighlightCell(e,!0),this.callBase.apply(this,arguments)},_update:function(e){this.callBase(e),"updateSelection"===e.changeType&&this.getTableElements().children("tbody").children("."+m).removeClass(f)},cellValue:function(e,t,n,i){var r=this.getCellOptions(e,t);if(r){if(void 0===n)return r.value;this.getController("editing").updateFieldValue(r,n,i||"")}}},headerPanel:{_renderCore:function(){this.callBase(),this.getController("editing").renderEditButtons(this.element())},isVisible:function(){var e=this,t=e.getController("editing").option("editing");return e.callBase()||t&&(t.allowAdding||(t.allowUpdating||t.allowDeleting)&&t.mode===B)}}}}})}(jQuery,DevExpress),function(e,t){var n=t.ui.dxDataGrid,i=t.require("/utils/utils.common"),r=t.require("/ui/widgets/ui.button"),o=t.require("/ui/events/pointer/ui.events.pointer"),a=t.require("/ui/widgets/ui.validator"),s=t.require("/validationEngine"),l="dx-datagrid-invalid",u="dx-invalid-message",c="dx-invalid-message-always",d="dx-revert-button",h="dx-datagrid-revert-tooltip",p="dx-highlight-outline",f="__DX_INSERT_INDEX__",m="row",g="form",_="batch",v="cell";n.ValidatingController=n.Controller.inherit(function(){return{init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating")},_rowValidating:function(e,t){var n=this,i=t?t.brokenRules||t.brokenRule&&[t.brokenRule]:[],r=t?t.isValid:e.isValid,o={brokenRules:i,isValid:r,key:e.key,newData:e.data,oldData:e.oldData,errorText:null};return n.executeAction("onRowValidating",o),e.isValid=o.isValid,e.errorText=o.errorText,o},validate:function(t){var n=this,i=!0,r=n._editingController;return t=t||r.getEditMode()===m,n._isValidationInProgress?!1:(n._isValidationInProgress=!0,t?e.each(r._editData,function(t,o){var a;o.type&&"remove"!==o.type&&(a=n.validateGroup(o),a.isValid||e.each(a.brokenRules,function(){var e=this.validator.option("adapter").getValue();void 0===e&&(e=null),this.column&&r.updateFieldValue({key:o.key,column:this.column},e,!0)}),i=i&&a.isValid)}):n._currentCellValidator&&(i=n.validateGroup(n._currentCellValidator._findGroup()).isValid),n._isValidationInProgress=!1,i)},validateGroup:function(e){var t,n=this,i=s.getGroupConfig(e);return i&&i.validators.length&&(t=s.validateGroup(e)),n._rowValidating(e,t)},updateEditData:function(e){this._editingController.getEditMode()!==g?(this.setDisableApplyValidationResults(!0),e.isValid=s.getGroupConfig(e)?s.validateGroup(e).isValid:!0,this.setDisableApplyValidationResults(!1)):e.isValid=!0},setValidator:function(e){this._currentCellValidator=e},getValidator:function(){return this._currentCellValidator},removeValidators:function(t){var n=this,r=n._editingController;e.each(r._editData,function(e,n){var r,o=s.getGroupConfig(n);if((!i.isDefined(t)||t===e)&&o)for(r=0;r<o.validators.length;r++)o.validators[r]._dispose(),r--})},createValidator:function(t,n){var r,s=this,u=s._editingController,c=t.column,d=u.getIndexByKey(t.key,u._editData),h=function(e){if(e.brokenRule&&(e.brokenRule.columnIndex=c.index,e.brokenRule.column=c),n&&!s.getDisableApplyValidationResults()){if(!e.isValid){var t=n.find(":focus");u.createHighlightCell(n,!0),t.is(":focus")||t.focus().trigger(o.down)}n.toggleClass(l,!e.isValid)}};return i.isArray(c.validationRules)?(0>d&&c.showEditorAlways&&(d=u._addEditData({key:t.key})),d>=0?(r=u._editData[d],new a(n||{},{name:c.caption,validationRules:e.extend(!0,[],c.validationRules),validationGroup:r,adapter:n&&n.hasClass("dx-widget")?null:{getValue:function(){var e=c.calculateCellValue(r.data||{});return void 0!==e?e:t.value},applyValidationResults:h}})):void 0):void 0},setDisableApplyValidationResults:function(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults}}}()),n.registerModule("validating",{defaultOptions:function(){return{editing:{texts:{validationCancelChanges:Globalize.localize("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:n.ValidatingController},extenders:{controllers:{editing:{_addEditData:function(e){var t,n=this,i=n.getController("validating"),r=n.callBase(e);return r>=0&&(t=n._editData[r],i.updateEditData(t)),r},_updateRowAndPageIndices:function(){var t=this,n=t.getView("rowsView").getTopVisibleItemIndex(),i=n;e.each(t._editData,function(e,r){r.isValid||r.pageIndex===t._pageIndex||(r.pageIndex=t._pageIndex,r.rowIndex="insert"===r.type?n:i,i++)})},_needInsertItem:function(e){var t=this.callBase.apply(this,arguments);return t&&!e.isValid&&(t=e.key.pageIndex===this._pageIndex),t},processItems:function(t,i){var r,o,a=this,s=0,l=a._editData,u=a.getController("data"),c=function(t,i){var r=-1,o="insert"===t.type,a=t.key;return e.each(i,function(e,t){return n.equalKeys(a,o?t:u.keyOf(t))?(r=e,!1):void 0}),r},d=function(e){var n,i={key:e.key},r=c(e,t);r>=0||(e.rowIndex=e.rowIndex>o?e.rowIndex%o:e.rowIndex,n=e.rowIndex,i[f]=1,r>=0&&(t.splice(r,1),n-=s),t.splice(n,0,i),s++)};if(t=a.callBase(t,i),o=t.length,a.getEditMode()===_&&"prepend"!==i&&"append"!==i)for(r=0;r<l.length;r++)l[r].type&&l[r].pageIndex===a._pageIndex&&l[r].key.pageIndex!==a._pageIndex&&d(l[r]);return t},processDataItem:function(t){var i,r,o=this,a=t.data[f],s=a?t.data.key:t.key,l=o.getEditMode();l===_&&a&&s&&(i=n.getIndexByKey(s,o._editData),i>=0&&(r=o._editData[i],"insert"!==r.type&&(t.data=e.extend(!0,{},r.oldData,r.data),t.key=s))),o.callBase.apply(o,arguments)},_afterInsertRow:function(t){var n=this.getController("validating"),i=this.getController("columns").getHiddenColumns();e.each(i,function(e,i){n.createValidator({column:i,key:t.key,value:i.calculateCellValue(t.data)})}),this.callBase(t)},_beforeSaveEditData:function(e,t){var n,i,r=this,o=r.callBase.apply(r,arguments),a=r.getController("validating");return e?(n="remove"===e.type||e.isValid,n&&a.removeValidators(t),o=o||!n):(i=a.validate(!0),r._updateRowAndPageIndices(),r.getEditMode()===v?i||(r._focusEditingCell(),
o=!0):r.getEditMode()===m&&(o=!i)),o},_beforeEditCell:function(e,t,n){var i=this.callBase(e,t,n),r=this.component.getCellElement(e,t),o=r.data("dxValidator");return this.getEditMode(this)!==v||o&&!o.validate().isValid?void 0:i},_afterSaveEditData:function(){var t=this;e.each(t._editData,function(e,n){t._showErrorRow(n)})},_beforeCancelEditData:function(){var e=this.getController("validating");e.removeValidators(),this.callBase()},_showErrorRow:function(e){var t=this.getController("errorHandling"),n=this.getController("data").items(),i=this.getIndexByKey(e.key,n);!e.isValid&&e.errorText&&i>=0&&t&&t.renderErrorRow(e.errorText,i)},updateFieldValue:function(){var e,t=this;t.callBase.apply(t,arguments),t.getEditMode()===m&&(e=t.getController("validating").getValidator(),e&&e.validate())},createHighlightCell:function(e,t){var n,i=!0;t||(n=e.data("dxValidator"),n&&(i=n.validate().isValid)),i&&this.callBase(e)},getEditDataByKey:function(e){return this._editData[n.getIndexByKey(e,this._editData)]},_formEditorPrepared:function(e,t){this.callBase.apply(this,arguments),this.getController("validating").createValidator(e,t.children(".dx-widget"))}},editorFactory:{_showRevertButton:function(t){var n=this,i=t.find("."+p).first();i.length&&e("<div>").addClass(h).appendTo(t).dxTooltip({animation:null,visible:!0,target:i,closeOnOutsideClick:!1,closeOnTargetScroll:!1,boundary:n._rowsView.element(),contentTemplate:function(){return new r(e("<div>").addClass(d),{icon:"revert",hint:n.option("editing.texts.validationCancelChanges"),onClick:function(){n._editingController.cancelEditData()}}).element()},position:{my:"left top",at:"right top",of:i,offset:"1 0",collision:"flip"}})},_showValidationMessage:function(t,n,i){var r=this,o=t.find("."+p);e("<div/>").addClass(u).addClass(c).text(n).appendTo(t).dxOverlay({target:o.length?o:t,container:t,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,closeOnOutsideClick:!1,closeOnTargetScroll:!1,position:{collision:"fit flip",boundary:r._rowsView.element(),boundaryOffset:"0 0",my:"top "+i,at:"bottom "+i},onPositioned:function(){r._rowsView.element()&&r._rowsView.updateFreeSpaceRowHeight()}})},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._rowsView=this.getView("rowsView")},loseFocus:function(e){e||this.getController("validating").setValidator(null),this.callBase()},focus:function(e,t){var n,i=this,r=e&&e.closest("td"),o=r&&r.data("dxValidator"),a=r&&r.parent().data("options"),s=a?i.getController("editing").getEditDataByKey(a.key):null,l=r&&r.closest(".dx-datagrid-rowsview").find(".dx-editor-cell .dx-tooltip, .dx-editor-cell .dx-invalid-message"),u=r&&i.getController("columns").getVisibleColumns()[r.index()];return l&&l.remove(),o&&u&&(i.getController("validating").setValidator(o),void 0!==o.option("adapter").getValue()&&(n=o.validate(),n.isValid||(t=!0,i._showValidationMessage(r,n.brokenRule.message,u.alignment)))),(n&&!n.isValid||s&&"update"===s.type)&&i._editingController.getEditMode()===v&&i._showRevertButton(r),!t&&i._rowsView.element()&&i._rowsView.updateFreeSpaceRowHeight(),i.callBase(e,t)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(e){var t=this,n=t._getRowElements(),i=t._getFreeSpaceRowElements(e),r=i.first(),o=t.element().find(".dx-invalid-message .dx-overlay-content");t.callBase(e),o.length&&r&&1===n.length&&(!r.is(":visible")||o.outerHeight()>r.outerHeight())&&(i.show(),i.height(o.outerHeight()))},_cellPrepared:function(e,t){this.getController("validating").createValidator(t,e),this.callBase.apply(this,arguments)}}}}})}(jQuery,DevExpress),function(e,t,n){var i=t.ui,r=i.dxDataGrid,o=DevExpress.require("/ui/ui.errors"),a=t.require("/utils/utils.common"),s=t.require("/ui/ui.dataHelper");r.proxyMethod=function(e,t,n){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):n})},r.combineFilters=function(e,t){var n,i=[];for(t=t||"and",n=0;n<e.length;n++)e[n]&&(i.length&&i.push(t),i.push(e[n]));return 1===i.length&&(i=i[0]),i.length?i:void 0},r.DataController=r.Controller.inherit({}).include(s).inherit(function(){var i={init:function(){var t=this;t._items=[],t._columnsController=t.getController("columns"),t._columnsChangedHandler=e.proxy(t._handleColumnsChanged,t),t._dataChangedHandler=e.proxy(t._handleDataChanged,t),t._loadingChangedHandler=e.proxy(t._handleLoadingChanged,t),t._loadErrorHandler=e.proxy(t._handleLoadError,t),t._customizeStoreLoadOptionsHandler=e.proxy(t._handleCustomizeStoreLoadOptions,t),t._columnsController.columnsChanged.add(t._columnsChangedHandler),t._isLoading=!1,t._isCustomLoading=!1,t.createAction("onDataErrorOccurred"),t.dataErrorOccurred.add(function(e){return t.executeAction("onDataErrorOccurred",{error:e})}),t._refreshDataSource()},callbackNames:function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged"]},callbackFlags:function(e){return"dataErrorOccurred"===e?"stopOnFalse":void 0},publicMethods:function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey"]},optionChanged:function(e){function t(){e.handled=!0}function n(){i._columnsController.reset(),i._refreshDataSource()}var i=this;if("dataSource"===e.name&&e.name===e.fullName&&e.value===e.previousValue)return t(),void i.refresh();switch(e.name){case"cacheEnabled":case"loadingTimeout":case"remoteOperations":t();break;case"dataSource":case"scrolling":case"paging":t(),n();break;case"rtlEnabled":n();break;default:i.callBase(e)}},isReady:function(){return!this._isLoading},getCombinedFilter:function(){return this.combinedFilter()},combinedFilter:function(e){var t,i=this,o=i._dataSource,a=i._columnsController;return o&&(e===n&&(e=o.filter()),t=i._calculateAdditionalFilter(),t&&(a.isDataSourceApplied()||a.isAllDataTypesDefined())&&(e=r.combineFilters([t,e])),e=a.updateFilter(e,!o.remoteOperations().filtering)),e},_handleCustomizeStoreLoadOptions:function(e){var t=this._columnsController,n=this._dataSource,i=e.storeLoadOptions;(!e.isCustomLoading||i.isLoadingAll)&&(i.filter=this.combinedFilter(i.filter),t.isDataSourceApplied()||t.updateColumnDataTypes(n),this._columnsUpdating=!0,t.updateSortingGrouping(n,!this._isFirstLoading),this._columnsUpdating=!1,i.sort=t.getSortDataSourceParameters(),i.group=t.getGroupDataSourceParameters(),n.sort(i.sort),n.group(i.group),i.sort=t.getSortDataSourceParameters(!n.remoteOperations().sorting),e.group=t.getGroupDataSourceParameters(!0),this._isFirstLoading=!1)},_handleColumnsChanged:function(e){var t,i,o=this,s=e.changeTypes,l=e.optionNames,u=function(){o._columnsController.columnsChanged.remove(u),o.updateItems()};s.sorting||s.grouping?(o._dataSource&&!o._columnsUpdating&&(o._dataSource.group(o._columnsController.getGroupDataSourceParameters()),o._dataSource.sort(o._columnsController.getSortDataSourceParameters()),o.reload()),o.pageChanged.fire()):s.columns&&((l.filterValues||l.filterValue||l.selectedFilterOperation)&&("onClick"!==this.option("filterRow.applyFilter")||l.filterValues)&&(t=o._columnsController.columnOption(e.columnIndex,"filterValue"),i=o._columnsController.columnOption(e.columnIndex,"filterValues"),(a.isArray(i)||e.columnIndex===n||a.isDefined(t)||!l.selectedFilterOperation||l.filterValue)&&o._applyFilter()),o._needApplyFilter||r.checkChanges(l,["width","visibleWidth","filterValue","selectedFilterOperation","filterValues","filterType"])||o._columnsController.columnsChanged.add(u))},_handleDataChanged:function(t){var n=this,i=n._dataSource,r=n._columnsController,a=r.isAllDataTypesDefined();i&&!n._isDataSourceApplying&&(n._isDataSourceApplying=!0,e.when(n._columnsController.applyDataSource(i)).done(function(){n._isLoading&&n._handleLoadingChanged(!1),n._isDataSourceApplying=!1;var e=n._calculateAdditionalFilter(),i=n._needApplyFilter;n._needApplyFilter=!1,i&&e&&e.length&&!a?(o.log("W1005",n.component.NAME),n._applyFilter()):n.updateItems(t)}),n._isDataSourceApplying&&n._handleLoadingChanged(!0),n._needApplyFilter=!n._columnsController.isDataSourceApplied())},_handleLoadingChanged:function(e){this._isLoading=e,this._fireLoadingChanged()},_handleLoadError:function(e){this.dataErrorOccurred.fire(e)},_initDataSource:function(){var e=this,t=this.option("dataSource"),i=this.option("paging.pageIndex"),r=this.option("paging.pageSize"),o=e.option("scrolling.mode"),a=this.option("paging.enabled"),s="infinite"===o,l="virtual"===o,u=this._dataSource;e.callBase(),t=e._dataSource,e._isFirstLoading=!0,t?(t.requireTotalCount(!s),a!==n&&t.paginate(a||l||s),r!==n&&t.pageSize(r),i!==n&&t.pageIndex(i),e.setDataSource(t)):u&&e.updateItems()},_loadDataSource:function(){var e=this._dataSource;e&&e.load()},_processItems:function(t){var n=this,i=n._columnsController.getVisibleColumns(),r={visibleColumns:i,dataIndex:0},o=[];return e.each(t,function(e,t){a.isDefined(t)&&(t=n._processItem(t,r),o.push(t))}),o},_processItem:function(e,t){return e=this._generateDataItem(e),e=this._processDataItem(e,t),e.dataIndex=t.dataIndex++,e},_generateDataItem:function(e){return{rowType:"data",data:e,key:this.keyOf(e)}},_processDataItem:function(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e},generateDataValues:function(e,t){for(var n,i,r=[],o=0;o<t.length;o++)n=t[o],i=null,n.command?i=null:n.calculateCellValue?i=n.calculateCellValue(e):n.dataField&&(i=e[n.dataField]),r.push(i);return r},_updateItemsCore:function(t){var n,i,o,a=this,s=a._dataSource,l=t.changeType||"refresh";if(t.changeType=l,s){switch(n=t.items||s.items(),n=a._processItems(n.slice(0),l),t.items=n,l){case"prepend":a._items.unshift.apply(a._items,n);break;case"append":a._items.push.apply(a._items,n);break;case"update":var u=-1,c=t.rowIndices.slice(0),d=0;for(c.sort(function(e,t){return e-t}),i=0;i<c.length;i++)c[i]<0&&(c.splice(i,1),i--);t.items=[],t.rowIndices=[],t.changeTypes=[],o=function(e,t){return r.equalKeys(e.key,t.key)},e.each(c,function(e,i){var r,s,c,h;i+=d,u!==i&&(t.rowIndices.push(i),u=i,r=a._items[i],c=a._items[i+1],s=n[i],h=n[i+1],s&&t.items.push(s),r&&s&&o(r,s)?(l="update",a._items[i]=s,r.visible!==s.visible&&t.items.splice(-1,1,{visible:s.visible})):s&&!r||h&&o(r,h)?(l="insert",a._items.splice(i,0,s),d++):(r&&!s||c&&o(s,c))&&(l="remove",a._items.splice(i,1),d--,u=-1),t.changeTypes.push(l))});break;default:a._items=n.slice(0)}e.each(a._items,function(e,t){t.rowIndex=e})}else a._items=[]},updateItems:function(e){e=e||{},this._updateItemsCore(e),this.changed.fire(e)},isLoading:function(){return this._isLoading||this._isCustomLoading},_fireLoadingChanged:function(e){this.loadingChanged.fire(this.isLoading(),e)},_calculateAdditionalFilter:function(){return null},_applyFilter:function(){var t=this,n=t._dataSource;return n?(n.pageIndex(0),t.reload().done(e.proxy(t.pageChanged,"fire"))):void 0},filter:function(e){var t=this._dataSource;return 0===arguments.length?t?t.filter():n:(e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,t&&t.filter(e),this._applyFilter(),void 0)},clearFilter:function(e){var t=this,i=t._columnsController,r=function(e){for(var t=i.columnCount(),r=0;t>r;r++)i.columnOption(r,e,n)};if(t.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":t.filter(null);break;case"search":t.searchByText("");break;case"header":r("filterValues");break;case"row":r("filterValue")}else t.filter(null),t.searchByText(""),r("filterValue"),r("filterValues");t.component.endUpdate()},_fireDataSourceChanged:function(){var e=this,t=function(){e.changed.remove(t),e.dataSourceChanged.fire()};e.changed.add(t)},_createDataSourceAdapterCore:function(e,t){var n=new r.DataSourceAdapter(this.component);return n.init(e,t),n},_createDataSourceAdapter:function(e){var n=this.option("remoteOperations");return"auto"===n&&(n=e.store()instanceof t.data.ArrayStore?{}:{filtering:!0,sorting:!0,paging:!0}),n===!0&&(n={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0}),this._createDataSourceAdapterCore(e,n)},setDataSource:function(e){var t=this,n=t._dataSource;!e&&n&&(n.changed.remove(t._dataChangedHandler),n.loadingChanged.remove(t._loadingChangedHandler),n.loadError.remove(t._loadErrorHandler),n.customizeStoreLoadOptions.remove(t._customizeStoreLoadOptionsHandler),n.dispose(t._isSharedDataSource)),e&&(e=t._createDataSourceAdapter(e)),t._dataSource=e,e&&(t._fireDataSourceChanged(),t._isLoading=!e.isLoaded(),t._needApplyFilter=!0,e.changed.add(t._dataChangedHandler),e.loadingChanged.add(t._loadingChangedHandler),e.loadError.add(t._loadErrorHandler),e.customizeStoreLoadOptions.add(t._customizeStoreLoadOptionsHandler))},items:function(){return this._items},isEmpty:function(){return!this.items().length},pageCount:function(){return this._dataSource?this._dataSource.pageCount():1},dataSource:function(){return this._dataSource},store:function(){var e=this._dataSource;return e&&e.store()},loadAll:function(t){var n,i,r=this,o=e.Deferred(),a=r._dataSource;return a?t?(n={data:t,isCustomLoading:!0,storeLoadOptions:{},loadOptions:{group:a.group(),sort:a.sort()}},a._handleDataLoaded(n),o.resolve(r._processItems(n.data,"loadingAll"),n.extra&&n.extra.summary)):r.isLoading()?o.reject():(i=e.extend({isLoadingAll:!0},a.loadOptions()),i.requireTotalCount=!1,a.load(i).done(function(e,t){e=r._processItems(e.slice(0),"loadingAll"),o.resolve(e,t&&t.summary)}).fail(o.reject)):o.resolve([]),o},getKeyByRowIndex:function(e){var t=this.items()[e];return t?t.key:void 0},getRowIndexByKey:function(e){return r.getIndexByKey(e,this.items())},keyOf:function(e){var t=this.store();return t?t.keyOf(e):void 0},byKey:function(t){var n,i=this.store(),r=this.getRowIndexByKey(t);return i?(r>=0&&(n=e.Deferred().resolve(this.items()[r].data)),n||i.byKey(t)):void 0},getDataByKeys:function(t){var n=this,i=e.Deferred(),r=[],o=[];return e.each(t,function(e,t){r.push(n.byKey(t).done(function(t){o[e]=t}))}),e.when.apply(e,r).always(function(){i.resolve(o)}),i},pageIndex:function(t){var i=this,r=i.option("paging"),o=i._dataSource;return o?t!==n&&o.pageIndex()!==t?(o.pageIndex(t),r&&(r.pageIndex=t),o.load().done(e.proxy(i.pageChanged,"fire"))):o.pageIndex():0},pageSize:function(t){var i=this,r=i.option("paging"),o=i._dataSource;return t===n?o?o.pageSize():0:o&&o.pageSize()!==t?(o.pageIndex(0),o.pageSize(t),r&&(r.pageSize=t),o.reload().done(e.proxy(i.pageChanged,"fire"))):void 0},beginCustomLoading:function(e){this._isCustomLoading=!0,this._fireLoadingChanged(e)},endCustomLoading:function(){this._isCustomLoading=!1,this._fireLoadingChanged()},refresh:function(){var t=this,n=e.Deferred();return e.when(this._columnsController.refresh()).always(function(){e.when(t.reload(!0)).done(n.resolve).fail(n.reject)}),n},_disposeDataSource:function(){this.setDataSource(null)}};return r.proxyMethod(i,"load"),r.proxyMethod(i,"reload"),r.proxyMethod(i,"itemsCount",0),r.proxyMethod(i,"totalItemsCount",0),r.proxyMethod(i,"hasKnownLastPage",!0),r.proxyMethod(i,"isLoaded",!0),r.proxyMethod(i,"totalCount",0),i}()),r.registerModule("data",{defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:n,pageIndex:n}}},controllers:{data:i.dxDataGrid.DataController}})}(jQuery,DevExpress),function(e,t){function n(t,n,i){function r(e){var n=e.element?e.element():e,i=n.offset();return i?e.scrollTop()-(i.top-t.offset().top):t.offset().top}function o(e){return function(){var t=e.scrollTop()-r(e);t=t>0?t:0,n(t)}}function a(t){var n,i="#document"===t.get(0).nodeName,a=t.data("dxScrollable")||i&&e(window)||"auto"===t.css("overflow-y")&&t;a&&(n=o(a),a.on("scroll",n),u.push(function(e){var t=r(a),n=a.scrollTo?"scrollTo":"scrollTop";e-t>=0&&a[n](e+t)}),l.push(a),c.push(function(){a.off("scroll",n)}))}var s,l=[],u=[],c=[];for(i=i||t,s=i.parent();s.length;s=s.parent())a(s);return{scrollTo:function(t){e.each(u,function(e,n){n(t)})},dispose:function(){e.each(c,function(e,t){t()})}}}var i,r,o=t.ui,a=o.dxDataGrid,s=t.require("/utils/utils.translator"),l=t.require("/utils/utils.browser"),u=DevExpress.require("/class"),c="dx-datagrid-table",d="dx-row",h="dx-freespace-row",p="dx-column-lines",f="dx-datagrid-bottom-load-panel",m="dx-datagrid-table-content",g="dx-datagrid-group-space",_="dx-scrollable-container",v="dx-scrollable-content",y="dx-datagrid-content",x="infinite",b="virtual",w=25e4,C=l.msie?4e6:15e6,S=function(e){return e.option("scrolling.mode")===b},k=function(e){return e.option("scrolling.mode")===x},D=u.inherit(function(){var t=function(e){var t=e._dataSource.pageSize();return t&&e._viewportSize>=0?Math.ceil(e._viewportSize/t):1},i=function(e){var n=e.option("scrolling.preloadEnabled"),i=t(e);return i&&(n&&i++,k(e)&&i--),i},r=function(e){return e._cache.length?e._cache[0].pageIndex:-1},o=function(e){return e._cache.length?e._cache[e._cache.length-1].pageIndex:-1},a=function(e,t,n){e._isChangedFiring=!0,t(n),e._isChangedFiring=!1},s=function(e,t){return e._isDelayChanged?(e._isDelayChanged=!1,a(e,t),!0):void 0},l=function(e,t,n,i){var r,o,s=e._dataSource,l=s.items();n&&!e._isDelayChanged&&(r={changeType:n,items:l}),o=e._dataSource.viewportItems(),"append"===n?o.push.apply(o,l):"prepend"===n?o.unshift.apply(o,l):e._dataSource.viewportItems(l),s.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=i,i||a(e,t,r)};return{ctor:function(e,t){var n=this;n._dataSource=t,n.component=e,n._pageIndex=n._lastPageIndex=t.pageIndex(),n._viewportSize=0,n._viewportItemSize=20,n._viewportItemIndex=-1,n._sizeRatio=1,n._items=[],n._cache=[]},option:function(){return this.component.option.apply(this.component,arguments)},virtualItemsCount:function(){var e,t,n,i=this,o=0;return S(i)?(e=r(i),0>e&&(e=0),t=e*i._dataSource.pageSize(),o=i._cache.length*i._dataSource.pageSize(),n=Math.max(0,i._dataSource.totalItemsCount()-o-t),{begin:t,end:n}):void 0},_setViewportPositionCore:function(e,t){var n=this,i=Math.min(n.option("scrolling.timeout")||0,n._dataSource.changingDuration());t&&i<n.option("scrolling.renderingTreshold")&&(i=10),clearTimeout(n._scrollTimeoutID),i>0?n._scrollTimeoutID=setTimeout(function(){n.setViewportItemIndex(e)},i):n.setViewportItemIndex(e)},getViewportPosition:function(){return this._position||0},setViewportPosition:function(e){var t=this,n=t.virtualItemsCount(),i=t._sizeRatio||1,r=t._viewportItemSize,o=n?Math.floor(n.begin*r*i):0;t._position=e,n&&e>=o&&e<=o+t._contentSize?t._setViewportPositionCore(n.begin+(e-o)/r,!0):t._setViewportPositionCore(e/(r*i))},setContentSize:function(e){var t,n=this,i=n.virtualItemsCount();n._contentSize=e,i&&(t=(i.begin+i.end+n.itemsCount())*n._viewportItemSize,n._sizeRatio=t>C?C/t:1)},getContentOffset:function(){var e=this,t=e.virtualItemsCount();return t?Math.floor(t.begin*e._viewportItemSize*e._sizeRatio):0},getVirtualContentSize:function(){var e=this,t=e.virtualItemsCount();return t?(t.begin+t.end)*e._viewportItemSize*e._sizeRatio+e._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(e){var t,n,i,r=this,o=r._dataSource.pageSize(),a=r._dataSource.pageCount(),s=S(r),l=k(r),u=r._dataSource.totalItemsCount(),c=r._viewportItemIndex<0;r._viewportItemIndex=e,o&&(s||l)&&u>=0&&(r._viewportSize&&e+r._viewportSize>=u?r._dataSource.hasKnownLastPage()?(i=a-1,t=u%o,i>0&&t>0&&o/2>t&&i--):i=a:(i=Math.floor(e/o),n=a-1,i=Math.max(i,0),i=Math.min(i,n)),(r.pageIndex()!==i||c)&&(r.pageIndex(i),r.load()))},viewportItemSize:function(e){return void 0!==e&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize:function(e){return void 0!==e&&(this._viewportSize=e),this._viewportSize},pageIndex:function(e){return S(this)||k(this)?(void 0!==e&&(this._pageIndex=e),this._pageIndex):this._dataSource.pageIndex(e)},beginPageIndex:function(e){var t=r(this);return 0>t&&(t=void 0!==e?e:this.pageIndex()),t},endPageIndex:function(){var e=o(this);return e>0?e:this._lastPageIndex},load:function(){var t,n=r(this),a=-1,s=this._dataSource,l=function(e,t){var n=e._dataSource;return t===e.pageIndex()||!n.isLoading()&&t<n.pageCount()||!n.hasKnownLastPage()&&t===n.pageCount()?(n.pageIndex(t),n.load()):void 0};return S(this)||k(this)?((0>n||!this._cache[this._pageIndex-n])&&(a=this._pageIndex),n>=0&&0>a&&this._viewportSize>=0&&(n>0&&o(this)+1===s.pageCount()&&this._cache.length<i(this)+1?a=n-1:n+this._cache.length<=this._pageIndex+i(this)&&(a=n+this._cache.length)),a>=0&&(t=l(this,a)),s.updateLoading()):t=s.load(),t||this._lastPageIndex===this.pageIndex()||this._dataSource.onChanged({changeType:"pageIndex"}),t||e.Deferred().resolve()},loadIfNeed:function(){var e=this;(S(e)||k(e))&&!e._dataSource.isLoading()&&!e._isChangedFiring&&e.load()},handleDataChanged:function(e){var t,n,o,a,u=this,c=u._dataSource,d=u._cache.length;S(u)||k(u)?(t=r(u),t>=0&&(S(u)&&t+u._cache.length!==c.pageIndex()&&t-1!==c.pageIndex()&&(u._cache=[]),k(u)&&0===c.pageIndex()&&(u._cache=[])),a={pageIndex:c.pageIndex(),itemsCount:u.itemsCount(!0)},u.option("scrolling.removeInvisiblePages")?o=u._cache.length>Math.max(i(this),2):s(u,e),t===c.pageIndex()+1?(o?u._cache.pop():n="prepend",u._cache.unshift(a)):(o?u._cache.shift():n="append",u._cache.push(a)),l(u,e,u._cache.length>1?n:void 0,0===d),u.load().done(function(){s(u,e)&&u.load()})):l(u,e)},itemsCount:function(t){var n=0;return!t&&S(this)?e.each(this._cache,function(){n+=this.itemsCount}):n=this._dataSource.itemsCount(),n},reset:function(){this._cache=[]},subscribeToWindowScrollEvents:function(e){var t=this;t._windowScroll=t._windowScroll||n(e,function(e){t.viewportItemSize()&&t.setViewportPosition(e)})},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(e){this._windowScroll&&this._windowScroll.scrollTo(e)}}}());o.dxDataGrid.VirtualScrollController=D,i=function(){var t=function(e){var t=e._virtualScrollController.beginPageIndex(-1);S(e)&&(0>t||e.viewportSize()>=0&&e.getViewportItemIndex()>=0&&(t*e.pageSize()>e.getViewportItemIndex()||t*e.pageSize()+e.itemsCount()<e.getViewportItemIndex()+e.viewportSize())&&e._dataSource.isLoading()?e._isLoading||(e._isLoading=!0,e.loadingChanged.fire(!0)):e._isLoading&&(e._isLoading=!1,e.loadingChanged.fire(!1)))};return{init:function(e){var n=this;n.callBase.apply(n,arguments),n._isLoading=!0,n._items=[],n._isLoaded=!0,n._virtualScrollController=new D(n.component,{pageSize:function(){return n.pageSize()},totalItemsCount:function(){return n.totalItemsCount()},hasKnownLastPage:function(){return n.hasKnownLastPage()},pageIndex:function(t){return e.pageIndex(t)},isLoading:function(){return e.isLoading()},pageCount:function(){return n.pageCount()},load:function(){return e.load()},updateLoading:function(){t(n)},itemsCount:function(){return n.itemsCount(!0)},items:function(){return e.items()},viewportItems:function(e){return e&&(n._items=e),n._items},onChanged:function(e){n.changed.fire(e)}})},_handleLoadingChanged:function(e){var t=this;S(t)||(t._isLoading=e,t.callBase.apply(t,arguments))},_handleLoadError:function(){var e=this;e._isLoading=!1,e.loadingChanged.fire(!1),e.callBase.apply(e,arguments)},_handleDataChanged:function(){var t=e.proxy(this.callBase,this);this._virtualScrollController.handleDataChanged(t)},items:function(){return this._items},itemsCount:function(e){return e?this.callBase():this._virtualScrollController.itemsCount()},virtualItemsCount:function(){return this._virtualScrollController.virtualItemsCount()},getViewportItemIndex:function(){return this._virtualScrollController.getViewportItemIndex()},setViewportItemIndex:function(e){return this._virtualScrollController.setViewportItemIndex(e)},viewportSize:function(e){return this._virtualScrollController.viewportSize(e)},pageIndex:function(e){return this._virtualScrollController.pageIndex(e)},beginPageIndex:function(){return this._virtualScrollController.beginPageIndex()},endPageIndex:function(){return this._virtualScrollController.endPageIndex()},load:function(e){return e?this.callBase(e):this._virtualScrollController.load()},loadIfNeed:function(){return this._virtualScrollController.loadIfNeed()},isLoading:function(){return this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},_changeRowExpandCore:function(){var e=this.callBase.apply(this,arguments);return this._virtualScrollController.reset(),t(this),e},refresh:function(e,n,i){var r=this,o=e.storeLoadOptions,a=r._dataSource;return(n||i.reload)&&(r._virtualScrollController.reset(),r._isLoaded=!1,t(r),r._isLoaded=!0,k(r)?(r.pageIndex(0),a.pageIndex(0),o.pageIndex=0,o.skip=0):(a.pageIndex(r.pageIndex()),a.paginate()&&(o.skip=r.pageIndex()*r.pageSize()))),r.callBase.apply(r,arguments)}}}(),a.DataSourceAdapter=a.DataSourceAdapter.inherit(i),r=function(){return{init:function(){var e=this,t=e.getController("data");e.callBase(),t.pageChanged.add(function(){e.scrollToPage(t.pageIndex())})},scrollToPage:function(e){var t,n=this,i=n._dataController,r=i?i.pageSize():0;t=S(n)||k(n)?e*n._rowHeight*r:0,n.scrollTo({y:t,x:n._scrollLeft})},_renderCore:function(){var e=this,t=new Date;e.callBase.apply(e,arguments),e._updateContentPosition(),e._renderTime=new Date-t},_renderContent:function(e,t){var n=this,i=n._dataController.virtualItemsCount();return i?(t.addClass(m),e.children().length?e.children().first().replaceWith(t):e.append(t),1===e.children("table").length&&(e.append(n._createTable()),n._contentHeight=0),e):n.callBase.apply(n,arguments)},_updateContent:function(e,t){var n,i=this,r=i._findContentElement(),o=t&&t.changeType;"append"===o||"prepend"===o?(n=r.children().first(),e.children("tbody").children("tr")["append"===o?"appendTo":"prependTo"](n),e.remove(),i._getFreeSpaceRowElements().not(":last").remove()):i.callBase.apply(i,arguments),i._updateBottomLoading()},_updateContentPosition:function(){var e,t,n,i,r,o,a,l=this,u=l._rowHeight||20,c=l._dataController.virtualItemsCount();return c?(e=l._findContentElement(),n=e.children(),i=n.eq(0),r=n.eq(1),l._contentTableHeight=i.outerHeight(),t=(c.begin+c.end+l._dataController.itemsCount())*l._rowHeight,l._heightRatio=t>C?C/t:1,t=(c.begin+c.end)*u*l._heightRatio+l._contentTableHeight,a=Math.floor(c.begin*u*l._heightRatio),s.move(i,{top:a}),o=l._contentHeight!==t||0===t||!l._isTableLinesDisplaysCorrect(r)||!l._isColumnElementsEqual(i.find("col"),r.find("col")),o&&(l._contentHeight=t,l._renderVirtualTableContent(r,t)),l._scrollTop<a&&l._dataController.pageIndex()>0&&l.scrollTo({top:a,left:l._scrollLeft}),!0):!1},_isTableLinesDisplaysCorrect:function(e){var t=e.find("."+p).length>0;return t===this.option("showColumnLines")},_isColumnElementsEqual:function(t,n){var i=t.length===n.length;return i&&e.each(t,function(e,t){return t.style.width!==n[e].style.width?i=!1:void 0}),i},_renderVirtualTableContent:function(e,t){for(var n=this,i=n._columnsController.getVisibleColumns(),r=n._createColGroup(i).prop("outerHTML"),o="",a=n.option("showColumnLines")?p:"",s=function(e){return"<tr style='height:"+e+"px;' class='"+h+" "+d+" "+a+"' >"+o+"</tr>"},l=0;l<i.length;l++)o+="expand"===i[l].command?"<td class='"+g+"'/>":"<td />";for(;t>w;)r+=s(w),t-=w;r+=s(t),e.addClass(c),e.html(r)},_findBottomLoadPanel:function(){var e=this.element(),t=e&&e.find("."+f);return t&&t.length?t:void 0},_updateBottomLoading:function(){var t=this,n=t.option("scrolling.mode"),i=n===b,r=n===x,o=!t._dataController.hasKnownLastPage()&&t._dataController.isLoaded()&&(i||r),a=t._findBottomLoadPanel();o?a||e("<div>").addClass(f).append(t._createComponent(e("<div>"),"dxLoadIndicator").element()).appendTo(t._findContentElement()):a&&a.remove()},_handleScroll:function(e){var t=this;t._hasHeight&&t._rowHeight&&t._setViewportScrollTop(e.scrollOffset.top),t.callBase.apply(t,arguments)},_setViewportScrollTop:function(e){var t=this,n=Math.min(t.option("scrolling.timeout")||0,t._renderTime||0);clearTimeout(t._scrollTimeoutID),n>0?t._scrollTimeoutID=setTimeout(function(){t._setViewportScrollTopCore(e)},n):t._setViewportScrollTopCore(e)},_setViewportScrollTopCore:function(e){var t=this,n=t._dataController.virtualItemsCount(),i=t._heightRatio||1,r=t._rowHeight,o=n?Math.floor(n.begin*r*i):0;n&&e>=o&&e<=o+t._contentTableHeight?t._dataController.setViewportItemIndex(n.begin+(e-o)/r):t._dataController.setViewportItemIndex(e/(r*i))},_needUpdateRowHeight:function(e){var t=this;return t.callBase.apply(t,arguments)||e>0&&t.option("scrolling.mode")===x},_updateRowHeight:function(){var t,n=this;n.callBase.apply(n,arguments),n._rowHeight&&(n._updateContentPosition(),t=n._hasHeight?n.element().outerHeight():e(window).outerHeight(),n._dataController.viewportSize(Math.round(t/n._rowHeight)))},setLoading:function(e,t){var n=this,i=n.callBase,r=!!n._findBottomLoadPanel()&&n._dataController.isLoaded();r&&(e=!1),i.call(n,e,t)},_resizeCore:function(){var e,t=this,i=t.element();t.callBase(),t.component.element()&&!t._windowScroll&&i.closest(document).length&&(t._windowScroll=n(i,function(e){!t._hasHeight&&t._rowHeight&&t._setViewportScrollTop(e)},t.component.element()),t.on("disposing",function(){t._windowScroll.dispose()})),e=t._dataController.dataSource(),e&&e.loadIfNeed&&e.loadIfNeed()},getTableElements:function(e){var t=this.callBase();return e&&"virtual"===this.option("scrolling.mode")&&(t=t.add(this.element().find("> ."+_+" > ."+v+"> ."+y).children(":not(."+m+")"))),t},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),a.registerModule("virtualScrolling",{defaultOptions:function(){return{scrolling:{timeout:300,mode:"standard",preloadEnabled:!1,useNative:"auto"}}},extenders:{controllers:{data:function(){var e={};return a.proxyMethod(e,"virtualItemsCount"),a.proxyMethod(e,"viewportSize"),a.proxyMethod(e,"setViewportItemIndex"),e}()},views:{rowsView:r}}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=t.require("/utils/utils.common"),o="dx-datagrid-text-content",a="dx-datagrid-headers",s="dx-header-row",l="dx-datagrid-nowrap",u="dx-column-lines",c="context-menu-sort-asc",d="context-menu-sort-desc",h="context-menu-sort-none",p="dx-cell-focus-disabled",f="dx-column-indicators",m=function(t){return e("<div />").addClass(o).appendTo(t)};i.ColumnHeadersView=i.ColumnsView.inherit({_getDefaultTemplate:function(e){var t,n=this,i=n.option("showColumnLines");return t=e.command?function(e,t){var n=t.column;e.html("&nbsp;"),e.addClass(n.cssClass)}:function(t){var n=m(t,i);n.text(e.caption)}},_getHeaderTemplate:function(e){return!r.isDefined(e.command)&&e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}},_processTemplate:function(e,t){var n,i=this,r=t.column,o=this.callBase(e);return n=o&&r.headerCellTemplate?{render:function(e,t){var n=m(t,i.option("showColumnLines"));o.render(e,n)}}:o},_handleDataChanged:function(){(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(e,t){var n=this.callBase(e,t);return"header"===t.row.rowType&&(n.addClass(p),r.isDefined(t.column.command)||(this.setAria("role","columnheader",n),this.setAria("label",t.column.caption+" "+Globalize.localize("dxDataGrid-ariaColumn"),n))),n},_createRow:function(e){var t=this.callBase(e).toggleClass(u,this.option("showColumnLines"));return"header"===e.rowType&&t.addClass(s),t},_renderCore:function(){var e=this,t=e.element();(!e._tableElement||e._dataController.isLoaded())&&(t.addClass(a).toggleClass(l,!e.option("wordWrapEnabled")).empty(),e._updateContent(e._renderTable()),e.callBase.apply(e,arguments))},_renderRows:function(){var e=this;e._dataController.isLoaded()&&e.callBase.apply(e,arguments)},_getRows:function(){var e=[];return this.option("showColumnHeaders")&&e.push({rowType:"header"}),e},_getCellTemplate:function(e){return"header"===e.rowType?this._getHeaderTemplate(e.column):void 0},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames,i=this.option("showColumnLines");return t.grouping?void(this._isGroupingChanged=!0):(this.callBase(e),
void((n.width||n.visibleWidth)&&(i||this._updateColumnTextWidths(),this.resizeCompleted.fire())))},_updateColumnTextWidths:function(){var t,n,i=this,r=[],a=i.getColumns(),s=i.getColumnElements();s&&(e.each(a,function(o,a){t=0,n=i._getIndicatorContainer(e(s[o])),n.length&&(t=n.outerWidth()),r[o]=e(s[o]).width()-("center"===a.alignment?2*t:t)}),e.each(s,function(t,n){r.length&&r[t]>0&&e(n).find("."+o).css("max-width",r[t])}))},_isElementVisible:function(e){return e&&e.visible},getHeadersRowHeight:function(){var e,t=this._getTableElement();return t?(e=t.find("."+s).first(),e&&e.height()):0},getHeaderElement:function(e){var t=this.getColumnElements();return t&&t.eq(e)},getColumnElements:function(){return this.option("showColumnHeaders")?this.getCellElements(0):void 0},getColumnWidths:function(){var t,n,i=this,r=i.getColumns(),o=i.getColumnElements(),a=i.callBase();return o&&a&&o.length===a.length&&e.each(o,function(i,o){n=e(o).find("."+f),n.length&&(t=n.outerWidth(!0),a[i]+="center"===r[i].alignment?2*t:t)}),a},allowDragging:function(e,t){for(var n,i=this.getColumns(),r=0,o=function(e){return e.allowReordering||e.allowGrouping||e.allowHiding},a=0;a<i.length;a++)o(i[a])&&r++;if(1>=r)return!1;if(!t)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&e&&e.allowReordering;for(a=0;a<t.length;a++)if(n=t[a],n&&n.allowDragging(e))return!0;return!1},getBoundingRect:function(){var e,t=this,n=t.getColumnElements();return n&&n.length?(e=t._getTableElement().offset(),{top:e.top}):null},getName:function(){return"headers"},getColumnCount:function(){var e=this.getColumnElements();return e?e.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(e){var t=this;switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":t._invalidate(!0,!0),e.handled=!0;break;default:t.callBase(e)}},getHeight:function(){var e=this,t=e.element();return t?t.height():0},getContextMenuItems:function(e){var t,n,i,r,o=this;return e.closest("."+s).length?(t=e.closest("td"),n=t.length&&o.getColumns(e)[t[0].cellIndex],r=o.option("sorting"),r&&"none"!==r.mode&&n&&n.allowSorting?(i=function(e){setTimeout(function(){o._columnsController.changeSortOrder(n.index,e.itemData.value)})},[{text:r.ascendingText,value:"asc",disabled:"asc"===n.sortOrder,icon:c,onItemClick:i},{text:r.descendingText,value:"desc",disabled:"desc"===n.sortOrder,icon:d,onItemClick:i},{text:r.clearText,value:"none",disabled:!n.sortOrder,icon:h,onItemClick:i}]):[]):void 0}}),i.registerModule("columnHeaders",{defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:i.ColumnHeadersView}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.common"),r=n.dxDataGrid,o=t.require("/ui/ui.editor"),a={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal","default":"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},s=700,l=1,u="dx-datagrid",c="dx-first-cell",d="dx-datagrid-filter-row",h="dx-menu",p="dx-editor-with-menu",f="dx-editor-container",m="dx-editor-cell",g="dx-filter-menu",_="dx-apply-button",v="dx-highlight-outline",y="dx-focused",x="dx-cell-focus-disabled",b="dx-datagrid-filter-range-overlay",w="dx-filter-range-content",C="dx-datagrid-filter-range-start",S="dx-datagrid-filter-range-end",k=function(){var t=function(e){var t=e&&e.children(),n=t&&t.data("dxComponents"),i=n&&n.length&&t.data(n[0]);return i instanceof o?i:void 0},n=function(e){var t=e.filterValue,n="";return i.isArray(t)?(n=r.formatValue(t[0],e),""!==r.formatValue(t[1],e)&&(n+=" - "+r.formatValue(t[1],e))):i.isDefined(t)&&(n=r.formatValue(t,e)),n},_=function(e,t,n){var r=e._columnsController.columnOption(t),o=r&&r.filterValue,a=n.closest("."+b).length,s=n.hasClass(C);return o&&i.isArray(o)?s?o[0]:o[1]:a?void 0:o},v=function(e,t,n){return"between"===t.selectedFilterOperation?n.hasClass(C)?[e,i.isArray(t.filterValue)?t.filterValue[1]:void 0]:[i.isArray(t.filterValue)?t.filterValue[0]:t.filterValue,e]:e},k=function(e,t){var n=""===t.value?void 0:t.value,r=t.container,o=e._columnsController.columnOption(t.column.index),a=_(e,o.index,r);(i.isDefined(a)||i.isDefined(n))&&(e._applyFilterViewController.setHighLight(r,a!==n),e._columnsController.columnOption(o.index,"filterValue",v(n,o,r),t.notFireEvent))};return{_updateEditorValue:function(e,n){var i=this,r=t(n);r&&r.option("value",_(i,e.index,n))},_columnOptionChanged:function(t){var i,o,a,s,l,u,c,p,m=this,g=t.optionNames;return r.checkChanges(g,["filterValue","selectedFilterOperation"])&&void 0!==t.columnIndex?(o=m.getController("columns").getVisibleIndex(t.columnIndex),a=m.getController("columns").columnOption(t.columnIndex),s=m.getCellElement(m.element().find("."+d).index(),o)||e(),c=s.find("."+w),l=s.find("."+f).first(),g.filterValue&&(m._updateEditorValue(a,l),i=s.find("."+b).data("dxOverlay"),i&&(u=i.content().find("."+f),m._updateEditorValue(a,u.first()),m._updateEditorValue(a,u.last())),i&&i.option("visible")||m._updateFilterRangeContent(s,n(a))),g.selectedFilterOperation&&o>=0&&a&&(p=s.find("."+h),p.length&&(m._updateFilterOperationChooser(p,a,l),"between"===a.selectedFilterOperation?(m._renderFilterRangeContent(s,a),m._showFilterRange(s,a)):l.find("."+w).length&&(m._renderEditor(l,m._getEditorOptions(l,a)),m._hideFilterRange()))),void 0):void m.callBase(t)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(t,i){var r=this,o={},a=t.find(".dx-editor-container"),s=e("<div/>").addClass(b).appendTo(t);return r._createComponent(s,"dxOverlay",{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,closeOnTargetScroll:!0,closeOnOutsideClick:!0,animation:!1,position:{my:"top",at:"top",of:a.length&&a||t,offset:"0 -1"},contentTemplate:function(n){var a=e("<div/>").addClass(f+" "+C).appendTo(n),s=r._getEditorOptions(a,i);return s.sharedData=o,r._renderEditor(a,s),a.find("input").on("keydown",function(e){var n=t.find("[tabindex]").not(e.target).first();9===e.which&&e.shiftKey&&(e.preventDefault(),r._hideFilterRange(),n.length||(n=t.prev().find("[tabindex]").last()),n.focus())}),a=e("<div/>").addClass(f+" "+S).appendTo(n),s=r._getEditorOptions(a,i),s.sharedData=o,r._renderEditor(a,s),a.find("input").on("keydown",function(e){9!==e.which||e.shiftKey||(e.preventDefault(),r._hideFilterRange(),t.next().find("[tabindex]").first().focus())}),n.addClass(u)},onShown:function(e){var t=e.component.content().find("."+f).first();t.find("input").focus()},onHidden:function(){var e=r._columnsController.columnOption(i.index);t.find("."+h).parent().addClass(p),"between"===e.selectedFilterOperation&&(r._updateFilterRangeContent(t,n(e)),r.component.updateDimensions())}})},_updateFilterRangeOverlay:function(e){var t=this._filterRangeOverlayInstance;t&&t.option(e)},_showFilterRange:function(e,t){var n=this,i=e.children("."+b),r=i.length&&i.data("dxOverlay");!r&&t&&(r=n._initFilterRangeOverlay(e,t)),r.option("visible")||(n._filterRangeOverlayInstance&&n._filterRangeOverlayInstance.hide(),n._filterRangeOverlayInstance=r,n._updateFilterRangeOverlay({width:e.outerWidth(!0)+l}),n._filterRangeOverlayInstance&&n._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var e=this._filterRangeOverlayInstance;e&&e.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(e){var t=this.callBase(e);return"filter"===e.rowType&&t.addClass(d),t},_getRows:function(){var e=this.callBase();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e},_renderCellContent:function(t,n){var i,r,o=this,a=n.column;"filter"===n.rowType&&(t.toggleClass(c,0===n.columnIndex),a.command?t.html("&nbsp;"):a.allowFiltering&&(o.setAria("label",Globalize.localize("dxDataGrid-ariaColumn")+" "+a.caption+", "+Globalize.localize("dxDataGrid-ariaFilterCell"),t),t.addClass(m),i=e("<div />").appendTo(t),r=e("<div />").addClass(f).appendTo(i),"between"===a.selectedFilterOperation?o._renderFilterRangeContent(t,a):o._renderEditor(r,o._getEditorOptions(r,a)),a.alignment&&t.find("input").first().css("text-align",a.alignment),a.filterOperations&&a.filterOperations.length&&o._renderFilterOperationChooser(i,a,r))),o.callBase(t,n)},_getEditorOptions:function(t,n){var i=this,r=e.extend({},n,{value:_(i,n.index,t),parentType:"filterRow",showAllText:i.option("filterRow.showAllText"),updateValueTimeout:"onClick"===i.option("filterRow.applyFilter")?0:s,width:null,setValue:function(e,r){k(i,{column:n,value:e,container:t,notFireEvent:r})}});return"between"===n.selectedFilterOperation&&(r.placeholder=t.hasClass(C)?i.option("filterRow.betweenStartText"):i.option("filterRow.betweenEndText")),r},_renderEditor:function(t,n){return t.empty(),this.getController("editorFactory").createEditor(e("<div />").appendTo(t),n)},_renderFilterRangeContent:function(t,i){var r=this,o=t.find("."+f).first();o.empty(),e("<div/>").addClass(w).attr("tabindex",0).on("focusin",function(){r._showFilterRange(t,i)}).appendTo(o),r._updateFilterRangeContent(t,n(i))},_updateFilterRangeContent:function(e,t){var n=e.find("."+w);n.length&&(""===t?n.html("&nbsp;"):n.text(t))},_updateFilterOperationChooser:function(e,t,n){var i,r=this;r._createComponent(e,"dxMenu",{_templates:{},activeStateEnabled:!1,selectionMode:"single",cssClass:u+" "+x+" "+g,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:t.filterOperations&&t.filterOperations.length?!1:!0,icon:a[t.selectedFilterOperation||"default"],selectable:!1,items:r._getFilterOperationMenuItems(t)}],onItemClick:function(e){var i=e.itemData.name,o=!1,a={};e.itemData.items||i===t.selectedFilterOperation||(i?(a.selectedFilterOperation=i,("between"===i||"between"===t.selectedFilterOperation)&&(o="between"===i,a.filterValue=void 0)):a={selectedFilterOperation:t.defaultSelectedFilterOperation,filterValue:void 0},r._columnsController.columnOption(t.index,a),r._applyFilterViewController.setHighLight(n,!0),o||r._focusEditor(n))},onSubmenuShown:function(){i=r._isEditorFocused(n),r.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){e.blur(),e.dxMenu("instance").option("focusedElement",null),i&&r._focusEditor(n)},rtlEnabled:r.option("rtlEnabled")})},_isEditorFocused:function(e){return e.hasClass(y)||e.parents("."+y).length},_focusEditor:function(e){this.getController("editorFactory").focus(e),e.find("input").focus()},_renderFilterOperationChooser:function(t,n,i){var r,o=this;o.option("filterRow.showOperationChooser")&&(t.addClass(p),r=e("<div />").prependTo(t),o._updateFilterOperationChooser(r,n,i))},_getFilterOperationMenuItems:function(t){var n=this,i=[{}],r=n.option("filterRow"),o=r&&r.operationDescriptions||{};return t.filterOperations&&t.filterOperations.length&&(i=e.map(t.filterOperations,function(e){return{name:e,selected:(t.selectedFilterOperation||t.defaultFilterOperation)===e,text:o[e],icon:a[e]}}),i.push({name:null,text:r&&r.resetOperationText,icon:a["default"]})),i},optionChanged:function(e){var t=this;switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:t.callBase(e)}}}}(),D={_calculateAdditionalFilter:function(){var t=this,n=[t.callBase()],o=t._columnsController.getVisibleColumns();return e.each(o,function(){var e;this.allowFiltering&&this.calculateFilterExpression&&i.isDefined(this.filterValue)&&(e=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow"),n.push(e))}),r.combineFilters(n)}};r.ApplyFilterViewController=r.ViewController.inherit({_isOnClick:function(){return"onClick"===this.option("filterRow.applyFilter")},_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(e,t){this._isOnClick()&&(e&&e.toggleClass(v,t),this._getHeaderPanel().enableApplyButton(t))},removeHighLights:function(){if(this._isOnClick()){var e=this.getView("columnHeadersView");e.element().find("."+d+" ."+v).removeClass(v),this._getHeaderPanel().enableApplyButton(!1)}}}),r.registerModule("filterRow",{defaultOptions:function(){return{filterRow:{visible:!1,showOperationChooser:!0,showAllText:Globalize.localize("dxDataGrid-filterRowShowAllText"),resetOperationText:Globalize.localize("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:Globalize.localize("dxDataGrid-applyFilterText"),operationDescriptions:{"=":Globalize.localize("dxDataGrid-filterRowOperationEquals"),"<>":Globalize.localize("dxDataGrid-filterRowOperationNotEquals"),"<":Globalize.localize("dxDataGrid-filterRowOperationLess"),"<=":Globalize.localize("dxDataGrid-filterRowOperationLessOrEquals"),">":Globalize.localize("dxDataGrid-filterRowOperationGreater"),">=":Globalize.localize("dxDataGrid-filterRowOperationGreaterOrEquals"),startswith:Globalize.localize("dxDataGrid-filterRowOperationStartsWith"),contains:Globalize.localize("dxDataGrid-filterRowOperationContains"),notcontains:Globalize.localize("dxDataGrid-filterRowOperationNotContains"),endswith:Globalize.localize("dxDataGrid-filterRowOperationEndsWith"),between:Globalize.localize("dxDataGrid-filterRowOperationBetween")},betweenStartText:Globalize.localize("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:Globalize.localize("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:r.ApplyFilterViewController},extenders:{controllers:{data:D,columnsResizer:{_startResizing:function(){var e,t,n=this;n.callBase.apply(n,arguments),n.isResizing()&&(t=n._columnHeadersView.getFilterRangeOverlayInstance(),t&&(e=t.element().closest("td").index(),(e===n._targetPoint.columnIndex||e===n._targetPoint.columnIndex+1)&&t.content().hide()))},_endResizing:function(){var e,t,n=this;n.isResizing()&&(t=n._columnHeadersView.getFilterRangeOverlayInstance(),t&&(e=t.element().closest("td"),n._columnHeadersView._updateFilterRangeOverlay({width:e.outerWidth(!0)+l}),t.content().show())),n.callBase.apply(n,arguments)}}},views:{columnHeadersView:k,headerPanel:{_isShowApplyFilterButton:function(){var e=this.option("filterRow");return e&&e.visible&&"onClick"===e.applyFilter},_renderCore:function(){var t=this,n=t._applyButton?t._applyButton.option("disabled"):!0;t.callBase(),t._$applyButton&&t._$applyButton.remove(),t._isShowApplyFilterButton()&&(t._applyButton=t._createComponent(e("<div>").addClass(_).appendTo(t.element()),"dxButton",{disabled:n,hint:t.option("filterRow.applyFilterText"),icon:"apply-filter",onClick:function(){t._dataController._applyFilter(),t._applyFilterViewController.removeHighLights()}}),t._$applyButton=t._applyButton.element())},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(e){this._applyButton&&this._applyButton.option("disabled",!e)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(e){"filterRow"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}}),r.ColumnHeadersViewFilterRowExtender=k,r.DataControllerFilterRowExtender=D}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r="dx-datagrid-header-panel";i.HeaderPanel=i.ColumnsView.inherit({_resizeCore:e.noop,_renderCore:function(){this.element().addClass(r)},getHeaderPanel:function(){return this.element()},getHeight:function(){var e=this.element();return e?e.outerHeight(!0):0},isVisible:function(){return!1}}),i.registerModule("headerPanel",{defaultOptions:function(){return{}},views:{headerPanel:i.HeaderPanel}})}(jQuery,DevExpress),function(e,t){function n(e){e=e||[];for(var t=0;t<e.length;t++)e[t].selected=!1,n(e[t].items)}function i(t){var n,r,o;if(e.isArray(t[0])){for(o=[],n=0;n<t.length;n++)e.isArray(t[n])?(r&&o.push(r),o.push(i(t[n])),r="or"):r=s.isConjunctiveOperator(t[n])?"or":"and";return o}return o=s.normalizeBinaryCriterion(t),o[1]=_[o[1]]||o[1],o}var r,o=t.ui,a=o.dxDataGrid,s=t.data.utils,l=t.require("/utils/utils.common"),u="dx-header-filter",c="dx-header-filter-menu",d="dx-datagrid-text-content",h={month:{format:"month",dateType:"full"},quarter:{format:"quarter",dateType:"full"},dayOfWeek:{format:"dayOfWeek",dateType:"full"}},p=function(e){return l.isDefined(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering};a.updateHeaderFilterItemSelectionState=function(e,t,i){if(t^i){if(e.selected=!0,i&&e.items)for(var r=0;r<e.items.length;r++)if(!e.items[r].selected){e.selected=void 0;break}}else i&&(e.selected=!1,n(e.items))},a.HeaderFilterController=a.ViewController.inherit(function(){var n=function(t,n,i){var r=a.getGroupInterval(n),o=e.extend({target:"headerFilter"},n);return r&&(o.groupInterval=r[i],"date"===n.dataType?o.format=h[r[i]]:"number"===n.dataType&&(o.getDisplayFormat=function(){var e={format:n.format,precision:n.precision},o=a.formatValue(t,e),s=t+r[i],l=a.formatValue(s,e);return o&&l?o+" - "+l:""})),o};return{init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(e,t){for(var n=e.length,i="exclude"===t.filterType;n--;)"items"in e[n]&&this._updateSelectedState(e[n].items,t,e[n]),a.updateHeaderFilterItemSelectionState(e[n],a.getIndexByKey(e[n].value,t.filterValues,null)>-1,i)},_normalizeGroupItem:function(e,t,i){var r,o,s=i.path,u=i.valueSelector,c=i.displaySelector,d=i.column;return u&&c?(r=u(e),o=c(e)):(r=e.key,o=r),e=l.isObject(e)?e:{},s.push(r),e.value=1===s.length?s[0]:s.join("/"),e.text=a.formatValue(o,n(o,d,t)),e.text||(e.text=i.headerFilterOptions.texts.emptyValue),delete e.key,e},_processGroupItems:function(e,n,i,r){var o,a,s,u=this,c=r.column,d=c.lookup,h=r.level;for(i=i||[],n=n||0,d&&(o=t.data.utils.compileGetter(d.displayExpr),a=t.data.utils.compileGetter(d.valueExpr)),s=0;s<e.length;s++)e[s]=u._normalizeGroupItem(e[s],n,{column:r.column,headerFilterOptions:r.headerFilterOptions,displaySelector:o,valueSelector:a,path:i}),"items"in e[s]&&(n!==h&&l.isDefined(e[s].value)?u._processGroupItems(e[s].items,n+1,i,r):delete e[s].items),i.pop()},getDataSource:function(n){var i,r,o,s=this,u=s._dataController.dataSource(),c=a.getGroupDataSourceParameters(n,u.remoteOperations().grouping),d=n.headerFilter&&n.headerFilter.dataSource,h=s.option("headerFilter"),p={component:s.component};return l.isDefined(d)&&!l.isFunction(d)?(u=t.data.utils.normalizeDataSourceOptions(d),u.postProcess=function(e){return s._updateSelectedState(e,n),e},u):(n.lookup?(u=t.data.utils.normalizeDataSourceOptions(n.lookup.dataSource),u.postProcess=function(e){return 0===this.pageIndex()&&(e=e.slice(0),e.unshift(null)),s._processGroupItems(e,null,null,{level:0,column:n,headerFilterOptions:h}),s._updateSelectedState(e,n),e},p.dataSource=u):(r=l.isArray(c)?c.length-1:0,s._currentColumn=n,i=s._dataController.getCombinedFilter(),s._currentColumn=null,p.dataSource={filter:i,group:c,load:function(t){var i=e.Deferred();return t.dataField=n.dataField||n.name,u.load(t).done(function(e){s._processGroupItems(e,null,null,{level:r,column:n,headerFilterOptions:h}),s._updateSelectedState(e,n),i.resolve(e)}).fail(i.reject),i}}),l.isFunction(d)&&(d.call(n,p),o=p.dataSource.postProcess,p.dataSource.postProcess=function(e){var t=o&&o.apply(this,arguments)||e;return s._updateSelectedState(t,n),t}),p.dataSource)},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(t){var n=this,i=e.extend(!0,{},n._columnsController.getColumns()[t]);if(i){var r=n._columnsController.getVisibleIndex(t),o=i&&l.isDefined(i.groupIndex),s=o?n.getView("headerPanel"):n.getView("columnHeadersView"),u=s.getColumnElements().eq(o?i.groupIndex:r),c=a.getGroupInterval(i),d=e.extend(i,{type:c&&c.length>1?"tree":"list",apply:function(){n._columnsController.columnOption(t,{filterValues:this.filterValues,filterType:this.filterType})},onShowing:function(e){var t=e.component.overlayContent().dxResizable("instance");t&&t.option("onResizeEnd",function(e){var t=n.getController("columns"),i=t.columnOption(d.dataField,"headerFilter");i=i||{},i.width=e.width,i.height=e.height,t.columnOption(d.dataField,"headerFilter",i,!0)})}});d.dataSource=n.getDataSource(d),n._headerFilterView.showHeaderFilterMenu(u,d)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}}()),a.HeaderFilterView=a.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(t){var n=this,i=n.getListContainer(),r=i.element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked"),o=[],a=function(t,n,i){e.each(n,function(e,n){void 0!==n.selected&&!!n.selected^i?t.push(n.value):n.items&&n.items.length&&a(t,n.items,i)})};r?l.isArray(t.filterValues)&&(t.filterValues=[]):"tree"===t.type&&(a(o,i.option("items"),"exclude"===t.filterType),t.filterValues=o),t.filterValues&&!t.filterValues.length&&(t.filterValues=void 0),t.apply(),n.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){var n,i=this;t&&(i._initializePopupContainer(t),n=i.getPopupContainer(),i.hideHeaderFilterMenu(),i.updatePopup(e,t),n.show())},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var n=this,i="right"===t.alignment?"left":"right";n._popupContainer&&(n._cleanPopupContent(),n._popupContainer.option("position",{my:i+" top",at:i+" bottom",of:e,collision:"flip fit"}))},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.content().empty()},_initializePopupContainer:function(e){var t=this,n=t.element(),i=t.option("headerFilter"),r=e.headerFilter&&e.headerFilter.width||i&&i.width,o=e.headerFilter&&e.headerFilter.height||i&&i.height,a={width:r,height:o,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,closeOnTargetScroll:!0,closeOnOutsideClick:!0,buttons:[{toolbar:"bottom",location:"after",widget:"button",options:{text:i.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"button",options:{text:i.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(n){t._initializeListContainer(e),e.onShowing&&e.onShowing(n)},onInitialized:function(e){var t=e.component;t.option("animation",t._getDefaultOptions().animation)}};l.isDefined(t._popupContainer)?t._popupContainer.option(a):t._popupContainer=t._createComponent(n,"dxPopup",a)},_initializeListContainer:function(t){var n=this,i=n._popupContainer.content(),r={dataSource:t.dataSource,onContentReady:function(){n.renderCompleted.fire()}};n._listContainer="tree"===t.type?n._createComponent(e("<div/>").appendTo(i),"dxTreeView",e.extend(r,{showCheckBoxesMode:"selectAll",keyExpr:"id"})):n._createComponent(e("<div/>").appendTo(i),"dxList",e.extend(r,{pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:"all",itemTemplate:function(e,t,n){return n.text(e.text)},onSelectionChanged:function(n){var i=n.component.option("items"),r=n.component.option("selectedItems");n.component._selectedItemsUpdating||(0===r.length&&i.length?(t.filterType="include",t.filterValues=[]):r.length===i.length&&(t.filterType="exclude",t.filterValues=[])),e.each(i,function(e,n){var i,o=a.getIndexByKey(n,r,null)>=0,s=!!n.selected;s!==o&&(n.selected=o,t.filterValues=t.filterValues||[],i=a.getIndexByKey(n.value,t.filterValues,null),i>=0&&t.filterValues.splice(i,1),o^"exclude"===t.filterType&&t.filterValues.push(n.value))})},onContentReady:function(n){var i=n.component,r=i.option("items"),o=[],a=n.element.find(".dx-list-select-all-checkbox").dxCheckBox("instance");e.each(r,function(){this.selected&&o.push(this)}),i._selectedItemsUpdating=!0,i.option("selectedItems",o),i._selectedItemsUpdating=!1,t.filterValues&&t.filterValues.length&&a.option("value",void 0)}}))},_renderCore:function(){this.element().addClass(c)},init:function(){this._headerFilterController=this.getController("headerFilter")}});var f=a.headerFilterMixin={_applyColumnState:function(e){var t,n=e.rootElement,i=e.column;return"headerFilter"===e.name?(n.find("."+u).remove(),p(i)&&(t=this.callBase(e).toggleClass("dx-header-filter-empty",!i.filterValues||!i.filterValues.length)),t):this.callBase(e)},_renderIndicator:function(e){var t,n=e.container,i=e.indicator;return"headerFilter"===e.name&&(t=this.option("rtlEnabled"),n.children().length&&(!t&&"right"===e.columnAlignment||t&&"left"===e.columnAlignment))?void n.prepend(i):void this.callBase(e)},optionChanged:function(e){"headerFilter"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}},m=e.extend({},f,{_renderCellContent:function(e,t){var n,i=this,r=t.column;i.callBase(e,t),!r.command&&!l.isDefined(r.groupIndex)&&p(r)&&i.option("headerFilter.visible")&&"header"===t.rowType&&(n=i._applyColumnState({name:"headerFilter",rootElement:e,column:r,showColumnLines:i.option("showColumnLines")}),n&&i._subscribeToIndicatorEvent(n,r,"headerFilter"))},_subscribeToIndicatorEvent:function(e,t,n){var i=this;"headerFilter"===n&&e.on("dxclick",i.createAction(function(e){var n=e.jQueryEvent;n.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(t.index)}))},_updateIndicator:function(e,t,n){var i=this.callBase(e,t,n);i&&this._subscribeToIndicatorEvent(i,t,n)},_columnOptionChanged:function(e){var t=e.optionNames;return a.checkChanges(t,["filterValues","filterType"])?void(this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")):void this.callBase(e)}}),g=e.extend({},f,{_createGroupPanelItem:function(e,t){var n,i=this,r=i.callBase.apply(i,arguments);return!t.command&&p(t)&&i.option("headerFilter.visible")&&(n=i._applyColumnState({name:"headerFilter",rootElement:r,column:{alignment:l.getDefaultAlignment(i.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}),n&&n.on("dxclick",i.createAction(function(e){var n=e.jQueryEvent;n.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(t.index)}))),r}}),_={"=":"<>","<>":"=",">":"<=",">=":"<","<":">=","<=":">",contains:"notcontains",notcontains:"contains",startswith:"notcontains",endswith:"notcontains"};r={_calculateAdditionalFilter:function(){var t=this,n=[t.callBase()],r=t._columnsController.getVisibleColumns(),o=t.getController("headerFilter"),s=o.getCurrentColumn();return e.each(r,function(t,r){var o,u,c;s&&s.index===r.index||p(r)&&r.calculateFilterExpression&&l.isArray(r.filterValues)&&r.filterValues.length&&(u=[],c="exclude"===r.filterType,e.each(r.filterValues,function(e,t){l.isArray(t)?o=c?i(t):t:(r.deserializeValue&&"date"!==r.dataType&&"number"!==r.dataType&&(t=r.deserializeValue(t)),o=r.createFilterExpression(t,c?"<>":"=","headerFilter")),o&&(o.columnIndex=r.index),u.push(o)}),u=a.combineFilters(u,c?"and":"or"),n.push(u))}),a.combineFilters(n)}},a.registerModule("headerFilter",{defaultOptions:function(){return{headerFilter:{visible:!1,width:252,height:300,texts:{emptyValue:Globalize.localize("dxDataGrid-headerFilterEmptyValue"),ok:Globalize.localize("dxDataGrid-headerFilterOK"),cancel:Globalize.localize("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:a.HeaderFilterController},views:{headerFilterView:a.HeaderFilterView},extenders:{controllers:{data:r},views:{columnHeadersView:m,headerPanel:g}}}),e.extend(a.__internals,{DATAGRID_HEADER_FILTER_CLASS:u,DATAGRID_HEADER_FILTER_MENU_CLASS:c,DATAGRID_CELL_CONTENT_CLASS:d})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=t.require("/utils/utils.common"),o=t.require("/ui/events/ui.events.utils"),a="dx-sort",s="dx-sort-up",l="dx-sort-down",u="dx-datagrid-action",c="dx-column-indicators",d="dx-datagrid-text-content",h="dxDataGridColumnHeadersView",p=i.sortingMixin={_applyColumnState:function(e){var t,n,i,o=this,h=o.option("sorting.mode"),p=e.rootElement,f=e.column,m=p.find("."+c);return"sort"!==e.name?o.callBase(e):(t=o.option("rtlEnabled")?"right":"left",("single"===h||"multiple"===h)&&f.allowSorting&&e.rootElement.addClass(u),p.find("."+a).remove(),m.children().length||m.remove(),p.children("."+d).css("margin-"+t,""),r.isDefined(f.sortOrder)?(n="asc"===f.sortOrder?"ascending":"descending",o.setAria("sort",n,p),i=o.callBase(e).toggleClass(s,"asc"===f.sortOrder).toggleClass(l,"desc"===f.sortOrder),"center"===f.alignment&&p.children("."+d).css("margin-"+t,i.outerWidth(!0)),i):void o.setAria("sort","none",p))},_renderIndicator:function(e){var t,n=e.container,i=e.indicator;return"sort"===e.name&&(t=this.option("rtlEnabled"),n.children().length&&(!t&&"left"===e.columnAlignment||t&&"right"===e.columnAlignment))?void n.prepend(i):void this.callBase(e)},_updateIndicator:function(e,t,n){"sort"===n&&r.isDefined(t.groupIndex)||this.callBase.apply(this,arguments)}},f=e.extend({},p,{_createRow:function(t){var n=this,i=n.callBase(t);return"header"===t.rowType&&i.on(o.addNamespace("dxclick",h),"> td",n.createAction(function(t){var i=null,o=t.jQueryEvent,a=e(o.currentTarget),s=a.index(),l=n._columnsController.getVisibleColumns(),u=l[s];!u||r.isDefined(u.groupIndex)||u.command||(o.shiftKey?i="shift":o.ctrlKey&&(i="ctrl"),setTimeout(function(){n._columnsController.changeSortOrder(u.index,i)}))})),i},_renderCellContent:function(e,t){var n=this,i=t.column;n.callBase(e,t),i.command||"header"!==t.rowType||n._applyColumnState({name:"sort",rootElement:e,column:i,showColumnLines:n.option("showColumnLines")})},_columnOptionChanged:function(e){var t=e.changeTypes;return 1===t.length&&t.sorting?void this._updateIndicators("sort"):void this.callBase(e)},optionChanged:function(e){var t=this;switch(e.name){case"sorting":t._invalidate(),e.handled=!0;break;default:t.callBase(e)}}}),m=e.extend({},p,{_createGroupPanelItem:function(e,t){var n=this,i=n.callBase.apply(n,arguments);return i.on(o.addNamespace("dxclick","dxDataGridHeaderPanel"),n.createAction(function(){setTimeout(function(){n.getController("columns").changeSortOrder(t.index)})})),n._applyColumnState({name:"sort",rootElement:i,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),i},optionChanged:function(e){var t=this;switch(e.name){case"sorting":t._invalidate(),e.handled=!0;break;default:t.callBase(e)}}});i.registerModule("sorting",{defaultOptions:function(){return{sorting:{mode:"single",ascendingText:Globalize.localize("dxDataGrid-sortingAscendingText"),descendingText:Globalize.localize("dxDataGrid-sortingDescendingText"),clearText:Globalize.localize("dxDataGrid-sortingClearText")}}},extenders:{views:{columnHeadersView:f,headerPanel:m}}}),e.extend(i.__internals,{DATAGRID_SORT_CLASS:a,DATAGRID_SORTUP_CLASS:s,DATAGRID_SORTDOWN_CLASS:l,DATAGRID_HEADERS_ACTION_CLASS:u})}(jQuery,DevExpress),function(e,t){function n(e){return a.isDefined(e.allowSearch)?e.allowSearch:e.allowFiltering}function i(e,t){var n=e.lookup;return n?e.parseValue.call(n,t):e.parseValue?e.parseValue(t):t}var r=t.ui,o=r.dxDataGrid,a=t.require("/utils/utils.common"),s=t.require("/integration/jquery/jquery.selectors"),l="dx-datagrid-search-panel",u="dx-datagrid-search-text",c=700;o.registerModule("search",{defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:Globalize.localize("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,text:""}}},extenders:{controllers:{data:function(){var e=function(e,r){function a(e){for(var n,i=t.data.utils.compileGetter(c.valueExpr),r=0;r<e.length;r++)n=i(e[r]),
h.push(l.createFilterExpression(n,null,"search"))}var s,l,u,c,d=e._columnsController.getColumns(),h=[];if(!r)return null;for(s=0;s<d.length;s++)l=d[s],n(l)&&l.calculateFilterExpression&&(c=l.lookup,u=i(l,r),c&&c.items?t.data.query(c.items).filter(l.createFilterExpression.call({dataField:c.displayExpr,dataType:c.dataType,calculateFilterExpression:l.calculateFilterExpression},u,null,"search")).enumerate().done(a):void 0!==u&&h.push(l.createFilterExpression(u,null,"search")));return o.combineFilters(h,"or")};return{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var t=this,n=t.callBase(),i=e(t,t.option("searchPanel.text"));return o.combineFilters([n,i])},searchByText:function(e){this.option("searchPanel.text",e)},optionChanged:function(e){var t=this;switch(e.fullName){case"searchPanel.text":case"searchPanel":t._applyFilter(),e.handled=!0;break;default:t.callBase(e)}}}}()},views:{headerPanel:function(){var t=function(e){return e.option("searchPanel")};return{_renderSearchPanel:function(){var n=this,i=n.element(),r=n.getController("data"),o=t(n);o&&o.visible?(n._$searchPanel?n._$searchPanel.show():(n._$searchPanel=e("<div/>").addClass(l).prependTo(i),n.setAria("label",Globalize.localize("dxDataGrid-ariaSearchInGrid"),n._$searchPanel)),n.getController("editorFactory").createEditor(n._$searchPanel,{width:o.width,placeholder:o.placeholder,parentType:"searchPanel",value:n.option("searchPanel.text"),updateValueTimeout:c,setValue:function(e){r.searchByText(e)}}),n.resize()):n._$searchPanel&&n._$searchPanel.hide()},_renderCore:function(){this.callBase(),this._renderSearchPanel()},focus:function(){var e=this._$searchPanel.dxTextBox("instance");e&&e.focus()},isVisible:function(){var e=t(this);return this.callBase()||e&&e.visible},optionChanged:function(e){"searchPanel"===e.name?(this._renderSearchPanel(),e.handled=!0):this.callBase(e)}}}(),rowsView:{_highlightSearchText:function(t,n,r){var a,l,c,d=this,h=d.option("searchPanel.text");if(h&&d.option("searchPanel.highlightSearchText")){if(n&&r&&(c=i(r,h),h=o.formatValue(c,r),!h))return;l=e("<div>").text(h).html(),a=t.parent(),a.length||(a=e("<div>").append(t)),e.each(a.find(s.icontains+"('"+h+"')"),function(t,i){e.each(e(i).contents(),function(t,i){if(3===i.nodeType){var r=function(t,n){var i=e("<span />").addClass(u),o=t.text(),a=o.toLowerCase().indexOf(n.toLowerCase());return a>=0?(t[0].textContent?t[0].textContent=o.substr(0,a):t[0].nodeValue=o.substr(0,a),t.after(i.text(o.substr(a,n.length))),t=e(document.createTextNode(o.substr(a+n.length))).insertAfter(i),r(t,n)):void 0};n?e(i).text().toLowerCase()===h.toLowerCase()&&e(this).replaceWith(e("<span />").addClass(u).text(e(i).text())):r(e(i),h)}})})}},_renderCore:function(){this.callBase.apply(this,arguments),this.option("rowTemplate")&&this._highlightSearchText(this._getTableElement())},_updateCell:function(e,t){var i=this,r=t.column,o="string"!==r.dataType;n(r)&&i._highlightSearchText(e,o,r),i.callBase(e,t)}}}}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=t.require("/utils/utils.common"),o=t.require("/utils/utils.support"),a=t.require("/ui/events/ui.events.remove"),s=t.require("/utils/utils.string"),l=r.isDefined,u=window.ko,c="dx-group-row",d="dx-group-cell",h="dx-datagrid-rowsview",p="dx-data-row",f="dx-freespace-row",m="dx-datagrid-nodata",g="dx-datagrid-content",_="dx-datagrid-nowrap",v="dx-row-lines",y="dx-column-lines",x="dx-row-alt",b="dx-last-row-border",w=200,C=function(t){var n=t.option("scrolling"),i=t.option("scrolling.useNative"),r=e.extend({},n,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===i&&(i=!0),"auto"===i?(delete r.useNative,delete r.useSimulatedScrollbar):(r.useNative=!!i,r.useSimulatedScrollbar=!i),r},S={render:function(e,t){var n=t.find("tbody");n.length?n.last().append(e):t.append(e)}};i.createScrollableOptions=C,i.RowsView=i.ColumnsView.inherit({_getDefaultTemplate:function(e){switch(e.command){case"empty":return function(e){e.html("&nbsp;")};default:return function(t,n){var i=s.isEmpty(n.text)&&"data"===n.rowType,r=i?"&nbsp;":n.text,o=t.get(0);e.encodeHtml&&!i?"textContent"in o?o.textContent=r:o.innerText=r:o.innerHTML=r}}},_getDefaultGroupTemplate:function(){var e=this,t=e.option("summary.texts");return function(e,n){var r=n.data,o=n.column.caption+": "+n.text;n.summaryItems&&n.summaryItems.length&&(o+=" "+i.getGroupRowSummaryText(n.summaryItems,t)),r&&(n.groupContinuedMessage&&n.groupContinuesMessage?o+=" ("+n.groupContinuedMessage+". "+n.groupContinuesMessage+")":n.groupContinuesMessage?o+=" ("+n.groupContinuesMessage+")":n.groupContinuedMessage&&(o+=" ("+n.groupContinuedMessage+")")),e.addClass(d),e.text(o)}},_update:function(){},_getColumnTemplate:function(e){var t,n=this,i=e.column;return t="group"===e.rowType&&l(i.groupIndex)&&!i.showWhenGrouped?i.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:n._getDefaultGroupTemplate()}:i.cellTemplate||{allowRenderToDetachedContainer:!0,render:n._getDefaultTemplate(i)}},_getCellTemplate:function(e){return this._getColumnTemplate(e)},_createRow:function(e){var t,n,i,r=this.callBase(e);return e&&(t="group"===e.rowType,n="data"===e.rowType,n&&r.addClass(p),n&&e.dataIndex%2==1&&this.option("rowAlternationEnabled")&&r.addClass(x),n&&this.option("showRowLines")&&r.addClass(v),this.option("showColumnLines")&&r.addClass(y),t&&(r.addClass(c),i=e.isExpanded,this.setAria("role","rowgroup",r),this.setAria("expanded",l(i)&&i.toString(),r))),r},_afterRowPrepared:function(e){var t,n,i=e.args[0],r=e.context,s=this._dataController;i.data&&"data"===i.rowType&&!i.inserted&&this.option("twoWayBindingEnabled")&&(r.$watch?(n=r.$watch(function(){return s.generateDataValues(i.data,i.columns)},function(e,t){e!==t&&(n(),s.updateItems({changeType:"update",rowIndices:[i.rowIndex]}))},!0),i.rowElement.on(a.name,function(){n()})):o.hasKo&&u.computed(function(){t&&s.updateItems({changeType:"update",rowIndices:[i.rowIndex]}),t=s.generateDataValues(i.data,i.columns)},null,{disposeWhenNodeIsRemoved:i.rowElement.get(0)}))},_renderScrollable:function(){var e=this,t=e.element();t.children().length||t.append("<div />"),e._renderLoadPanel(t,t.parent()),e._renderScrollableCore(t)},_handleScroll:function(e){var t=this;t._scrollTop=e.scrollOffset.top,t._scrollLeft=e.scrollOffset.left,t.scrollChanged.fire(e.scrollOffset,t.name)},_renderScrollableCore:function(t){var n=this,i=C(n),r=e.proxy(n._handleScroll,n);i.onScroll=r,i.onStop=r,n._scrollable=n._createComponent(t,"dxScrollable",i),n._scrollableContainer=n._scrollable&&n._scrollable._$container},_renderLoadPanel:function(t,n){var i,r=this;r._loadPanel&&r._loadPanel.element().remove(),i=r.option("loadPanel"),i&&i.enabled?(i=e.extend({shading:!1,message:i.text,position:{of:t},container:n},i),r._loadPanel=r._createComponent(e("<div>").appendTo(n),"dxLoadPanel",i)):r._loadPanel=null},_renderContent:function(t,n){return t.replaceWith(e("<div>").addClass(g).append(n)),this._findContentElement()},_updateContent:function(t,n){var i=this,r=i._getTableElement(),o=i._findContentElement(),a=n&&n.changeType,s=[];switch(a){case"update":e.each(n.rowIndices,function(e,o){var a=i._getRowElements(t).eq(e),u=n.changeTypes[e],c=n.items&&n.items[e];c&&s.push(function(){var e=i._getRowElements(),t=e.eq(o);switch(u){case"update":l(c.visible)&&c.visible!==t.is(":visible")?t.toggle(c.visible):t.replaceWith(a);break;case"insert":e.length?t.length?a.insertBefore(t):a.insertAfter(e.last()):a.prependTo(r);break;case"remove":t.remove()}})}),e.each(s,function(){this()}),t.remove();break;default:i._setTableElement(t),o.addClass(g),i._renderContent(o,t)}},_renderFreeSpaceRow:function(e){var t,n=this,i=n._createRow(),r=this.getColumns();for(i.addClass(f).toggleClass(y,n.option("showColumnLines")),t=0;t<r.length;t++)i.append(n._createCell(r[t]));n._appendRow(e,i,S)},_needUpdateRowHeight:function(e){return e>0&&!this._rowHeight},_updateRowHeight:function(){var e,t,n,i=this,r=i._getTableElement(),o=i._dataController.items().length;r&&i._needUpdateRowHeight(o)&&(e=r.outerHeight(),n=i._getFreeSpaceRowElements().first(),n&&n.is(":visible")&&(t=parseFloat(n[0].style.height)||0,e-=t),i._rowHeight=e/o)},_findContentElement:function(){var e,t=this.element();return t?(e=t.find(".dx-scrollable-content"),e||(e=t),e.children().first()):void 0},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not("."+f)},_getFreeSpaceRowElements:function(e){var t=e||this.getTableElements();return t&&t.children("tbody").children("."+f)},_getNoDataText:function(){return this.option("noDataText")},_updateNoDataText:function(t){t=t||this.element();var n=t.find("."+m),i=this._dataController.isEmpty(),r=this._dataController.isLoading(),o=this.option("rtlEnabled");n.length||(n=e("<span>").addClass(m).appendTo(t)),i&&!r?n.text(this._getNoDataText()).css({marginTop:-Math.floor(n.height()/2),marginRight:o?-Math.floor(n.width()/2):0,marginLeft:o?0:-Math.floor(n.width()/2)}).removeClass("dx-hidden"):n.addClass("dx-hidden")},_rowClick:function(n){var i=this._dataController.items()[n.rowIndex]||{};this.executeAction("onRowClick",e.extend({evaluate:function(e){var n=t.data.utils.compileGetter(e);return n(i.data)}},n,i))},_getGroupCellOptions:function(e){var t=(e.row.groupIndex||0)+e.columnsCountBeforeGroups;return{columnIndex:t,colspan:e.columns.length-t-1}},_renderCells:function(e,t){"group"===t.row.rowType?this._renderGroupedCells(e,t):t.row.values&&this.callBase(e,t)},_renderGroupedCells:function(t,n){for(var i,o,a,s,l=n.row,u=n.columns,c=l.rowIndex,d=this._getGroupCellOptions(n),h=0;h<=d.columnIndex;h++)o=h===d.columnIndex&&u[h].allowCollapsing&&"infinite"!==n.scrollingMode?!!l.isExpanded:null,this._renderCell(t,{value:o,row:l,rowIndex:c,column:{command:"expand",cssClass:u[h].cssClass},columnIndex:h});s=r.getDefaultAlignment(this.option("rtlEnabled")),a=e.extend({},u[d.columnIndex],{command:null,cssClass:null,showWhenGrouped:!1,alignment:s}),i=this._renderCell(t,{value:l.values[l.groupIndex],row:l,rowIndex:c,column:a,columnIndex:d.columnIndex}),i.attr("colspan",d.colspan)},_renderRows:function(t,n){for(var i=this,r=n.columns,o=0,a=i.option("scrolling.mode"),s=0;s<r.length;s++)if("expand"===r[s].command){o=s;break}i.callBase(t,e.extend({scrollingMode:a,columnsCountBeforeGroups:o},n)),i._renderFreeSpaceRow(t),i._hasHeight||i.updateFreeSpaceRowHeight(t)},_renderRow:function(t,n){var i=this,r=n.row,o=i.option("rowTemplate");"data"!==r.rowType&&"group"!==r.rowType||l(r.groupIndex)||!o?i.callBase(t,n):i._renderTemplate(t,o,e.extend({columns:n.columns},r))},_renderTable:function(e){var t=this.callBase(e);return l(this._getTableElement())||(this._setTableElement(t),this._renderScrollable(t)),t},_renderCore:function(e){var t,n=this,i=n.element();i.addClass(h).toggleClass(_,!n.option("wordWrapEnabled")),t=n._renderTable({change:e}),n._updateContent(t,e),n.callBase(e),n._lastColumnWidths=null},_getRows:function(e){return e&&e.items||this._dataController.items()},_getCellOptions:function(t){var n,r=this,o=t.column,a=t.row,s=a.data,u=a&&a.summaryCells,c=t.value,d=i.getDisplayValue(o,c,s,a.rowType),h=r.option("grouping"),p=r.option("scrolling.mode");return n=e.extend(this.callBase(t),{value:c,displayValue:d,row:a,key:a.key,data:s,rowType:a.rowType,values:a.values,text:l(o.command)?"":i.formatValue(d,o),rowIndex:a.rowIndex,summaryItems:u&&u[t.columnIndex],resized:o.resizedCallbacks}),l(o.groupIndex)&&"virtual"!==p&&"infinite"!==p&&(n.groupContinuesMessage=s&&s.isContinuationOnNextPage&&h&&h.groupContinuesMessage,n.groupContinuedMessage=s&&s.isContinuation&&h&&h.groupContinuedMessage),n},getCellOptions:function(e,t){var n,i,r=this._dataController.items()[e];return r&&(i=this._columnsController.columnOption(t),i&&(n=this._getCellOptions({value:i.calculateCellValue(r.data),rowIndex:r.rowIndex,row:r,column:i}))),n},getRow:function(t){var n=this._getRowElements();return n.length>t?e(n[t]):void 0},getCellIndex:function(e){return e.length?e[0].cellIndex:-1},updateFreeSpaceRowHeight:function(e){var t,n,i,r,o=this,a=o._findContentElement(),s=o._getFreeSpaceRowElements(e),l=0;s&&a&&(o._dataController.items().length>0?o._hasHeight?(s.hide(),t=o.element().height(),l=a.outerHeight(),r=t-l-o.getScrollbarWidth(!0),r>0&&(s.height(r),s.show())):(n=o._dataController.pageSize()-o._dataController.items().length,i=o.option("scrolling.mode"),n>0&&o._dataController.pageCount()>1&&"virtual"!==i&&"infinite"!==i?(s.height(n*o._rowHeight),s.show()):e?s.height(0):s.hide()):(s.height(0),s.show()))},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&(this.callBase(e),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var e=this,t=e.getController("data");e.callBase(),e._editorFactoryController=e.getController("editorFactory"),e._rowHeight=0,e._scrollTop=0,e._scrollLeft=0,e._hasHeight=!1,t.loadingChanged.add(function(t,n){e.setLoading(t,n)}),t.dataSourceChanged.add(function(){e._handleScroll({scrollOffset:{top:e._scrollTop,left:e._scrollLeft}})})},_handleDataChanged:function(e){var t=this;switch(e.changeType){case"refresh":case"prepend":case"append":case"update":t.render(null,e);break;default:t._update(e)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement"]},contentWidth:function(){return this.element().width()-this.getScrollbarWidth()},getScrollbarWidth:function(e){var t=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return t&&(n=e?t.offsetHeight-t.clientHeight:t.offsetWidth-t.clientWidth),n>0?n:0},_fireColumnResizedCallbacks:function(){for(var e=this,t=e._lastColumnWidths||[],n=[],i=e.getColumns(),r=0;r<i.length;r++)n[r]=i[r].visibleWidth,i[r].resizedCallbacks&&!l(i[r].groupIndex)&&t[r]!==n[r]&&i[r].resizedCallbacks.fire(n[r]);e._lastColumnWidths=n},_updateLastRowBorder:function(){var e=this._getFreeSpaceRowElements().first(),t="none"===e.css("display");this.option("showBorders")&&this.option("showRowLines")&&t?this.element().addClass(b):this.element().removeClass(b)},_updateScrollable:function(){var e=this.element().data("dxScrollable");e&&(e._visibilityChanged(!0),this._updateHorizontalScrollPosition())},_updateLoadPanel:function(){var e=this._loadPanel;e&&e.option("visible")&&e.repaint()},_updateHorizontalScrollPosition:function(){var e=this.getScrollable(),t=e&&e.scrollOffset().left;0===t&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})},_resizeCore:function(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),e._updateNoDataText(),e.updateFreeSpaceRowHeight(),e._updateLastRowBorder(),e._updateScrollable(),e._updateLoadPanel(),e.setLoading(e._dataController.isLoading())},scrollTo:function(e){var t=this.element(),n=t&&t.data("dxScrollable");n&&n.scrollTo(e)},height:function(e){var t=this,n=this.element();return l(e)?(t._hasHeight="auto"!==e,void(n&&n.height(e))):n?n.height():0},setLoading:function(e,t){var n,i=this,r=i._loadPanel,o=i._dataController,a=i.option("loadPanel")||{},s=o.isLoaded()?a.animation:null;r&&(n={message:t||a.text,animation:s,visible:e},clearTimeout(i._hideLoadingTimeoutID),r.option("visible")&&!e?i._hideLoadingTimeoutID=setTimeout(function(){r.option(n)},w):r.option(n),i._updateNoDataText())},isScrollbarVisible:function(){var e=this.element();return e?this._findContentElement().outerHeight()-e.height()>0:!1},setRowsOpacity:function(t,n){var i=this,r=i._getRowElements().not("."+c)||[];e.each(r,function(r,o){e(o).hasClass(c)||i.getCellElements(r).eq(t).css({opacity:n})})},getCellElements:function(e){var t,n=this.callBase(e);return n&&(t=n.filter("."+d).index(),t>=0&&n.length>t+1&&(n.length=t+1)),n},getTopVisibleItemIndex:function(){var e,t,n=this,i=0,r=0,o=0,a=n._scrollTop,s=n._findContentElement().offset().top,l=n._dataController.items(),u=n._getTableElement();if(l.length&&u){for(e=u.children("tbody").children(".dx-row:visible, .dx-error-row").not("."+f),i=0;i<l.length;i++)if(r=o,t=e.eq(i),t.length&&(o=t.offset().top-s,o>a)){o+r>2*a&&i&&i--;break}i&&i===l.length&&i--}return i},getTopVisibleRowData:function(){var e=this.getTopVisibleItemIndex(),t=this._dataController.items();return t[e]?t[e].data:void 0},optionChanged:function(e){var t=this;switch(t.callBase(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"twoWayBindingEnabled":t._invalidate(!0,!0),e.handled=!0;break;case"scrolling":t._rowHeight=null,t._tableElement=null,e.handled=!0;break;case"rtlEnabled":t._rowHeight=null,t._tableElement=null;break;case"loadPanel":t._tableElement=null,t._invalidate(!0,!0),e.handled=!0;break;case"noDataText":t._updateNoDataText(),e.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID)},setScrollerSpacing:function(){}}),i.registerModule("rows",{defaultOptions:function(){return{hoverStateEnabled:!1,loadPanel:{enabled:!0,text:Globalize.localize("Loading"),width:200,height:70,showIndicator:!0,indicatorSrc:"",showPane:!0},rowTemplate:null,columnAutoWidth:!1,noDataText:Globalize.localize("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:i.RowsView}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=t.require("/utils/utils.common"),o="dx-datagrid-pager",a=10;i.PagerView=i.View.inherit({init:function(){var e=this,t=e.getController("data");e._isVisible=!1,t.changed.add(function(t){t&&"update"===t.changeType||e.render()})},_getPager:function(){var e=this.element();return e&&e.data("dxPager")},_renderCore:function(){var e=this,t=e.element().addClass(o),n=e.option("pager")||{},i=e.getController("data"),s={maxPagesCount:a,pageIndex:1+(parseInt(i.pageIndex())||0),pageCount:i.pageCount(),pageSize:i.pageSize(),showPageSizes:n.showPageSizeSelector,showInfo:n.showInfo,pagesNavigatorVisible:n.visible,showNavigationButtons:n.showNavigationButtons,pageSizes:e.getPageSizes(),totalCount:i.totalCount(),hasKnownLastPage:i.hasKnownLastPage(),pageIndexChanged:function(e){i.pageIndex()!==e-1&&setTimeout(function(){i.pageIndex(e-1)})},pageSizeChanged:function(e){setTimeout(function(){i.pageSize(e)})}};r.isDefined(n.infoText)&&(s.infoText=n.infoText),e._createComponent(t,"dxPager",s)},getPageSizes:function(){var t=this,n=t.getController("data"),i=t.option("pager"),o=i&&i.allowedPageSizes,a=n.pageSize();return r.isDefined(t._pageSizes)&&-1!==e.inArray(a,t._pageSizes)||(t._pageSizes=[],i&&(e.isArray(o)?t._pageSizes=o:o&&a>1&&(t._pageSizes=[Math.floor(a/2),a,2*a]))),t._pageSizes},isVisible:function(){var e=this,t=e.getController("data"),n=e.option("pager"),i=n&&n.visible,r=e.option("scrolling");return e._isVisible?!0:("auto"===i&&(i=!r||"virtual"!==r.mode&&"infinite"!==r.mode?t.pageCount()>1||t.isLoaded()&&!t.hasKnownLastPage():!1),e._isVisible=i,i)},getHeight:function(){var e=this._getPager();return e&&this.isVisible()?e.getHeight():0},optionChanged:function(e){var t=this,n=e.name,i="pager"===n,r="paging"===n,o="dataSource"===n,a="scrolling"===n;(i||r||a||o)&&((i||r)&&(t._pageSizes=null),(i||r||a)&&(t._isVisible=!1),o||(t._invalidate(),i&&t.component&&t.component.resize()),e.handled=!0)}}),i.registerModule("pager",{defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto"}}},views:{pagerView:i.PagerView}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.common"),r=t.require("/ui/events/ui.events.utils"),o=t.require("/ui/events/pointer/ui.events.pointer"),a=r.addNamespace,s=n.dxDataGrid,l=t.fx,u="dx-datagrid-columns-separator",c="dx-datagrid-columns-separator-transparent",d="dx-datagrid-drag-header",h="dx-datagrid-text-content",p="dx-datagrid-drag-action",f="dx-datagrid-tracker",m="dx-block-separator",g="dx-datagrid-drop-highlight",_="dx-header-row",v="dx-widget",y="dxDataGridResizingReordering",x=10,b=5,w=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},C=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")};s.getPointsByColumns=function(e,t,n){for(var i,r,o,a,s=e.length,l=!1,u=[],c=0,d=0;s>=d;d++)s>d&&(r=e.eq(c),o=r.offset(),a="rtl"===r.css("direction")),i={index:d,x:o?o.left+(!n&&a^d===s?r.outerWidth():0):0,y:o?o.top+(n&&d===s?r.outerHeight():0):0,columnIndex:c},t&&(l=t(i)),l||u.push(i),c++;return u},s.TrackerView=s.View.inherit({_renderCore:function(){this.callBase(),this.element().addClass(f),this.hide()},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback:function(){var e=this;e._positionChanged=function(t){var n=e.element();n&&n.hasClass(f)&&(n.css({top:t.top}),n.height(t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},optionChanged:function(e){"allowColumnResizing"===e.name&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible:function(){return w(this)},show:function(){this.element().show()},hide:function(){this.element().hide()},setHeight:function(e){this.element().height(e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),s.SeparatorView=s.View.inherit({_renderSeparator:function(){},_renderCore:function(e){this.callBase(e),this._isShown=!0,this._renderSeparator(),this.hide()},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(e){var t=this.element();if(t){if(!i.isDefined(e))return t.height();t.height(e)}},width:function(e){var t=this.element();if(t){if(!i.isDefined(e))return t.width();t.width(e)}}}),s.ColumnsSeparatorView=s.SeparatorView.inherit({_renderSeparator:function(){this.callBase();var e=this.element();e.addClass(u)},_subscribeToCallback:function(){var e,t=this;t._positionChanged=function(n){e=t.element(),e&&(e.css({top:n.top}),e.height(n.height))},t._tablePositionController.positionChanged.add(t._positionChanged)},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init:function(){this._isTransparent=w(this),this.isVisible()&&this._subscribeToCallback()},isVisible:function(){return this.option("showColumnHeaders")&&(C(this)||w(this))},optionChanged:function(e){"allowColumnResizing"===e.name&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=w(this),this.hide(!0))),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show:function(){var e=this,t=this.element();t&&!e._isShown&&(e._isTransparent?t.removeClass(c):t.show()),this.callBase()},hide:function(e){var t=this.element();t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(c),"none"===t.css("display")&&t.show()):(t.hasClass(c)&&t.removeClass(c),t.hide())),this.callBase()},moveByX:function(e){var t=this.element();t&&t.css("left",e-this._parentElement().offset().left)},changeCursor:function(e){e=i.isDefined(e)?e:"";var t=this.element();t&&t.css("cursor",e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),s.BlockSeparatorView=s.SeparatorView.inherit({init:function(){var e=this;this.callBase(),this.getController("data").loadingChanged.add(function(t){var n=e.element();!t&&n&&"none"!==n.css("display")&&e.hide()})},_renderSeparator:function(){this.callBase(),this.element().addClass(m).html("&nbsp;")},hide:function(){var e=this,t=this._parentElement(),n=this.element();n&&this._isShown&&n.hide(),t&&!t.children("."+m).length&&t.prepend(e.element()),e.callBase()},isVisible:function(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled},show:function(e){var t=this,n=this.element(),i=function(e){l.stop(n,!0),l.animate(n,{type:"slide",from:{width:0,display:e.display},to:e,duration:300,easing:"swing"})};if(n&&!t._isShown)switch(e){case"group":i({width:"50px",display:"inline-block"});break;case"columnChooser":i({width:"100%",display:"block"});break;default:n.show()}t.callBase()}}),s.DraggingHeaderView=s.View.inherit({_isDragging:!1,_getDropOptions:function(){var e=this;return e._dragOptions?{sourceColumnIndex:e._dragOptions.columnIndex,sourceColumnElement:e._dragOptions.columnElement,sourceLocation:e._dragOptions.sourceLocation,targetColumnIndex:e._dropColumnIndex,targetLocation:e._dropLocation}:void 0},_getDraggingPanelByPos:function(t){var n,i=this;return e.each(i._dragOptions.draggingPanels,function(e,i){if(i){var r=i.getBoundingRect();if(r&&(void 0===r.bottom||t.y<r.bottom)&&(void 0===r.top||t.y>r.top)&&(void 0===r.left||t.x>r.left)&&(void 0===r.right||t.x<r.right))return n=i,!1}}),n},_renderCore:function(){this.element().addClass(d+" "+h+" "+v).css("display","none")},dispose:function(){var e=this.element();this._dragOptions=null,e&&e.parent().find("."+d).remove()},isVisible:function(){var e=this.getController("columns"),t=e.getCommonSettings();return this.option("showColumnHeaders")&&(C(this)||t.allowGrouping||t.allowHiding)},init:function(){var e=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add(function(t){var n=e.element();!t&&n&&"none"!==n.css("display")&&n.hide()})},dragHeader:function(t){var n=this,i=t.columnElement;n._dragOptions=t,n._isDragging=!0,n._dropColumnIndex=t.columnIndex,n._dropLocation=t.sourceLocation,n._onSelectStart=document.onselectstart,document.onselectstart=function(){return!1},n.element().css({textAlign:i&&i.css("text-align"),height:i&&i.height(),width:i&&i.width(),whiteSpace:i&&i.css("white-space")}).addClass(p).text(t.sourceColumn.caption),n.element().appendTo(e(document.body))},moveHeader:function(e){var t,n,i,o,a=e.jQueryEvent,s=a.data.that,l=r.eventData(a),u=s._columnsResizerViewController?s._columnsResizerViewController.isResizing():!1,c=s._dragOptions;s._isDragging&&!u&&(i=Math.abs(l.x-c.columnElement.offset().left-c.deltaX),o=Math.abs(l.y-c.columnElement.offset().top-c.deltaY),(s.element().is(":visible")||i>b||o>b)&&(s.element().show(),t=l.x-c.deltaX,n=l.y-c.deltaY,s.element().offset({left:t,top:n}),s.dockHeader(l)),a.preventDefault())},dockHeader:function(t){var n,i,r,o=this,a=o._getDraggingPanelByPos(t),s=o._controller;if(a){var l=o.option("rtlEnabled"),u="columnChooser"===a.getName(),c=u?"y":"x",d=a.getColumnElements()||[],h=s._generatePointsByColumns(e.extend({},o._dragOptions,{targetDraggingPanel:a,columns:a.getColumns(),columnElements:d,isVerticalOrientation:u}));if(o._dropLocation=a.getName(),h.length>0){for(n=0;n<h.length;n++)if(r=h[n+1]&&(h[n][c]+h[n+1][c])/2,void 0===r||(l&&"x"===c?t[c]>r:t[c]<r)){o._dropColumnIndex=h[n].columnIndex,i=o._getDropOptions(),d[n]?i.targetColumnElement=d.eq(n):(i.targetColumnElement=d.last(),i.isLast=!0),i.posX=h[n].x,s.dock(i);break}}else o._dropColumnIndex=-1,i=o._getDropOptions(),s.dock(i)}},dropHeader:function(e){var t=e.jQueryEvent,n=t.data.that,i=n._controller;n.element().hide(),i&&n._isDragging&&i.drop(n._getDropOptions()),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._isDragging=!1,document.onselectstart=n._onSelectStart||null}}),s.ColumnsResizerViewController=s.ViewController.inherit({_isHeadersRowArea:function(e){if(this._columnHeadersView){var t,n,i=this._columnHeadersView.element();if(i)return n=i.offset().top,t=this._columnHeadersView.getHeadersRowHeight(),e>=n&&n+t>=e}return!1},_pointCreated:function(e,t,n){var i,r;return e.index>0&&e.index<t?(e.columnIndex-=1,i=n[e.columnIndex]||{},r=n[e.columnIndex+1]||{},!(i.allowResizing&&r.allowResizing)):!0},_getTargetPoint:function(e,t,n){if(e)for(var i=0;i<e.length;i++)if(e[i].x-n<=t&&t<=e[i].x+n)return e[i];return null},_moveSeparator:function(e){var t=e.jQueryEvent,n=t.data,i=n._columnsSeparatorView.width(),o=n._columnsSeparatorView.element().offset(),a=i/2,s=n._$parentContainer.offset(),l=s.left,u=r.eventData(t);n._isResizing?l<=u.x&&u.x<=l+n._$parentContainer.width()&&n._updateColumnsWidthIfNeeded(n._targetPoint.columnIndex,u.x)&&(n._columnsSeparatorView.moveByX(n._targetPoint.x+(u.x-n._resizingInfo.startPosX)),n._tablePositionController.update(),t.preventDefault()):n._isHeadersRowArea(u.y)?(n._previousParentOffset&&(n._previousParentOffset.left!==s.left||n._previousParentOffset.top!==s.top)&&n.pointsByColumns(null),n._targetPoint=n._getTargetPoint(n.pointsByColumns(),u.x,i),n._previousParentOffset=s,n._isReadyResizing=!1,n._columnsSeparatorView.changeCursor(),n._targetPoint&&o.top<=u.y&&o.top+n._columnsSeparatorView.height()>=u.y&&(n._columnsSeparatorView.changeCursor("col-resize"),n._columnsSeparatorView.moveByX(n._targetPoint.x-a),n._isReadyResizing=!0,t.preventDefault())):(n.pointsByColumns(null),n._isReadyResizing=!1,n._columnsSeparatorView.changeCursor())},_endResizing:function(e){var t=e.jQueryEvent,n=t.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)},_setupResizingInfo:function(e){var t=this,n=t._columnHeadersView.getHeaderElement(t._targetPoint.columnIndex),i=t._columnHeadersView.getHeaderElement(t._targetPoint.columnIndex+1);t._resizingInfo={startPosX:e,currentColumnWidth:n&&n.length>0?n.outerWidth():0,nextColumnWidth:i&&i.length>0?i.outerWidth():0}},_startResizing:function(e){var t=e.jQueryEvent,n=t.data,i=r.eventData(t);r.isTouchEvent(t)&&(n._isHeadersRowArea(i.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),i.x,x),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing&&(n._targetPoint,n._setupResizingInfo(i.x),n._columnsSeparatorView.show(),n._trackerView.show(),n._isResizing=!0,t.preventDefault(),t.stopPropagation())},_generatePointsByColumns:function(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),i=[];n&&n.length>0&&(i=s.getPointsByColumns(n,function(i){return e._pointCreated(i,n.length,t)})),e._pointsByColumns=i},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&this._$parentContainer.off(a(o.move,y),this._moveSeparatorHandler),this._startResizingHandler&&this._$parentContainer.off(a(o.down,y),this._startResizingHandler),this._endResizingHandler&&(this._columnsSeparatorView.element().off(a(o.up,y),this._endResizingHandler),e(document).off(a(o.up,y),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),this._$parentContainer.on(a(o.move,y),this,this._moveSeparatorHandler),this._$parentContainer.on(a(o.down,y),this,this._startResizingHandler),this._columnsSeparatorView.element().on(a(o.up,y),this,this._endResizingHandler),e(document).on(a(o.up,y),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(e,t){function n(e,t,n,r){if(e){var o=e.width;o&&(r=i.isString(o)&&"%"===o.slice(-1)),r?(e&&c.columnOption(e.index,"visibleWidth",t),e&&c.columnOption(e.index,"width",(t/n*100).toFixed(3)+"%")):(e&&c.columnOption(e.index,"visibleWidth",void 0),e&&c.columnOption(e.index,"width",t))}}var r,o,a,s,l,u=!1,c=this._columnsController,d=c.getVisibleColumns(),h=this._columnsSeparatorView.width(),p=this._rowsView.contentWidth(),f=this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth");return r=t-this._resizingInfo.startPosX,this.option("rtlEnabled")&&(r=-r),l=this._resizingInfo.currentColumnWidth+r,o=this._resizingInfo.nextColumnWidth-r,
u=!(h>=l||h>=o),u&&(a=d[e],s=d[e+1],c.beginUpdate(),l=Math.floor(l),o=Math.floor(o),n(a,l,p,f),n(s,o,p,f),c.endUpdate()),u},_subscribeToCallback:function(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})},_unsubscribeFromCallbacks:function(){for(var e,t=0;t<this._subscribesToCallbacks.length;t++)e=this._subscribesToCallbacks[t],e.callback.remove(e.handler);this._subscribesToCallbacks=[]},_unsubscribes:function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init:function(){var e,t,n=this,i=function(){n._isResizing||n.pointsByColumns(null)},r=function(e){n._scrollLeft!==e.left&&(n._scrollLeft=e.left,n.pointsByColumns(null))};n._columnsSeparatorView=n.getView("columnsSeparatorView"),n._columnHeadersView=n.getView("columnHeadersView"),n._trackerView=n.getView("trackerView"),n._rowsView=n.getView("rowsView"),n._columnsController=n.getController("columns"),n._tablePositionController=n.getController("tablePosition"),n._$parentContainer=n._columnsSeparatorView.component.element(),n._subscribeToCallback(n._columnHeadersView.renderCompleted,i),n._subscribeToCallback(n._columnHeadersView.resizeCompleted,i),n._subscribeToCallback(n._columnsSeparatorView.renderCompleted,function(){n._unsubscribeFromEvents(),n._subscribeToEvents()}),n._subscribeToCallback(n._rowsView.renderCompleted,function(){n._rowsView.scrollChanged.remove(r),n._rowsView.scrollChanged.add(r)}),e=n.getView("gridView"),t=0!==n._rowsView.getScrollbarWidth(),n._subscribeToCallback(n.getController("tablePosition").positionChanged,function(){if(n._isResizing&&!n._rowsView.isResizing){var i=0!==n._rowsView.getScrollbarWidth();t!==i?(t=i,e.resize()):n._rowsView.updateFreeSpaceRowHeight()}})},optionChanged:function(e){this.callBase(e),"allowColumnResizing"===e.name&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing:function(){return this._isResizing},init:function(){this._subscribesToCallbacks=[],w(this)&&this._init()},pointsByColumns:function(e){return void 0===e?(this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns):void(this._pointsByColumns=e)},dispose:function(){this._unsubscribes(),this.callBase()}}),s.TablePositionViewController=s.ViewController.inherit({update:function(){var e=this._columnHeadersView.element(),t=this._columnHeadersView?this._columnHeadersView.getHeight():0,n=this._rowsView?this._rowsView.height()-this._rowsView.getScrollbarWidth(!0):0;this.positionChanged.fire({height:t+n,top:e&&e.length>0?Math.floor(e[0].offsetTop):0})},init:function(){var e=this;e.callBase(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(function(){e.update()})},ctor:function(t){this.callBase(t),this.positionChanged=e.Callbacks()}}),s.DraggingHeaderViewController=s.ViewController.inherit({_generatePointsByColumns:function(e){var t=this;return s.getPointsByColumns(e.columnElements,function(n){return t._pointCreated(n,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn)},e.isVerticalOrientation)},_pointCreated:function(e,t,n,i){var r=t[e.columnIndex],o=t[e.columnIndex-1];switch(n){case"columnChooser":return!0;case"headers":return i&&!i.allowReordering||(!r||!r.allowReordering)&&(!o||!o.allowReordering);default:return 0===t.length}},_subscribeToEvents:function(t,n){var i=this;e.each(n,function(o,s){if(s){var l=s.getColumnElements()||[],u=s.getName(),c=s.getColumns()||[];e.each(l,function(o,l){var d=e(l);s.allowDragging(c[o],n)&&(d.addClass(p),d.on(a("dxdragstart",y),i.createAction(function(i){var a=i.jQueryEvent,s=r.eventData(a);t.dragHeader({deltaX:s.x-e(a.currentTarget).offset().left,deltaY:s.y-e(a.currentTarget).offset().top,sourceColumn:c[o],columnIndex:o,columnElement:d,sourceLocation:u,draggingPanels:n})})),d.on(a("dxdrag",y),{that:t},i.createAction(t.moveHeader)),d.on(a("dxdragend",y),{that:t},i.createAction(t.dropHeader)))})}})},_unsubscribeFromEvents:function(t,n){e.each(n,function(t,n){if(n){var i=n.getColumnElements()||[];e.each(i,function(t,n){var i=e(n);i.off(a("dxdragstart",y)),i.off(a("dxdrag",y)),i.off(a("dxdragend",y)),i.removeClass(p)})}})},_getSeparator:function(e){return"headers"===e?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(){var e=this._blockSeparatorView,t=this._columnsSeparatorView;this._animationColumnIndex=null,e&&e.hide(),t&&t.hide()},init:function(){var e,t=this;t.callBase(),t._columnsController=t.getController("columns"),t._columnHeadersView=t.getView("columnHeadersView"),t._columnsSeparatorView=t.getView("columnsSeparatorView"),t._draggingHeaderView=t.getView("draggingHeaderView"),t._rowsView=t.getView("rowsView"),t._blockSeparatorView=t.getView("blockSeparatorView"),t._headerPanelView=t.getView("headerPanel"),t._columnChooserView=t.getView("columnChooserView"),e=function(){if(t._draggingHeaderView){var e=[t._columnChooserView,t._columnHeadersView,t._headerPanelView];t._unsubscribeFromEvents(t._draggingHeaderView,e),t._subscribeToEvents(t._draggingHeaderView,e)}},t._columnHeadersView.renderCompleted.add(e),t._headerPanelView&&t._headerPanelView.renderCompleted.add(e),t._columnChooserView&&t._columnChooserView.renderCompleted.add(e)},allowDrop:function(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},dock:function(e){var t=this,n=e.targetColumnIndex,i=e.sourceLocation,r=e.sourceColumnIndex,o=e.sourceColumnElement,a=e.targetLocation,s=t._getSeparator(a),l=n>=0,u=function(){t._animationColumnIndex!==n&&(t.hideSeparators(),s.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=n,s.show(a))};t._columnHeadersView.element().find("."+_).toggleClass(g,"headers"!==i&&"headers"===a&&!l),s&&(o&&(o.css({opacity:.5}),"headers"===i&&t._rowsView.setRowsOpacity(r,.5)),t.allowDrop(e)&&l?"group"===a||"columnChooser"===a?u():(t.hideSeparators(),s.moveByX(e.posX-s.width()),s.show()):t.hideSeparators())},drop:function(e){var t,n=e.sourceColumnElement;n&&(n.css({opacity:""}),this._rowsView.setRowsOpacity(e.sourceColumnIndex,""),this._columnHeadersView.element().find("."+_).removeClass(g)),this.allowDrop(e)&&(t=this._getSeparator(e.targetLocation),t&&t.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation))},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),s.registerModule("columnsResizingReordering",{views:{columnsSeparatorView:s.ColumnsSeparatorView,blockSeparatorView:s.BlockSeparatorView,draggingHeaderView:s.DraggingHeaderView,trackerView:s.TrackerView},controllers:{draggingHeader:s.DraggingHeaderViewController,tablePosition:s.TablePositionViewController,columnsResizer:s.ColumnsResizerViewController}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r="dx-datagrid",o="dx-context-menu",a={columnHeadersView:"header",rowsView:"content",footerView:"footer"},s=["columnHeadersView","rowsView","footerView"];i.ContextMenuController=i.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(t){if(!t)return!1;var n,i,r,o,l,u,c,d,h=this,p=e(t.target);return e.each(s,function(){return n=h.getView(this),n&&n.element()&&n.element().find(p).length&&(c=p.closest("td"),u=c.closest(".dx-row"),r=n.getRowIndex(u),o=c[0]&&c[0].cellIndex,l=u.data("options"),i={jQueryEvent:t,targetElement:p,target:a[this],rowIndex:r,row:n._getRows()[r],columnIndex:o,column:l&&l.cells[o].column,items:n.getContextMenuItems&&n.getContextMenuItems(p)},h.executeAction("onContextMenuPreparing",i),h._contextMenuPrepared(i),d=i.items)?!1:void 0}),d},_contextMenuPrepared:e.noop}),i.ContextMenuView=i.View.inherit({_renderCore:function(){var e=this;this._createComponent(e.element().addClass(o),"dxContextMenu",{onPositioning:function(t){var n=t.jQueryEvent,i=t.component,r=e.getController("contextMenu").getContextMenuItems(n);r?(i.option("items",r),n.stopPropagation()):t.cancel=!0},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:r,target:e.component.element()})}}),i.registerModule("contextMenu",{defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:i.ContextMenuController},views:{contextMenuView:i.ContextMenuView}})}(jQuery,DevExpress),function(e,t){function n(e){return e&&e.hasClass(h)}function i(e){return e&&e.hasClass(f)}var r=t.ui,o=r.dxDataGrid,a=t.require("/utils/utils.common"),s=t.require("/ui/ui.keyboardProcessor"),l=t.require("/ui/events/ui.events.utils"),u=t.require("/ui/events/pointer/ui.events.pointer"),c="dx-row",d="dx-data-row",h="dx-group-row",p="dx-datagrid-rowsview",f="dx-master-detail-row",m="dx-master-detail-cell",g="dx-datagrid-edit-form",_="dx-datagrid-group-footer",v="dx-command-expand",y=".dx-datagrid",x=".dx-checkbox, .dx-menu, input, textarea, [tabindex]",b=["rowsView"],w="row",C="form";o.KeyboardNavigationController=o.ViewController.inherit({_isRowEditMode:function(){var e=this._editingController.getEditMode();return e===w||e===C},_focusView:function(e,t){this._focusedViews.viewIndex=t,this._focusedView=e},_focusInteractiveElement:function(e,t){var n=e.find(x);n=t?n.last():n.first(),n.focus()},_updateFocus:function(){var t=this,n=t._getFocusedCell();n&&(t._hasSkipRow(n.parent())&&(n=t._getNextCell(this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow")),n&&n.length>0&&setTimeout(function(){t.getController("editorFactory").focus()&&t._focus(n),t._editingController.isEditing()&&e.proxy(t._focusInteractiveElement,t)(n)}))},_clickHandler:function(t){var n=t.jQueryEvent,i=e(n.currentTarget),r=e(n.target).closest(y).parent();r.is(this.component.element())&&this._isCellValid(i,!0)?(this._focusView(n.data.view,n.data.viewIndex),this._updateFocusedCellPosition(i),this._editingController.isEditing()||i.focus()):this._resetFocusedCell()},_initFocusedViews:function(){var t=this,n=t.createAction(t._clickHandler);t._focusedViews=[],e.each(b,function(e,n){var i=t.getView(n);i&&i.isVisible()&&t._focusedViews.push(i)}),e.each(t._focusedViews,function(e,i){i&&i.renderCompleted.add(function(){var r=i.element();r.off(l.addNamespace(u.down,"dxDataGridKeyboardNavigation"),n),r.on(l.addNamespace(u.down,"dxDataGridKeyboardNavigation"),"."+c+" td",{viewIndex:e,view:i},n),t._initKeyDownProcessor(t,r,t._keyDownHandler),t._focusedView&&t._focusedView.name===i.name&&t._isNeedFocus&&t._updateFocus()})})},_initKeyDownProcessor:function(e,t,n){this._keyDownProcessor&&(this._keyDownProcessor.dispose(),this._keyDownProcessor=null),this._keyDownProcessor=new s({element:t,context:e,handler:n})},_getFocusedCell:function(){return this._focusedView&&this._focusedCellPosition?this._focusedView.getCell(this._focusedCellPosition):void 0},_updateFocusedCellPosition:function(e){var t=this,n=t.getView("rowsView");e.length>0&&(this._focusedCellPosition={columnIndex:n.getCellIndex(e),rowIndex:e.parent().length>0&&t._focusedView?t._focusedView.getRowIndex(e.parent()):null})},_isCellValid:function(e,t){var n;if(a.isDefined(e)){var r=this.getView("rowsView"),o=this._columnsController.getVisibleColumns(),s=r.getRowIndex(e.parent()),l=r.getCellIndex(e),u=o[l],c=this._getVisibleColumnCount(s),d=this._editingController.getEditMode(),h=d===w?this._editingController.isEditRow(s):this._editingController.isEditing(),p=i(e.parent()),f=function(){return!p&&u&&!a.isDefined(u.groupIndex)||parseInt(e.attr("colspan"))>1};if(c>l&&f())return n=t?!1:"expand"===u.command,u&&!a.isDefined(u.command)&&(!h||u.allowEditing)||n}},_isCellByPositionValid:function(e,t){var n=this._focusedView&&this._focusedView.getCell(e);return this._isCellValid(n,t)},_focus:function(e){var t,i=e.parent(),r=this._getFocusedCell();r&&r.attr("tabindex",null),n(i)?(t=i,this._focusedCellPosition.rowIndex=this._focusedView.getRowIndex(i)):(t=e,this._updateFocusedCellPosition(e)),t.attr("tabindex",0),t.focus(),this.getController("editorFactory").focus(t)},_hasSkipRow:function(e){return e&&("none"===e.css("display")||e.hasClass(_)||i(e)&&!e.hasClass(g))},_enterKeyHandler:function(t,i){var r,o,a,s=this._getFocusedCell(),l=this.option("editing"),u=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null,c=this._focusedView&&this._focusedView.getRow(u);this.option("grouping.allowCollapsing")&&n(c)||this.option("masterDetail.enabled")&&s&&s.hasClass(v)?(r=this._dataController.getKeyByRowIndex(u),o=this._dataController.items()[u],void 0!==r&&o&&o.data&&!o.data.isContinuation&&this._dataController.changeRowExpand(r)):i?(s=this._getCellElementFromTarget(t.originalEvent.target),this._updateFocusedCellPosition(s),this._isRowEditMode()?(this._focusEditFormCell(s),setTimeout(e.proxy(this._editingController.saveEditData,this._editingController))):this._editingController.closeEditCell()):(a=this._columnsController.getVisibleColumns()[this._focusedCellPosition.columnIndex],l.allowUpdating&&a&&a.allowEditing&&(this._isRowEditMode()?this._editingController.editRow(u):this._focusedCellPosition&&this._editingController.editCell(u,this._focusedCellPosition.columnIndex)))},_leftRightKeysHandler:function(e,t){var r,o,a=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null,s=this._focusedView&&this._focusedView.getRow(a);t||!s||n(s)||i(s)||(r=this._getDirectionCodeByKey(e.key),o=this._getNextCell(r),o&&this._isCellValid(o)&&this._focus(o),e.originalEvent.preventDefault())},_getDirectionCodeByKey:function(e){var t;return t=this.option("rtlEnabled")?"leftArrow"===e?"nextInRow":"previousInRow":"leftArrow"===e?"previousInRow":"nextInRow"},_upDownKeysHandler:function(e,t){var n,r=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null,o=this._focusedView&&this._focusedView.getRow(r);t||i(o)||(0===r||this._focusedView&&r===this._focusedView.getRowsCount()-1,n=this._getNextCell(e.key),n&&this._isCellValid(n)&&this._focus(n),e.originalEvent.preventDefault())},_pageUpKeyHandler:function(e){var t=this.option("scrolling.mode"),n=this._dataController.pageIndex(),i="virtual"===t||"infinite"===t;n>0&&!i&&(this._dataController.pageIndex(n-1),e.originalEvent.preventDefault())},_pageDownKeyHandler:function(e){var t=this.option("scrolling.mode"),n="virtual"===t||"infinite"===t,i=this._dataController.pageIndex(),r=this._dataController.pageCount();r-1>i&&!n&&(this._dataController.pageIndex(i+1),e.originalEvent.preventDefault())},_spaceKeyHandler:function(t,n){var i=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null,r=e(t.originalEvent&&t.originalEvent.target);this.option("selection")&&"none"!==this.option("selection").mode&&!n&&(r.parent().hasClass(d)||r.hasClass(p))&&(this._selectionController.changeItemSelection(i,{shift:t.shift,control:t.ctrl}),t.originalEvent.preventDefault())},_crtlAKeyHandler:function(e,t){!t&&e.ctrl&&"multiple"===this.option("selection.mode")&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())},_tabKeyHandler:function(t,n){var i,r,o,a=this.option("editing"),s=t.shift?"previous":"next",l=!t.shift&&this._isLastValidCell(this._focusedCellPosition)||t.shift&&this._isFirstValidCell(this._focusedCellPosition),u=t.originalEvent.target,c=e(u).closest("."+m),d=c.closest(y).parent();return c.length&&d.is(this.component.element())?(this._updateFocusedCellPosition(c),i=this._getNextCell(s,null,null,!0),i.attr("tabindex",0),void 0):(a&&u&&!l&&(e(u).hasClass(p)&&this._resetFocusedCell(),n?(this._updateFocusedCellPosition(this._getCellElementFromTarget(u)),i=this._getNextCell(s),r=this._columnsController.getVisibleColumns()[this.getView("rowsView").getCellIndex(i)],o=a.allowUpdating&&r.allowEditing,o||this._editingController.closeEditCell(),this._focusCell(i)&&(!this._isRowEditMode()&&o?this._editingController.editCell(this._focusedCellPosition.rowIndex,this._focusedCellPosition.columnIndex):this._focusInteractiveElement(i,t.shift))):(i=this._getNextCell(s,this._getElementType(u)),this._focusCell(i))),void(l?(this.getController("editorFactory").loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(),this._editingController.closeEditCell())):t.originalEvent.preventDefault()))},_focusCell:function(e){return this._isCellValid(e)?(this._focus(e),!0):void 0},_getElementType:function(t){return e(t).is("tr")?"row":"cell"},_focusEditFormCell:function(e){e.hasClass(m)&&this.getController("editorFactory").focus(e,!0)},_escapeKeyHandler:function(e,t){if(t){var n=this._getCellElementFromTarget(e.originalEvent.target);this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData()):this._editingController.closeEditCell(),e.originalEvent.preventDefault()}},_ctrlFKeyHandler:function(e){e.ctrl&&this.option("searchPanel")&&this.option("searchPanel").visible&&(this._headerPanel.focus(),e.originalEvent.preventDefault())},_keyDownHandler:function(e){var t=this._editingController.isEditing(),n={handled:!1,jQueryEvent:e.originalEvent};if(this.executeAction("onKeyDown",n),!e.originalEvent.isDefaultPrevented()&&(this._isNeedFocus=!0,this._isNeedScroll=!0,!n.handled)){switch(e.key){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,t);break;case"upArrow":case"downArrow":this._upDownKeysHandler(e,t);break;case"pageUp":this._pageUpKeyHandler(e);break;case"pageDown":this._pageDownKeyHandler(e);break;case"space":this._spaceKeyHandler(e,t);break;case"A":this._crtlAKeyHandler(e,t);break;case"tab":this._tabKeyHandler(e,t);break;case"enter":this._enterKeyHandler(e,t);break;case"escape":this._escapeKeyHandler(e,t);break;case"F":this._ctrlFKeyHandler(e)}e.originalEvent.stopPropagation()}},_isLastRow:function(e){return e===this.getController("data").items().length-1},_getNextCell:function(t,n,i){var r,o,a,s,l=i||this._focusedCellPosition,u=e.inArray(t,["next","previous"])>-1;if(this._focusedView&&l){if(o=this._getNewPositionByCode({columnIndex:l.columnIndex,rowIndex:l.rowIndex},n,t),a=this._focusedView.getCell(o),!this._isCellValid(a)&&this._isCellInRow(o,u)&&(a=this._getNextCell(t,"cell",o)),s=a&&a.parent(),this._hasSkipRow(s)){if(r=this._focusedView.getRowIndex(s),this._isLastRow(r))return null;a=this._getNextCell(t,"row",{columnIndex:l.columnIndex,rowIndex:r})}return a}return null},_getNewPositionByCode:function(e,t,n){var i,r=e.columnIndex,o=e.rowIndex;if(void 0===e.rowIndex&&"next"===n)return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":i=this._getVisibleColumnCount(o),i-1>r&&!this._isLastValidCell({columnIndex:r,rowIndex:o})&&"row"!==t?r++:this._isLastRow(o)||"next"!==n||(r=0,o++);break;case"previousInRow":case"previous":r>0&&!this._isFirstValidCell({columnIndex:r,rowIndex:o})&&"row"!==t?r--:o>0&&"previous"===n&&(o--,i=this._getVisibleColumnCount(o),r=i-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:r,rowIndex:o}},_isFirstValidCell:function(e){var t=!1;return 0===e.rowIndex&&e.columnIndex>=0&&(t=t||!this._haveValidCellBeforePosition(e)),t},_haveValidCellBeforePosition:function(e){for(var t,n=e.columnIndex,i=!1;n>0&&!i;)t={columnIndex:--n,rowIndex:e.rowIndex},i=this._isCellByPositionValid(t);return i},_isLastValidCell:function(e){var t={columnIndex:e.columnIndex+1,rowIndex:e.rowIndex},n=this._getVisibleColumnCount(e.rowIndex),i=this._isCellByPositionValid(t);return this._isLastRow(e.rowIndex)?e.columnIndex===n-1?!0:i?!1:this._isLastValidCell(t):!1},_getVisibleColumnCount:function(e){var t=this.getController("data").items()[e],n=this.getController("columns").getVisibleColumns(),i=0;if(t&&"detail"===t.rowType){for(;n[i]&&n[i].command;)i++;i++}else i=n.length;return i},_isCellInRow:function(e,t){var n=e.columnIndex,i=this._getVisibleColumnCount(e.rowIndex);return t?n>=0&&i-1>=n:n>0&&i-1>n},_resetFocusedCell:function(){var e=this,t=e._getFocusedCell();t&&t.attr("tabindex",null),e._isNeedFocus=!1,e._isNeedScroll=!1,e._focusedCellPosition={}},_getCellElementFromTarget:function(t){return e(t).closest("."+c+"> td")},init:function(){var t=this;t.option("useKeyboard")&&(t._dataController=t.getController("data"),t._selectionController=t.getController("selection"),t._editingController=t.getController("editing"),t._headerPanel=t.getView("headerPanel"),t._columnsController=t.getController("columns"),t.getController("editorFactory").focused.add(function(e){t.setupFocusedView(),t._isNeedScroll&&e.is(":visible")&&t._focusedView&&t._focusedView.getScrollable&&(t._scrollToElement(e),t._isNeedScroll=!1)}),t._focusedCellPosition={},t._dataController.changed.add(function(e){t._focusedCellPosition&&e&&"prepend"===e.changeType&&(t._focusedCellPosition.rowIndex+=e.items.length)}),t._initFocusedViews(),t._documentClickHandler=t.createAction(function(n){e(n.jQueryEvent.target).closest("."+p).length||t._resetFocusedCell()}),t.createAction("onKeyDown"),e(document).on(l.addNamespace(u.down,"dxDataGridKeyboardNavigation"),t._documentClickHandler))},_scrollToElement:function(e,t){this._focusedView.getScrollable().scrollToElement(e,t)},focus:function(e){var t=this._getFocusedViewByElement(e);t&&(this._focusView(t.view,t.viewIndex),this._isNeedFocus=!0,this._isNeedScroll=!0,this._focus(e),this._isHeaderView(t.view.name)&&this._focusInteractiveElement(e))},getFocusedView:function(){return this._focusedView},_getFocusedViewByElement:function(e){var t=function(t){return e.closest(t._$element).length};return this._getFocusedViewByCondition(t)},_getFocusedViewByCondition:function(t){var n;return e.each(this._focusedViews,function(e,i){return t(i)?(n={viewIndex:e,view:i},!1):void 0}),n},_isHeaderView:function(e){return"columnHeadersView"===e},focusViewByName:function(e){var t=this._getFocusedViewByName(e);this._focusView(t.view,t.viewIndex)},setupFocusedView:function(){a.isDefined(this._focusedView)||this.focusViewByName("rowsView")},_getFocusedViewByName:function(e){var t=function(t){return t.name===e};return this._getFocusedViewByCondition(t)},optionChanged:function(e){var t=this;switch(e.name){case"useKeyboard":e.handled=!0;break;default:t.callBase(e)}},dispose:function(){this.callBase(),this._focusedView=null,this._focusedViews=null,this._keyDownProcessor&&this._keyDownProcessor.dispose(),e(document).off(l.addNamespace(u.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}}),o.registerModule("keyboardNavigation",{defaultOptions:function(){return{useKeyboard:!0}},controllers:{keyboardNavigation:o.KeyboardNavigationController},extenders:{views:{rowsView:{_renderCore:function(e){this.callBase(e),this.element().attr("tabindex",this.option("useKeyboard")?0:null)}}},controllers:{editing:{editCell:function(e,t){var n=this.callBase(e,t),i=this.getController("keyboardNavigation");return n&&i.setupFocusedView(),n},getFocusedCellInRow:function(e){var t=this.getController("keyboardNavigation"),n=this.callBase(e);return this.option("useKeyboard")&&t._focusedCellPosition.rowIndex===e&&(n=t._getFocusedCell()||n),n}}}}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r="dx-error-row",o="dx-error-message",a="dx-closebutton",s="dx-datagrid-action";i.ErrorHandlingController=i.ViewController.inherit({init:function(){var e=this;e._columnHeadersView=e.getView("columnHeadersView"),e._rowsView=e.getView("rowsView")},_createErrorRow:function(t,n){var i=this,l=e("<tr />").addClass(r),u=e("<div/>").addClass(o).text(t),c=e("<div/>").addClass(a).addClass(s);return c.on("dxclick",i.createAction(function(t){var o,a=t.jQueryEvent,s=e(a.currentTarget).closest("."+r).index();a.stopPropagation(),e.each(n,function(t,n){o=e(n).find("tbody > tr").eq(s),i.removeErrorRow(o)})})),e("<td/>").attr({colspan:i.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(c).append(u).appendTo(l),l},renderErrorRow:function(t,n){var i,r,o,a=this,s=n>=0?a._rowsView:a._columnHeadersView,l=s.getTableElements();e.each(l,function(u,c){r=a._createErrorRow(t,l),o=e(c).find("tr"),n>=0?(i=s._getRowElements(e(c)).eq(n),a.removeErrorRow(o.eq(i.index()+1)),r.insertAfter(i)):(a.removeErrorRow(o.last()),e(c).append(r))})},removeErrorRow:function(e){var t=this._columnHeadersView&&this._columnHeadersView.element();e=e||t&&t.find("."+r),e&&e.hasClass(r)&&e.remove()},optionChanged:function(e){var t=this;switch(e.name){case"errorRowEnabled":e.handled=!0;break;default:t.callBase(e)}}}),i.registerModule("errorHandling",{defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:i.ErrorHandlingController},extenders:{controllers:{data:{init:function(){var e=this,t=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add(function(n){var i=n&&n.message||n;e.option("errorRowEnabled")&&t.renderErrorRow(i)}),e.changed.add(function(){var t=e.getController("errorHandling"),n=e.getController("editing");n&&!n.hasChanges()&&t&&t.removeErrorRow()})}}}}})}(jQuery,DevExpress),function(e,t){var n,i,r=t.ui,o=DevExpress.require("/ui/ui.errors"),a=t.require("/utils/utils.common"),s=r.dxDataGrid,l=t.data.utils.normalizeSortingInfo,u="dx-datagrid-total-footer",c="dx-datagrid-summary-item",d="dx-datagrid-text-content",h="dx-datagrid-group-footer",p="dx-datagrid-group-text-content",f="groupFooter",m=function(t,n){var i,r,o=n.column,a=n.summaryItems,l=[];if(!o.command&&a){for(i=0;i<a.length;i++)r=a[i],l.push(e("<div>").css("text-align",r.alignment||o.alignment).addClass(c).addClass(d).addClass(r.cssClass).toggleClass(p,"group"===n.rowType).text(s.getSummaryText(r,n.summaryTexts)));t.append(l)}},g=function(e,t){var n=e.option("summary.texts")||{};return{totalItem:t.row,summaryItems:t.row.summaryCells[t.columnIndex],summaryTexts:n}},_=function(e){return e.summary||e.aggregates||[]};s.FooterView=s.ColumnsView.inherit(function(){return{_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(t){return e.extend(this.callBase(t),g(this,t))},_renderCellContent:function(e,t){m(e,t),this.callBase(e,t)},_renderCore:function(){var e=this._dataController.footerItems()[0];this.element().empty().addClass(u),e&&e.summaryCells&&e.summaryCells.length&&this._updateContent(this._renderTable())},_rowClick:function(t){var n=this._dataController.footerItems()[t.rowIndex]||{};this.executeAction("onRowClick",e.extend({},t,n))},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&this.callBase(e)},_handleDataChanged:function(e){"refresh"===e.changeType&&this.render()},getHeight:function(){var e=this.element();return e?e.outerHeight():0},isVisible:function(){return!!this._dataController.footerItems().length}}}()),n=function(){return{init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[]},summary:function(e){return arguments.length?void(this._summary=e):this._summary},totalAggregates:function(){return this._totalAggregates}}}(),i=function(){var n=function(e,n,i,r){var o;return n&&(o=new t.data.AggregateCalculator({totalAggregates:n.totalAggregates,groupAggregates:n.groupAggregates,data:i,groupLevel:r}),o.calculate()),o?o.totalAggregates():[]},i=function(n,r,o){if(!n||!r.length)return n;var a,s=r[0],l=o[0];return s&&l&&l.length&&(a=t.data.query(n),e.each(l,function(e){a=0===e?a.sortBy(this.selector,this.desc):a.thenBy(this.selector,this.desc)}),a.enumerate().done(function(e){n=e})),r=r.slice(1),o=o.slice(1),r.length&&o.length&&e.each(n,function(){this.items=i(this.items,r,o)}),n},r=function(e,t,n){var r=n&&n.sortByGroups&&n.sortByGroups();return r&&r.length?i(e,t,r):e};return{_customizeRemoteOperations:function(e){var t=this.summary();t&&(e.remoteOperations.summary?(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll)&&(e.storeLoadOptions.group&&(e.remoteOperations.grouping?e.storeLoadOptions.groupSummary=t.groupAggregates:t.groupAggregates.length&&(e.remoteOperations.paging=!1)),e.storeLoadOptions.totalSummary=t.totalAggregates):(t.totalAggregates.length||t.groupAggregates.length&&e.storeLoadOptions.group)&&(e.remoteOperations.paging=!1)),this.callBase.apply(this,arguments)},_handleDataLoadedCore:function(e){var t,i=this,o=l(e.loadOptions.group||[]),a=i.summary(),s=e.remoteOperations||{};s.summary?(!s.paging&&!s.grouping&&o.length&&a&&(n(i,{groupAggregates:a.groupAggregates},e.data,o.length),e.data=r(e.data,o,a)),i._totalAggregates=e.extra&&e.extra.summary||i._totalAggregates):s.paging||(t=n(i,a,e.data,o.length),e.data=r(e.data,o,a),e.extra=e.extra||{},i._totalAggregates=e.extra.summary=t),i.callBase(e)}}}(),s.DataSourceAdapter=s.DataSourceAdapter.inherit(n).inherit(i),s.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,texts:{sum:Globalize.localize("dxDataGrid-summarySum"),sumOtherColumn:Globalize.localize("dxDataGrid-summarySumOtherColumn"),min:Globalize.localize("dxDataGrid-summaryMin"),minOtherColumn:Globalize.localize("dxDataGrid-summaryMinOtherColumn"),max:Globalize.localize("dxDataGrid-summaryMax"),maxOtherColumn:Globalize.localize("dxDataGrid-summaryMaxOtherColumn"),avg:Globalize.localize("dxDataGrid-summaryAvg"),avgOtherColumn:Globalize.localize("dxDataGrid-summaryAvgOtherColumn"),count:Globalize.localize("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}},views:{footerView:s.FooterView},extenders:{controllers:{data:function(){return{_isDataColumn:function(e){return e&&(!a.isDefined(e.groupIndex)||e.showWhenGrouped)},_isGroupFooterVisible:function(){for(var e,t,n=this.option("summary.groupItems")||[],i=0;i<n.length;i++)if(e=n[i],t=this._columnsController.columnOption(e.showInColumn||e.column),e.showInGroupFooter&&this._isDataColumn(t))return!0;return!1},_processGroupItems:function(e,t,n){var i=this.callBase.apply(this,arguments);return n&&(void 0===n.isGroupFooterVisible&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),n.data&&n.data.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!n.data.isContinuationOnNextPage)&&i.push({rowType:f,data:n.data,groupIndex:n.path.length-1,values:[]})),i},_processGroupItem:function(t,n){var i,r,o=this;return n.summaryGroupItems||(n.summaryGroupItems=o.option("summary.groupItems")||[]),"group"===t.rowType&&(i=-1,r=-1,e.each(n.visibleColumns,function(e){var o=n.visibleColumns[e-1];t.groupIndex===this.groupIndex&&(i=this.index),e>0&&"expand"===o.command&&"expand"!==this.command&&(r=this.index)}),t.summaryCells=this._calculateSummaryCells(n.summaryGroupItems,_(t.data),n.visibleColumns,function(e,t){return e.showInGroupFooter?-1:e.alignByColumn&&t&&!a.isDefined(t.groupIndex)&&t.index!==r?t.index:i})),t.rowType===f&&(t.summaryCells=this._calculateSummaryCells(n.summaryGroupItems,_(t.data),n.visibleColumns,function(e,t){return e.showInGroupFooter&&o._isDataColumn(t)?t.index:-1})),t},_calculateSummaryCells:function(t,n,i,r){var o=this,l=[],u={};return e.each(t,function(t,i){var l,c=o._columnsController.columnOption(i.column),d=i.showInColumn&&o._columnsController.columnOption(i.showInColumn)||c,h=r(i,d);h>=0&&(u[h]||(u[h]=[]),l=n[t],l===l&&u[h].push(e.extend({},i,{value:l,valueFormat:a.isDefined(i.valueFormat)?i.valueFormat:s.getFormatByDataType(c&&c.dataType),columnCaption:c&&c.index!==h?c.caption:void 0})))}),e.isEmptyObject(u)||e.each(i,function(){l.push(u[this.index]||[])}),l},_getSummaryCells:function(e,t){var n=this,i=n._columnsController;return n._calculateSummaryCells(e,t,i.getVisibleColumns(),function(e,t){return n._isDataColumn(t)?t.index:-1})},_updateItemsCore:function(e){var t,n,i=this,r=i._dataSource,o=i.option("summary.totalItems");i.callBase(e),i._footerItems=[],r&&o&&o.length&&(n=r.totalAggregates(),t=this._getSummaryCells(o,n),t.length&&i._footerItems.push({rowType:"totalFooter",summaryCells:t}))},_getAggregates:function(n,i){var r=this,s=r.getController("columns"),l=r.option("summary.calculateCustomSummary"),u=r.option("summary.skipEmptyValues");return e.map(n||[],function(n){var c,d=s.columnOption(n.column),h=d&&d.calculateCellValue?e.proxy(d,"calculateCellValue"):t.data.utils.compileGetter(d?d.dataField:n.column),p=n.summaryType||"count",f=n.column,m=a.isDefined(n.skipEmptyValues)?n.skipEmptyValues:u;
return i?{selector:n.column,summaryType:n.summaryType}:(f="avg"===p||"sum"===p?function(e){var t=h(e);return a.isDefined(t)?Number(t):t}:h,"custom"===p&&(l||(o.log("E1026"),l=function(){}),c={component:r.component,name:n.name},l(c),c.summaryProcess="calculate",p={seed:function(){return c.summaryProcess="start",c.totalValue=void 0,delete c.value,l(c),c.totalValue},step:function(e,t){return c.summaryProcess="calculate",c.totalValue=e,c.value=t,l(c),c.totalValue},finalize:function(e){return c.summaryProcess="finalize",c.totalValue=e,delete c.value,l(c),c.totalValue}}),{selector:f,aggregator:p,skipEmptyValues:m})})},_addSortInfo:function(e,t,n,i){var r;t&&(r=t.groupIndex,i=i||t.sortOrder,a.isDefined(r)&&(e[r]=e[r]||[],e[r].push({selector:n,desc:"desc"===i})))},_findSummaryItem:function(t,n){var i=-1,r=function(e){var t=e.summaryType,n=e.column;return t&&n&&t+"_"+n};return a.isDefined(n)&&e.each(t||[],function(e){return this.name===n||e===n||this.summaryType===n||this.column===n||r(this)===n?(i=e,!1):void 0}),i},_getSummarySortByGroups:function(t,n){var i=this,r=i._columnsController,o=r.getGroupColumns(),s=[];return n&&n.length?(e.each(t||[],function(){var t,l=this.sortOrder,u=this.groupColumn,c=i._findSummaryItem(n,this.summaryItem);0>c||(t=function(e){return _(e)[c]},a.isDefined(u)?(u=r.columnOption(u),i._addSortInfo(s,u,t,l)):e.each(o,function(e,n){i._addSortInfo(s,n,t,l)}))}),s):void 0},_createDataSourceAdapterCore:function(e,t){var n=this._getSummaryOptions(t),i=this.callBase(e,t);return i.summary(n),i},_getSummaryOptions:function(e){var t=this,n=t.option("summary.groupItems"),i=t.option("summary.totalItems"),r=t.option("sortByGroupSummaryInfo"),o=t._getAggregates(n,e&&e.grouping&&e.summary),a=t._getAggregates(i,e&&e.summary),s=function(){return t._getSummarySortByGroups(r,n)};return o.length||a.length?{groupAggregates:o,totalAggregates:a,sortByGroups:s}:void 0},publicMethods:function(){var e=this.callBase();return e.push("getTotalSummaryValue"),e},getTotalSummaryValue:function(e){var t=this._findSummaryItem(this.option("summary.totalItems"),e),n=this._dataSource.totalAggregates();return n.length&&t>-1?n[t]:void 0},optionChanged:function(e){("summary"===e.name||"sortByGroupSummaryInfo"===e.name)&&(e.name="dataSource"),this.callBase(e)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}}}()},views:{rowsView:function(){return{_createRow:function(e){var t=this.callBase(e);return e&&t.addClass(e.rowType===f?h:""),t},_renderCells:function(e,t){this.callBase.apply(this,arguments),"group"===t.row.rowType&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)},_hasAlignByColumnSummaryItems:function(e,t){return!a.isDefined(t.columns[e].groupIndex)&&t.row.summaryCells[e].length},_getAlignByColumnCellCount:function(e,t){for(var n,i=0,r=1;e>r;r++)n=t.row.summaryCells.length-r,i=this._hasAlignByColumnSummaryItems(n,t)?r:i;return i},_renderGroupSummaryCells:function(e,t){var n=e.children().last(),i=Number(n.attr("colspan"))||1,r=this._getAlignByColumnCellCount(i,t);this._renderGroupSummaryCellsCore(n,t,i,r)},_renderGroupSummaryCellsCore:function(t,n,i,r){var o,a;if(r>0)for(t.attr("colspan",i-r),o=0;r>o;o++)a=n.columns.length-r+o,this._renderCell(t.parent(),e.extend({column:n.columns[a],columnIndex:a},n))},_getColumnTemplate:function(e){return!e.column.command&&!a.isDefined(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?m:this.callBase(e)},_getCellOptions:function(t){var n=this,i=n.callBase(t);return t.row.summaryCells?e.extend(i,g(n,t)):i}}}()}}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=t.require("/utils/utils.browser"),r=t.require("/utils/utils.common"),o=t.require("/ui/events/ui.events.wheel"),a=n.dxDataGrid,s="dx-datagrid-content",l="dx-master-detail-cell",u="dx-first-cell",c="dx-state-hover",d="dx-header-row",h="dx-datagrid-content-fixed",p="dx-col-fixed",f="dx-pointer-events-target",m="dx-pointer-events-none",g=function(t){var n=-1;return e.each(t,function(e,t){return"transparent"===t.command?(n=e,!1):void 0}),n},_={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(p,this._isFixedTableRendering&&(e.fixed||e.command&&"transparent"!==e.command))},_createCell:function(e){var t=this.callBase(e);return e.colspan&&t.attr("colspan",e.colspan),"transparent"===e.command&&t.addClass(m),t},_renderTable:function(t){var n,i,r=this,o=r._columnsController.getFixedColumns();return r._isFixedColumns=!!o.length,i=r.callBase(t),r._isFixedColumns?(r._isFixedTableRendering=!0,n=r._createTable(o),r._renderRows(n,e.extend({},t,{columns:o})),r._updateContent(n,t&&t.change),r._isFixedTableRendering=!1):(r._fixedTableElement&&r._fixedTableElement.remove(),r._fixedTableElement=null),i},_wrapTableInScrollContainer:function(){var e=this.callBase.apply(this,arguments);return this._isFixedTableRendering&&e.addClass(h+" "+f),e},_renderCellContent:function(e,t){var n,i=this,o=t.column;if(!i._isFixedTableRendering&&i._isFixedColumns&&("group"!==t.rowType||!r.isDefined(o.groupIndex))){if(o.fixed||o.command)return void e.html("&nbsp;").addClass(o.cssClass);if("filter"===t.rowType)return i.callBase(e,t),n=g(i._columnsController.getFixedColumns()),e.toggleClass(u,t.columnIndex===n),void 0}"transparent"!==o.command&&i.callBase(e,t)},getCellElements:function(t){var n,i,r=this,o=0,a=r.callBase(t);return r._fixedTableElement&&a&&(n=r._columnsController.getFixedColumns(),i=r._getRowElements(r._fixedTableElement).eq(t).children("td"),e.each(n,function(e,t){"transparent"===t.command?(i.eq(e).hasClass(l)&&(a[o]=i.get(e)),o+=t.colspan):(a[o]=i.get(e),o++)})),a},getColumnWidths:function(){var e,t,n=this,i=0,r=n.callBase(),o=n._columnsController.getFixedColumns();if(n._fixedTableElement&&r.length)for(t=a.getWidths(n._fixedTableElement),e=0;e<o.length;e++)"transparent"===o[e].command?i+=o[e].colspan:(r[i]<t[e]&&(r[i]=t[e]),i++);return r},_getTableElement:function(){return this._isFixedTableRendering?this._fixedTableElement:this.callBase()},_setTableElement:function(e){this._isFixedTableRendering?this._fixedTableElement=e.addClass(m):this.callBase(e)},getColumns:function(e){return e=e||this._getTableElement(),this._isFixedTableRendering||e&&e.closest("table").parent("."+h).length?this._columnsController.getFixedColumns():this.callBase(e)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=e.add(this._fixedTableElement)),e},getFixedColumns:function(){return this._columnsController.getFixedColumns()},getFixedColumnsOffset:function(){var e,t,n={left:0,right:0};return this._fixedTableElement&&(e=this.getTransparentColumnElement(),t=e.position(),n={left:t.left,right:this.element().outerWidth(!0)-(e.outerWidth(!0)+t.left)}),n},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find("."+m).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){this.callBase(e),this.synchronizeRows()},_getClientHeight:function(e){var t=e.getBoundingClientRect&&e.getBoundingClientRect();return t&&t.height?t.height:e.clientHeight},synchronizeRows:function(){var e,t,n,i,r,o,a,s=this,l=[],u=[];if(s._isFixedColumns&&s._tableElement&&s._fixedTableElement&&(i=s._getClientHeight(s._tableElement.get(0)),r=s._getClientHeight(s._fixedTableElement.get(0)),o=s._getRowElements(s._tableElement),a=s._getRowElements(s._fixedTableElement),i!==r)){for(o.css("height",""),a.css("height",""),n=0;n<o.length;n++)l.push(s._getClientHeight(o.get(n))),u.push(s._getClientHeight(a.get(n)));for(n=0;n<o.length;n++)e=l[n],t=u[n],e>t?a.eq(n).css("height",e):t>e&&o.eq(n).css("height",t)}}},v=e.extend({},_,{getContextMenuItems:function(e){var t,n,i,r=this,o=r.option("columnFixing"),a=r.callBase(e);return e.closest("."+d).length&&(t=e.closest("td"),n=t.length&&r.getColumns(e)[t[0].cellIndex],n.allowFixing&&(i=function(e){switch(e.itemData.value){case"none":r._columnsController.columnOption(n.index,"fixed",!1);break;case"left":r._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":r._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}},a.push({text:o.texts.fix,beginGroup:!0,items:[{text:o.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:i},{text:o.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:i}]},{text:o.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:i}))),a},setScrollerSpacing:function(e){var t=this,n=t.option("rtlEnabled");t.callBase(e),t.element().children("."+h).css(n?{paddingLeft:e}:{paddingRight:e})},getFixedColumnElements:function(){return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(0).children()}}),y=e.extend({},_,{_detachHoverEvents:function(){this._fixedTableElement&&this._fixedTableElement.off("mouseover mouseout",".dx-data-row"),this._tableElement&&this._tableElement.off("mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var t=this,n=function(n){n.on("mouseover mouseout",".dx-data-row",t.createAction(function(n){var i=n.jQueryEvent,r=t.getRowIndex(e(i.target).closest(".dx-row")),o="mouseover"===i.type;r>=0&&(t._tableElement&&t._getRowElements(t._tableElement).eq(r).toggleClass(c,o),t._fixedTableElement&&t._getRowElements(t._fixedTableElement).eq(r).toggleClass(c,o))}))};t._fixedTableElement&&t._tableElement&&(n(t._fixedTableElement),n(t._tableElement))},_findContentElement:function(){var t,n,i,r=this,a=r.element();return a&&r._isFixedTableRendering?(t=a.children("."+s),t.length||(n=r.getScrollable(),t=e("<div/>").addClass(s).on("scroll",function(t){i=e(t.target).scrollTop(),i&&(e(t.target).scrollTop(0),n.scrollTo({y:r._scrollTop+i}))}).on(o.name,function(e){return n&&(i=n.scrollTop(),n.scrollTo({y:i-e.delta}),n.scrollTop()>0&&n.scrollTop()+n.clientHeight()<n.scrollHeight()+r.getScrollbarWidth())?!1:void 0}).appendTo(a)),t):r.callBase()},_updateBottomLoading:function(){this._isFixedTableRendering||this.callBase()},_updateScrollable:function(){var e=this.getScrollable(),t=e&&e.scrollOffset().top;this.callBase(),this._updateFixedTablePosition(-t)},_renderContent:function(e,t){return this._isFixedTableRendering?e.empty().addClass(s+" "+h+" "+f).append(t):this.callBase(e,t)},_getGroupCellOptions:function(t){return this._isFixedTableRendering?this.callBase(e.extend({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t)},_renderGroupSummaryCells:function(t,n){this._isFixedTableRendering?this.callBase(t,e.extend({},n,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t,n)},_hasAlignByColumnSummaryItems:function(e,t){var n=this.callBase.apply(this,arguments);return n&&Boolean(t.columns[e].fixed)===Boolean(t.isFixed)},_renderGroupSummaryCellsCore:function(e,t,n,r){this._isFixedTableRendering&&(r>0&&(i.mozilla?e.css("display","none"):e.css("visibility","hidden")),t.isFixed=!0,r=this._getAlignByColumnCellCount(n,t),t.isFixed=!1),this.callBase(e,t,n,r)},_renderCore:function(e){this._detachHoverEvents(),this.callBase(e),this.option("hoverStateEnabled")&&this._isFixedColumns&&this._attachHoverEvents()},optionChanged:function(e){var t=this;t.callBase(e),"hoverStateEnabled"===e.name&&t._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(t){var n,i=this._fixedTableElement,r=0;return i&&i.find(t).length?(n=this._columnsController.getFixedColumns(),e.each(n,function(e,n){return e===t[0].cellIndex?!1:n.colspan?void(r+=n.colspan):void r++}),r):this.callBase(t)},_updateFixedTablePosition:function(e){if(this._fixedTableElement&&this._tableElement){var t=this.getController("editorFactory"),n=t.focus();this._fixedTableElement.css("top",e+this._tableElement.position().top),n&&t.focus(n)}},setScrollerSpacing:function(e,t){var n,i=this,r=i.element().children("."+h);r.length&&(n=i.option("rtlEnabled")?{marginLeft:e}:{marginRight:e},n.marginBottom=t,r.css(n))},_handleScroll:function(e){this._updateFixedTablePosition(-e.scrollOffset.top),this.callBase(e)},_updateContentPosition:function(){var e=this.callBase();return e&&this._updateFixedTablePosition(-this._scrollTop),e},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)}}),x=_;a.registerModule("fixedColumns",{defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:Globalize.localize("dxDataGrid-columnFixingFix"),unfix:Globalize.localize("dxDataGrid-columnFixingUnfix"),leftPosition:Globalize.localize("dxDataGrid-columnFixingLeftPosition"),rightPosition:Globalize.localize("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:v,rowsView:y,footerView:x},controllers:function(){var t=function(t,n){var i=g(t);return i>=0&&e.each(n,function(e,n){n.index>i&&(n.columnIndex+=t[i].colspan-1,n.index+=t[i].colspan-1)}),n};return{draggingHeader:{_generatePointsByColumns:function(e){var n,i=e.targetDraggingPanel;return i&&"headers"===i.getName()&&i.isFixedColumns()&&e.sourceColumn.fixed?(e.columnElements=i.getFixedColumnElements(),e.columns=i.getFixedColumns(),n=this.callBase(e),t(e.columns,n)):this.callBase(e)},_pointCreated:function(e,t,n,i){var r,o=this.callBase.apply(this,arguments),a=this._columnHeadersView.getTransparentColumnElement();return!o&&"headers"===n&&a?(r=a.get(0).getBoundingClientRect(),i&&i.fixed?"right"===i.fixedPosition?e.x<r.right:e.x>r.left:e.x<r.left||e.x>r.right):o}},columnsResizer:{_generatePointsByColumns:function(){var e=this,n=e._columnsController?e._columnsController.getFixedColumns():[],i=e._columnHeadersView.getFixedColumnElements(),r=[];e.callBase(),i&&i.length>0&&(r=a.getPointsByColumns(i,function(t){return e._pointCreated(t,i.length,n)}),e._pointsByFixedColumns=t(n,r))},_pointCreated:function(e,t,n){var i,r;return e.index>0&&e.index<t&&(i=n[e.columnIndex-1]||{},r=n[e.columnIndex]||{},i.fixed||r.fixed)?(e.columnIndex-=1,!((i.allowResizing||"transparent"===i.command)&&(r.allowResizing||"transparent"===r.command))):this.callBase.apply(this,arguments)},_getTargetPoint:function(e,t,n){var i,r=this._columnHeadersView.getTransparentColumnElement();return r&&(i=r.get(0).getBoundingClientRect(),t<=i.left||t>=i.right)?this.callBase(this._pointsByFixedColumns,t,n):this.callBase(e,t,n)}},keyboardNavigation:{_scrollToElement:function(e){var t=this.getFocusedView();this.callBase(e,t&&t.getFixedColumnsOffset())}}}}()}})}(jQuery,DevExpress),function(e,t){var n=t.ui,i=n.dxDataGrid,r=DevExpress.require("/class"),o=t.require("/utils/utils.common"),a=t.require("/ui/widgets/ui.checkBox"),s="dx-datagrid-checkbox-size",l="dx-datagrid-export-menu",u="dx-datagrid-export-button",c="export-to",d="exportxlsx",h="export-excel-button";i.DataProvider=r.inherit({_getGroupValue:function(e){var t,n=this._options.groupColumns[e.groupIndex],r=i.getDisplayValue(n,e.values[e.groupIndex],e.data,e.rowType),o=n.caption+": "+i.formatValue(r,n);return t=this._options.getVisibleIndex(n.index),e.summaryCells&&e.summaryCells.length&&e.summaryCells[t].length&&(o+=" "+i.getGroupRowSummaryText(e.summaryCells[t],this._options.summaryTexts)),o},_correctCellIndex:function(e){var t=this._options.startValueIndex,n=this._options.endValueIndex;return n>=e?t+e:null},ctor:function(e){this._options=e},getColumns:function(){return this._options.columns},getRowsCount:function(){return this._options.items.length},isGroupRow:function(e){return e<this._options.items.length&&"group"===this._options.items[e].rowType},getGroupLevel:function(e){var t=this._options.items[e],n=t.groupIndex;return t.isTotalSummary?0:o.isDefined(n)?n:this._options.groupColumns.length},getCellType:function(e,t){if(t<this._options.columns.length){var n=this._options.items.length&&this._options.items[e],i=this._options.columns[t];return n&&"data"===n.rowType&&isFinite(n.values[this._correctCellIndex(t)])&&!o.isDefined(i.customizeText)?o.isDefined(i.lookup)?i.lookup.dataType:i.dataType:"string"}},ready:function(){var t=this._options;return e.when(t.items).done(function(e){t.items=e})},getCellValue:function(e,t){var n,r,a,s,l,u=this._correctCellIndex(t),c=this._options.items.length&&this._options.items[e];if(c)switch(l=c.values,c.rowType){case"summaryFooter":if(u<l.length&&(r=l[u],o.isDefined(r)))return i.getSummaryText(r,this._options.summaryTexts);break;case"group":if(1>t)return this._getGroupValue(c);if(s=c.values[u],o.isArray(s)){for(r="",a=0;a<s.length;a++)r+=(a>0?" \n ":"")+i.getSummaryText(s[a],this._options.summaryTexts);return r}break;default:if(n=this._options.columns[t])return r=i.getDisplayValue(n,l[u],c.data,c.rowType),!isFinite(r)||n.customizeText?i.formatValue(r,n):r}},isHeadersVisible:function(){return this._options.isHeadersVisible},isTotalCell:function(e,t){var n=this._options.items,i=n[e],r=this._correctCellIndex(t),o=i.summaryCells&&i.summaryCells[r]&&i.summaryCells[r].length>0&&i.summaryCells[r][0].alignByColumn;return i&&"summaryFooter"===i.rowType||o}}),i.ExportController=i.ViewController.inherit({_getColumns:function(){for(var t,n=[],i=this._columnsController.getVisibleColumns(),r=this._headersView&&this._headersView.isVisible()?this._headersView.getColumnWidths():this._rowsView.getColumnWidths(),a=0;a<i.length;a++)t=i[a],o.isDefined(t.command)||n.push(e.extend({},t,{width:r[a]}));return n},_getFooterSummaryItems:function(e,t){var n,i,r,o,a=[],s=1,l=0;do{for(n=[],o=0;o<e.length;o++)r=e[o],i=r.length,i>s&&(s=i),n.push(r[l]);a.push({values:n,rowType:"summaryFooter",isTotalSummary:t})}while(l++<s-1);return a},_hasSummaryGroupFooters:function(){var e,t=this.option("summary.groupItems");if(o.isDefined(t))for(e=0;e<t.length;e++)if(t[e].showInGroupFooter)return!0;return!1},_getItemsWithSummaryGroupFooters:function(e){for(var t,n=[],i=[],r=[],o=0;o<e.length;o++)t=e[o],"groupFooter"===t.rowType?(r=this._getFooterSummaryItems(t.summaryCells),n=n.concat(i,r),i=[]):i.push(t);return n.length?n:i},_updateGroupValuesWithSummaryByColumn:function(t){for(var n,i,r,a,s,l,u=[],c=0;c<t.length;c++)if(n=t[c],i=n.summaryCells,"group"===n.rowType&&i&&i.length>1){for(a=n.values.length,l=1;l<i.length;l++)for(s=0;s<i[l].length;s++)r=i[l][s],r&&r.alignByColumn&&(o.isArray(u[l-a])||(u[l-a]=[]),u[l-a].push(r));u.length>0&&(e.merge(n.values,u),u=[])}},_getAllItems:function(t){var n,i,r=this,a=e.Deferred(),s=this.getController("data"),l=s.footerItems(),u=l.length&&l[0],c=r.option("summary.totalItems");return s.loadAll(t).done(function(e,t){r._updateGroupValuesWithSummaryByColumn(e),r._hasSummaryGroupFooters()&&(e=r._getItemsWithSummaryGroupFooters(e)),n=u&&u.summaryCells,o.isDefined(t)&&c&&(n=s._getSummaryCells(c,t)),i=u&&r._getFooterSummaryItems(n,!0),i&&(e=e.concat(i)),a.resolve(e)}).fail(a.reject),a},_getSelectedItems:function(){var e=this.getController("selection"),t=e.getSelectedRowsData();return this._getAllItems(t)},_getStartEndValueIndexces:function(e){for(var t,n,i=e.length,r=0;i>r;r++)if(!o.isDefined(e[r].command)){t=r;break}for(r=i-1;r>=0;r--)if(!o.isDefined(e[r].command)){n=r;break}return{startIndex:t,endIndex:n}},init:function(){this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onExported",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFileSaving",{excludeValidators:["disabled","readOnly"]}),this._clientExporter=new t.dxClientExporter({exportingAction:this.getAction("onExporting"),exportedAction:this.getAction("onExported"),fileSavingAction:this.getAction("onFileSaving")})},optionChanged:function(e){this.callBase(e),"onExporting"===e.name&&this._clientExporter.option("exportingAction",this.getAction(e.name)),"onExported"===e.name&&this._clientExporter.option("exportedAction",this.getAction(e.name)),"onFileSaving"===e.name&&this._clientExporter.option("fileSavingAction",this.getAction(e.name))},callbackNames:function(){return["selectionOnlyChanged"]},getExportFormat:function(){return["EXCEL"]},getDataProvider:function(){var t=this._columnsController.getGroupColumns(),n=this._getStartEndValueIndexces(this._columnsController.getVisibleColumns());return new i.DataProvider({columns:this._getColumns(),groupColumns:t,items:this._selectionOnly?this._getSelectedItems():this._getAllItems(),getVisibleIndex:e.proxy(this._columnsController.getVisibleIndex,this._columnsController),startValueIndex:n.startIndex,endValueIndex:n.endIndex,isHeadersVisible:this.option("showColumnHeaders"),summaryTexts:this.option("summary.texts")})},exportToExcel:function(e){this._selectionOnly=e;var t=this.option("export.excelWrapTextEnabled");o.isDefined(this._clientExporter)&&this._clientExporter.exportTo({fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"EXCEL",wrapTextEnabled:o.isDefined(t)?t:!!this.option("wordWrapEnabled"),autoFilterEnabled:!!this.option("export.excelFilterEnabled"),component:this.component})},publicMethods:function(){return["getDataProvider","getExportFormat","exportToExcel"]},selectionOnly:function(e){return o.isDefined(e)?(this._isSelectedRows=e,void this.selectionOnlyChanged.fire()):this._isSelectedRows}}),i.registerModule("export",{defaultOptions:function(){return{"export":{enabled:!1,fileName:"DataGrid",excelFilterEnabled:!1,excelWrapTextEnabled:void 0,proxyUrl:void 0,allowExportSelectedData:!1,texts:{exportTo:Globalize.localize("dxDataGrid-exportTo"),exportToExcel:Globalize.localize("dxDataGrid-exportToExcel"),excelFormat:Globalize.localize("dxDataGrid-excelFormat"),selectedRows:Globalize.localize("dxDataGrid-selectedRows")}}}},controllers:{"export":i.ExportController},extenders:{controllers:{editing:{callbackNames:function(){var e=this.callBase();return o.isDefined(e)?e.push("editingChanged"):["editingChanged"]},_updateEditButtons:function(){this.callBase(),this.editingChanged.fire(this.hasChanges())}}},views:{headerPanel:{_isExportButtonVisible:function(){return this.option("export.enabled")},_getButtonOptions:function(){var e=this,t=e.option("export.texts");return e.option("export.allowExportSelectedData")?{hint:t.exportTo,icon:c,onClick:null}:{hint:t.exportToExcel,icon:h,onClick:function(){e._exportController.exportToExcel()}}},_renderExportButton:function(){var t=this;t.option("export.enabled")?t._$exportButton?(t._exportButton.option(t._getButtonOptions()),t._$exportButton.show()):(t._$exportButton=e("<div>").addClass(u).appendTo(t.element()),t._exportButton=t._createComponent(t._$exportButton,"dxButton",t._getButtonOptions())):t._$exportButton&&t._$exportButton.hide()},_renderExportMenu:function(){var t=this,n=t.option("export.texts"),i=[{text:n.excelFormat,exportAction:!0,icon:d}];o.isDefined(t._exportContextMenu)&&t._exportContextMenu.element().remove(),t.option("export.enabled")&&t.option("export.allowExportSelectedData")&&(i.push({value:"selectionOnly",template:function(){return t._createComponent(e("<div>").addClass(s),a,{text:n.selectedRows,value:!!t._exportController.selectionOnly(),onValueChanged:function(e){t._exportController.selectionOnly(e.value)}}).element()},beginGroup:!0,closeMenuOnClick:!1}),t._exportContextMenu=t._createComponent(e("<div>").appendTo(t.component.element()),"dxContextMenu",{alternativeInvocationMode:{enabled:!0,invokingElement:t._$exportButton},items:i,cssClass:l,onItemClick:function(e){e.itemData.exportAction&&t._exportController.exportToExcel(t._exportController.selectionOnly())},target:this._$exportButton,position:{at:"left bottom",my:"left top",offset:"0 3",collision:"fit",boundary:t._$parent,boundaryOffset:"1 1"}}))},_renderCore:function(){this.callBase(),this._renderExportButton(),this._renderExportMenu()},optionChanged:function(e){this.callBase(e),"export"===e.name&&(e.handled=!0,this._invalidate())},init:function(){var e=this;this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingChanged.add(function(t){o.isDefined(e._exportButton)&&e._exportButton.option("disabled",t)})},isVisible:function(){return this.callBase()||this._isExportButtonVisible()}}}}})}(jQuery,DevExpress),function(e,t){var n=t.ui.dxDataGrid,i=t.require("/utils/utils.common"),r="dx-datagrid",o="dx-hidden",a="dx-datagrid-table",s="dx-datagrid-borders",l="dx-datagrid-table-fixed",u="dx-datagrid-important-margin",c=100,d=50,h=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView"],p=function(e){return i.isString(e)&&"%"===e.slice(-1)},f=function(e,t){var n,i=[];if(e&&t&&e.length&&e.length===t.length)for(n=0;n<e.length;n++)i.push(e[n]>t[n]?e[n]:t[n]);else e&&e.length?i=e:t&&(i=t);return i};n.ResizingController=n.ViewController.inherit({_initPostRenderHandlers:function(){var t=this;t._refreshSizesHandler||(t._refreshSizesHandler=function(n){if(t._dataController.changed.remove(t._refreshSizesHandler),t._columnsController.columnsChanged.firing)return void(window.setImmediate||setTimeout)(e.proxy(t._refreshSizesHandler,t,n));var i=n&&n.changeType;n&&"refresh"!==i&&"prepend"!==i&&"append"!==i?"update"===i&&(t._dataController.items().length>1?t._rowsView.resize():t.resize()):t.resize(),i&&"updateSelection"!==i&&t.component._fireContentReadyAction()},t._dataController.changed.add(function(){t._dataController.changed.add(t._refreshSizesHandler)}))},_getBestFitWidths:function(){var e,t,n,i,r=this;return e=r._rowsView.getColumnWidths(),t=r._columnHeadersView&&r._columnHeadersView.getColumnWidths(),n=r._footerView&&r._footerView.getColumnWidths(),i=f(e,t),i=f(i,n)},_setVisibleWidths:function(t,n){var i=this._columnsController;i.beginUpdate(),e.each(t,function(e,t){var r=t.command?"command:"+t.command:t.index;i.columnOption(r,"visibleWidth",n[e])}),i.endUpdate()},_toggleBestFitMode:function(e){var t=this.component.element();t.find("."+a).toggleClass(l,!e),t.find("input").toggleClass(o,e),t.find(".dx-group-cell").toggleClass(o,e),t.find(".dx-header-row .dx-datagrid-text-content").css("max-width","")},_synchronizeColumns:function(){var t=this,n=t._columnsController,i=n.getVisibleColumns(),r=t.option("columnAutoWidth"),o=r,a=!1,s=[],l=function(){var t;e.each(i,function(e,n){"expand"===n.command&&(t=s[e])}),e.each(i,function(e,n){"expand"===n.command&&t&&(s[e]=t)})};o||e.each(i,function(e,t){return"auto"===t.width?(o=!0,!1):void 0}),t._setVisibleWidths(i,[]),o&&(t._toggleBestFitMode(!0),s=t._getBestFitWidths(),e.each(i,function(e,t){var i=t.command?"command:"+t.command:t.index;n.columnOption(i,"bestFitWidth",s[e],!0)})),e.each(i,function(e){"auto"!==this.width&&(this.width?s[e]=this.width:r||(s[e]=void 0))}),a=t._correctColumnWidths(s,i),r&&(l(),t._processStretch(s,i)),o&&t._toggleBestFitMode(!1),(o||a)&&t._setVisibleWidths(i,s)},_correctColumnWidths:function(t,n){var i,r,o,a=this,s=!1,l=!1,u=!1,c=a.component.element(),d=a._hasWidth;if(e.each(n,function(e){"auto"!==this.width&&(this.width?t[e]=this.width:l=!0),p(this.width)&&(s=!0)}),c&&a._maxWidth&&(delete a._maxWidth,c.css("max-width","")),!l&&t.length&&(r=a._rowsView.contentWidth(),o=a._getTotalWidth(t,r),r>=o)){for(i=t.length-1;i>=0&&n[i]&&n[i].command;)i--;i>=0&&(t[i]="auto",u=!0,d||s||(a._maxWidth=a.option("showBorders")?o+2:o,c.css("max-width",a._maxWidth)))}return u},_processStretch:function(t,n){var i,r,o,a,s=this._rowsView.contentWidth(),l=this._getTotalWidth(t,s),u={length:0};if(t.length&&(e.each(n,function(e){this.width&&(u[e]=!0,u.length++)}),i=s-l,r=Math.floor(i/(t.length-u.length)),o=i-r*(t.length-u.length),i>=0))for(a=0;a<t.length;a++)u[a]||(t[a]+=r,o&&(t[a]++,o--))},_getTotalWidth:function(e,t){for(var n,i=0,r=0;r<e.length;r++)n=e[r],n&&(i+=p(n)?parseInt(n)*t/100:parseInt(n));return Math.round(i)},updateSize:function(e){var t,n,i=this;void 0===i._hasHeight&&e&&e.is(":visible")&&(t=e.children("."+r),t.length&&t.detach(),i._hasHeight=!!e.height(),n=e.width(),e.addClass(u),i._hasWidth=e.width()===n,e.removeClass(u),t.length&&t.appendTo(e))},publicMethods:function(){return["resize","updateDimensions"]},resize:function(){this.component._requireResize||this.updateDimensions()},updateDimensions:function(t){var n,i,r,o,a=this,s=a._dataController,l=a.component.element(),u=l&&(l.get(0).clientHeight||l.height()),p=a.option("loadPanel"),f=a.option("height"),m=a.getController("editorFactory"),g=a._rowsView,_=a._columnHeadersView,v=a._footerView;if(a._initPostRenderHandlers(),!t||(this._lastWidth!==l.width()||this._lastHeight!==l.height())&&l.is(":visible")){if(a.updateSize(l),f&&a._hasHeight^"auto"!==f&&(i=e("<div>").height(f).appendTo(l),a._hasHeight=!!i.height(),i.remove()),a._hasHeight&&u>0&&a.option("scrolling")?(n=u,e.each(a.getViews(),function(){this.isVisible()&&this.getHeight&&(n-=this.getHeight())})):n=a._hasHeight||0!==s.items().length?"auto":p&&p.visible?p.height+d:c,g.height(n),!s.isLoaded())return void g.setLoading(!0);r=g.getScrollbarWidth(),o=g.getScrollbarWidth(!0),_&&_.setScrollerSpacing(r),v&&v.setScrollerSpacing(r),g.setScrollerSpacing(r,o),a._synchronizeColumns(),e.each(h,function(e,t){var n=a.getView(t);n&&n.resize()}),m&&m.resize(),this._lastWidth=l.width(),this._lastHeight=l.height()}},optionChanged:function(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();default:this.callBase(e)}},init:function(){var e=this;e._dataController=e.getController("data"),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._footerView=e.getView("footerView"),e._rowsView=e.getView("rowsView")}}),n.SynchronizeScrollingController=n.ViewController.inherit({_scrollChangedHandler:function(e,t,n){for(var i=0;i<e.length;i++)e[i].name!==n&&e[i].scrollTo({left:t.left,top:t.top})},init:function(){for(var t,n=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],i=0;i<n.length;i++)t=n[i],t&&t.scrollChanged.add(e.proxy(this._scrollChangedHandler,this,n))}}),n.GridView=n.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init:function(){var e=this;e._resizingController=this.getController("resizing"),e._dataController=e.getController("data")},getView:function(e){return this.component._views[e]},element:function(){return this._groupElement},optionChanged:function(e){var t=this;i.isDefined(t._groupElement)&&"showBorders"===e.name?(t._groupElement.toggleClass(s,!!e.value),e.handled=!0):t.callBase(e)},render:function(t){var n=this,i=n._groupElement||e("<div />").addClass(r).toggleClass(s,!!n.option("showBorders"));n.component.setAria({role:"application",label:Globalize.localize("dxDataGrid-ariaDataGrid")},t),n._rootElement=t||n._rootElement,n._groupElement=i,e.each(h,function(e,t){var r=n.getView(t);r&&r.render(i)}),n.update()},update:function(){var e=this,t=e._rootElement,n=e._groupElement,i=e.getController("resizing");t&&n&&(n.parent().length||(i.updateSize(t),n.appendTo(t),e.getView("columnHeadersView").renderDelayedTemplates(),e.getView("rowsView").renderDelayedTemplates()),i.resize(),e._dataController.isLoaded()&&e.component._fireContentReadyAction())}}),n.registerModule("gridView",{defaultOptions:function(){return{showBorders:!1}},controllers:{resizing:n.ResizingController,synchronizeScrolling:n.SynchronizeScrollingController},views:{gridView:n.GridView}})}(jQuery,DevExpress),function(e,t){function n(e,t){for(var n=[],i=0;i<e.length;i++)n.push(Math.max(e[i]||0,t[i]||0));return n}function i(t){var n=0;return e.each(t,function(e,t){n+=t||0}),n}function r(e,t){
for(var n=t/e.length,i=0;i<e.length;i++)e[i]-=n}function o(e,t){e.off("scroll").off("stop").on("scroll",t).on("stop",t)}function a(t,n){if(x[n])return x[n];var i,r=0,o={},a=e("<div>").css({position:"absolute",visibility:"hidden",width:100,height:100}).appendTo(t),s=e("<p>").css({width:"100%",height:200}).appendTo(a);return"auto"!==n&&(o.useNative=!!n,o.useSimulatedScrollbar=!n),a.dxScrollable(o),i=a.dxScrollable("instance").option("useNative"),r=i?a.width()-s.width():0,a.remove(),x[n]={scrollBarWidth:r,scrollBarUseNative:i}}var s,l=t.ui,u=t.require("/utils/utils.string"),c=t.require("/componentRegistrator"),d=t.require("/ui/ui.widget"),h=t.require("/ui/events/ui.events.utils"),p=t.require("/utils/utils.common").isDefined,f="dx-area-data-cell",m="dx-area-row-cell",g="dx-area-column-cell",_="dx-area-description-cell",v="dx-pivotgrid-border",y=66666,x={};c("dxPivotGrid",l,d.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{scrolling:{timeout:300,renderingTreshold:150,mode:"standard",useNative:"auto",removeInvisiblePages:!0},encodeHtml:!0,dataSource:null,activeStateEnabled:!1,fieldChooser:{minWidth:250,minHeight:250,enabled:!0,layout:0,title:Globalize.localize("dxPivotGrid-fieldChooserTitle"),width:600,height:600},onContextMenuPreparing:null,allowSorting:!1,allowSortingBySummary:!1,allowFiltering:!1,allowExpandAll:!1,"export":{enabled:!1,fileName:"PivotGrid",proxyUrl:void 0},showRowTotals:!0,showRowGrandTotals:!0,showColumnTotals:!0,showColumnGrandTotals:!0,hideEmptySummaryCells:!0,showTotalsPrior:"none",loadPanel:{enabled:!0,text:Globalize.localize("Loading"),width:200,height:70,showIndicator:!0,indicatorSrc:"",showPane:!0},texts:{grandTotal:Globalize.localize("dxPivotGrid-grandTotal"),total:Globalize.localize("dxPivotGrid-total"),noData:Globalize.localize("dxDataGrid-noDataText"),showFieldChooser:Globalize.localize("dxPivotGrid-showFieldChooser"),expandAll:Globalize.localize("dxPivotGrid-expandAll"),collapseAll:Globalize.localize("dxPivotGrid-collapseAll"),sortColumnBySummary:Globalize.localize("dxPivotGrid-sortColumnBySummary"),sortRowBySummary:Globalize.localize("dxPivotGrid-sortRowBySummary"),removeAllSorting:Globalize.localize("dxPivotGrid-removeAllSorting"),exportToExcel:Globalize.localize("dxDataGrid-exportToExcel")},onCellClick:null,onCellPrepared:null,showBorders:!1,stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3},onExpandValueChanging:null,renderCellCountLimit:2e4,onExporting:null,onExported:null,onFileSaving:null})},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{useNativeScrolling:{since:"15.2",alias:"scrolling.useNative"}})},_getDataControllerOptions:function(){var t=this;return{component:t,dataSource:t.option("dataSource"),texts:t.option("texts"),showRowTotals:t.option("showRowTotals"),showRowGrandTotals:t.option("showRowGrandTotals"),showColumnTotals:t.option("showColumnTotals"),showTotalsPrior:t.option("showTotalsPrior"),showColumnGrandTotals:t.option("showColumnGrandTotals"),hideEmptySummaryCells:t.option("hideEmptySummaryCells"),onFieldsPrepared:function(n){e.each(n,function(n,i){e.each(["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"],function(e,n){void 0===i[n]&&s.setFieldProperty(i,n,t.option(n))})})}}},_initDataController:function(){var e,t=this;t._dataController&&t._dataController.dispose(),t._dataController=new s.DataController(t._getDataControllerOptions()),t._dataController.changed.add(function(){t._render()}),t._dataController.scrollChanged.add(function(e){t._scrollLeft=e.left,t._scrollTop=e.top}),t._dataController.loadingChanged.add(function(){t._updateLoading()}),e=t.option("onExpandValueChanging"),e&&t._dataController.expandValueChanging.add(function(t){e(t)})},_init:function(){var e=this;e.callBase(),e._initDataController(),e._scrollLeft=e._scrollTop=null,e._initActions(),e._clientExporter=new t.dxClientExporter({exportingAction:e._actions.onExporting,exportedAction:e._actions.onExported,fileSavingAction:e._actions.onFileSaving})},_initActions:function(){this._actions={onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing"),onCellClick:this._createActionByOption("onCellClick"),onExporting:this._createActionByOption("onExporting"),onExported:this._createActionByOption("onExported"),onFileSaving:this._createActionByOption("onFileSaving")}},_trigger:function(e,t){this._actions[e](t)},_optionValuesEqual:function(e,n,i){return"dataSource"===e&&i instanceof t.data.PivotGridDataSource&&n instanceof t.data.PivotGridDataSource?i===n:this.callBase.apply(this,arguments)},_optionChanged:function(e){var t=this;switch(e.name){case"dataSource":case"allowSorting":case"allowFiltering":case"allowExpandAll":case"allowSortingBySummary":case"scrolling":case"stateStoring":t._initDataController(),t._fieldChooserPopup.hide(),t._invalidate();break;case"texts":case"showTotalsPrior":case"showRowTotals":case"showRowGrandTotals":case"showColumnTotals":case"showColumnGrandTotals":case"hideEmptySummaryCells":t._dataController.updateViewOptions(t._getDataControllerOptions());break;case"useNativeScrolling":case"encodeHtml":case"renderCellCountLimit":t._invalidate();break;case"rtlEnabled":t.callBase(e),t._renderFieldChooser(),t._renderContextMenu(),t._renderLoadPanel(t._dataArea.groupElement(),t.element()),t._invalidate();break;case"export":t._renderDescriptionArea();break;case"onExpandValueChanging":case"onCellPrepared":break;case"onCellClick":case"onContextMenuPreparing":t._actions[e.name]=t._createActionByOption(e.name);break;case"fieldChooser":t._renderFieldChooser(),t._renderDescriptionArea();break;case"loadPanel":t._renderLoadPanel(t._dataArea.groupElement(),t.element()),t._invalidate();break;case"showBorders":t._tableElement().toggleClass(v,e.value),t.updateDimensions();break;case"onExporting":t._actions.onExporting=t._createActionByOption(e.name),t._clientExporter.option("exportingAction",t._actions.onExporting);break;case"onExported":t._actions.onExported=t._createActionByOption(e.name),t._clientExporter.option("exportedAction",t._actions.onExported);break;case"onFileSaving":t._actions.onFileSaving=t._createActionByOption(e.name),t._clientExporter.option("fileSavingAction",t._actions.onFileSaving);break;default:t.callBase(e)}},_updateScrollPosition:function(t,n,i){var r,o,a=this,s=a._scrollTop||a._scrollLeft;n&&!n.hasScroll()&&a._hasHeight&&(a._scrollTop=null),t&&!t.hasScroll()&&(a._scrollLeft=null),null!==a._scrollTop||null!==a._scrollLeft||s?(r=a._scrollTop||0,o=a._scrollLeft||0,i.scrollTo({x:o,y:r}),t.scrollTo(o),n.scrollTo(r),a._dataController.updateWindowScrollPosition(a._scrollTop)):e.each([t,n,i],function(e,t){t&&t.updateScrollable()})},_subscribeToEvents:function(e,t,n){var i=this,r=function(r){var o=r.scrollOffset,a=p(o.left)?o.left:i._scrollLeft,s=p(o.top)&&i._hasHeight?o.top:i._scrollTop;((i._scrollLeft||0)!==(a||0)||(i._scrollTop||0)!==(s||0))&&(i._scrollLeft=a,i._scrollTop=s,i._updateScrollPosition(e,t,n),"virtual"===i.option("scrolling.mode")&&i._dataController.setViewportPosition(i._scrollLeft,i._scrollTop))};o(n,r),o(t,r),o(e,r),i._hasHeight||i._dataController.subscribeToWindowScrollEvents(n.groupElement())},_clean:e.noop,_needDelayResizing:function(e){var t=e.length*(e.length?e[0].length:0);return t>this.option("renderCellCountLimit")},_renderFieldChooser:function(){var t=this,n=t._pivotGridContainer,i=t.option("fieldChooser")||{},r={visible:!1,shading:!1,title:i.title,width:i.width,height:i.height,showCloseButton:!0,onShown:function(e){var n=e.component,r=e.component.content();t._createComponent(r,"dxPivotGridFieldChooser",{layout:i.layout,texts:i.texts||{},dataSource:t.getDataSource(),width:void 0,height:void 0}),t._createComponent(r.parent(),"dxResizable",{handles:t.option("rtlEnabled")?"left bottom":"right bottom",onResize:function(){n._setContentHeight(),r.dxPivotGridFieldChooser("updateDimensions")},minWidth:i.minWidth,minHeight:i.minHeight})}};t._fieldChooserPopup?t._fieldChooserPopup.option(r):t._fieldChooserPopup=t._createComponent(e("<div>").addClass("dx-fieldchooser-popup").appendTo(n),"dxPopup",r)},_renderContextMenu:function(){var t=this,n=t._pivotGridContainer;t._contextMenu&&t._contextMenu.element().remove(),t._contextMenu=t._createComponent(e("<div>").appendTo(n),"dxContextMenu",{onPositioning:function(n){var i,r,o=n.jQueryEvent,a=o.target.cellIndex>=0?o.target:e(o.target).closest("td").get(0);return a&&(i=t._createCellArgs(a,o),r=t._getContextMenuItems(i))?void n.component.option("items",r):void(n.cancel=!0)},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:s.cssClassNames.pivotGrid,target:t.element()})},_getContextMenuItems:function(t){var n,i=this,r=[];if("row"===t.area||"column"===t.area){var o=t[t.area+"Fields"],a=t["column"===t.area?"rowFields":"columnFields"],l=t.cell.path&&o[t.cell.path.length-1],c=i.getDataSource();l&&l.allowExpandAll&&t.cell.path.length<t[t.area+"Fields"].length&&"D"===t.cell.type&&(r.push({beginGroup:!0,icon:"none",text:i.option("texts.expandAll"),onItemClick:function(){c.expandAll(l.index)}}),r.push({text:i.option("texts.collapseAll"),icon:"none",onItemClick:function(){c.collapseAll(l.index)}})),t.cell.isLast&&(n=0,e.each(a,function(o,a){a.allowSortingBySummary&&e.each(t.dataFields,function(e,o){if(!p(t.cell.dataIndex)||t.cell.dataIndex===e){var l=!p(t.cell.dataIndex)&&t.dataFields.length>1,d=i.option("column"===t.area?"texts.sortColumnBySummary":"texts.sortRowBySummary"),h=s.findField(t.dataFields,a.sortBySummaryField)===e&&(t.cell.path||[]).join("/")===(a.sortBySummaryPath||[]).join("/"),f=u.format(d,l?a.caption+" - "+o.caption:a.caption);r.push({beginGroup:0===n,icon:h?"desc"===a.sortOrder?"desc":"asc":"none",text:f,onItemClick:function(){c.field(a.index,{sortBySummaryField:o.caption||o.dataField,sortBySummaryPath:t.cell.path,sortOrder:"desc"===a.sortOrder?"asc":"desc"}),c.load()}}),n++}})}),e.each(a,function(t,o){return o.allowSortingBySummary&&p(o.sortBySummaryField)?(r.push({beginGroup:0===n,icon:"none",text:i.option("texts.removeAllSorting"),onItemClick:function(){e.each(a,function(e,t){c.field(t.index,{sortBySummaryField:void 0,sortBySummaryPath:void 0,sortOrder:void 0})}),c.load()}}),!1):void 0}))}return i.option("fieldChooser.enabled")&&r.push({beginGroup:!0,icon:"column-chooser",text:i.option("texts.showFieldChooser"),onItemClick:function(){i._fieldChooserPopup.show()}}),t.items=r,i.option("export.enabled")&&r.push({beginGroup:!0,icon:"exportxlsx",text:i.option("texts.exportToExcel"),onItemClick:function(){i.exportToExcel()}}),i._trigger("onContextMenuPreparing",t),r=t.items,r&&r.length?r:void 0},_createCellArgs:function(t,n){var i=this,r=e(t),o=t.cellIndex,a=t.parentElement.rowIndex,s=r.closest("table"),l=i.getDataSource(),u=s.data("data"),c=u&&u[a]&&u[a][o];return{area:s.data("area"),rowFields:l.getAreaFields("row"),columnFields:l.getAreaFields("column"),dataFields:l.getAreaFields("data"),rowIndex:a,columnIndex:o,cellElement:r,cell:c,jQueryEvent:n}},_handleCellClick:function(e){var t=this,n=t._createCellArgs(e.currentTarget,e),i=n.cell;!n.area&&(n.rowIndex||n.columnIndex)||(t._trigger("onCellClick",n),i&&p(i.expanded)&&setTimeout(function(){t._dataController[i.expanded?"collapseHeaderItem":"expandHeaderItem"](n.area,i.path)}))},_getNoDataText:function(){return this.option("texts.noData")},_updateNoDataText:t.ui.dxDataGrid.RowsView.prototype._updateNoDataText,_renderLoadPanel:t.ui.dxDataGrid.RowsView.prototype._renderLoadPanel,_updateLoading:function(){var e=this;e._loadPanel&&e._loadPanel.option("visible",e._dataController.isLoading())},_renderDescriptionArea:function(){var t=this,n=t.element().find("."+_);n.empty(),t.option("fieldChooser.enabled")&&t._createComponent(e("<div>").appendTo(n).addClass("dx-pivotgrid-field-chooser-button"),"dxButton",{icon:"column-chooser",hint:t.option("texts.showFieldChooser"),onClick:function(){t.getFieldChooserPopup().show()}}),t.option("export.enabled")&&t._createComponent(e("<div>").appendTo(n).addClass("dx-pivotgrid-export-button"),"dxButton",{icon:"exportxlsx",hint:t.option("texts.exportToExcel"),onClick:function(){t.exportToExcel()}})},_detectHasContainerHeight:function(){var t,n=this,i=n.element();void 0===n._hasHeight&&i.is(":visible")&&(t=e("<div>").height(y),n._pivotGridContainer.addClass("dx-hidden"),i.append(t),n._hasHeight=i.height()!==y,n._pivotGridContainer.removeClass("dx-hidden"),t.remove())},_renderContentImpl:function(){var t,n,i,r,o,l=this,u=l._dataArea||new s.DataArea(l),c=l._rowsArea||new s.VerticalHeadersArea(l),d=l._columnsArea||new s.HorizontalHeadersArea(l),p=a(l.element(),l.option("scrolling.useNative")),y=!l._pivotGridContainer,x=l._dataController.getCellsInfo();l._scrollBarWidth=p.scrollBarWidth,l._scrollBarUseNative=p.scrollBarUseNative,y?(l.element().addClass(s.cssClassNames.pivotGrid).addClass(s.cssClassNames.rowLines),l._pivotGridContainer=e("<div>"),l._renderFieldChooser(),l._renderContextMenu(),t=e("<td>").addClass(g),n=e("<td>").addClass(m),i=e("<td>").addClass(f),r=e("<table>").css({width:"100%"}).toggleClass(v,!!l.option("showBorders")).on(h.addNamespace("dxclick","dxPivotGrid"),"td",e.proxy(l,"_handleCellClick")),e("<tr>").append(e("<td>").addClass(_)).append(t).appendTo(r),e("<tr>").addClass(s.cssClassNames.bottomAraesRow).append(n).append(i).appendTo(r),l._pivotGridContainer.append(r),l.element().append(l._pivotGridContainer)):r=l._tableElement(),l._rowsArea=c,l._columnsArea=d,l._dataArea=u,d.render(t,l._dataController.getColumnsInfo()),c.render(n,l._dataController.getRowsInfo()),u.render(i,x),u.tableElement().prepend(d.headElement()),o=function(){l.updateDimensions(),l._subscribeToEvents(d,c,u)},y&&(l._renderLoadPanel(u.groupElement().parent(),l.element()),l._renderDescriptionArea(),c.processScroll(),d.processScroll()),l._needDelayResizing(x)&&y?setTimeout(o):o()},_fireContentReadyAction:function(){this._dataController.isLoading()||this.callBase()},getScrollPath:function(e){var t=this;return"column"===e?t._columnsArea.getScrollPath(t._scrollLeft):t._rowsArea.getScrollPath(t._scrollTop)},getDataSource:function(){return this._dataController.getDataSource()},getFieldChooserPopup:function(){return this._fieldChooserPopup},hasScroll:function(e){var t=this;return"column"===e?t._columnsArea.hasScroll():t._rowsArea.hasScroll()},_dimensionChanged:function(){this.updateDimensions()},_visibilityChanged:function(e){e&&this.updateDimensions()},_dispose:function(){var e=this;e.callBase.apply(e,arguments),e._dataController&&e._dataController.dispose()},_tableElement:function(){return this.element().find("table").first()},resize:function(){this.updateDimensions()},isReady:function(){return this.callBase()&&!this._dataController.isLoading()},updateDimensions:function(){var t,o,a,s,l,u,c,d,h,p,v,y,x,b,w,C,S,k=this,D=k._tableElement(),T=k._rowsArea,E=k._columnsArea,I=k._dataArea,A=0,$=0,B=0,O=k._scrollBarWidth||0,P=D.find("."+f),M=D.find("."+m),R=D.find("."+g),V=D.find("."+_);k._detectHasContainerHeight(),I.headElement().length||(I.tableElement().prepend(E.headElement()),I.resetColumnsWidth()),I.reset(),T.reset(),E.reset(),u=I.getColumnsWidth(),s=T.getRowsHeight(),a=I.getRowsHeight(),x=V.outerHeight(),w=k._dataController.getColumnsInfo().length,l=n(s,a.slice(w)),b=a.slice(0,w),y=i(b),c=T.getColumnsWidth(),k._hasHeight&&(d=R.outerHeight()-R.height()+P.outerHeight()-P.height()+D.outerHeight()-D.height(),o=k.element().height()-(Math.max(I.headElement().height(),R.height())+d)),A=I.tableElement().width(),$=i(l),B=i(c),v=k.element().width(),d=M.outerWidth()-M.width()+P.outerWidth()-P.width()+D.outerWidth()-D.width(),t=v-B-d,h=k._hasHeight&&$-o>=1,p=A-t>=1,h||(o=$+(p?O:0)),E.tableElement().append(I.headElement()),!p&&h&&O&&r(u,O),x>y&&(r(b,y-x),E.setRowsHeight(b)),E.groupWidth(t),E.processScrollBarSpacing(h?O:0),E.setColumnsWidth(u),T.groupHeight(k._hasHeight?o:"auto"),T.processScrollBarSpacing(p?O:0),T.setColumnsWidth(c),T.setRowsHeight(l),I.setColumnsWidth(u),I.setRowsHeight(l),I.groupWidth(t),I.groupHeight(k._hasHeight?o:"auto"),P.toggleClass("dx-bottom-border",!(h||O)),M.toggleClass("dx-bottom-border",!(h&&!O)),k._hasHeight||v===k.element().width()||(C=v-k.element().width(),p||(r(u,C),E.setColumnsWidth(u),I.setColumnsWidth(u)),I.groupWidth(t-C),E.groupWidth(t-C)),"virtual"!==k.option("scrolling.mode")||k._dataController.isLoading()||(S=k._dataController.calculateVirtualContentParams({contentWidth:A,contentHeight:$,rowCount:l.length,columnCount:u.length,viewportWidth:t,viewportHeight:k._hasHeight?o:e(window).outerHeight()}),I.setVirtualContentParams({top:S.contentTop,left:S.contentLeft,width:S.width,height:S.height}),T.setVirtualContentParams({top:S.contentTop,width:B,height:S.height}),E.setVirtualContentParams({left:S.contentLeft,width:S.width,height:E.groupElement().height()})),k._updateScrollPosition(E,T,I),I.processScroll(k._scrollBarUseNative),k._updateLoading(),k._updateNoDataText(I.groupElement())},applyPartialDataSource:function(e,t,n){this._dataController.applyPartialDataSource(e,t,n)}})),s=e.extend(l.dxPivotGrid,{cssClassNames:{pivotGrid:"dx-pivotgrid",rowLines:"dx-row-lines",area:"dx-pivotgrid-area",areaData:"dx-pivotgrid-area-data",splitter:"dx-pivotgrid-splitter",splitterButton:"dx-button",splitterButtonDisable:"dx-button-disable",splitterExpand:"dx-expand",splitterCollapse:"dx-collapse",bottomAraesRow:"dx-bottom-row",verticalScroll:"dx-vertical-scroll",headersVertical:"dx-pivotgrid-vertical-headers",headersHorizontal:"dx-pivotgrid-horizontal-headers",headersVerticalLastCell:"dx-last-cell",headersVerticalExpandBorder:"dx-expand-border",headersExpandCollapseImage:"dx-expand",headersExpanded:"dx-pivotgrid-expanded",headersCollapsed:"dx-pivotgrid-collapsed",bottomBorder:"dx-pivotgrid-bottom-border",total:"dx-total",grandTotal:"dx-grandtotal",rowTotal:"dx-row-total"},mergeArraysByMaxValue:n})}(jQuery,DevExpress),function(e,t){function n(e,t){var n,i;if(e&&f.isDefined(t))for(n=0;n<e.length;n++)if(i=e[n],i.name===t||i.caption===t||i.dataField===t||i.index===t)return n;return-1}function i(e,t,n,r){r=r||[],e=e||[];for(var o,a=0;a<e.length;a++){if(o=e[a],r.unshift(o),n&&t(r,a)===!1)return;if(o.children&&i(o.children,t,n,r),!n&&t(r,a)===!1)return;r.shift(),e[a]!==o&&a--}}function r(e,t,n,i){var r=e._initProperties=e._initProperties||{},o=i?n:e[t];(!r.hasOwnProperty(t)||i)&&(r[t]=o),e[t]=n}function o(e){var t=e.dataField||e.groupName||"",n=(e.summaryType||"").toLowerCase();return f.isString(e.groupInterval)&&(t+="_"+e.groupInterval),n&&"custom"!==n?(n=n.replace(/^./,n[0].toUpperCase()),t.length&&(n=" ("+n+")")):n="",y.titleize(t)+n}function a(t,n){var i=t._initProperties||{};e.each(n,function(e,n){i.hasOwnProperty(n)&&(t[n]=i[n])})}function s(e,t){a(e,t),m(e.caption)||r(e,"caption",o(e))}function l(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n].key||e[n].value);return t}function u(e,t){var n={value:e,valueText:b.format(e,t.format,t.precision)||""};return t.customizeText?t.customizeText.call(t,n):n.valueText}function c(e,t,n,i){var r,o;for(n=n||0,i=i||"children",e.length&&t(e,n),o=0;o<e.length;o++)r=e[o],r[i]&&r[i].length&&c(r[i],t,n+1,i)}function d(e){return function(t,n){var i=0;return e(t)>e(n)?i=1:e(t)<e(n)&&(i=-1),i}}function h(e){var t=!1;return g(e.values,function(e,n){return n.summaryDisplayMode||n.calculateSummaryValue||n.runningTotal?(t=!0,!1):void 0}),t}var p=t.ui.dxPivotGrid,f=t.require("/utils/utils.common"),m=f.isDefined,g=e.each,_=DevExpress.require("/class"),v=t.require("/eventsMixin"),y=t.require("/utils/utils.inflector"),x=t.require("/utils/utils.array").normalizeIndexes,b=t.require("/utils/utils.formatHelper"),w={row:"rows",column:"columns",data:"values",filter:"filters"},C=["area","areaIndex","sortOrder","filterType","filterValues","sortBy","sortBySummaryField","sortBySummaryPath","expanded"],S=["format","selector","customizeText","caption"];t.data.PivotGridDataSource=p.DataSource=_.inherit(function(){function o(n){var i,r;return e.isPlainObject(n)&&n.load?i=new p.LocalStore(n):(n&&!n.store&&(n={store:n}),r=n.store,"xmla"===r.type?i=new p.XmlaStore(r):e.isPlainObject(r)&&r.type||r instanceof t.data.Store||e.isArray(r)?i=new p.LocalStore(n):r instanceof _&&(i=r)),i}function v(e,t,n){var r=[],o=t&&t[n]||[];return i(e[n],function(e){var t=e[0],n=l(e);t.children&&o[n.length-1]&&!o[n.length-1].expanded&&n.length<o.length&&r.push(n.slice())},!0),r}function y(e,t,n){return t?g(C,function(i,o){n?e[o]=t[o]:r(e,o,t[o])}):a(e,C),e}function b(e){var t=[];return g(e,function(e,n){t.push(y({},n,!0))}),t}function k(e,t){return e=e||[],g(t,function(t,n){y(n,e[t])}),t}function D(t,n){return e.map(t,function(t){return t.groupName===n.groupName&&f.isNumber(t.groupIndex)&&t.visible!==!1?e.extend(t,{areaIndex:n.areaIndex,area:n.area,expanded:m(t.expanded)?t.expanded:n.expanded,dataField:t.dataField||n.dataField,dataType:t.dataType||n.dataType,sortBy:t.sortBy||n.sortBy,sortOrder:t.sortOrder||n.sortOrder,sortBySummaryField:t.sortBySummaryField||n.sortBySummaryField,sortBySummaryPath:t.sortBySummaryPath||n.sortBySummaryPath,visible:t.visible||n.visible,showTotals:m(t.showTotals)?t.showTotals:n.showTotals,showGrandTotals:m(t.showGrandTotals)?t.showGrandTotals:n.showGrandTotals}):null}).sort(function(e,t){return e.groupIndex-t.groupIndex})}function T(e){e.sort(function(e,t){return e.areaIndex-t.areaIndex})}function E(e,t){return e.area===t&&!m(e.groupIndex)&&e.visible!==!1}function I(e){var t=this,n=t.fields(),i={rows:[],columns:[],values:[],filters:[]};return g(["row","column","data","filter"],function(t,i){var r=[];g(n,function(e,t){E(t,i)&&r.push(t)}),x(r,"areaIndex",e)}),g(n||[],function(e,t){var r=w[t.area],o=i[r],a=t.groupName;a&&!f.isNumber(t.groupIndex)&&(t.levels=D(n,t)),!o||a&&f.isNumber(t.groupIndex)||t.visible===!1||(t.levels&&o!==i.filters&&o!==i.values?(o.push.apply(o,t.levels),t.filterValues&&t.filterValues.length&&i.filters.push(t)):o.push(t))}),g(i,function(e,t){T(t)}),i}function A(e){return(e.dataField||e.groupName||"")+(e.groupInterval?e.groupName||"":"NOGROUP")+(e.groupInterval||"")}function $(t,n,i){var r=[],o={},a={},s=[],l=B(t);return n?(g(n,function(e,t){o[A(t)]=t}),g(t,function(t,n){var i,s=A(n),u=o[s]||a[s];u?i=e.extend({},u,n):o[s]=i=n,e.extend(i,{dataType:l[n.dataField]}),delete o[s],a[s]=u,r.push(i)}),i&&g(o,function(e,t){r.push(t)})):r=t,r.push.apply(r,s),r}function B(e){var t={};return g(e,function(e,n){t[n.dataField]=t[n.dataField]||n.dataType}),t}function O(t){var n,i=e.Deferred(),r=t._store,o=r&&r.getFields(B(t._fields));return e.when(o).done(function(e){t._storeFields=e,n=$(t._fields,e,t._retrieveFields),i.resolve(n)}).fail(function(){i.resolve(t._fields)}),i}function P(t,n){var r=null,o=(n||[]).join(".");return o.length&&i(t,function(t){var n=t[0],i=l(t).join("."),a=e.map(t,function(e){return e.text}).reverse().join(".");return o===i||n.key&&a===o?(r=t[0].index,!1):void 0}),r}function M(e,t,i,r){var o=t.values,a=n(i.values,e.sortBySummaryField),s="rows"===r,l=s?t.columns:t.rows,u=s?t.grandTotalRowIndex:t.grandTotalColumnIndex,c=e.sortBySummaryPath||[],d=c.length?P(l,c):u;return o&&o.length&&a>=0&&m(d)?function(e){var t=s?e.index:d,n=s?d:e.index;return((o[t]||[[]])[n]||[])[a]||null}:void 0}function R(e,t,n,i,r){var o=r?"asc":e.sortOrder,a=r?"value":"displayText"===e.sortBy?"text":"value",s=e.sortingMethod||d(function(e){return e[a]}),l=!r&&M(e,t,n,i),u=l&&d(l);return function(e,t){var n=u&&u(e,t)||0;return 0===n&&(n=s(e,t)),"desc"===o?-n:n}}function V(e,t,n,i){var r=t[n]||[],o=t.headerName===n?t.path.length:0,a=[];c(e[n],function(o,s){var l=r[s]||{},u=a[s]=a[s]||R(l,e,t,n,i);o.sort(u)},o)}function L(e,t,n){V(t,e,"rows",n),V(t,e,"columns",n)}function F(e,t,n){i(e[n],function(e){var i=e[0];i.text=i.text||u(i.value,t[n][l(e).length-1])})}function z(e,t){F(t,e,"columns"),F(t,e,"rows")}function H(e){var t={};i(e,function(e){var n=l(e).join(".");t[n]=e[0]}),e._cacheByPath=t}var N=function(e,t){return e._cacheByPath?e._cacheByPath[t.join(".")]||null:void 0},j=function(e,t){var n,i,r=-1;if(e)for(n=0;n<e.length;n++)i=e[n],r=Math.max(r,i.index),i.children?r=Math.max(r,j(i.children)):i.collapsedChildren&&(r=Math.max(r,j(i.collapsedChildren)));return m(t)&&(r=Math.max(r,t)),r},W=function(e,t,n,r){for(var o=j(n)+1,a=j(e,r)+1,s=[],l=0;o>l;l++)s[l]=a++;return t.children=n,i(t.children,function(e){e[0].index=s[e[0].index]}),s},G=function(e,t){var n=[];return i(e,function(e){delete e[0].collapsedChildren}),i(t,function(t){var i=N(e,l(t));i&&(n[t[0].index]=i.index)}),n},q=function(e,t,n,i){var r,o,a,s,l,u,c=e.values;if(t)for(r=0;r<=t.length;r++)if(a=t[r],l=n[r],m(l)||(l=e.grandTotalRowIndex),a&&m(l))for(c[l]||(c[l]=[]),o=0;o<=a.length;o++)s=a[o],u=i[o],m(u)||(u=e.grandTotalColumnIndex),m(s)&&m(u)&&(c[l][u]=s)};return{ctor:function(t){t=t||{};var n=this,i=o(t);n._store=i,n._loadedData={rows:[],columns:[],values:[]},n._data=e.extend(!0,{},n._loadedData),n._loadingCount=0,g(["changed","loadError","loadingChanged","fieldsPrepared","expandValueChanging"],e.proxy(function(e,n){var i="on"+n[0].toUpperCase()+n.slice(1);t.hasOwnProperty(i)&&this.on(n,t[i])},this)),n._retrieveFields=m(t.retrieveFields)?t.retrieveFields:!0,n._fields=t.fields||[],n._descriptions=t.descriptions?e.extend(n._createDescriptions(),t.descriptions):void 0,i||(e.extend(!0,n._loadedData,t.store||t),n._data=e.extend(!0,{},n._loadedData))},getData:function(){return this._data},getAreaFields:function(e,t){var n,i=[];return t||"data"===e?(g(this._fields,function(){E(this,e)&&i.push(this)}),T(i)):(n=this._descriptions||{},i=n[w[e]]||[]),i},fields:function(e){var t=this;return e&&(t._fields=$(e,t._storeFields,t._retrieveFields),t._fieldsPrepared(t._fields)),t._fields},field:function(t,i){var o,a=this,l=a._fields,u=l&&l[f.isNumber(t)?t:n(l,t)];return u&&i&&(g(i,function(t,n){var i,a=e.inArray(t,C)<0;if(r(u,t,n,a),"sortOrder"===t)for(o=u.levels||[],i=0;i<o.length;i++)o[i][t]=n}),s(u,S),a._descriptions=a._createDescriptions(u)),u},getFieldValues:function(t){var n=this,i=this._fields&&this._fields[t],r=this.store(),o=[],a={columns:o,rows:[],values:this.getAreaFields("data"),filters:[]},s=e.Deferred();return i&&r?(g(i.levels||[i],function(){o.push(e.extend({},this,{expanded:!0,filterValues:null,sortOrder:"asc",sortBySummaryField:null}))}),r.load(a).done(function(e){z(a,e),n._sort(a,e),s.resolve(e.columns)}).fail(s)):s.reject(),s},reload:function(){return this.load({reload:!0})},filter:function(){var e=this._store;return e.filter.apply(e,arguments)},load:function(t){function n(){i._delayedLoadTask=void 0,i._descriptions?i._loadCore(t,r):e.when(O(i)).done(function(e){i._fieldsPrepared(e),i._loadCore(t,r)}).fail(r.reject).fail(i._loadErrorHandler)}var i=this,r=e.Deferred();return t=t||{},i._changeLoadingCount(1),r.fail(function(e){i.fireEvent("loadError",[e])}).always(function(){i._changeLoadingCount(-1)}),i.store()?i._delayedLoadTask=f.executeAsync(n):n(),r},createDrillDownDataSource:function(t){function n(t){return function(n){var o;return i?o=i[t](n):(o=e.Deferred(),e.when(r).done(function(e){i=new DevExpress.data.ArrayStore(e),i[t](n).done(o.resolve).fail(o.reject)}).fail(o.reject)),o}}var i,r=this._store.getDrillDownItems(this._descriptions,t);return new DevExpress.data.DataSource({load:n("load"),totalCount:n("totalCount"),key:this._store.key()})},_createDescriptions:I,_fieldsPrepared:function(e){var t=this;t._fields=e,g(e,function(e,t){t.index=e,s(t,S.concat(["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"]))}),t.fireEvent("fieldsPrepared",[e]),t._descriptions=t._createDescriptions()},isLoading:function(){return this._loadingCount>0},state:function(t){var n=this;return arguments.length?(t=e.extend({rowExpandedPaths:[],columnExpandedPaths:[]},t),void(n._descriptions?(n._fields=k(t.fields,n._fields),n._descriptions=n._createDescriptions(),n.load(t)):(n._changeLoadingCount(1),e.when(O(n)).done(function(e){n._fields=k(t.fields,e),n._fieldsPrepared(e),n.load(t)}).always(function(){n._changeLoadingCount(-1)})))):{fields:b(n._fields),columnExpandedPaths:v(n._loadedData,n._descriptions,"columns"),rowExpandedPaths:v(n._loadedData,n._descriptions,"rows")}},_changeLoadingCount:function(e){var t,n=this.isLoading();this._loadingCount+=e,t=this.isLoading(),n^t&&this.fireEvent("loadingChanged",[t])},_loadCore:function(t,n){var i=this,r=this._store,o=this._descriptions,a=w[t.area];t=t||{},r?(e.extend(t,o),t.columnExpandedPaths=t.columnExpandedPaths||v(this._loadedData,t,"columns"),t.rowExpandedPaths=t.rowExpandedPaths||v(this._loadedData,t,"rows"),a&&(t.headerName=a),e.when(r.load(t)).done(function(r){t.path?i.applyPartialDataSource(t.area,t.path,r,n):(e.extend(i._loadedData,r),i._update(n)),n.resolve(i._data)}).fail(n.reject)):(i._update(n),n.resolve(i._data))},_sort:function(e,t,n){var i=this._store;i&&L(e,t,n)},_update:function(t){var n=this,i=n._descriptions,r=n._loadedData,o=h(i);z(i,r),H(r.rows),H(r.columns),o&&(n._sort(i,r,o),p.applyDisplaySummaryMode(i,r)),n._sort(i,r),n._data=r,e.when(t).done(function(){n.fireEvent("changed"),m(n._data.grandTotalRowIndex)&&(r.grandTotalRowIndex=n._data.grandTotalRowIndex),m(n._data.grandTotalColumnIndex)&&(r.grandTotalColumnIndex=n._data.grandTotalColumnIndex)})},store:function(){return this._store},collapseHeaderItem:function(e,t){var n=this,i="column"===e?n._loadedData.columns:n._loadedData.rows,r=N(i,t),o=n.getAreaFields(e)[t.length-1];return r&&r.children?(n.fireEvent("expandValueChanging",[{area:e,path:t,expanded:!1}]),o&&(o.expanded=!1),r.collapsedChildren=r.children,delete r.children,n._update(),!0):!1},collapseAll:function(t){var n=!1,r=this.field(t)||{},o=e.inArray(r,this.getAreaFields(r.area));r.expanded=!1,i(this._loadedData[r.area+"s"],function(e){var t=e[0],i=l(e);t&&t.children&&o===i.length-1&&(t.collapsedChildren=t.children,delete t.children,n=!0)},!0),n&&this._update()},expandAll:function(e){var t=this.field(e);t&&t.area&&(t.expanded=!0,this.load())},expandHeaderItem:function(e,t){var n,i,r=this,o="column"===e?r._loadedData.columns:r._loadedData.rows,a=N(o,t);return a&&!a.children?(n=!!a.collapsedChildren,i={area:e,path:t,expanded:!0,needExpandData:!n},r.fireEvent("expandValueChanging",[i]),n?(a.children=a.collapsedChildren,delete a.collapsedChildren,r._update()):r.load(i),n):!1},applyPartialDataSource:function(e,t,n,i){var r,o,a,s=this,l=s._loadedData,u="column"===e?l.columns:l.rows;n&&n.values&&(n.rows=n.rows||[],n.columns=n.columns||[],r=N(u,t),r&&("column"===e?(a=W(u,r,n.columns,l.grandTotalColumnIndex),o=G(l.rows,n.rows)):(o=W(u,r,n.rows,l.grandTotalRowIndex),a=G(l.columns,n.columns)),q(l,n.values,o,a),s._update(i)))},dispose:function(){var e=this,t=e._delayedLoadTask;this._disposeEvents(),t&&t.abort(),this._isDisposed=!0},isDisposed:function(){return!!this._isDisposed}}}()).include(v),p.foreachTree=i,p.createPath=l,p.foreachDataLevel=c,p.getCompareFunction=d,p.findField=n,p.formatValue=u,p.setFieldProperty=r}(jQuery,DevExpress),function(e,t){var n=t.ui.dxPivotGrid,i=t.require("/utils/utils.string"),r=t.require("/utils/utils.common"),o=DevExpress.require("/class"),a=n.createPath,s=n.foreachTree,l=n.formatValue,u=Math,c=t.ui.dxDataGrid,d="GT",h="T",p="D";n.proxyMethod=function(e,t,n){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):n})},n.DataController=o.inherit(function(){function t(e,t,n){var o=e.text;return r.isDefined(e.displayText)?o=e.displayText:r.isDefined(e.caption)?o=e.caption:e.type===d&&(o=n.texts.grandTotal),e.isAdditionalTotal&&(o=i.format(n.texts.total||"",o)),o}function o(t,i){var r=[];return e.each(t,function(e,t){var o=n.findField(i,t.sortBySummaryField);o>=0&&r.push((t.sortBySummaryPath||[]).concat([o]))}),r}function f(e,t){for(var n,i,r,o=0,a=[],s=0;s<e.length;s++)for(n=0;n<e[s].length&&(i=(e[s][n].rowspan||1)-1,r=s+i,a[s]&&(o-=a[s],a[s]=0),t(e[s][n],r,s,n,o)!==!1);n++)a[s+(e[s][n].rowspan||1)]=(a[s+(e[s][n].rowspan||1)]||0)+1,o++}function m(e,t,n,i,r,o){var a,s;n=n||0,i=i||[],o=o||[],i[n]=i[n]||0;var l=e[n],u=o[n]+1||0,c=0;if(l){for(a=u;a<l.length;a++){var d=l[a],h=a+i[n],p=d.colspan||1;
if(m(e,t,n+(d.rowspan||1),i,p,o),i[n]+=p-1,c+=p,d.rowspan)for(s=n+1;s<n+d.rowspan;s++)i[s]=i[s]||0,i[s]+=d.colspan||1;if(t(d,h,n,a)===!1)break;if(void 0!==r&&c>=r)break}o[n]=a}}function g(t,n,i,r){var o=[],a=i.values;return a.length&&f(t,function(t,s){var u=o[s]=[],c=a[t.dataSourceIndex>=0?t.dataSourceIndex:i.grandTotalRowIndex]||[];t.isLast&&m(n,function(n,o){var a,s,d=n.dataIndex||0,h=r[d];n.isLast&&h&&(a=c[n.dataSourceIndex>=0?n.dataSourceIndex:i.grandTotalColumnIndex],e.isArray(a)||(a=[a]),s=a[d],u[o]={text:l(s,h),value:s,format:h.format,precision:h.precision,dataType:h.dataType,columnType:n.type,rowType:t.type,rowPath:t.path||[],columnPath:n.path||[],dataIndex:d},h.width&&(u[o].width=h.width))})}),o}function _(t,n,i){var o=0,l=[];return s(t,function(t){var n,s=t[0],u=a(t);s.children&&i.showTotals===!1||(n=e.extend(!0,{},s,{visibleIndex:o++,path:u}),r.isDefined(n.index)?l[n.index]=n:l.push(n))}),l}function v(t,n,i){return n&&"virtual"===n.option("scrolling.mode")?new c.VirtualScrollController(n,e.extend({hasKnownLastPage:function(){return!0},pageCount:function(){return u.ceil(this.totalItemsCount()/this.pageSize())},updateLoading:function(){},itemsCount:function(){return this.pageIndex()<this.pageCount()-1?this.pageSize():void(this.totalItemsCount()%this.pageSize())},items:function(){return[]},viewportItems:function(){return[]},onChanged:function(){},isLoading:function(){return t.isLoading()},changingDuration:function(){return t._changingDuration||0}},i)):void 0}function y(t){var n=[];return e.each(t,function(e,t){t.showTotals===!1&&n.push(e)}),n}function x(t,n){var i=[];return e.each(t,function(e,t){t.showGrandTotals===!1&&i.push(e)}),0===n.length&&i.length===t.length&&(i=[]),i}var b=function(){function n(e,t,n){var i=e[t]=e[t]||[],r=i[n]={};return e[t+1]&&(r.children=e[t+1],e.length=t+1),r}function i(e,t){var i,r=t&&t.length||0,o=[];return s(e,function(e,t){var s=e[0],l=a(e);i=n(o,l.length,t),i.type=p,i.value=s.value,i.path=l,i.text=s.text,i.index=s.index,i.displayText=s.displayText,i.key=s.key,i.isEmpty=s.isEmpty,l.length<r&&(!s.children||0!==s.children.length)&&(i.expanded=!!s.children)}),n(o,0,0).children||[]}var o=function(e){var t=0;return s(e,function(e){t=u.max(t,e.length)}),t},l=function(e,t,n){var i={type:e.type,text:e.text};return e.path&&(i.path=e.path),e.width&&(i.width=e.width),e.isLast&&(i.isLast=!0),e.sorted&&(i.sorted=!0),e.isMetric&&(i.dataIndex=e.dataIndex),r.isDefined(e.expanded)&&(i.expanded=e.expanded),t>1&&(i[n?"colspan":"rowspan"]=t),e.depthSize&&e.depthSize>1&&(i[n?"rowspan":"colspan"]=e.depthSize),e.index>=0&&(i.dataSourceIndex=e.index),i},c=function(e,t){var n,i=t.lastIndex-t.index||1,r=function(e,t,n,i,r){for(var o=r?i:n;!e[o];)e.push([]);r?e[o].push(t):e[o].unshift(t)};return n=l(t.headerItem,i,t.isHorizontal),r(e,n,t.index,t.depth,t.isHorizontal),t.headerItem.children&&0!==t.headerItem.children.length?t.lastIndex:t.lastIndex+1},f=function(t,n){var i,o=t[0],s=r.isString(n[0]),l=o.dataIndex>=0?t[1]:o;return i=s&&-1!==n[0].indexOf("&[")&&l.key||!l.key?a(t):e.map(t,function(e){return e.dataIndex>=0?e.value:e.text}).reverse(),o.type===d&&(i=i.slice(1)),i.join("/")===n.join("/")},m=function(n,o,a,l,u){var c,h=a.length,m=u.showData?i(n,o):[];return(u.showGrandTotals||0===o.length)&&m[u.showTotalsPrior?"unshift":"push"]({type:d,isEmpty:u.isEmptyGrandTotal}),u.showTotals!==!1&&_(m,o,u.showTotalsPrior),s(m,function(e){var t=e[0];t.children&&0!==t.children.length||(t.depthSize=l-e.length+1)}),h>1&&g(m,a,u.hiddenGrandTotals,u.hiddenTotals),u.showEmpty||y(m),c=0,s(m,function(n){var i=n[0],a=o[n.length-1]||{};i.type!==p||i.isMetric||(i.width=a.width),i.isLast=!i.children||!i.children.length,i.isLast&&(e.each(u.sortBySummaryPaths,function(e,t){return r.isDefined(i.dataIndex)||(t=t.slice(0),t.pop()),f(n,t)?(i.sorted=!0,!1):void 0}),c++),i.text=t(i,a,u)}),m.length||m.push({}),m},g=function(t,n,i,r){s(t,function(t){var o,a=t[0];if(!a.children||0===a.children.length)for(a.children=[],o=0;o<n.length;o++)n.length&&(a.type===d&&-1!==e.inArray(o,i)||a.type!==d&&-1!==e.inArray(o,r))||a.children.push({caption:n[o].caption,path:a.path,type:a.type,value:o,index:a.index,dataIndex:o,isMetric:!0,isEmpty:a.isEmpty&&a.isEmpty[o]})})},_=function(t,n,i){s(t,function(r,o){var a=r[0],s=(r[1]?r[1].children:t)||[],l=n[r.length-1];a.type===p&&a.expanded&&l.showTotals!==!1&&(-1!==o&&s.splice(i?o:o+1,0,e.extend({},a,{children:null,type:h,expanded:i?!0:null,isAdditionalTotal:!0})),i&&(a.expanded=null))})},v=function(t,n){var i=t[n+1];!t[n].children.length&&i&&i.children&&(i.children.splice(e.inArray(t[n],i.children),1),v(t,n+1))},y=function(e){s([{children:e}],function(t,n){var i=t[0],r=(t[1]?t[1].children:e)||[];i&&!i.children&&(i.isEmpty&&i.isEmpty.length?i.isEmpty[0]:i.isEmpty)&&(r.splice(n,1),v(t,1))})},x=function(e,t,n,i){var r,o,a=0,l=[0];s(t,function(t){var s=t[0];for(o=s.isMetric?n:t.length-1;l.length-1<o;)l.push(l[l.length-1]);r=l[o]||0,a=c(e,{headerItem:s,index:r,lastIndex:a,depth:o,isHorizontal:i}),l.length=o,l.push(a)})};return function(e,t,n,i,r){var a,s=[],l=o(e)||1;return a=m(e,t,n,l,r),x(s,a,l,i),s}}(),w={ctor:function(t){var n=this,i=e.proxy(n._fireChanged,n);t=n._options=t||{},n._dataSource=n._createDataSource(t),n._rowsScrollController=v(n,t.component,{totalItemsCount:function(){return n.totalRowCount()},pageIndex:function(e){return n.rowPageIndex(e)},pageSize:function(){return n.rowPageSize()},load:function(){return n._rowsScrollController.pageIndex()>=this.pageCount()&&n._rowsScrollController.pageIndex(this.pageCount()-1),n._rowsScrollController.handleDataChanged(i)}}),n._columnsScrollController=v(n,t.component,{totalItemsCount:function(){return n.totalColumnCount()},pageIndex:function(e){return n.columnPageIndex(e)},pageSize:function(){return n.columnPageSize()},load:function(){return n._columnsScrollController.pageIndex()>=this.pageCount()&&n._columnsScrollController.pageIndex(this.pageCount()-1),n._columnsScrollController.handleDataChanged(i)}}),n._stateStoringController=new c.StateStoringController(t.component).init(),n._columnsInfo=[],n._rowsInfo=[],n._cellsInfo=[],n.expandValueChanging=e.Callbacks(),n.loadingChanged=e.Callbacks(),n.scrollChanged=e.Callbacks(),n.load(),n._update(),n.changed=e.Callbacks()},_fireChanged:function(){var e=this,t=new Date;e.changed&&!e._lockChanged&&e.changed.fire(),e._changingDuration=new Date-t},load:function(){var e=this,t=this._stateStoringController;t.isEnabled()&&!t.isLoaded()?t.load().always(function(t){t?e._dataSource.state(t):e._dataSource.load()}):e._dataSource.load()},calculateVirtualContentParams:function(e){var t,n,i,r,o=this,a=o._rowsScrollController,s=o._columnsScrollController,l=e.contentHeight/e.rowCount,u=e.contentWidth/e.columnCount;return a&&s?(t=s.viewportItemSize(),n=a.viewportItemSize(),a.viewportItemSize(l),s.viewportItemSize(u),a.viewportSize(e.viewportHeight/a.viewportItemSize()),a.setContentSize(e.contentHeight),s.viewportSize(e.viewportWidth/s.viewportItemSize()),s.setContentSize(e.contentWidth),s.loadIfNeed(),a.loadIfNeed(),i=s.getViewportPosition()*u/t,r=a.getViewportPosition()*l/n,o.setViewportPosition(i,r),o.scrollChanged.fire({left:i,top:r}),{contentTop:a.getContentOffset(),contentLeft:s.getContentOffset(),width:s.getVirtualContentSize(),height:a.getVirtualContentSize()}):void 0},setViewportPosition:function(e,t){this._rowsScrollController.setViewportPosition(t||0),this._columnsScrollController.setViewportPosition(e||0)},subscribeToWindowScrollEvents:function(e){this._rowsScrollController&&this._rowsScrollController.subscribeToWindowScrollEvents(e)},updateWindowScrollPosition:function(e){this._rowsScrollController&&this._rowsScrollController.scrollTo(e)},updateViewOptions:function(t){e.extend(this._options,t),this._update()},_handleExpandValueChanging:function(e){this.expandValueChanging.fire(e)},_handleLoadingChanged:function(e){this.loadingChanged.fire(e)},_handleFieldsPrepared:function(e){this._options.onFieldsPrepared&&this._options.onFieldsPrepared(e)},_createDataSource:function(t){var i,r=this,o=t.dataSource;return r._isSharedDataSource=o instanceof n.DataSource,i=r._isSharedDataSource?o:new n.DataSource(o),r._changedHandler=e.proxy(r,"_update"),r._expandValueChangingHandler=e.proxy(r,"_handleExpandValueChanging"),r._loadingChangedHandler=e.proxy(r,"_handleLoadingChanged"),r._fieldsPreparedHandler=e.proxy(r,"_handleFieldsPrepared"),i.on("changed",r._changedHandler),i.on("expandValueChanging",r._expandValueChangingHandler),i.on("loadingChanged",r._loadingChangedHandler),i.on("fieldsPrepared",r._fieldsPreparedHandler),i},getDataSource:function(){return this._dataSource},isLoading:function(){return this._dataSource.isLoading()},beginLoading:function(){this._dataSource._changeLoadingCount(1)},endLoading:function(){this._dataSource._changeLoadingCount(-1)},isEmpty:function(){var e=this._dataSource.getAreaFields("data"),t=this._dataSource.getData();return!e.length||!t.values.length},_update:function(){var e=this,t=e._dataSource,n=e._options,i=t.getAreaFields("column"),a=t.getAreaFields("row"),s=t.getAreaFields("data"),l=t.getData(),u=y(s),c=x(s,i),d=s.length>0?c.length!==s.length:!0,h=s.length>0?u.length!==s.length:!0,p={isEmptyGrandTotal:l.isEmptyGrandTotalRow,texts:n.texts||{},hiddenTotals:u,hiddenGrandTotals:[],showTotals:n.showRowTotals,showData:h,showGrandTotals:n.showRowGrandTotals!==!1&&d,sortBySummaryPaths:o(i,s),showTotalsPrior:"rows"===n.showTotalsPrior||"both"===n.showTotalsPrior,showEmpty:!n.hideEmptySummaryCells,fields:a},f={isEmptyGrandTotal:l.isEmptyGrandTotalColumn,texts:n.texts||{},hiddenTotals:u,showData:h,hiddenGrandTotals:c,showTotals:n.showColumnTotals,showTotalsPrior:"columns"===n.showTotalsPrior||"both"===n.showTotalsPrior,showGrandTotals:n.showColumnGrandTotals!==!1&&d,sortBySummaryPaths:o(a,s),showEmpty:!n.hideEmptySummaryCells,fields:i};r.isDefined(l.grandTotalRowIndex)||(l.grandTotalRowIndex=_(l.rows,a.length-1,p).length),r.isDefined(l.grandTotalColumnIndex)||(l.grandTotalColumnIndex=_(l.columns,i.length-1,f).length),e._columnsInfo=b(l.columns,i,s,!0,f),e._rowsInfo=b(l.rows,a,[],!1,p),e._rowsScrollController&&e._columnsScrollController&&e.changed&&(e._rowsScrollController.reset(),e._columnsScrollController.reset(),e._lockChanged=!0,e._rowsScrollController.load(),e._columnsScrollController.load(),e._lockChanged=!1),e._fireChanged(),e._stateStoringController.isEnabled()&&!e._dataSource.isLoading()&&(e._stateStoringController.state(e._dataSource.state()),e._stateStoringController.save())},getRowsInfo:function(t){var n,i,r=this,o=r._rowsInfo,a=r._rowsScrollController;if(a&&!t){var s=a.beginPageIndex()*r.rowPageSize(),l=a.endPageIndex()*r.rowPageSize()+r.rowPageSize(),c=[],d=1;return f(o,function(t,r,o,a,h){var p=r>=s&&l>o,f=s>o?0:o-s,m=t;if(p)c[f]=c[f]||[],n=s>o?t.rowspan-(s-o)||1:t.rowspan,s+f+n>l&&(n=l-(f+s)||1),n!==t.rowspan&&(m=e.extend({},m,{rowspan:n})),c[f].push(m),d=u.max(d,h+1);else if(i>l)return!1}),f(c,function(t,n,i,r,o){var a=t.colspan||1;o+a>d&&(c[i][r]=e.extend({},t,{colspan:d-o||1}))}),c}return o},getColumnsInfo:function(t){var n=this,i=n._columnsInfo,r=n._columnsScrollController;if(r&&!t){var o=r.beginPageIndex()*n.columnPageSize(),a=r.endPageIndex()*n.columnPageSize()+n.columnPageSize(),s=[];m(i,function(t,n,i){var r,l=t,u=n+(l.colspan-1||0)>=o&&a>n;if(s[i]=s[i]||[],u)o>n?(r=l.colspan-(o-n),n=o):r=l.colspan,n+r>a&&(r=a-n),r!==l.colspan&&(l=e.extend({},l,{colspan:r})),s[i].push(l);else if(n>a)return!1}),i=s}return i},totalRowCount:function(){return this._rowsInfo.length},rowPageIndex:function(e){return void 0!==e&&(this._rowPageIndex=e),this._rowPageIndex||0},totalColumnCount:function(){var e,t=0;if(this._columnsInfo&&this._columnsInfo.length)for(e=0;e<this._columnsInfo[0].length;e++)t+=this._columnsInfo[0][e].colspan||1;return t},rowPageSize:function(e){return void 0!==e&&(this._rowPageSize=e),this._rowPageSize||20},columnPageSize:function(e){return void 0!==e&&(this._columnPageSize=e),this._columnPageSize||20},columnPageIndex:function(e){return void 0!==e&&(this._columnPageIndex=e),this._columnPageIndex||0},getCellsInfo:function(e){var t=this.getRowsInfo(e),n=this.getColumnsInfo(e),i=this._dataSource.getData();return g(t,n,i,this._dataSource.getAreaFields("data"))},dispose:function(){var e=this;e._isSharedDataSource?(e._dataSource.off("changed",e._changedHandler),e._dataSource.off("expandValueChanging",e._expandValueChangingHandler),e._dataSource.off("loadingChanged",e._loadingChangedHandler)):e._dataSource.dispose(),e._columnsScrollController&&e._columnsScrollController.dispose(),e._rowsScrollController&&e._rowsScrollController.dispose(),e._stateStoringController.dispose(),e.expandValueChanging.empty(),e.changed.empty(),e.loadingChanged.empty(),e.scrollChanged.empty()}};return n.proxyMethod(w,"applyPartialDataSource"),n.proxyMethod(w,"collapseHeaderItem"),n.proxyMethod(w,"expandHeaderItem"),n.proxyMethod(w,"getData"),w}())}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=t.require("/data/data.errors"),r=t.require("/utils/utils.common");t.data.XmlaStore=t.ui.dxPivotGrid.XmlaStore=n.inherit(function(){function n(n,i){var o=e.Deferred(),a=n.beforeSend,s={url:n.url,dataType:"text",data:i,headers:{"Content-Type":"text/xml"},xhrFields:{},method:"POST"};return r.isFunction(a)&&a(s),t.ui.dxPivotGrid.sendRequest(s).fail(function(){o.reject(arguments)}).done(function(t){var n;try{n=e.parseXML(t)}catch(i){o.reject({statusText:i.message,stack:i.stack,responseText:t})}o.resolve(n)}),o}function o(e,t,n){return t=t?"."+t:"","Descendants({"+e+t+"}, "+n+", SELF_AND_BEFORE)"}function a(e){return(e.hierarchyName||e.dataField)+".[All]"}function s(e){return e.dataField+".allMembers"}function l(e){var t=e.join(",");return e.length>1?Q(Y,t):t}function u(e,t,n,i,r,u,c){for(var d,h,p,f,m,g,_,v,y,x,b,w=[],C=u[c],S=[],k=i;t>=k;k++)x=C[k],d=x.dataField,g=C[k-1]&&C[k-1].hierarchyName,p=x.hierarchyName,_=!p||!C[k+1]||C[k+1].hierarchyName!==p,y=e.length+n+i,f=null,S.push(x),k<e.length?_&&(f="("+d+"."+T(e[k])+")"):y>=k?0===k&&0===n?(h=a(C[i]),f=p?h+","+C[i].dataField:s(C[i])):p?(b=T(r[r.length-1]),(_||k===y)&&(g===p?(r.length&&(m=C[r.length-1]),m&&m.hierarchyName===p||(m=C[k-1],b=""),f=o(m.dataField,b,d)):f=s(x))):f=s(x):(v=!p||g!==p,v&&(f="("+a(x)+")")),f&&(f=Q(K,f),w.push(f));return l(w)}function c(e,t,n,i,r,o,a){var s,l=-1,c=o[a];do l++,s=t.length+l+i,e.push(u(t,n,l,i,r,o,a));while(c[s]&&c[s+1]&&c[s].expanded)}function d(e,t,n,i){return n=n||"[DX_Set_"+t.length+"]",i=i||"set",t.push(Q(W,i,n,e)),n}function h(e,t,n,i,r){var o,a=e[t],s=[],u=[],h=[],p=0,f=0,m=[],g=Q(K,n.join(","));if(a&&a.length){for(e.headerName===t?(u=e.path,f=p=u.length):(h=("columns"===t?e.columnExpandedPaths:e.rowExpandedPaths)||h,X(h,function(e,t){f=Math.max(f,t.length)}));a[f+1]&&a[f].expanded;)f++;for(c(s,[],f,p,u,e,t),X(h,function(n,i){c(s,i,f,p,i,e,t)}),o=f;o>=u.length;o--)a[o].hierarchyName&&(r.visibleLevels[a[o].hierarchyName]=r.visibleLevels[a[o].hierarchyName]||[],r.visibleLevels[a[o].hierarchyName].push(a[o].dataField))}return s.length&&m.push(Q(q,d(Q(K,s.join(",")),i,"[DX_"+t+"]"),g)),"columns"===t&&n.length&&m.push(g),Q(U,l(m),t)}function p(e){var t=[];return X(e,function(e,n){var i,o=n.dataField,a=[],l=n.filterValues||[];n.hierarchyName&&r.isNumber(n.groupIndex)||(X(l,function(e,t){var i=o+"."+T(r.isArray(t)?t[t.length-1]:t);"exclude"===n.filterType&&(a.push(i+".parent"),i="Descendants("+i+")"),a.push(i)}),l.length&&(i=Q(K,a.join(",")),"exclude"===n.filterType&&(i="Except("+s(n)+","+i+")"),t.push(i)))}),t.length?l(t):""}function f(e,t,n,i){var r="["+i+"]";return X([e,t,n],function(e,t){t&&(r=Q(j,t+"on 0",r))}),r}function m(e,t,n,i,r,o,a){var s="",l=(t.length?"with "+t.join(" "):"")+" ";return e.length&&(s=l+Q(N,f(p(n),p(i),p(r||[]),a),o.length?Q(G,o.join(",")):"",e.join(","))),s}function g(t,n){return e.map(n,function(e){return r.isString(e.expression)&&d(e.expression,t,e.dataField,"member"),e.dataField})}function _(e,t,n){var i=e.columns||[],r=e.rows||[],o=e.values&&e.values.length?e.values:[{dataField:"[Measures]"}],a=[],s=[],l=[],u=g(s,o);return n.measureCount=o.length,n.visibleLevels={},e.headerName&&e.path&&X(e.path,function(t,n){var i=e[e.headerName][t];i.hierarchyName&&i.hierarchyName===e[e.headerName][t+1].hierarchyName||a.push(i.dataField+"."+T(n))}),(i.length||u.length)&&l.push(h(e,"columns",u,s,n)),r.length&&l.push(h(e,"rows",u,s,n)),m(l,s,i,r,e.filters,a,t)}function v(e,t,n){X(n,function(n,i){var r=t[n];r.hierarchyName&&(t[n+1]||{}).hierarchyName===r.hierarchyName||e.push(r.dataField+"."+T(i))})}function y(e,t,n){var i,r=e.columns||[],o=e.rows||[],a=e.values&&e.values.length?e.values:[{dataField:"[Measures]"}],s=[],l=[],u=[],c=g(l,a),d=n.maxRowCount,h=n.customColumns||[],p=h.length>0?" return "+h.join(","):"";return v(s,r,n.columnPath||[]),v(s,o,n.rowPath||[]),(r.length||r.length||c.length)&&u.push([(c[n.dataIndex]||c[0])+" on 0"]),i=m(u,l,r,o,e.filters,s,t),i?"drillthrough"+(d>0?" maxrows "+d:"")+i+p:i}function x(e){return parseInt(e,10)}function b(t){return e.isNumeric(t)?parseFloat(t):t}function w(e,t){return(e.getElementsByTagName(t)||[])[0]}function C(e,t){return k(w(e,t))}function S(e){var t=[];for(X(e.getElementsByTagName("Axis"),function(e,n){var i=n.getAttribute("name"),o=[],a=0;0===i.indexOf("Axis")&&r.isNumber(x(i.substr(4)))&&(t.push(o),X(n.getElementsByTagName("Tuple"),function(e,n){var i,r,s,l=n.childNodes,u=0,c=[],d=l.length-1,h=1===t.length;for(h&&d--,o.push(c),s=d;s>=0;s--)i=l[s],r=x(C(i,"LNum")),c[s]={caption:C(i,"Caption"),value:b(C(i,"MEMBER_VALUE")),level:r,index:a++,hasValue:!(u||!r&&0!==s),name:C(i,"UName"),hierarchyName:l[s].getAttribute("Hierarchy"),parentName:C(i,"PARENT_UNIQUE_NAME"),levelName:C(i,"LName")},u+=r}))});t.length<2;)t.push([[{level:0}]]);return t}function k(e){return e&&e&&(e.textContent||e.text||e.innerHTML)||""}function D(e,t,n){for(var i,r,o=[],a=[],s=0,l=[],u=e.getElementsByTagName("Cell"),c=0;c<u.length;c++){var d=u[c],h=d.getElementsByTagName("Value")[0],p=parseFloat(k(h));l[x(d.getAttribute("CellOrdinal"))]={value:isNaN(p)?null:p}}return X(t[1],function(){r=[],o.push(r),X(t[0],function(){i=s%n,0===i&&(a=[],r.push(a)),a.push(l[s]?l[s].value:null),s++})}),o}function T(e){return e?r.isString(e)&&-1!==e.indexOf("&[")?e:"["+e+"]":void 0}function E(e,t,n,i){var r=e[t];return r||(r={},e[t]=r),!r.value&&n&&(r.text=n.caption,r.value=n.value,r.key=t?t.slice(t.indexOf("&[")):"",r.levelName=n.levelName,r.hierarchyName=n.hierarchyName,r.parentName=n.parentName,r.index=i,r.level=n.level),r}function I(t,n){var i,r,o=[],a=t.children&&(t.children.length?t.children:e.map(t.children.grandTotalHash||[],function(e){return e.children})),s=a&&a[0];if(s&&(n[s.hierarchyName]&&-1!==e.inArray(s.levelName,n[s.hierarchyName])||!n[s.hierarchyName]||0===s.level))return i=e.map(a,function(e){return e.hierarchyName===s.hierarchyName?e:null}),i.grandTotalHash=a.grandTotalHash,i;if(s)for(r=0;r<a.length;r++)a[r].hierarchyName===s.hierarchyName&&o.push.apply(o,I(a[r],n));return o}function A(e,t,n){var i,r=n.children=n.children||[],o=r.hash=r.hash||{},a=r.grandTotalHash=r.grandTotalHash||{};return t.parentName&&(n=E(o,t.parentName),r=n.children=n.children||[]),i=E(o,t.name,t,e),t.hasValue&&!i.added&&(i.index=e,i.added=!0,r.push(i)),n.value&&n.parentName||!t.parentName?a[n.name]&&delete a[t.parentName]:a[t.parentName]=n,i}function $(e,t){var n,i;return 1===e.children.length&&""===e.children[0].parentName?(n=e.children[0].index,i=e.children.grandTotalHash,e.children=e.children[0].children||[],e.children.grandTotalHash=i,e.children=I(e,t)):0===e.children.length&&(n=0),n}function B(e,n,i,o){var a,s,l=[];return X(n,function(e,t){var n={children:l},o=r.isDefined(i)?Math.floor(e/i):e;X(t,function(e,t){n=A(o,t,n)})}),s={children:l},s.children=I(s,o),a=$(s,o),t.ui.dxPivotGrid.foreachTree(s.children,function(e){var t=e[0],n=I(t,o);n.length?t.children=n:delete t.children,delete t.levelName,delete t.hierarchyName,delete t.added,delete t.parentName,delete t.level},!0),X(s.children||[],function(t,n){e.push(n)}),a}function O(t){var n,r,o=e(t).find("Error");return o.length?(n=o.attr("Description"),r=new i.Error("E4000",n),i.log("E4000",n),r):null}function P(e,t){var n,i={columns:[],rows:[]},r=t.measureCount;return n=S(e),i.grandTotalColumnIndex=B(i.columns,n[0],r,t.visibleLevels),i.grandTotalRowIndex=B(i.rows,n[1],void 0,t.visibleLevels),i.values=D(e,n,r),i}function M(e,t,n){var i=[],r="MEASURE"===t,o=r?"MEASUREGROUP_NAME":t+"_DISPLAY_FOLDER";return X(e.getElementsByTagName("row"),function(e,a){var s,l,u="LEVEL"===t?C(a,"HIERARCHY_UNIQUE_NAME"):void 0,c=C(a,"LEVEL_NUMBER");("0"!==c||"true"!==C(a,t+"_IS_VISIBLE"))&&C(a,"DIMENSION_TYPE")!==J&&(s=r?Z:C(a,"DIMENSION_UNIQUE_NAME"),l=C(a,t+"_UNIQUE_NAME"),i.push({dimension:n.names[s]||s,groupIndex:c?x(c)-1:void 0,dataField:l,caption:C(a,t+"_CAPTION"),hierarchyName:u,groupName:u,displayFolder:C(a,o),isMeasure:r,isDefault:!!n.defaultHierarhies[l]}))}),i}function R(t){var n={names:{},defaultHierarhies:{}};return X(e(t).find("row"),function(){var t=e(this),i=t.children("DIMENSION_TYPE").text(),r=i===J?Z:t.children("DIMENSION_UNIQUE_NAME").text();n.names[r]=t.children("DIMENSION_CAPTION").text(),n.defaultHierarhies[t.children("DEFAULT_HIERARCHY").text()]=!0}),n}function V(e){e=e.replace(/_x(....)_/g,function(e,t){return String.fromCharCode(parseInt(t,16))});var t=e.match(/\[.+?\]/gi);return t&&t.length&&(e=t[t.length-1]),e.replace(/\[/gi,"").replace(/\]/gi,"").replace(/\$/gi,"").replace(/\./gi," ")}function L(e){for(var t,n,i,r,o,a=e.getElementsByTagName("row"),s=[],l={},u=0;u<a.length;u++){for(t=a[u].childNodes,n={},i=0;i<t.length;i++)r=t[i].tagName,o=l[r]=l[r]||V(r),n[o]=k(t[i]);s.push(n)}return s}function F(t,i){return i=e("<div>").text(i).html(),n(t,Q(H,i,t.catalog))}var z='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis"><RequestType>{2}</RequestType><Restrictions><RestrictionList><CATALOG_NAME>{0}</CATALOG_NAME><CUBE_NAME>{1}</CUBE_NAME></RestrictionList></Restrictions><Properties><PropertyList><Catalog>{0}</Catalog></PropertyList></Properties></Discover></Body></Envelope>',H='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>{0}</Statement></Command><Properties><PropertyList><Catalog>{1}</Catalog><ShowHiddenCubes>True</ShowHiddenCubes><SspropInitAppName>Microsoft SQL Server Management Studio</SspropInitAppName><Timeout>3600</Timeout></PropertyList></Properties></Execute></Body></Envelope>',N="SELECT {2} FROM {0} {1} CELL PROPERTIES VALUE, FORMAT_STRING, LANGUAGE, BACK_COLOR, FORE_COLOR, FONT_FLAGS",j="(SELECT {0} FROM {1})",W="{0} {1} as {2}",G="WHERE ({0})",q="NonEmpty({0}, {1})",U="{0} DIMENSION PROPERTIES PARENT_UNIQUE_NAME,HIERARCHY_UNIQUE_NAME, MEMBER_VALUE ON {1}",Y="CrossJoin({0})",K="{{0}}",Q=t.require("/utils/utils.string").format,X=e.each,Z="DX_MEASURES",J="2";return t.ui.dxPivotGrid.sendRequest=function(t){return e.ajax(t)},{ctor:function(e){this._options=e},getFields:function(){var t=this._options,i=t.catalog,r=t.cube,o=n(t,Q(z,i,r,"MDSCHEMA_DIMENSIONS")),a=n(t,Q(z,i,r,"MDSCHEMA_MEASURES")),s=n(t,Q(z,i,r,"MDSCHEMA_HIERARCHIES")),l=n(t,Q(z,i,r,"MDSCHEMA_LEVELS")),u=e.Deferred();return e.when(o,a,s,l).done(function(e,t,n,i){var r=R(e),o=M(n,"HIERARCHY",r),a=M(i,"LEVEL",r),s=M(t,"MEASURE",r).concat(o),l={};X(a,function(e,t){l[t.hierarchyName]=l[t.hierarchyName]||[],l[t.hierarchyName].push(t)}),X(o,function(e,t){l[t.dataField]&&l[t.dataField].length>1&&(t.groupName=t.hierarchyName=t.dataField,s.push.apply(s,l[t.hierarchyName]))}),u.resolve(s)}).fail(u.reject),u},load:function(t){var n=e.Deferred(),i=this._options,r={},o=_(t,i.cube,r);return o?e.when(F(i,o)).done(function(e){var t=O(e);t?n.reject(t):n.resolve(P(e,r))}).fail(n.reject):n.resolve({columns:[],rows:[],values:[],grandTotalColumnIndex:0,grandTotalRowIndex:0}),n},supportSorting:function(){return!0},getDrillDownItems:function(t,n){var i=e.Deferred(),r=this._options,o=y(t,r.cube,n);return o?e.when(F(r,o)).done(function(e){var t=O(e);t?i.reject(t):i.resolve(L(e))}).fail(i.reject):i.resolve([]),i},key:e.noop,filter:e.noop}}())}(jQuery,DevExpress),function(e,t){var n=t.data.utils,i=t.ui.dxPivotGrid,r=DevExpress.require("/class"),o=t.require("/utils/utils.formatHelper"),a=t.require("/utils/utils.common"),s=i.setFieldProperty;i.LocalStore=r.inherit(function(){function i(t){e.each(t||[],function(e,t){var r,l,u,c,d=t.dataField,h=t.levels;t.selector||(c=d?-1!==d.indexOf(".")?n.compileGetter(d):function(e){return e[d]}:function(e){return e},h&&i(h),"date"===t.dataType?(l=k[t.groupInterval],r=function(e){var t=c(e);return!t||t instanceof Date||(t=new Date(t)),l?l(t):t},t.format||s(t,"format",D[t.groupInterval])):"number"===t.dataType?(u=a.isNumber(t.groupInterval)&&t.groupInterval>0&&t.groupInterval,u&&!t.customizeText&&s(t,"customizeText",function(e){var n=e.value+u,i=o.format(n,t.format,t.precision);return e.valueText&&i?e.valueText+" - "+i:""}),r=function(e){var t=c(e);return a.isString(t)&&(t=Number(t)),u?Math.floor(t/u)*u:t}):r=c,s(t,"selector",r))})}function r(e,t,n,i,o){var a,s,l=t.dimensions[i],u=t.expandedPathsHash;l&&(a=l.selector(t.data),o=void 0!==o?o+"."+a:a+"",s=T(a,n,o,t.childrenHash),e.push(s.index),(u&&u[o]||l.expanded)&&(s.children||(s.children=[]),r(e,t,s.children,i+1,o)))}function l(e,t,n,i){var o=[0],a=t.headerName===i?t.path.length:0,s="rows"===i?t.rowExpandedPaths:t.columnExpandedPaths,l={data:e,childrenHash:n[i+"Hash"],dimensions:t[i],expandedPathsHash:t.headerName!==i&&s&&s.hash};return r(o,l,n[i],a),o}function u(e,t,n,i){for(var r,o,a,s=[],u=l(e,i,n,"rows"),c=l(e,i,n,"columns"),d=0;d<u.length;d++)for(o=u[d],t[o]=t[o]||[],r=0;r<c.length;r++)a=c[r],s.push(t[o][a]=t[o][a]||[]);return s}function c(t){t&&(t.hash={},e.each(t,function(){t.hash[this.join(".")]=!0}))}function d(e){e.rows=e.rows||[],e.columns=e.columns||[],e.filters=e.filters||[],c(e.columnExpandedPaths),c(e.rowExpandedPaths),i(e.columns),i(e.rows),i(e.values),i(e.filters)}function h(t){return"custom"===t.summaryType?(t.calculateCustomSummary=t.calculateCustomSummary||e.noop,{seed:function(){var e={summaryProcess:"start",totalValue:void 0};return t.calculateCustomSummary(e),e},step:function(e,n){return e.summaryProcess="calculate",e.value=n,t.calculateCustomSummary(e),e},finalize:function(e){return e.summaryProcess="finalize",delete e.value,t.calculateCustomSummary(e),e.totalValue}}):n.aggregators[t.summaryType]||n.aggregators.count}function p(e,t,n){for(var i,r,o=0;o<e.length;o++){var s=e[o],l=s.selector(n),u=h(s);for(i=0;i<t.length;i++)r=t[i],r.length<=o&&(r[o]=a.isFunction(u.seed)?u.seed():u.seed),void 0===r[o]?r[o]=l:a.isDefined(l)&&(r[o]=u.step(r[o],l))}}function f(t,n){e.each(t,function(t,i){var r=h(i);r.finalize&&e.each(n,function(n,i){e.each(i,function(e,n){n&&void 0!==n[t]&&(n[t]=r.finalize(n[t]))})})})}function m(e,t){if(a.isArray(e)){t=t||[];for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}function g(t,n){var i=[];return e.each(t,function(e,t){i.push(t.selector(n))}),i}function _(t){var n=[];return e.each(t,function(e,t){var i,r=t.filterValues||[],o=t.groupName;o&&a.isNumber(t.groupIndex)||(i=function(e){for(var n=t.levels?g(t.levels,e):t.selector(e),i=!1,o=0;o<r.length;o++)if(m(r[o],n)){i=!0;break}return"exclude"===t.filterType?!i:i},r.length&&n.push(i))}),n}function v(e){var t=_(e.rows).concat(_(e.columns)).concat(_(e.filters)),n=e[e.headerName],i=e.path;return n&&t.push(function(e){for(var t,r=0;r<i.length;r++)if(t=n[r].selector(e),t!==i[r])return!1;return!0}),function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}function y(e,t){var n,i,r,o,a={columns:[],rows:[],columnsHash:{length:1},rowsHash:{length:1}},s=[[[]]];for(d(t),i=v(t),o=0;o<e.length;o++)r=e[o],i(r)&&(n=u(r,s,a,t),p(t.values,n,r));return f(t.values,s),{rows:a.rows,columns:a.columns,values:s,grandTotalRowIndex:0,grandTotalColumnIndex:0}}function x(t){return e.map(["year","quarter","month"],function(n,i){return e.extend({},t,{groupInterval:n,groupIndex:i})})}function b(t,i,r,o){var s=[];return e.each(i||[],function(i,l){for(var u,c=1,d=r.length?r+"."+i:i,h=o[d],p=n.compileGetter(d);!a.isDefined(l)&&t[c];)l=p(t[c]),c++;!h&&a.isDefined(l)&&(h=e.type(l)),u=[{dataField:d,dataType:h,groupName:"date"===h?i:void 0,groupInterval:void 0,displayFolder:r}],"date"===h?u=u.concat(x(u[0])):"object"===h&&(u=b(t,l,d,o)),s.push.apply(s,u)}),s}function w(e,t){return t=t||{},b(e,e[0],"",t)}function C(t,n){var i,r=e.Deferred();return!t.isLoaded()||n?(i=n?t.load():t.reload(),e.when(i).always(function(){C(t).done(r.resolve).fail(r.reject)})):r.resolve(t.items()),r}function S(t,n){var i,r=[];for(n=n||[],i=0;i<n.length;i++)r.push(e.extend({},t[i],{groupIndex:null,groupName:null,filterType:"include",filterValues:[n[i]]}));return r}var k={year:function(e){return e&&e.getFullYear()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},dayOfWeek:function(e){return e&&e.getDay()}},D={month:{format:"month",dateType:"full"},quarter:{format:"quarter",dateType:"full"},dayOfWeek:{format:"dayOfWeek",dateType:"full"}},T=function(e,t,n,i){var r=i[n];return r||(r={value:e,index:i.length++},i[n]=r,t.push(r)),r};return{ctor:function(i){i=e.extend(n.normalizeDataSourceOptions(i),{paginate:!1,onChanged:null}),this._dataSource=new t.data.DataSource(i)},getFields:function(t){var n=this,i=n._dataSource,r=e.Deferred();return C(i).done(function(e){r.resolve(w(e,t))}).fail(r.reject),r},key:function(){return this._dataSource.key()},load:function(t){var n=this,i=n._dataSource,r=e.Deferred();return C(i,t.reload).done(function(e){var n=y(e,t);r.resolve(n)}).fail(r.reject),r},filter:function(){var e=this._dataSource;return e.filter.apply(e,arguments)},supportSorting:function(){return!1},getDrillDownItems:function(e,t){var n,i;e=e||{},t=t||{},d(e);var r,o=[],a=this._dataSource.items(),s=t.maxRowCount,l=t.customColumns,u=v(e),c=v({rows:S(e.rows,t.rowPath),columns:S(e.columns,t.columnPath),filters:[]});for(n=0;n<a.length;n++){if(c(a[n])&&u(a[n])){if(l)for(r={},i=0;i<l.length;i++)r[l[i]]=a[n][l[i]];else r=a[n];o.push(r)}if(s>0&&o.length===s)break}return o}}}())}(jQuery,DevExpress),function(e,t){function n(e,t,n,i){var r=0,o=0,a=n/2;return e+i-(t+n)>1?(e>=t+n+a&&(o=parseInt((e-(t+n))/a,10)),r=t+n+a*o):t>e?(t-a>=e&&(o=parseInt((e-(t-a))/a,10)),r=t-(n-a*o)):r=t,r}var i=t.ui.dxPivotGrid,r=DevExpress.require("/class"),o=t.require("/utils/utils.common"),a=i.cssClassNames,s=function(e){var t,n=0;return e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n=t.width,n||(n=t.right-t.left)),n>0?n:e.offsetWidth};i.AreaItem=r.inherit({_getRowElement:function(e){var t=this;return t._tableElement&&t._tableElement.length>0?t._tableElement[0].rows[e]:null},_createGroupElement:function(){return e("<div>")},_createTableElement:function(){return e("<table>")},_getCellText:function(t,n){var i=t.text||"";return n&&(-1!==i.indexOf("<")||-1!==i.indexOf(">"))&&(i=e("<div>").text(i).html()),i},_getRowClassNames:function(){},_applyCustomStyles:function(e){e.cell.width&&e.cssArray.push("min-width:"+e.cell.width+"px")},_getMainElementMarkup:function(){return"<tbody>"},_getCloseMainElementMarkup:function(){return"</tbody>"},_renderTableContent:function(e,t){var n,i,r,s,l,u,c,d,h,p,f=this,m=t.length,g=f.option("rtlEnabled"),_=[],v=f.option("encodeHtml"),y="colspan='",x="rowspan='";for(e.data("area",f._getAreaName()),e.data("data",t),e.width("auto"),_.push(f._getMainElementMarkup()),r=0;m>r;r++){for(n=t[r],h=[],d=[],_.push("<tr "),s=0;s<n.length;s++)i=n[s],this._getRowClassNames(r,i,d),h.push("<td "),i?(i.rowspan&&h.push(x+(i.rowspan||1)+"'"),i.colspan&&h.push(y+(i.colspan||1)+"'"),p={cellElement:u,cell:i,cellsCount:n.length,cellIndex:s,rowElement:l,rowIndex:r,rowsCount:m,rtlEnabled:g,classArray:[],cssArray:[]},f._applyCustomStyles(p),p.cssArray.length&&(h.push("style='"),h.push(p.cssArray.join(";")),h.push("'")),p.classArray.length&&(h.push("class='"),
h.push(p.classArray.join(" ")),h.push("'")),h.push(">"),o.isDefined(i.expanded)&&h.push("<span class='"+a.headersExpandCollapseImage+"'></span>"),c=this._getCellText(i,v)):c="",h.push("<span>"+c+"</span>"),i&&i.sorted&&h.push("<span class='dx-icon-sorted'></span>"),h.push("</td>");d.length&&(_.push("class='"),_.push(d.join(" ")),_.push("'")),_.push(">"),_.push(h.join("")),_.push("</tr>")}_.push(this._getCloseMainElementMarkup()),e.append(_.join("")),this._triggerOnCellPrepared(e,t)},_triggerOnCellPrepared:function(e,t){var n,i,r,o,a,s,l=this,u=e.find("tr"),c=l._getAreaName(),d=l.option("onCellPrepared");if(d)for(a=0;a<t.length;a++)for(r=t[a],n=u.eq(a),s=0;s<r.length;s++)o=r[s],i=n.children().eq(s),d({area:c,rowIndex:a,columnIndex:s,cellElement:i,cell:o})},_getRowHeight:function(e){var t,n=this._getRowElement(e),i=0;return n&&n.lastChild?(n.getBoundingClientRect&&(t=n.getBoundingClientRect(),i=t.height),i>0?i:n.offsetHeight):0},_setRowHeight:function(e,t){var n=this._getRowElement(e);n&&(n.style.height=t+"px")},ctor:function(e){this.component=e},option:function(){return this.component.option.apply(this.component,arguments)},getRowsLength:function(){var e=this;return e._tableElement&&e._tableElement.length>0?e._tableElement[0].rows.length:0},getRowsHeight:function(){for(var e=this,t=[],n=e.getRowsLength(),i=0;n>i;i++)t.push(e._getRowHeight(i));return t},setRowsHeight:function(e){for(var t=this,n=0,i=e.length,r=0;i>r;r++)n+=e[r],t._setRowHeight(r,e[r]);this._tableHeight=n,this._tableElement[0].style.height=n+"px"},getColumnsWidth:function(){var e,t,n,i,r=this.getRowsLength(),o=[],a=[],l=function(e,t,n,i,r){for(var o,a=0;i>a;a++)for(o=0;r>o;o++)e[t+a]=e[t+a]||[],e[t+a][n+o]=!0};if(r)for(e=0;r>e;e++)for(o[e]=o[e]||[],t=this._getRowElement(e),n=0;n<t.cells.length;n++){for(i=0;o[e][i];i++);l(o,e,i,t.cells[n].rowSpan,t.cells[n].colSpan),1===t.cells[n].colSpan&&(a[i]=a[i]||s(t.cells[n]))}return a},setColumnsWidth:function(e){for(var t=0,n=this._tableElement[0],i="",r=0;r<e.length;r++)t+=e[r],i+='<col style="width: '+e[r]+'px"/>';this._colgroupElement.html(i),this._tableWidth=t,n.style.width=t+"px",n.style.tableLayout="fixed"},resetColumnsWidth:function(){this._colgroupElement.find("col").width("auto"),this._tableElement.css({width:"",tableLayout:""})},groupWidth:function(e){return void 0===e?this._groupElement.width():e>=0?(this._groupWidth=e,this._groupElement[0].style.width=e+"px"):this._groupElement[0].style.width=e},groupHeight:function(e){return void 0===e?this._groupElement.height():void(e>=0?(this._groupHeight=e,this._groupElement[0].style.height=e+"px"):this._groupElement[0].style.height=e)},groupElement:function(){return this._groupElement},tableElement:function(){return this._tableElement},element:function(){return this._rootElement},headElement:function(){return this._tableElement.find("thead")},setVirtualContentParams:function(e){this._virtualContent.css({width:e.width,height:e.height}),this.groupElement().addClass("dx-virtual-mode")},disableVirtualMode:function(){this.groupElement().removeClass("dx-virtual-mode")},_renderVirtualContent:function(){var t=this;t._virtualContent||"virtual"!==t.option("scrolling.mode")||(t._virtualContent=e("<div>").addClass("dx-virtual-content").insertBefore(t._tableElement))},reset:function(){var e,t=this,n=t._tableElement[0];if(t._fakeTable&&t._fakeTable.detach(),t._fakeTable=null,t.disableVirtualMode(),t.groupWidth("100%"),t.groupHeight("auto"),t.resetColumnsWidth(),n){for(e=0;e<n.rows.length;e++)n.rows[e].style.height="";n.style.height="",n.style.width="100%"}},_updateFakeTableVisibility:function(){var e=this,t=e.tableElement()[0],n=e._fakeTable[0];t.style.top===n.style.top&&n.style.left===t.style.left?e._fakeTable.addClass("dx-hidden"):e._fakeTable.removeClass("dx-hidden")},_moveFakeTableLeft:function(e){var t=this,i=parseFloat(t.tableElement()[0].style.left),r=n(e,i,t._tableWidth,t._groupWidth);parseFloat(t._fakeTable[0].style.left)!==r&&(t._fakeTable[0].style.left=r+"px")},_moveFakeTableTop:function(e){var t=this,i=parseFloat(t.tableElement()[0].style.top),r=n(e,i,t._tableHeight,t._groupHeight);parseFloat(t._fakeTable[0].style.top)!==r&&(t._fakeTable[0].style.top=r+"px")},_moveFakeTable:function(){this._updateFakeTableVisibility()},_createFakeTable:function(){var e=this;e._fakeTable||(e._fakeTable=e.tableElement().clone().addClass("dx-pivot-grid-fake-table").appendTo(e._virtualContent))},render:function(t,n){var i=this,r=i._createTableElement();if(o.isDefined(i._tableElement)){try{i._tableElement[0].innerHTML=""}catch(a){i._tableElement.empty()}i._tableElement.attr("style",""),i._colgroupElement=e("<colgroup>").appendTo(i._tableElement),i._renderTableContent(i._tableElement,n)}else i._groupElement=i._createGroupElement(),i._tableElement=r,i._colgroupElement=e("<colgroup>").appendTo(i._tableElement),i._tableElement.appendTo(i._groupElement),i._groupElement.appendTo(t),i._rootElement=t,i._renderTableContent(i._tableElement,n);i._renderVirtualContent()},_getScrollable:function(){return this.groupElement().data("dxScrollable")},on:function(e,t){var n=this._getScrollable();return n&&n.on(e,t),this},off:function(){var e=this._getScrollable();return e&&e.off.apply(e,arguments),this},scrollTo:function(e){var t=this._getScrollable();t&&(t.scrollTo(e),t.update(),this._virtualContent&&(this._createFakeTable(),this._moveFakeTable(e)))},updateScrollable:function(){var e=this._getScrollable();e&&e.update()}})}(jQuery,DevExpress),function(e,t){function n(e,t){if(t){var n=e.data().data,i=t.parentNode.rowIndex,r=t.cellIndex;return n[i]&&n[i][r]&&n[i][r].path}}var i=t.ui,r=i.dxPivotGrid,o=t.require("/utils/utils.common"),a=r.cssClassNames;r.HorizontalHeadersArea=r.AreaItem.inherit({_getAreaName:function(){return"column"},_getAreaClassName:function(){return a.headersHorizontal},_createGroupElement:function(){return e("<div>").addClass(this._getAreaClassName()).addClass(a.area)},_applyCustomStyles:function(e){var t=e.cssArray,n=e.cell,i=e.rowsCount,r=e.classArray;e.cellIndex===e.cellsCount-1&&t.push((e.rtlEnabled?"border-left:":"border-right:")+"0px"),(n.rowspan===i-e.rowIndex||e.rowIndex+1===i)&&t.push("border-bottom-width:0px"),("T"===n.type||"GT"===n.type)&&r.push(a.rowTotal),"T"===e.cell.type&&r.push(a.total),"GT"===e.cell.type&&r.push(a.grandTotal),o.isDefined(n.expanded)&&r.push(n.expanded?a.headersExpanded:a.headersCollapsed),this.callBase(e)},_getMainElementMarkup:function(){return"<thead class='"+this._getAreaClassName()+"'>"},_getCloseMainElementMarkup:function(){return"</thead>"},setVirtualContentParams:function(e){this.callBase(e),this.tableElement().css({left:e.left,top:0}),this._virtualContentWidth=e.width},hasScroll:function(){var e=this._virtualContent?this._virtualContentWidth:this._tableWidth;return this._groupWidth&&e?e-this._groupWidth>=1:!1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"horizontal"})},processScrollBarSpacing:function(e){var t=this;t._groupWidth&&t.groupWidth(t._groupWidth-e),t._scrollBarWidth&&t._groupElement.next().remove(),t._groupElement.toggleClass(a.verticalScroll,e>0),t._groupElement.css("float","left").width(t._groupHeight),t._scrollBarWidth=e},ctor:function(e){this.callBase(e),this._scrollBarWidth=0},getScrollPath:function(t){var i,r=this.tableElement();return t-=parseInt(r[0].style.left,10)||0,e.each(r.find("td"),function(e,n){return 1===n.colSpan&&n.offsetLeft<t&&n.offsetWidth+n.offsetLeft>t?(i=n,!1):void 0}),n(r,i)},_moveFakeTable:function(e){this._moveFakeTableLeft(e),this.callBase()}}),r.VerticalHeadersArea=r.HorizontalHeadersArea.inherit({_getAreaClassName:function(){return a.headersVertical},_applyCustomStyles:function(e){this.callBase(e),e.cellIndex===e.cellsCount-1&&e.classArray.push(a.headersVerticalLastCell),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px")},_getAreaName:function(){return"row"},setVirtualContentParams:function(e){this.callBase(e),this.tableElement().css({top:e.top,left:0}),this._virtualContentHeight=e.height},hasScroll:function(){var e=this._virtualContent?this._virtualContentHeight:this._tableHeight;return this._groupHeight&&e?e-this._groupHeight>=1:!1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"vertical"})},processScrollBarSpacing:function(t){var n=this;n._groupHeight&&n.groupHeight(n._groupHeight-t),n._scrollBarWidth&&n._groupElement.next().remove(),t&&n._groupElement.after(e("<div>").width("100%").height(t-1)),n._scrollBarWidth=t},getScrollPath:function(t){var i,r=this.tableElement();return t-=parseInt(r[0].style.top,10)||0,e.each(r.find("tr"),function(e,n){var r=n.childNodes[n.childNodes.length-1];return r&&1===r.rowSpan&&r.offsetTop<t&&r.offsetHeight+r.offsetTop>t?(i=r,!1):void 0}),n(r,i)},_moveFakeTable:function(e){this._moveFakeTableTop(e),this.callBase()},_getRowClassNames:function(t,n,i){0!==t&n.expanded&&-1===e.inArray(a.headersVerticalExpandBorder,i)&&i.push(a.headersVerticalExpandBorder)}})}(jQuery,DevExpress),function(e,t){var n=t.ui.dxPivotGrid,i=n.cssClassNames;n.DataArea=n.AreaItem.inherit({_getAreaName:function(){return"data"},_createGroupElement:function(){return e("<div>").addClass(i.area).addClass(i.areaData)},_applyCustomStyles:function(e){var t=e.cell,n=e.classArray;("T"===t.rowType||"T"===t.columnType)&&n.push(i.total),("GT"===t.rowType||"GT"===t.columnType)&&n.push(i.grandTotal),("T"===t.rowType||"GT"===t.rowType)&&n.push(i.rowTotal),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px"),this.callBase(e)},_moveFakeTable:function(e){this._moveFakeTableLeft(e.x),this._moveFakeTableTop(e.y),this.callBase()},processScroll:function(e){this._groupElement.css("border-top-width",0).dxScrollable({useNative:!!e,useSimulatedScrollbar:!e,direction:"both",bounceEnabled:!1})},setVirtualContentParams:function(e){this.callBase(e),this._virtualContent.parent().height(e.height),this.tableElement().css({top:e.top,left:e.left})}})}(jQuery,DevExpress),function(e,t){function n(e,t){var i,r=[];if(e.items)for(i=0;i<e.items.length;i++)r.push.apply(r,n(e.items[i],t));else l.isDefined(e.index)&&r.push(t[e.index]);return r}function i(e,t){var n,r;if(e.items)for(n=0;n<e.items.length;n++)if(r=i(e.items[n],t))return r;return t(e)?e:void 0}function r(e,t){for(var n=0,i=0;!n&&b[i];)n=b[i++](e,t);return n}function o(e){return e.find(".dx-scrollable").dxScrollable("instance")}var a=t.ui,s=t.require("/utils/utils.icon"),l=t.require("/utils/utils.common"),u=t.require("/componentRegistrator"),c=t.require("/ui/ui.widget"),d=a.dxPivotGrid,h=a.dxDataGrid,p=e.inArray,f=e.each,m="<div>",g=h.ColumnsView.inherit(h.sortingMixin).inherit(h.headerFilterMixin),_=h.HeaderFilterView,v="dx-pivotgridfieldchooser",y="dx-pivotgridfieldchooser-container",x=function(t,n){var i=[],r=!!n.groupName,o="exclude"===n.filterType;n.filterValues&&f(n.filterValues,function(e,t){i.push(l.isArray(t)?t.join("/"):t)}),d.foreachTree(t,function(t){var n,a=t[0],s=d.createPath(t),l=r?e.map(t,function(e){return e.text}).reverse().join("/"):a.text;a.value=r?s.slice(0):a.key||a.value,n=r?s.join("/"):a.value,a.children&&(a.items=a.children,a.children=null),h.updateHeaderFilterItemSelectionState(a,a.key&&p(l,i)>-1||p(n,i)>-1,o)})},b=[function(e,t){var n=-!!e.isMeasure,i=+!!t.isMeasure;return n+i},function(e,t){var n=-!(!e.items||!e.items.length),i=+!(!t.items||!t.items.length);return n+i},function(e,t){var n=+!!(e.field&&e.field.levels&&e.field.levels.length),i=-!!(t.field&&t.field.levels&&t.field.levels.length);return n+i},d.getCompareFunction(function(e){return e.text})];u("dxPivotGridFieldChooser",a,c.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{height:400,layout:0,dataSource:null,texts:{columnFields:Globalize.localize("dxPivotGrid-columnFields"),rowFields:Globalize.localize("dxPivotGrid-rowFields"),dataFields:Globalize.localize("dxPivotGrid-dataFields"),filterFields:Globalize.localize("dxPivotGrid-filterFields"),allFields:Globalize.localize("dxPivotGrid-allFields")},headerFilter:{width:252,height:300,texts:{emptyValue:Globalize.localize("dxDataGrid-headerFilterEmptyValue"),ok:Globalize.localize("dxDataGrid-headerFilterOK"),cancel:Globalize.localize("dxDataGrid-headerFilterCancel")}}})},_refreshDataSource:function(){var e,t=this;t._expandedPaths=[],t._changedHandler=t._changedHandler||function(){f(t._dataChangedHandlers,function(e,t){t()})},t._dataSource&&(t._dataSource.off("changed",t._changedHandler),t._dataSource=void 0),e=this.option("dataSource"),e&&e.fields&&e.load&&(t._dataSource=e),t._dataSource&&t._dataSource.on("changed",t._changedHandler)},_init:function(){this.callBase(),this._columnsView=new g(this),this._headerFilterView=new _(this),this._subscribeToEvents(),this._refreshDataSource(),this._dataChangedHandlers=[]},_subscribeToEvents:function(){var n=this;n.element().on("dxclick",".dx-area-field.dx-area-box",function(i){var r=e.extend(!0,{},e(i.currentTarget).data("field")),o=e(i.target).hasClass("dx-header-filter");o?n._headerFilterView.showHeaderFilterMenu(e(i.currentTarget),e.extend(r,{type:r.groupName?"tree":"list",dataSource:{load:function(i){var o,a=i.userData;return a.store?a.store.load(i):(o=e.Deferred(),n._dataSource.getFieldValues(r.index).done(function(e){a.store=new t.data.ArrayStore(e),a.store.load(i).done(o.resolve).fail(o.reject)}).fail(o.reject),o)},postProcess:function(e){return x(e,r),e}},apply:function(){n._dataSource.field(r.index,{filterValues:this.filterValues,filterType:this.filterType}),n._dataSource.load()}})):r.allowSorting&&"data"!==r.area&&(n._dataSource.field(r.index,{sortOrder:"desc"===r.sortOrder?"asc":"desc"}),n._dataSource.load())})},_setOptionsByReference:function(){this.callBase(),e.extend(this._optionsByReference,{dataSource:!0})},_optionChanged:function(e){var t=this;switch(e.name){case"dataSource":t._refreshDataSource(),t._invalidate();break;case"layout":case"texts":case"headerFilter":t._invalidate();break;default:t.callBase(e)}},_clean:function(){this.element().children("."+y).remove()},_renderContentImpl:function(){var t,n,i,r=this,o=this.element();o.addClass(v),r._dataChangedHandlers=[],r._renderSortable(o),r._headerFilterView.render(o),i=e(m).addClass(y).appendTo(o),0===this.option("layout")?(t=e(m).addClass("dx-col").appendTo(i),n=e(m).addClass("dx-col").appendTo(i),this._renderArea(t,"all"),this._renderArea(t,"filter"),this._renderArea(n,"row"),this._renderArea(n,"column"),this._renderArea(n,"data")):1===this.option("layout")?(t=e(m).addClass("dx-col").appendTo(i),n=e(m).addClass("dx-col").appendTo(i),this._renderArea(t,"all"),this._renderArea(n,"filter"),this._renderArea(n,"row"),this._renderArea(n,"column"),this._renderArea(n,"data")):(this._renderArea(i,"all"),t=e(m).addClass("dx-col").appendTo(i),n=e(m).addClass("dx-col").appendTo(i),this._renderArea(t,"filter"),this._renderArea(t,"row"),this._renderArea(n,"column"),this._renderArea(n,"data")),this.updateDimensions()},_renderSortable:function(t){var n=this;n._createComponent(t,"dxSortable",{itemSelector:".dx-area-field",itemContainerSelector:".dx-area-field-container",groupSelector:".dx-area-fields",itemRender:function(n,i){var r;return n.hasClass("dx-area-box")?(r=n.clone(),r.insertBefore(n)):r=e(m).addClass("dx-area-field").addClass("dx-area-box").text(n.text()),"drag"===i&&r.width(t.find(".dx-area-field-container").first().width()),r},onDragging:function(e){var t=e.sourceElement.data("field"),n=e.targetGroup;e.cancel=!1,t.isMeasure===!0?("column"===n||"row"===n||"filter"===n)&&(e.cancel=!0):t.isMeasure===!1&&"data"===n&&(e.cancel=!0)},onChanged:function(e){var t=n._dataSource,i=e.sourceElement.data("field");e.removeSourceElement=!!e.sourceGroup,i&&(t.field(i.index,{area:e.targetGroup,areaIndex:e.targetIndex}),t.load())}})},_createTreeItems:function(e,t,n){var i,r=this,o=[],a=[],s=t[0],u={};return s?(f(e,function(e,t){var n=t[s]||"";u[n]=u[n]||[],u[n].push(t),void 0===i&&(i=!0),i=i&&t.isMeasure===!0}),f(u,function(e,i){var s=n?n+"."+e:e,l=r._createTreeItems(i,t.slice(1),s);e?a.push({key:e,text:e,path:s,isMeasure:l.isMeasure,expanded:p(s,r._expandedPaths)>=0,items:l}):o=l}),o=a.concat(o),o.isMeasure=i):f(e,function(e,t){var n;t.isMeasure===!0&&(n="measure"),t.isMeasure===!1&&(n=t.groupName?"hierarchy":"dimension"),o.push({index:t.index,field:t,key:t.dataField,selected:l.isDefined(t.area),text:t.caption||t.dataField,icon:n,isMeasure:t.isMeasure,isDefault:t.isDefault})}),o},_createFieldsDataSource:function(t){var n,i=t&&t.fields()||[];return i=e.map(i,function(e){return e.visible===!1||l.isDefined(e.groupIndex)?null:e}),n=this._createTreeItems(i,["dimension","displayFolder"]),d.foreachDataLevel(n,function(e){e.sort(r)},0,"items"),n},_renderFieldsTreeView:function(t){var r=this,a=r._dataSource,u=r._createComponent(t,"dxTreeView",{dataSource:r._createFieldsDataSource(a),showCheckBoxesMode:"normal",itemTemplate:function(t,n,i){t.icon&&s.getImageContainer(t.icon).appendTo(i),e("<span>").toggleClass("dx-area-field",!t.items).data("field",t.field).text(t.text).appendTo(i)},onItemCollapsed:function(e){var t=p(e.itemData.path,r._expandedPaths);t>=0&&r._expandedPaths.splice(t,1)},onItemExpanded:function(e){var t=p(e.itemData.path,r._expandedPaths);0>t&&r._expandedPaths.push(e.itemData.path)},onItemSelected:function(e){var t,r,o,s,c,d=e.itemData,h=!0;if(d.items){if(d.selected)return void u.unselectItem(d);for(r=n(d,a.fields()),s=0;s<r.length;s++)if(r[s].area){h=!1;break}if(h)return c=i(d,function(e){return e.isDefault})||i(d,function(e){return l.isDefined(e.index)}),void(c&&u.selectItem(c))}else t=a.fields()[d.index],d.selected&&(o=t.isMeasure?"data":"column"),t&&(r=[t]);f(r,function(e,t){a.field(t.index,{area:o,areaIndex:void 0})}),a.load()}}),c=function(){var e=o(t),n=e?e.scrollTop():0;u.option({dataSource:r._createFieldsDataSource(a)}),e=o(t),e&&(e.scrollTo({y:n}),e.update())};r._dataChangedHandlers.push(c)},_renderField:function(t){var n=this,i=e(m).addClass("dx-area-field-content").text(t.caption||t.dataField),r=e(m).addClass("dx-area-field").addClass("dx-area-box").data("field",t).append(i);return"data"!==t.area&&(t.allowSorting&&n._columnsView._applyColumnState({name:"sort",rootElement:r,column:{alignment:n.option("rtlEnabled")?"right":"left",sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),n._columnsView._applyColumnState({name:"headerFilter",rootElement:r,column:{alignment:n.option("rtlEnabled")?"right":"left",filterValues:t.filterValues,allowFiltering:t.allowFiltering},showColumnLines:!0})),r},_renderAreaFields:function(e,t){var n=this,i=n._dataSource,r=i?i.getAreaFields(t,!0):[];e.empty(),f(r,function(){n._renderField(this).appendTo(e)})},_renderArea:function(t,n){var i,r,o,a=this,s=e(m).addClass("dx-area").appendTo(t),l=a.option("texts."+n+"Fields");e("<span>").addClass("dx-area-icon").addClass("dx-area-icon-"+n).appendTo(s),e("<span>").html("&nbsp;").appendTo(s),e("<span>").addClass("dx-area-caption").text(l).appendTo(s),i=e(m).addClass("dx-area-fields").height(0).appendTo(s),"all"!==n?(r=e(m).addClass("dx-area-field-container").appendTo(i),o=function(){a._renderAreaFields(r,n)},a._dataChangedHandlers.push(o),o(),i.attr("group",n).dxScrollable()):(i.addClass("dx-treeview-border-visible"),a._renderFieldsTreeView(i))},updateDimensions:function(){var e,t=this.element(),n=t.children(".dx-pivotgridfieldchooser-container"),i=t.find(".dx-col"),r=t.find(".dx-area-fields"),o=t.find(".dx-area .dx-scrollable");r.height(0),0===this.option("layout")?(e=Math.floor((t.height()-n.height())/3),r.height(e),r.eq(0).height(i.eq(1).height()-i.eq(0).height()+e)):1===this.option("layout")?(e=Math.floor((t.height()-n.height())/4),r.height(e),r.eq(0).height(i.eq(1).height()-i.eq(0).height()+e)):(e=Math.floor((t.height()-n.height())/4),r.height(e),r.eq(0).height(2*e)),o.dxScrollable("update")},_visibilityChanged:function(e){e&&this.updateDimensions()}}))}(jQuery,DevExpress),function(e,t){function n(e){if(e.dataType)return e.dataType;if(e.format){if(a.format(1,e.format))return"number";if(a.format(new Date,e.format))return"date"}return u}var i=t.ui,r=DevExpress.require("/class"),o=DevExpress.require("/utils/utils.common"),a=t.require("/utils/utils.formatHelper"),s=t.ui.dxPivotGrid,l={text:"",value:void 0,colspan:1,rowspan:1},u="string";s.include({exportToExcel:function(){this._clientExporter&&this._clientExporter.exportTo({fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"EXCEL",component:this})},_getLength:function(e){var t,n=0;for(t in e[0])n+=e[0][t].colspan?e[0][t].colspan:1;return n},_defaultSetter:function(e){return e=parseInt(e,10),e?e:1},_makeRowOffset:function(t){var n,i=0,r=t.length-1,o=t[r],a=o.length;for(e.each(t,function(e){this[a]&&this[a].rowspan+e>t.length-1&&(i=Math.max.apply(this,[this[a].colspan,i]))}),n=0;i>n;n++)o.push(this._cloneItem(t[t.length-2][a&&a-1||0]));i>0&&this._makeRowOffset(t)},_cloneItem:function(t){return e.extend({},t,l)},_prepareItems:function(t,n){var i,r,o,a,s=[];for(a in n){r=[],s.push(r);do for(this._makeRowOffset(s),o=r.length,r.push(n[a].shift()),r[r.length-1]?(r[r.length-1].colspan=this._defaultSetter(r[r.length-1].colspan),r[r.length-1].rowspan=this._defaultSetter(r[r.length-1].rowspan)):r[r.length-1]=e({},l),i=1;i<r[o].colspan;i++)r.push(this._cloneItem(r[r.length-1]));while(n[a].length);for(;r.length<t;)r.push(this._cloneItem(r[r.length-1]))}return s},_getAllItems:function(t,n,i){for(var r,a=t.concat(i),s=this._getLength(n),u=this._getLength(t),c=t.length,d=0;d<n.length;d++)for(r=n[d].length-1;r>=0;r--)o.isDefined(a[d+c])||(a[d+c]=[]),a[d+c].splice(0,0,e.extend({},n[d][r]));return a[0].splice(0,0,e.extend({},l,{alignment:this._options.rtlEnabled?"right":"left",colspan:s,rowspan:c})),this._prepareItems(s+u,a)},getDataProvider:function(){var t=this,n=this._dataController,r=e.Deferred();return n.beginLoading(),setTimeout(function(){var i=e.extend(!0,[],n.getColumnsInfo(!0)),o=e.extend(!0,[],n.getRowsInfo(!0)),a=n.getCellsInfo(!0);r.resolve(t._getAllItems(i,o,a)),n.endLoading()}),new i.dxPivotGrid.DataProvider({items:r})}}),s.DataProvider=r.inherit({_getCellParam:function(e,t,n){var i=this._options.items,r=i[e]&&i[e][t];return r&&r[n]},ctor:function(e){this._options=e},ready:function(){var t=this._options;return e.when(t.items).done(function(i){var r,o=i[0][0].rowspan,a=i[o-1];e.each(a,function(e,t){t.width=100,t.alignment=t.alignment||"center",r=i[o]&&i[o][e],r&&(t.dataType=n(r),t.format=r.format,t.precision=r.precision)}),t.columns=a,t.items=i})},getColumns:function(){return this._options.columns},getRowsCount:function(){return this._options.items.length},isGroupRow:function(){return!1},isHeadersVisible:function(){return!1},isTotalCell:function(){return!1},getGroupLevel:function(){return 0},getCellMerging:function(e,t){var n=this._options.items,i=n[e]&&n[e][t];return i?{colspan:i.colspan-1,rowspan:i.rowspan-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){var e=this._options.items;return{x:e[0][0].colspan,y:e[0][0].rowspan}},getCellType:function(e,t){var n=this._options.columns[t],i=n&&n.dataType;return i||u},getCellValue:function(e,t){return this._getCellParam(e,t,"value","")},getCellText:function(e,t){return this._getCellParam(e,t,"text")}})}(jQuery,DevExpress),function(e,t,n){function i(t,n){var i,r,o={index:-1};return l.isObject(n)||(r=t.columns.concat(t.rows).concat(t.values),i=c(r,n),n=r[i]),n&&(o.area=n.area,o.index=e.inArray(n,t["data"===n.area?"values":n.area+"s"])),o}function r(e){return e===h?"_rowPath":"_columnPath"}function o(e){var t=e.summaryDisplayMode,i=e.allowCrossGroupCalculation,r=n;return l.isFunction(e.calculateSummaryValue)?r=e.calculateSummaryValue:t&&(r="absoluteVariation"===t?m(i):"percentVariation"===t?g(i):_[t],r&&!e.format&&-1!==t.indexOf("percent")&&a.setFieldProperty(e,"format","percent")),e.runningTotal?(r=r||x,y(r,i,e.runningTotal)):r}var a=t.ui.dxPivotGrid,s=a.foreachTree,l=t.require("/utils/utils.common"),u=l.isDefined,c=a.findField,d="column",h="row",p=function(e,t){var i=e.grandTotal(t);return u(e.value())?e.value()/i.value():n},f=function(e,t){var i=e.parent(t),r=i?i.value():e.value();return u(e.value())?e.value()/r:n},m=function(e){return function(t){var i=t.prev(d,e),r=i&&i.value();return u(r)&&u(t.value())?t.value()-r:n}},g=function(e){var t=m(e);return function(e){var i=t(e);return i!==n?i/e.value():n}},_={percentOfColumnTotal:function(e){return f(e,h)},percentOfRowTotal:function(e){return f(e,d)},percentOfColumnGrandTotal:function(e){return p(e,h)},percentOfRowGrandTotal:function(e){return p(e,d)},percentOfGrandTotal:function(e){return p(e)}},v=function(e,t){if(e&&e.parent(t)){var n=e.prev(t);return n||(n=v(e.parent(t),t)),n}},y=function(e,t,n){return n=n===d?h:d,function(i){var r=t?v(i,n):i.prev(n,!1),o=e(i);return(r&&r.value(!0)||0)+(o||0)}},x=function(e){return e.value()},b=function(e,t,n,i,r){this._columnPath=e,this._rowPath=t,this._fieldIndex=r,this._data=n,this._descriptions=i;var o=n.values&&n.values[t[0].index]&&n.values[t[0].index][e[0].index];o&&(o.orginalCell=o.orginalCell||o.slice(),this._cell=o)};b.prototype=e.extend(b.prototype,{_getPath:function(e){return this[r(e)]},_getDimension:function(e){return e=e===h?"rows":"columns",this._descriptions[e]},_getData:function(e){return e=e===h?"rows":"columns",this._data[e]},_createCell:function(e){var t=this;return new b(e._columnPath||t._columnPath,e._rowPath||t._rowPath,t._data,t._descriptions,t._fieldIndex)},parent:function(e){var t=this._getPath(e).slice(),i={};return t.shift(),t.length?(i[r(e)]=t,this._createCell(i)):n},children:function(e){var t,n=this._getPath(e).slice(),i=n[0],o=[],a={};if(i.children)for(t=0;t<i.children.length;t++)a[r(e)]=[i.children[t]].concat(n.slice()),o.push(this._createCell(a));return o},grandTotal:function(e){var t={},n=this._rowPath,i=this._columnPath,o=this._getPath(e),a=r(e);return e?t[a]=[o[o.length-1]]:(t._rowPath=[n[n.length-1]],t._columnPath=[i[i.length-1]]),this._createCell(t)},next:function(t,i){var r,o,a=this._getPath(t),s=a[0],l=this.parent(t);if(l&&(o=e.inArray(s,a[1].children),r=l.children(t),r[o+1]))return r[o+1];if(i&&l){do l=l.next(t,i),r=l?l.children(t):[];while(l&&!r.length);return r[0]||n}return n},prev:function(t,i){var r,o,a=this._getPath(t),s=a[0],l=this.parent(t);if(l&&(o=e.inArray(s,a[1].children),r=l.children(t),r[o-1]))return r[o-1];if(i&&l){do l=l.prev(t,i),r=l?l.children(t):[];while(l&&!r.length);return r[r.length-1]||n}return n},cell:function(){return this._cell},field:function(e){var t=this._getPath(e),i=this._getDimension(e),r=i[t.length-2];return r||n},child:function(e,t){for(var i,r=this.children(e),o=0;o<r.length;o++)if(i=i||r[o].field(e),r[o].value(i)===t)return r[o];return n},slice:function(e,t){var o,a,s,l,u,c,p=this,f={},m=i(this._descriptions,e),g=m.area,_=m.index,v=n,y=[];if((g===h||g===d)&&(a=this._getPath(g).slice(),l=-1!==_&&a.length-2-_,a[l])){for(y[a.length-1]=a[a.length-1],u=l;u>=0;u--){if(a[u+1])for(o=a[u+1].children||[],s=u===l?t:a[u].value,a[u]=void 0,c=0;c<o.length;c++)if(o[c].value===s){a[u]=o[c];break}if(void 0===a[u])return v}f[r(g)]=a,v=p._createCell(f)}return v},value:function(){var e,t,r,o=this._cell,a=this._fieldIndex,s=arguments,l=s[0]===!0||s[0]===!1,u=l?n:s[0],c=l&&s[0]||s[1];return u&&(r=i(this._descriptions,u),a=r.index,"data"!==r.area)?(e=this._getPath(r.area),t=-1!==a&&e.length-2-a,e[t]&&e[t].value):o&&o.orginalCell?c?o[a]:o.orginalCell[a]:n}}),a.applyDisplaySummaryMode=function(e,t){var n=[],i=[{index:t.grandTotalColumnIndex,children:t.columns}],r=[{index:t.grandTotalRowIndex,children:t.rows}],a=e.values;s(r,function(r){var l=r[0];l.isEmpty=!0,s(i,function(i){var s,u,c,d,h,p,f=i[0],m=!1;for(f.isEmpty=f.isEmpty||[],p=0;p<a.length;p++)d=a[p],s=n[p]=n[p]||o(d),s&&(u=new b(i,r,t,e,p),c=u.cell(),c?(h=c[p]=s(u),m=null===h||void 0===h):m=!0),void 0===f.isEmpty[p]&&(f.isEmpty[p]=!0),m||(f.isEmpty[p]=!1,l.isEmpty=!1)},!1)},!1),t.isEmptyGrandTotalRow=r[0].isEmpty,t.isEmptyGrandTotalColumn=i[0].isEmpty}}(jQuery,DevExpress,null),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.publisherMixin",["jquery"],function(){return{notifyObserver:function(e,t){var n=this.option("observer");n&&n.fire(e,t)},invoke:function(){var e=this.option("observer");return e?e.fire.apply(e,arguments):void 0}}}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointmentTooltip",["jquery","/ui/ui.tooltip","/ui/widgets/ui.button","/ui/templates/ui.template.function","/ui/templates/ui.template.dynamic","/ui/templates/ui.template.move"],function(e,t,n,i,r,o){var a="dx-scheduler-appointment-tooltip",s="dx-scheduler-appointment-tooltip-title",l="dx-scheduler-appointment-tooltip-date",u="dx-scheduler-appointment-tooltip-buttons";return{show:function(t,n,i,a){var s,l;this.instance=a,s=a.appointmentTakesAllDay(t),this._initDynamicTemplate(t,n),l=a._getTemplateByOption("appointmentTooltipTemplate"),this.hide(),this._$tooltip=e("<div>").appendTo(a.element()),this._tooltip=a._createComponent(this._$tooltip,"dxTooltip",{_templates:a.option("_templates"),templateProvider:a.option("templateProvider"),visible:!0,target:i,rtlEnabled:a.option("rtlEnabled"),contentTemplate:new r(function(e){return new o(l.render(t,e))}),position:{my:"bottom",at:"top",of:i,boundary:s?a.element():a.getWorkSpaceScrollableContainer(),collision:"fit flipfit"}})},hide:function(){this._$tooltip&&(this._$tooltip.remove(),delete this._$tooltip,delete this._tooltip,t.hide())},_initDynamicTemplate:function(e,t){var n=this;this.instance._dynamicTemplates.appointmentTooltip=new i(function(i,r,o){var a=n._tooltipContent(e,t);return a.addClass(o.attr("class")),o.replaceWith(a),o})},_tooltipContent:function(t,n){var i,r=e("<div>").addClass(a),o=this.instance.appointmentTakesAllDay(t),c=this.instance.fire("getField","startDate",t),d=this.instance.fire("getField","endDate",t),h=this.instance.fire("getField","text",t);return e("<div>").text(h).addClass(s).appendTo(r),e("<div>").addClass(l).text(this._formatTooltipDate(c,d,o)).appendTo(r),i=e("<div>").addClass(u).appendTo(r),this.instance._editing.allowDeleting&&this._getDeleteButton(t,n).appendTo(i),this._getOpenButton(t,n).appendTo(i),r},_formatTooltipDate:function(e,t,n){var i="month"===this.instance.option("currentView")?"DATETIME":"TIME",r="";return n&&(i="DATE"),this.instance.fire("formatDates",{startDate:e,endDate:t,formatType:i,callback:function(e){r=e}}),r},_getDeleteButton:function(t,i){var r=this;return new n(e("<div>"),{icon:"trash",onClick:function(){var e=r.instance.fire("getField","startDate",i);r.instance._checkRecurringAppointment(t,i,e,function(){r.instance.deleteAppointment(t)},!0),r.hide()}}).element()},_getOpenButton:function(t,i){var r=this,o=r.instance._editing.allowUpdating;return new n(e("<div>"),{icon:o?"edit":"",text:Globalize.localize("dxScheduler-openAppointment"),onClick:function(){r.instance.showAppointmentPopup(t,!1,i)}}).element()}}}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointmentModel",["jquery","/class","/utils/utils.recurrence","/utils/utils.date","/utils/utils.common","/utils/utils.array"],function(e,t,n,i,r,o){var a=t.inherit({ctor:function(e){this._filterRegistry=null,this._dataExpressions=e},make:function(e,t){this._filterRegistry||(this._filterRegistry={}),this._make[e].apply(this,t)},_make:{date:function(e,t){var n=this._dataExpressions.startDateExpr,i=this._dataExpressions.endDateExpr,r=this._dataExpressions.recurrenceRuleExpr;this._filterRegistry.date=[[[[n,">=",e],[i,"<=",t]],"or",[[n,"<=",e],[i,"<=",t],[i,">",e]],"or",[[n,">=",e],[n,"<",t],[i,">=",t]],"or",[[n,"<=",e],[i,">=",t]]],"or",[r,"startswith","freq"]],r||this._filterRegistry.date.splice(1,2)},user:function(e){this._filterRegistry.user=e}},combine:function(){var e=[];return this._filterRegistry.date&&e.push(this._filterRegistry.date),this._filterRegistry.user&&e.push(this._filterRegistry.user),e}});return t.inherit({_createFilter:function(e,t){this._filterMaker.make("date",[e,t]),this._filterMaker.make("user",[this._dataSource.filter()]),
this._dataSource.filter(this._filterMaker.combine())},_getStoreKey:function(e){var t=this._dataSource.store();return t.keyOf(e)},_filterAppointmentByResources:function(t,n){function i(){for(var i=o.wrapToArray(t[r]),a=e.map(n[s].items,function(e){return e.id}),l=0,u=i.length;u>l;l++)if(e.inArray(i[l],a)>-1)return!0;return!1}for(var r,a=!1,s=0,l=n.length;l>s;s++)if(r=n[s].name,!t.hasOwnProperty(r)||(a=i(),!a))return!1;return a},_filterAppointmentByRRule:function(e,t,i,r,o){var a,s=e.rrule,l=e.recurrenceException,u=e.allDay,c=!0,d=e.startDate,h=e.endDate;return(u||this._appointmentPartInInterval(d,h,r,o))&&(a=this._trimDates(t,i),t=a.min,i=new Date(a.max.getTime()-6e4)),s&&!n.getRecurrenceRule(s).isValid&&(c=h>t&&i>=d),c&&n.getRecurrenceRule(s).isValid&&(c=n.dateInRecurrenceRange(s,d,t,i,l)),c},_appointmentPartInInterval:function(e,t,n,i){var r=e.getHours(),o=t.getHours();return n>=r&&i>=o&&o>=n||o>=i&&i>=r&&r>=n},_createCombinedFilter:function(e){var t=this._dataAccessors,n=e.startDayHour,o=e.endDayHour,a=i.makeDate(e.min),s=i.makeDate(e.max),l=e.resources,u=this;return[[function(c){var d,h=!0,p=i.makeDate(t.getter.startDate(c)),f=i.makeDate(t.getter.endDate(c)),m=u.appointmentTakesAllDay(c,n,o),g=t.getter.allDay(c),_=p.getHours(),v=36e5*(24-o+n),y=f.getTime()-p.getTime(),x=(v-y)/36e5,b=r.isDefined(t.getter.recurrenceRule);return b&&(d=t.getter.recurrenceRule(c)),l&&l.length&&(h=u._filterAppointmentByResources(c,l)),m&&e.allDay===!1&&(h=!1),h&&b&&(h=u._filterAppointmentByRRule({startDate:p,endDate:f,rrule:d,recurrenceException:t.getter.recurrenceException(c),allDay:m},a,s,n,o)),h&&void 0!==n&&(h=p.getHours()>=n||f.getHours()>=n||m),h&&void 0!==o&&(h=p.getHours()<o||m&&s>=p,v>y&&_>o&&_-o>=x&&(h=!1)),h&&b&&!d&&f.getTime()<a.getTime()&&!g&&(h=!1),h}]]},ctor:function(e,t,n){this.setDataSource(e),this._filterMaker=new a(t),this._dataAccessors=n},setDataSource:function(e){this._dataSource=e},filterByDate:function(e,t){if(this._dataSource){var n=this._trimDates(e,t);this._filterMaker._filterRegistry?(this._filterMaker.make("date",[n.min,n.max]),this._dataSource.filter()&&this._dataSource.filter().length>1&&this._filterMaker.make("user",[this._dataSource.filter()[1]]),this._dataSource.filter(this._filterMaker.combine())):this._createFilter(n.min,n.max)}},filterLoadedAppointments:function(e){var t,n,i=this._createCombinedFilter(e);return this._filterMaker._filterRegistry&&(t=this._trimDates(e.min,e.max),this._filterMaker.make("date",[t.min,t.max]),n=this.customizeDateFilter(this._filterMaker.combine()),i.push([n])),DevExpress.data.query(this._dataSource.items()).filter(i).toArray()},_trimDates:function(e,t){var n=i.trimTime(new Date(e)),r=i.trimTime(new Date(t));return r.setDate(r.getDate()+1),{min:n,max:r}},hasAllDayAppointments:function(t,n,i){if(!t)return!1;var r=this,o=!1;return e.each(t,function(e,t){return r.appointmentTakesAllDay(t,n,i)?(o=!0,!1):void 0}),o},appointmentTakesAllDay:function(e,t,n){var i=this._dataAccessors,r=i.getter.startDate(e),o=i.getter.endDate(e),a=i.getter.allDay(e);return a||this._appointmentHasAllDayDuration(r,o,t,n)},_appointmentHasAllDayDuration:function(e,t,n,i){e=new Date(e),t=new Date(t);var r=i-n,o=(t.getTime()-e.getTime())/36e5;return o>=r},customizeDateFilter:function(t){var n=e.extend(!0,[],t);return e.proxy(function(t){if(t=e.extend(!0,{},t),e.isFunction(this._dataSource._mapFunc))try{t=this._dataSource._mapFunc(t)}catch(r){}var o=this._dataAccessors.getter.startDate(t),a=this._dataAccessors.getter.endDate(t);return this._dataAccessors.setter.startDate(t,i.makeDate(o)),this._dataAccessors.setter.endDate(t,i.makeDate(a)),DevExpress.data.query([t]).filter(n).toArray().length>0},this)},add:function(t){return this._dataSource.store().insert(t).done(e.proxy(function(){this._dataSource.load()},this))},update:function(t,n){var i=this._getStoreKey(t);return this._dataSource.store().update(i,n).done(e.proxy(function(){this._dataSource.load()},this))},remove:function(t){var n=this._getStoreKey(t);return this._dataSource.store().remove(n).done(e.proxy(function(){this._dataSource.load()},this))}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.resourceManager",["jquery","/class","/utils/utils.array","/utils/utils.common"],function(e,t,n,i){var r=DevExpress.data,o=r.utils,a="id",s="text";return t.inherit({_wrapDataSource:function(e){var t;return t=e instanceof r.DataSource?e.store():o.normalizeDataSourceOptions(e).store,new r.DataSource({store:t,pageSize:0})},_mapResourceData:function(t,n){var i=o.compileGetter(t.valueExpr||a),r=o.compileGetter(t.displayExpr||s);return e.map(n,function(e){return{id:i(e),text:r(e)}})},_isMultipleResource:function(t){var n=!1;return e.each(this.getResources(),function(e,i){return i.field===t?(n=i.allowMultiple,!1):void 0}),n},ctor:function(e){this.setResources(e)},setResources:function(t){this._resources=t,this._resourceFields=e.map(t||[],function(e){return e.field})},getResources:function(){return this._resources||[]},getEditors:function(){var t=[],n=this;return e.each(this.getResources(),function(e,i){t.push({editorOptions:{dataSource:n._wrapDataSource(i.dataSource),displayExpr:i.displayExpr||s,valueExpr:i.valueExpr||a},dataField:i.field,editorType:i.allowMultiple?"dxTagBox":"dxSelectBox",label:{text:i.label||i.field}})}),t},getResourceDataByValue:function(t,n){var i=e.Deferred(),r=this;return e.each(this.getResources(),function(e,o){if(o.field===t){var s=r._wrapDataSource(o.dataSource),l=o.valueExpr||a;return s.filter(l,n),s.load().done(function(e){var t=DevExpress.data.query(e).filter(l,n).toArray();i.resolve(t[0])}).fail(function(){i.reject()}),!1}}),i.promise()},getResourcesFromItem:function(t,r){var o=this,a=null;return i.isDefined(r)||(r=!1),e.each(t,function(i){e.inArray(i,o._resourceFields)>-1&&(a||(a={}),a[i]=!r||r&&o._isMultipleResource(i)?n.wrapToArray(t[i]):t[i])}),a},getResourcesValueByFields:function(t){var n=e.Deferred(),i=this,r=[];return e.each(this.getResourcesByFields(t),function(t,n){var o=e.Deferred();r.push(o),i._wrapDataSource(n.dataSource).load().done(function(e){o.resolve({name:n.field,items:i._mapResourceData(n,e)})}).fail(function(){o.reject()})}),e.when.apply(null,r).done(function(){n.resolve(Array.prototype.slice.call(arguments))}).fail(function(){n.reject()}),n.promise()},getResourceColor:function(t,n){var i,r=e.Deferred();return this.getResourceDataByValue(t,n).done(function(e){e&&(i=e.color),r.resolve(i)}).fail(function(){r.reject()}),r.promise()},getResourcesByFields:function(t){return e.grep(this.getResources(),function(n){return e.inArray(n.field,t)>-1})},getResourceForPainting:function(t){var n,i=this.getResources();return e.each(i,function(e,t){return t.useColorAsDefault||t.mainColor?(n=t,!1):void 0}),n||(e.isArray(t)&&t.length&&(i=this.getResourcesByFields(t)),n=i[i.length-1]),n}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.recurrenceEditor",["jquery","/class","/utils/utils.recurrence","/utils/utils.dom","/utils/utils.common","/componentRegistrator","/ui/ui.editor","/ui/widgets/ui.checkBox","/ui/widgets/ui.radioGroup","/ui/widgets/ui.switch","/ui/widgets/ui.numberBox","/ui/widgets/ui.selectBox","/ui/widgets/date/ui.dateBox","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/utils/utils.date"],function(e,t,n,i,r,o,a,s,l,u,c,d,h,p,f){var m="dx-recurrence-editor",g="-label",_="dx-recurrence-editor-container",v="dx-recurrence-switch",y="dx-recurrence-switch-repeat-end",x="dx-recurrence-radiogroup-freq",b="dx-recurrence-numberbox-interval",w="dx-recurrence-interval-field",C="dx-recurrence-repeat-end",S="dx-recurrence-repeat-end-field",k="dx-recurrence-repeat-end-container",D="dx-recurrence-radiogroup-repeat-type",T="dx-recurrence-numberbox-repeat-count",E="dx-recurrence-datebox-until-date",I="dx-recurrence-repeat-on",A="dx-recurrence-repeat-on-week",$="dx-recurrence-checkbox-day-of-week",B="dx-recurrence-repeat-on-month",O="dx-recurrence-numberbox-day-of-month",P="dx-recurrence-repeat-on-year",M="dx-recurrence-selectbox-month-of-year",R="dx-field",V="dx-field-label",L="dx-field-value",F=[{text:function(){return Globalize.localize("dxScheduler-recurrenceDaily")},value:"DAILY"},{text:function(){return Globalize.localize("dxScheduler-recurrenceWeekly")},value:"WEEKLY"},{text:function(){return Globalize.localize("dxScheduler-recurrenceMonthly")},value:"MONTHLY"},{text:function(){return Globalize.localize("dxScheduler-recurrenceYearly")},value:"YEARLY"}],z=[{text:function(){return Globalize.localize("dxScheduler-recurrenceRepeatCount")},value:"count"},{text:function(){return Globalize.localize("dxScheduler-recurrenceRepeatOnDate")},value:"until"}],H=["SU","MO","TU","WE","TH","FR","SA"],N=t.inherit({ctor:function(e){this._recurrenceRule=n.getRecurrenceRule(e).rule},makeRules:function(e){var t=this;t._recurrenceRule=n.getRecurrenceRule(e).rule},makeRule:function(e,t){return t?void(r.isDefined(e)&&("until"===e&&delete this._recurrenceRule.count,"count"===e&&delete this._recurrenceRule.until,this._recurrenceRule[e]=t)):void delete this._recurrenceRule[e]},repeatableRule:function(){var e=this._recurrenceRule;return"count"in e?"count":"until"in e?"until":null},recurrenceString:function(){return n.getRecurrenceString(this._recurrenceRule)},rules:function(){return this._recurrenceRule},daysFromByDayRule:function(){return n.daysFromByDayRule(this._recurrenceRule)}}),j=a.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{value:null,onValueChanged:null,startDate:new Date})},_createComponent:function(e,t,n){return n=n||{},this._extendConfig(n,{readOnly:this.option("readOnly")}),this.callBase(e,t,n)},_init:function(){this.callBase(),this._recurrenceRule=new N(this.option("value"))},_render:function(){this.callBase(),this.element().addClass(m),this._renderSwitch(),this._$container=e("<div>").addClass(_).appendTo(this.element()),this._renderEditors(),this._renderContainerVisibility(!!this.option("value"))},_renderSwitch:function(){var t=e("<div>").addClass(v);this._switchEditor=this._createComponent(t,u,{value:!!this.option("value"),onValueChanged:e.proxy(this._switchValueChangeHandler,this)}),this.element().append(t)},_switchValueChangeHandler:function(e){var t=e.value;this._renderContainerVisibility(t),!this.option("value")&&t?this._handleDefaults():t||(this._recurrenceRule.makeRules(""),this.option("value",""))},_renderContainerVisibility:function(e){e?(this._$container.show(),this.notifyObserver("recurrenceEditorVisibylityChanged",{visible:!0}),i.triggerShownEvent(this._$container)):(this._$container.hide(),this.notifyObserver("recurrenceEditorVisibylityChanged",{visible:!1}))},_handleDefaults:function(){this._recurrenceRule.makeRule("freq","DAILY"),this._changeEditorValue()},_changeEditorValue:function(){this.option("value",this._recurrenceRule.recurrenceString()||"")},_renderEditors:function(){this._renderFreqEditor(),this._renderIntervalEditor(),this._renderRepeatOnEditor(),this._renderRepeatEndSwitch(),this._renderRepeatEndEditor(),this._renderRepeatEndVisibility(!!this._recurrenceRule.repeatableRule())},_renderFreqEditor:function(){var t,n=this._recurrenceRule.rules().freq||"DAILY",i=e("<div>").addClass(x).addClass(L);this._freqEditor=this._createComponent(i,l,{field:"freq",items:F,value:n,valueExpr:"value",displayExpr:"text",layout:"horizontal",onValueChanged:e.proxy(this._valueChangedHandler,this)}),t=e("<div>").addClass(R).append(i),this._$container.append(t)},_renderIntervalEditor:function(){var t,n,i=this._recurrenceRule.rules().freq||"DAILY",r=e("<div>").addClass(b).addClass(L),o=e("<div>").text(Globalize.localize("dxScheduler-recurrenceEvery")+":").addClass(b+g).addClass(V);this._$intervalTypeLabel=e("<div>").text(Globalize.localize("dxScheduler-recurrenceRepeat"+i.charAt(0).toUpperCase()+i.substr(1).toLowerCase())).addClass(D+g),t=this._recurrenceRule.rules().interval||1,this._intervalEditor=this._createComponent(r,c,{field:"interval",min:1,value:t,showSpinButtons:!0,useTouchSpinButtons:!1,onValueChanged:e.proxy(this._valueChangedHandler,this)}),n=e("<div>").addClass(R).addClass(w).append(o,r,this._$intervalTypeLabel),this._$container.append(n),this._setAriaDescribedBy(this._intervalEditor,o)},_renderRepeatOnEditor:function(){var t=this._recurrenceRule.rules().freq;return r.isDefined(this._$repeatOnEditor)||(this._$repeatOnEditor=e("<div>").addClass(I).addClass(R).appendTo(this._$container)),t&&"DAILY"!==t?(r.isDefined(this._$repeatOnLabel)||this._renderRepeatOnLabel(this._$repeatOnEditor),"WEEKLY"!==t||this._$repeatOnWeek?"MONTHLY"!==t||this._$repeatOnMonth?"YEARLY"!==t||this._$repeatOnYear?void 0:void this._renderRepeatOnYearEditor():void this._renderRepeatOnMonthEditor():void this._renderRepeatOnWeekEditor()):(this._clearRepeatOnEditor(),void this._clearRepeatOnLabel())},_renderRepeatOnLabel:function(t){this._$repeatOnLabel=e("<div>").text(Globalize.localize("dxScheduler-recurrenceOn")+":").addClass(I+g).addClass(V),t.append(this._$repeatOnLabel)},_clearRepeatOnEditor:function(){r.isDefined(this._$repeatOnWeek)&&(this._$repeatOnWeek.detach(),this._$repeatOnWeek.remove(),delete this._$repeatOnWeek),r.isDefined(this._$repeatOnMonth)&&(this._$repeatOnMonth.detach(),this._$repeatOnMonth.remove(),delete this._$repeatOnMonth),r.isDefined(this._$repeatOnYear)&&(this._$repeatOnYear.detach(),this._$repeatOnYear.remove(),delete this._$repeatOnYear)},_clearRepeatOnEditorValues:function(){this._recurrenceRule.makeRule("bymonth",""),this._recurrenceRule.makeRule("bymonthday",""),this._recurrenceRule.makeRule("byday","")},_clearRepeatOnLabel:function(){r.isDefined(this._$repeatOnLabel)&&(this._$repeatOnLabel.detach(),this._$repeatOnLabel.remove(),delete this._$repeatOnLabel)},_renderRepeatOnWeekEditor:function(){var t,n,i;for(this._clearRepeatOnEditor(),this._$repeatOnWeek=e("<div>").addClass(A).addClass(L).appendTo(this._$repeatOnEditor),t=Globalize.culture().calendar.days.namesShort,n=this._daysOfWeekByRules(),this._daysOfWeek=[],i=0;7>i;i++){var r=t[i].toUpperCase(),o=H[i],a=e("<div>").addClass($),l=this._createComponent(a,s,{text:r,value:e.inArray(o,n)>-1?!0:!1,onValueChanged:e.proxy(this._repeatByDayValueChangeHandler,this)});this._daysOfWeek[i]=l,this._$repeatOnWeek.append(a)}},_daysOfWeekByRules:function(){var e=this._recurrenceRule.daysFromByDayRule();return e.length||(e=[H[this.option("startDate").getDay()]]),e},_repeatByDayValueChangeHandler:function(){var t="";e.each(this._daysOfWeek,function(e,n){if(n.option("value")){var i=H[e];t=t?t+","+i:i}}),this._recurrenceRule.makeRule("byday",t),this._changeEditorValue()},_renderRepeatOnMonthEditor:function(){this._clearRepeatOnEditor(),this._$repeatOnMonth=e("<div>").addClass(B).addClass(L).appendTo(this._$repeatOnEditor),this._renderDayOfMonthEditor(this._$repeatOnMonth)},_renderRepeatOnYearEditor:function(){var t,n,i;for(this._clearRepeatOnEditor(),this._$repeatOnYear=e("<div>").addClass(P).addClass(L).appendTo(this._$repeatOnEditor),t=[],n=Globalize.culture().calendar.months.names,i=0;12>i;i++)t[i]={value:String(i+1),text:n[i]};var r=this._monthOfYearByRules(),o=e("<div>").addClass(M).appendTo(this._$repeatOnYear),a=function(e){var t,n;this._valueChangedHandler.call(this,e),t=parseInt(e.component.option("value")),this._dayEditor&&t&&(n=new Date((new Date).getFullYear(),parseInt(t),0).getDate(),2===t&&(n=29),this._dayEditor.option("max",n))};this._monthEditor=this._createComponent(o,d,{field:"bymonth",items:t,value:r,displayExpr:"text",valueExpr:"value",onValueChanged:e.proxy(a,this)}),this._renderDayOfMonthEditor(this._$repeatOnYear)},_monthOfYearByRules:function(){var e=this._recurrenceRule.rules().bymonth;return e||(e=this.option("startDate").getMonth()),e},_renderDayOfMonthEditor:function(t){var n=this._dayOfMonthByRules(),i=e("<div>").addClass(O);this._dayEditor=this._createComponent(i,c,{field:"bymonthday",min:1,max:31,showSpinButtons:!0,useTouchSpinButtons:!1,value:n,onValueChanged:e.proxy(this._valueChangedHandler,this)}),t.append(i)},_dayOfMonthByRules:function(){var e=this._recurrenceRule.rules().bymonthday;return e||(e=this.option("startDate").getDate()),e},_setAriaDescribedBy:function(e,t){var n="label-"+new DevExpress.data.Guid;e.setAria("describedby",n),e.setAria("id",n,t)},_renderRepeatEndSwitch:function(){var t=this,n=e("<div>").addClass(y).addClass(L),i=e("<div>").text(Globalize.localize("dxScheduler-recurrenceEnd")+":").addClass(b+g).addClass(V);this._switchEndEditor=this._createComponent(n,u,{value:t._recurrenceRule.repeatableRule()?!0:!1,onValueChanged:e.proxy(this._repeatEndSwitchValueChangeHandler,this)}),e("<div>").addClass(R).addClass(S).append(i,n).appendTo(this._$container),this._setAriaDescribedBy(this._switchEndEditor,i)},_repeatEndSwitchValueChangeHandler:function(e){var t=e.value;this._renderRepeatEndVisibility(t),this._recurrenceRule.rules().count||this._recurrenceRule.rules().until||!t?t||(this._recurrenceRule.makeRule("count",""),this._recurrenceRule.makeRule("until",""),this._changeEditorValue()):this._handleRepeatEndDefaults()},_renderRepeatEndVisibility:function(e){e?this._$repeatEndEditor.show():this._$repeatEndEditor.hide()},_handleRepeatEndDefaults:function(){this._recurrenceRule.makeRule("count",1),this._changeEditorValue()},_renderRepeatEndEditor:function(t){t=r.isDefined(t)?t:this._recurrenceRule.repeatableRule(),t||(t="count"),r.isDefined(this._$repeatEndEditor)||(this._$repeatEndEditor=e("<div>").addClass(k).addClass(R).appendTo(this._$container),this._renderRepeatEndTypeEditor())},_renderRepeatEndTypeEditor:function(){var t=this._recurrenceRule.repeatableRule()||"count",n=this;this._$repeatTypeEditor=e("<div>").addClass(D).addClass(L).appendTo(this._$repeatEndEditor),this._repeatTypeEditor=this._createComponent(this._$repeatTypeEditor,l,{items:z,value:t,displayExpr:"text",valueExpr:"value",itemTemplate:function(e){return"count"===e.value?n._renderRepeatCountEditor():n._renderRepeatUntilEditor()},layout:"vertical",onValueChanged:e.proxy(this._repeatTypeValueChangedHandler,this)}),this._disableRepeatEndParts(t)},_repeatTypeValueChangedHandler:function(e){var t=e.value;this._disableRepeatEndParts(t),"until"===t?this._recurrenceRule.makeRule(t,this._repeatUntilDate.option("value")):"count"===t&&this._recurrenceRule.makeRule(t,this._repeatCountEditor.option("value")),this._changeEditorValue()},_disableRepeatEndParts:function(e){"until"===e?(this._repeatCountEditor.option("disabled",!0),this._repeatUntilDate.option("disabled",!1)):"count"===e&&(this._repeatCountEditor.option("disabled",!1),this._repeatUntilDate.option("disabled",!0))},_renderRepeatCountEditor:function(){var t=this._recurrenceRule.rules().count||1,n=e("<div>");return e("<div>").text(Globalize.localize("dxScheduler-recurrenceAfter")+":").addClass(C+g).appendTo(n),this._$repeatCountEditor=e("<div>").addClass(T).addClass(L).appendTo(n),e("<div>").text(Globalize.localize("dxScheduler-recurrenceRepeatCount")).addClass(C+g).appendTo(n),this._repeatCountEditor=this._createComponent(this._$repeatCountEditor,c,{field:"count",min:1,showSpinButtons:!0,useTouchSpinButtons:!1,value:t,onValueChanged:e.proxy(this._repeatCountValueChangeHandler,this)}),n},_repeatCountValueChangeHandler:function(e){if("count"===this._recurrenceRule.repeatableRule()){var t=e.value;this._recurrenceRule.makeRule("count",t),this._changeEditorValue()}},_formatUntilDate:function(e){var t=f.trimTime(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},_renderRepeatUntilEditor:function(){var t=this._recurrenceRule.rules().until||this._formatUntilDate(new Date),n=e("<div>");return e("<div>").text(Globalize.localize("dxScheduler-recurrenceOn")+":").addClass(C+g).appendTo(n),this._$repeatDateEditor=e("<div>").addClass(E).addClass(L).appendTo(n),this._repeatUntilDate=this._createComponent(this._$repeatDateEditor,h,{field:"until",value:t,format:"date",onValueChanged:e.proxy(this._repeatUntilValueChangeHandler,this)}),n},_repeatUntilValueChangeHandler:function(e){if("until"===this._recurrenceRule.repeatableRule()){var t=this._formatUntilDate(new Date(e.value));this._repeatUntilDate.option("value",t),this._recurrenceRule.makeRule("until",t),this._changeEditorValue()}},_valueChangedHandler:function(e){var t=e.component.option("value"),n=e.component.option("field");"freq"===n&&this._clearRepeatOnEditorValues(),this._recurrenceRule.makeRule(n,t),this._makeRepeatOnRule(n,t),this._changeEditorValue()},_makeRepeatOnRule:function(e,t){"freq"===e&&"DAILY"!==t&&("WEEKLY"===t&&this._recurrenceRule.makeRule("byday",this._daysOfWeekByRules()),"MONTHLY"===t&&this._recurrenceRule.makeRule("bymonthday",this._dayOfMonthByRules()),"YEARLY"===t&&(this._recurrenceRule.makeRule("bymonthday",this._dayOfMonthByRules()),this._recurrenceRule.makeRule("bymonth",this._monthOfYearByRules())))},_optionChanged:function(e){switch(e.name){case"value":this._recurrenceRule.makeRules(e.value),this._switchEditor.option("value",!!e.value),this._switchEndEditor.option("value",!!this._recurrenceRule.repeatableRule()),this._repeatTypeEditor.option("value",this._recurrenceRule.repeatableRule()||"count"),this._renderRepeatEndEditor(),this._renderRepeatOnEditor(),this._changeEditorsValues(this._recurrenceRule.rules()),this.callBase(e);break;case"startDate":this._clearRepeatOnEditor(),this._renderRepeatOnEditor(),this._makeRepeatOnRule("freq",this._recurrenceRule.rules().freq),r.isDefined(this._recurrenceRule.recurrenceString())&&this._changeEditorValue();break;default:this.callBase(e)}},_changeEditorsValues:function(e){this._freqEditor.option("value",e.freq),this._changeRepeatTypeLabel(),this._intervalEditor.option("value",e.interval),this._changeRepeatCountValue(),this._changeRepeatUntilValue(),this._changeCheckBoxesValue(),this._changeDayOfMonthValue(),this._changeMonthOfYearValue()},_changeRepeatTypeLabel:function(){var t,n=this.element().find("."+D+g);n.length&&(t=this._recurrenceRule.rules().freq||"DAILY",e.each(n,function(n,i){e(i).text(Globalize.localize("dxScheduler-recurrenceRepeat"+t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()))}))},_changeRepeatCountValue:function(){if(this._$repeatCountEditor){var e=this._recurrenceRule.rules().count||1;this._repeatCountEditor.option("value",e)}},_changeRepeatUntilValue:function(){if(this._$repeatDateEditor){var e=this._recurrenceRule.rules().until||this._formatUntilDate(new Date);this._repeatUntilDate.option("value",e)}},_changeCheckBoxesValue:function(){if(this._$repeatOnWeek){var t=this._daysOfWeekByRules();e.each(this._daysOfWeek,function(n,i){var r=H[n];i.option("value",e.inArray(r,t)>-1)})}},_changeDayOfMonthValue:function(){if(this._$repeatOnMonth||this._$repeatOnYear){var e=this._dayOfMonthByRules()||1;this._dayEditor.option("value",e)}},_changeMonthOfYearValue:function(){if(this._$repeatOnYear){var e=this._monthOfYearByRules()||1;this._monthEditor.option("value",e)}},toggle:function(){this._switchEditor.element().trigger("dxclick")},setAria:function(){this._switchEditor&&this._switchEditor.setAria(arguments[0],arguments[1])}}).include(p);return o("dxSchedulerRecurrenceEditor",{},j),j}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.recurrenceEditor"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.navigator",["jquery","/ui/ui.errors","/utils/utils.date","/componentRegistrator","/devices","/ui/ui.widget","/ui/widgets/ui.button","/ui/widgets/date/ui.calendar","/ui/widgets/scheduler/ui.scheduler.publisherMixin"],function(e,t,n,i,r,o,a,s,l){var u="dx-scheduler-navigator",c="dx-scheduler-navigator-calendar",d="dx-scheduler-navigator-next",h="dx-scheduler-navigator-caption",p="dx-scheduler-navigator-previous",f=function(e,t,i){var r,o=n.getFirstWeekDate(e,t?this.option("firstDayOfWeek")||1:this.option("firstDayOfWeek")),a=this.option("_useShortDateFormat")?"d MMM yyyy":"d MMMM yyyy",s=2;return i&&(o=n.normalizeDateByWeek(o,e)),this.option("firstDayOfWeek")>=6&&i&&o.setDate(o.getDate()+(8-this.option("firstDayOfWeek"))),r=new Date(o),t=t||6,r=new Date(r.setDate(r.getDate()+t)),r.getDay()%6==0&&i&&r.setDate(r.getDate()+s),Globalize.format(o," d")+"-"+Globalize.format(r,a)},m=function(e,t){return new Date(e[this.setter](e[this.getter]()+t))},g={day:{duration:1,setter:"setDate",getter:"getDate",getDate:m,getCaption:function(e){return Globalize.format(e,"d MMMM yyyy")}},week:{duration:7,setter:"setDate",getter:"getDate",getDate:m,getCaption:f},workWeek:{duration:7,setter:"setDate",getter:"getDate",getDate:m,getCaption:function(e){return f.call(this,e,4,!0)}},month:{duration:1,setter:"setMonth",getter:"getMonth",getDate:function(e,t){var i,r=e.getDate();return e.setDate(1),e=m.call(this,e,t),i=n.getLastMonthDay(e),e.setDate(i>r?r:i),e},getCaption:function(e){return Globalize.format(e,"MMMM yyyy")}}},_=o.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{date:new Date,step:"day",min:void 0,max:void 0,firstDayOfWeek:void 0,_useShortDateFormat:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!r.real().generic||r.isSimulator()},options:{_useShortDateFormat:!0}}])},_optionChanged:function(e){switch(e.name){case"step":case"date":this._updateButtonsState(),this._renderCaption(),this._setCalendarOption("value",this.option("date"));break;case"min":case"max":this._updateButtonsState(),this._setCalendarOption(e.name,e.value);break;case"firstDayOfWeek":this._setCalendarOption(e.name,e.value);break;case"tabIndex":case"focusStateEnabled":this._next.option(e.name,e.value),this._caption.option(e.name,e.value),this._prev.option(e.name,e.value),this._setCalendarOption(e.name,e.value),this.callBase(e);break;case"_useShortDateFormat":break;default:this.callBase(e)}},_init:function(){this.callBase(),this.element().addClass(u),this._initButtons()},_initButtons:function(){var t,n,i=e("<div>").addClass(d);this._next=this._createComponent(i,a,{icon:"chevronnext",onClick:e.proxy(this._updateCurrentDate,this,1),focusStateEnabled:this.option("focusStateEnabled"),tabIndex:this.option("tabIndex"),_templates:{}}),t=e("<div>").addClass(h),this._caption=this._createComponent(t,a,{focusStateEnabled:this.option("focusStateEnabled"),tabIndex:this.option("tabIndex"),_templates:{}}),n=e("<div>").addClass(p),this._prev=this._createComponent(n,a,{icon:"chevronprev",onClick:e.proxy(this._updateCurrentDate,this,-1),focusStateEnabled:this.option("focusStateEnabled"),tabIndex:this.option("tabIndex"),_templates:{}}),this.setAria("label","Next period",i),this.setAria("label","Previous period",n),this._updateButtonsState(),this.element().append(n,t,i)},_updateButtonsState:function(){var e=this._getConfig(),t=this.option("date"),n=this.option("min"),i=this.option("max");this._prev.option("disabled",n&&t[e.getter]()===n[e.getter]()),this._next.option("disabled",i&&t[e.getter]()===i[e.getter]())},_updateCurrentDate:function(e){var t=this._getConfig(),i=t.duration*e,r=t.getDate(new Date(this.option("date")),i);r=n.normalizeDate(r,this.option("min"),this.option("max")),this.notifyObserver("currentDateUpdated",r)},_renderFocusTarget:e.noop,_render:function(){this.callBase(),this._renderPopover(),this._renderCaption(),this._renderCaptionKeys()},_renderPopover:function(){this._popover=this._createComponent("<div>","dxPopover",{target:this._caption.element(),onContentReady:e.proxy(this._popoverContentReadyHandler,this)}),this._popover.element().appendTo(this.element())},_popoverContentReadyHandler:function(){this._calendar=this._createComponent(e("<div>"),s,this._calendarOptions()),this._calendar.element().addClass(c),this._popover.content().append(this._calendar.element())},_calendarOptions:function(){return{min:this.option("min"),max:this.option("max"),firstDayOfWeek:this.option("firstDayOfWeek"),value:this.option("date"),focusStateEnabled:this.option("focusStateEnabled"),onValueChanged:e.proxy(function(e){this.option("visible")&&(this.notifyObserver("currentDateUpdated",e.value),this._popover.hide())},this),hasFocus:function(){return!0},tabIndex:null,_keyboardProcessor:this._calendarKeyboardProcessor}},_renderCaption:function(){var t=this.option("date"),n=this._getConfig().getCaption.call(this,t);this._caption.option({text:n,onClick:e.proxy(function(){this._popover.toggle()},this)})},_renderCaptionKeys:function(){if(this.option("focusStateEnabled")&&!this.option("disabled")){this._calendarKeyboardProcessor=this._caption._keyboardProcessor.attachChildProcessor(),this._setCalendarOption("_keyboardProcessor",this._calendarKeyboardProcessor);var t=e.proxy(function(){return this._popover.content().is(":hidden")?void this._popover.show():!0},this);this._caption.registerKeyHandler("enter",t),this._caption.registerKeyHandler("space",t)}},_setCalendarOption:function(e,t){this._calendar&&this._calendar.option(e,t)},_getConfig:function(){var e=this.option("step"),n=g[e];if(!n)throw t.Error("E1033",e);return n}}).include(l);return i("dxSchedulerNavigator",{},_),_}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.navigator"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.header",["jquery","/utils/utils.common","/utils/utils.inflector","/componentRegistrator","/ui/ui.widget","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/ui/widgets/scheduler/ui.scheduler.navigator"],function(e,t,n,i,r,o,a){var s=n.camelize,l="dx-scheduler-header",u="dx-scheduler-view-switcher",c="dx-scheduler-view-switcher-label",d={day:"day",week:"week",workWeek:"workWeek",month:"month",timelineDay:"day",timelineWeek:"week",timelineWorkWeek:"workWeek",timelineMonth:"month"},h=r.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{views:[],currentView:"day",firstDayOfWeek:void 0,currentDate:new Date,min:void 0,max:void 0,useDropDownViewSwitcher:!1})},_optionChanged:function(e){var t=e.value;switch(e.name){case"views":this._viewSwitcher.option("items",t);break;case"currentView":this._viewSwitcher.option("selectedItem",t),this._navigator.option("step",d[t]),this._changeViewSwitcherLabelText();break;case"currentDate":this._navigator.option("date",t);break;case"min":case"max":case"firstDayOfWeek":this._navigator.option(e.name,t);break;case"tabIndex":case"focusStateEnabled":this._viewSwitcher.option(e.name,t),this._navigator.option(e.name,t),this.callBase(e);break;case"useDropDownViewSwitcher":this._refreshViewSwitcher();break;default:this.callBase(e)}},_init:function(){this.callBase(),this.element().addClass(l)},_render:function(){this.callBase(),this._renderNavigator(),this._renderViewSwitcher()},_renderNavigator:function(){this._navigator=this._createComponent("<div>",a,{min:this.option("min"),max:this.option("max"),date:this.option("currentDate"),step:d[this.option("currentView")],firstDayOfWeek:this.option("firstDayOfWeek"),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled"),observer:this.option("observer")}),this._navigator.element().appendTo(this.element())},_renderViewSwitcher:function(){var t=e("<div>").addClass(u).appendTo(this.element());this.option("useDropDownViewSwitcher")?this._renderViewSwitcherDropDownMenu(t):this._renderViewSwitcherTabs(t)},_renderViewSwitcherTabs:function(t){this._viewSwitcher=this._createComponent(t,"dxTabs",{selectionRequired:!0,scrollingEnabled:!1,onSelectionChanged:e.proxy(this._updateCurrentView,this),items:this.option("views"),itemTemplate:function(t){return e("<span>").addClass("dx-tab-text").text(Globalize.localize("dxScheduler-switcher"+s(t,!0)))},selectedItem:this.option("currentView"),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled")})},_refreshViewSwitcher:function(){this._viewSwitcher._dispose(),this._viewSwitcher.element().remove(),delete this._viewSwitcher,this._removeViewSwitcherLabel(),this._renderViewSwitcher()},_removeViewSwitcherLabel:function(){t.isDefined(this._$viewSwitcherLabel)&&(this._$viewSwitcherLabel.detach(),this._$viewSwitcherLabel.remove(),delete this._$viewSwitcherLabel)},_renderViewSwitcherDropDownMenu:function(t){this._$viewSwitcherLabel=e("<div>").addClass(c).appendTo(this.element()),this._changeViewSwitcherLabelText(),this._viewSwitcher=this._createComponent(t,"dxDropDownMenu",{onItemClick:e.proxy(this._updateCurrentView,this),
items:this.option("views"),itemTemplate:function(t){return e("<span>").addClass("dx-dropdownmenu-item-text").text(Globalize.localize("dxScheduler-switcher"+s(t,!0)))}})},_changeViewSwitcherLabelText:function(){if(t.isDefined(this._$viewSwitcherLabel)){var e=Globalize.localize("dxScheduler-switcher"+s(this.option("currentView"),!0));this._$viewSwitcherLabel.text(e)}},_updateCurrentView:function(e){var t=e.itemData||e.component.option("selectedItem");this.notifyObserver("currentViewUpdated",t)},_renderFocusTarget:e.noop}).include(o);return i("dxSchedulerHeader",{},h),h}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.header"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpace",["jquery","/ui/uiNamespace","/utils/utils.date","/ui/ui.widget","/utils/utils.common","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(e,t,n,i,r,o,a,s,l){var u=i["abstract"],c=n.dateToMilliseconds,d="dx-scheduler-work-space",h="dx-scheduler-work-space-grouped",p="dx-scheduler-work-space-both-scrollbar",f="dx-scheduler-time-panel",m="dx-scheduler-time-panel-cell",g="dx-scheduler-time-panel-row",_="dx-scheduler-all-day-panel",v="dx-scheduler-all-day-table",y="dx-scheduler-fixed-appointments",x="dx-scheduler-all-day-appointments",b="dx-scheduler-all-day-title",w="dx-scheduler-all-day-title-hidden",C="dx-scheduler-all-day-table-cell",S="dx-scheduler-all-day-table-row",k="dx-scheduler-work-space-all-day",D="dx-scheduler-work-space-all-day-collapsed",T="dx-scheduler-header-panel",E="dx-scheduler-header-panel-cell",I="dx-scheduler-header-row",A="dx-scheduler-group-row",$="dx-scheduler-group-header",B="dx-scheduler-group-header-content",O="dx-scheduler-date-table",P="dx-scheduler-date-table-cell",M="dx-scheduler-date-table-row",R="dx-scheduler-date-table-current-date",V="dx-scheduler-date-table-other-month",L="dx-scheduler-date-table-droppable-cell",F="dx-scheduler-header-scrollable",z="dx-scheduler-sidebar-scrollable",H="dx-scheduler-date-table-scrollable",N=s.addNamespace(l.down,"dxSchedulerWorkSpace"),j=s.addNamespace("dxdragenter","dxSchedulerDateTable"),W=s.addNamespace("dxdrop","dxSchedulerDateTable"),G=s.addNamespace("dxclick","dxSchedulerDateTable"),q="dxCellData",U=i.inherit({_supportedKeys:function(){var t=this.option("rtlEnabled"),n=function(e){e.preventDefault(),e.stopPropagation(),this._$focusedCell&&this._$focusedCell.length&&this._showAddAppointmentPopup(this._$focusedCell)};return e.extend(this.callBase(),{enter:n,space:n,downArrow:function(e){e.preventDefault(),e.stopPropagation();var t=this._getFocusedCell().index(),n=this._getFocusedCell().parent(),i=n.next().children().eq(t);this._moveToCell(i)},upArrow:function(e){e.preventDefault(),e.stopPropagation();var t=this._getFocusedCell().index(),n=this._getFocusedCell().parent(),i=n.prev().children().eq(t);this._moveToCell(i)},rightArrow:function(e){e.preventDefault(),e.stopPropagation();var n=t?this._getFocusedCell().prev():this._getFocusedCell().next();this._moveToCell(n)},leftArrow:function(e){e.preventDefault(),e.stopPropagation();var n=t?this._getFocusedCell().next():this._getFocusedCell().prev();this._moveToCell(n)}})},_getFocusedCell:function(){return this._$focusedCell||this._$dateTable.find("."+P).eq(0)},_moveToCell:function(e){this._setFocusedCell(e),this._dateTableScrollable.scrollToElement(e)},_setFocusedCell:function(e){e.length&&(this._releaseFocusedCell(),this._toggleFocusClass(!0,e),r.isDefined(this._$focusedCell)&&this.setAria("label",void 0,this._$focusedCell),this._$focusedCell=e,this.setAria("label","Add appointment",this._$focusedCell))},_releaseFocusedCell:function(){r.isDefined(this._$focusedCell)&&this._toggleFocusClass(!1,this._$focusedCell)},_focusInHandler:function(t){if(e(t.target).is(this._focusTarget())&&this._isCellClick!==!1){delete this._isCellClick,this.callBase.apply(this,arguments);var n=this._getFocusedCell();this._setFocusedCell(n)}},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._releaseFocusedCell()},_focusTarget:function(){return this.element()},_activeStateUnit:"."+P+", ."+C,_getDefaultOptions:function(){return e.extend(this.callBase(),{currentDate:new Date,firstDayOfWeek:void 0,startDayHour:0,endDayHour:24,hoursInterval:.5,activeStateEnabled:!0,hoverStateEnabled:!0,groups:[],showAllDayPanel:!0,allDayExpanded:!1,onCellClick:null,horizontalScrollingEnabled:!1})},_optionChanged:function(e){switch(e.name){case"startDayHour":case"endDayHour":case"hoursInterval":case"firstDayOfWeek":case"currentDate":case"groups":this._cleanView(),this._toggleGroupedClass(),this._renderView();break;case"showAllDayPanel":this._toggleAllDayVisibility();break;case"allDayExpanded":this._changeAllDayVisibility(),this.notifyObserver("allDayPanelToggled"),this._attachTablesEvents();break;case"onCellClick":this._createCellClickAction();break;case"horizontalScrollingEnabled":this._toggleHorizontalScrollClass();break;case"width":this.callBase(e),this._dimensionChanged();break;default:this.callBase(e)}},_init:function(){this.callBase(),this._toggleHorizontalScrollClass(),this.element().addClass(d).addClass(this._getElementClass()),this._initWorkSpaceUnits(),this._initDateTableScrollable(),this._createWorkSpaceElements()},_toggleHorizontalScrollClass:function(){this.element().toggleClass(p,this.option("horizontalScrollingEnabled"))},_initWorkSpaceUnits:function(){this._$headerPanel=e("<table>").addClass(T),this._$thead=e("<thead>").appendTo(this._$headerPanel),this._$fixedContainer=e("<div>").addClass(y),this._$allDayContainer=e("<div>").addClass(x),this._$allDayTitle=e("<div>").addClass(b).text(Globalize.localize("dxScheduler-allDay")).appendTo(this.element()),this._$allDayTable=e("<table>").addClass(v),this._$allDayPanel=e("<div>").addClass(_).append(this._$allDayTable),this._$timePanel=e("<table>").addClass(f),this._$dateTable=e("<table>").addClass(O)},_initDateTableScrollable:function(){var t=e("<div>").addClass(H);this._dateTableScrollable=this._createComponent(t,"dxScrollable",this._dateTableScrollableConfig())},_dateTableScrollableConfig:function(){var t={useKeyboard:!1,useNative:!1,bounceEnabled:!1};return this.option("horizontalScrollingEnabled")&&(t.direction="both",t.onScroll=e.proxy(function(e){this._sidebarScrollable.scrollTo({top:e.scrollOffset.top}),this._headerScrollable.scrollTo({left:e.scrollOffset.left})},this),t.onEnd=e.proxy(function(){this.notifyObserver("updateResizableArea",{})},this)),t},_createWorkSpaceElements:function(){this.option("horizontalScrollingEnabled")?this._createWorkSpaceScrollableElements():this._createWorkSpaceStaticElements()},_createWorkSpaceStaticElements:function(){this._dateTableScrollable.content().append(this._$timePanel,this._$dateTable),this.element().append(this._$fixedContainer,this._$headerPanel,this._$allDayContainer,this._$allDayPanel,this._dateTableScrollable.element())},_createWorkSpaceScrollableElements:function(){this.element().append(this._$fixedContainer),this._createHeaderScrollable(),this._createSidebarScrollable(),this.element().append(this._dateTableScrollable.element()),this._headerScrollable.content().append(this._$headerPanel,this._$allDayContainer,this._$allDayPanel),this._dateTableScrollable.content().append(this._$dateTable),this._sidebarScrollable.content().append(this._$timePanel)},_createHeaderScrollable:function(){var t=e("<div>").addClass(F).appendTo(this.element());this._headerScrollable=this._createComponent(t,"dxScrollable",{useKeyboard:!1,showScrollbar:!1,direction:"horizontal",useNative:!1,bounceEnabled:!1,onScroll:e.proxy(function(e){this._dateTableScrollable.scrollTo({left:e.scrollOffset.left})},this)})},_createSidebarScrollable:function(){var t=e("<div>").addClass(z).appendTo(this.element());this._sidebarScrollable=this._createComponent(t,"dxScrollable",{useKeyboard:!1,showScrollbar:!1,direction:"vertical",useNative:!1,bounceEnabled:!1,onScroll:e.proxy(function(e){this._dateTableScrollable.scrollTo({top:e.scrollOffset.top})},this)})},_visibilityChanged:function(e){e&&this.option("horizontalScrollingEnabled")&&this._setTablesWidth()},_setTablesWidth:function(){var e=75,t=this._getWorkSpaceMinWidth(),n=this._$headerPanel.find("tr").last().find("th"),i=e*n.length;t>i&&(i=t),this._$headerPanel.width(i),this._$dateTable.width(i),this._$allDayTable.width(i)},_getWorkSpaceMinWidth:function(){var e=this._getWorkSpaceWidth(),t=this.element().outerWidth()-this.getTimePanelWidth();return t>e&&(e=t),e},_dimensionChanged:function(){this.option("horizontalScrollingEnabled")&&this._setTablesWidth()},_getElementClass:e.noop,_getRowCount:e.noop,_getCellCount:e.noop,_render:function(){this.callBase(),this._toggleGroupedClass(),this._renderView(),this._attachEvents()},_toggleGroupedClass:function(){this.element().toggleClass(h,this._getGroupCount()>0)},_renderView:function(){this._setFirstViewDate(),this._renderGroupHeader(),this._renderDateHeader(),this._renderAllDayPanel(),this._renderTimePanel(),this._renderDateTable()},_setFirstViewDate:function(){this._firstViewDate=n.getFirstWeekDate(this.option("currentDate"),this._firstDayOfWeek()),this._setStartDayHour(this._firstViewDate)},_setStartDayHour:function(e){r.isDefined(this.option("startDayHour"))&&e.setHours(this.option("startDayHour"))},_firstDayOfWeek:function(){return this.option("firstDayOfWeek")},_attachEvents:function(){var t,n=this,i=this._createAction(function(e){n._pointerDownHandler(e.jQueryEvent)});this._createCellClickAction(),t="."+P+",."+C,this.element().off(N).off(G).on(N,function(e){return s.isMouseEvent(e)&&e.which>1?void e.preventDefault():void i({jQueryEvent:e})}).on(G,t,function(t){var i=e(t.target);n._cellClickAction({jQueryEvent:t,cellElement:i,cellData:n.getCellData(i)})})},_createCellClickAction:function(){var e=this;this._cellClickAction=this._createActionByOption("onCellClick",{afterExecute:function(t){e._clickHandler(t.args[0].jQueryEvent)}})},_clickHandler:function(t){var n=e(t.target);this._showPopup&&this._hasFocusClass(n)&&(delete this._showPopup,this._showAddAppointmentPopup(n))},_pointerDownHandler:function(t){var n=e(t.target);return n.hasClass(P)||n.hasClass(C)?(this._isCellClick=!0,void(this._hasFocusClass(n)?this._showPopup=!0:this._setFocusedCell(n))):void(this._isCellClick=!1)},_showAddAppointmentPopup:function(t){var n=this.getCellData(t),i=e.extend(n,n.groups);delete i.groups,this.notifyObserver("showAddAppointmentPopup",i)},_getGroupHeaderContainer:function(){return this._$thead},_getDateHeaderContainer:function(){return this._$thead},_renderGroupHeader:function(){var e,t=this._getGroupHeaderContainer(),n=this._getGroupCount();n&&(e=this._makeGroupRows(this.option("groups")),this._attachGroupCountAttr(e.length),t.append(e))},_attachGroupCountAttr:function(e){this.element().attr("dx-group-row-count",e)},_makeGroupRows:function(t){for(var n,i,r,o,a,s=1,l=t.length,u=this._getCellCount()||1,c=[],d=0;l>d;d++)d>0&&(s=t[d-1].items.length*s),n=this._makeGroupRowCells(t[d].items,s),c.push(e("<tr>").addClass(A).append(n));for(i=c[l-1].find("th").length,r=0;l>r;r++)o=c[r].find("th"),a=i/o.length*u,a>1&&o.attr("colspan",a);return c},_makeGroupRowCells:function(t,n){for(var i,r=[],o=t.length,a=0;n>a;a++)for(i=0;o>i;i++)r.push(e("<th>").addClass($).html("<div class='"+B+"'><div>"+t[i].text+"</div></div>"));return r},_renderDateHeader:function(){for(var t,n,i,r=this._getDateHeaderContainer(),o=e("<tr>").addClass(I),a=this._getCellCount(),s=this._calculateHeaderCellRepeatCount(),l=0;s>l;l++)for(t=0;a>t;t++)n=this._getHeaderText(t),i=e("<th>").text(n).addClass(E).attr("title",n),o.append(i);return r.append(o),o},_calculateHeaderCellRepeatCount:function(){return this._getGroupCount()||1},_renderAllDayPanel:function(){var t=this._getCellCount()*(this._getGroupCount()||1);this._renderTableBody({container:this._$allDayTable,rowCount:1,cellCount:t,cellClass:C,rowClass:S,dataGenerator:e.proxy(this._setAllDayCellData,this)}),this._toggleAllDayVisibility()},_setAllDayCellData:function(e,t,i){var r,o,a,s=this._getDateByCellIndexes(t,i);for(s=n.trimTime(s),r={startDate:s,endDate:new Date(s.getTime()+864e5),allDay:!0},o=this._getCellGroups(this._getGroupIndex(t,i)),o.length&&(r.groups={}),a=0;a<o.length;a++)r.groups[o[a].name]=o[a].id;e.data(q,r)},_toggleAllDayVisibility:function(){var e=this.option("showAllDayPanel");this._$allDayPanel.toggle(e),this._$allDayTitle.toggleClass(w,!e),this.element().toggleClass(k,e),this._changeAllDayVisibility()},_changeAllDayVisibility:function(){this.element().toggleClass(D,!this.option("allDayExpanded")&&this.option("showAllDayPanel"))},_renderTimePanel:function(){var t=.5*this._getCellCountInDay();this._renderTableBody({container:this._$timePanel,rowCount:t,cellCount:1,cellClass:m,rowClass:g,dataGenerator:e.proxy(this._setTimePanelText,this)})},_getCellCountInDay:function(){return Math.floor(this._calculateDayDuration()/this.option("hoursInterval"))},_calculateDayDuration:function(){return this.option("endDayHour")-this.option("startDayHour")},_setTimePanelText:function(e,t){e.text(this._getTimeText(t))},_getTimeText:function(e){var t=this.option("startDayHour"),n=2*this.getCellDuration(),i=new Date(+new Date(1970,0)+n*e+36e5*t);return Globalize.format(i,"t")},_renderDateTable:function(){var t=this._getGroupCount()||1;this._renderTableBody({container:this._$dateTable,rowCount:this._getTotalRowCount(t),cellCount:this._getTotalCellCount(t),cellClass:P,rowClass:M,dataGenerator:e.proxy(this._setCellData,this)}),this._attachTablesEvents()},_getTotalCellCount:function(e){return this._getCellCount()*e},_getTotalRowCount:function(){return this._getRowCount()},_setCellData:function(e,t,n){var i,r,o=this._getDateByCellIndexes(t,n),a=this.calculateEndDate(o),s={startDate:o,endDate:a,allDay:this._getTableAllDay()};for(e.toggleClass(R,this._isCurrentDate(o)).toggleClass(V,this._isOtherMonth(o)),i=this._getCellGroups(this._getGroupIndex(t,n)),i.length&&(s.groups={}),r=0;r<i.length;r++)s.groups[i[r].name]=i[r].id;e.data(q,s)},_getGroupIndex:function(e,t){return Math.floor(t/this._getCellCount())},_getTableAllDay:function(){return!1},_isCurrentDate:function(e){var t=new Date;return n.sameMonthAndYear(e,t)&&e.getDate()===t.getDate()},_isOtherMonth:function(e){return e.getMonth()!==this.option("currentDate").getMonth()},calculateEndDate:function(e){return new Date(e.getTime()+this._getInterval())},_getGroupCount:function(){for(var e=this.option("groups"),t=0,n=0,i=e.length;i>n;n++)n?t*=e[n].items.length:t=e[n].items.length;return t},_getPathToLeaf:function(e){function t(e,n){for(var i,r=0;r<e.length;r++){if(e[r].leafIndex===n)return e[r];if(i=t(e[r].children,n))return i}}function n(e,t){return t=t||[],t.push(e.value),e.parent&&n(e.parent,t),t}var i=this._createGroupTree(this.option("groups")[0],0),r=t(i,e);return n(r).reverse()},_getCellGroups:function(e){var t,n,i,r=[];if(this._getGroupCount()){if(t=this.option("groups"),0>e)return;for(n=this._getPathToLeaf(e),i=0;i<t.length;i++)r.push({name:t[i].name,id:n[i]})}return r},_attachTablesEvents:function(){this._attachTableEvents(this._getDateTable()),this._attachTableEvents(this._getAllDayTable())},_attachTableEvents:function(t){var n,i,r=this;t.off(j).off(W).on(j,"td",{itemSizeFunc:function(e){return n||(n=e.height()),i||(i=e.width()),{width:i,height:n}}},function(t){r._$currentTableTarget&&r._$currentTableTarget.removeClass(L),r._$currentTableTarget=e(t.target),r._$currentTableTarget.addClass(L)}).on(W,"td",function(t){e(t.target).removeClass(L),n=0,i=0})},_getDateTables:function(){return this._$dateTable.add(this._$allDayTable)},_getDateTable:function(){return this._$dateTable},_getAllDayTable:function(){return this._$allDayTable},_getInterval:function(){return 36e5*this.option("hoursInterval")},_getHeaderText:function(e){return Globalize.format(this._getDateByIndex(e),this._getFormat())},_getDateByIndex:u,_getFormat:u,_getCellText:function(){return""},_calculateCellIndex:function(e,t){return t%=this._getCellCount(),this._getRowCount()*t+e},_renderTableBody:function(t){for(var n,i,r,o=[],a=0;a<t.rowCount;a++){for(n=e("<tr>"),t.rowClass&&n.addClass(t.rowClass),i=0;i<t.cellCount;i++)r=e("<td>").text(this._getCellText(a,i)),t.cellClass&&r.addClass(t.cellClass),e.isFunction(t.dataGenerator)&&t.dataGenerator(r,a,i),n.append(r);o.push(n)}t.container.append(e("<tbody>").append(o))},_cleanView:function(){this._$thead.empty(),this._$dateTable.empty(),this._$timePanel.empty(),this._$allDayTable.empty()},getWorkArea:function(){return this._dateTableScrollable.content()},getScrollable:function(){return this._dateTableScrollable},getScrollableScrollTop:function(){return this._dateTableScrollable.scrollTop()},getScrollableScrollLeft:function(){return this._dateTableScrollable.scrollLeft()},getScrollableContainer:function(){return this._dateTableScrollable._container()},getHeaderPanelHeight:function(){return this._$headerPanel.outerHeight(!0)},getTimePanelWidth:function(){return this._$timePanel.outerWidth()},_getCellCoordinatesByIndex:function(e){var t=Math.floor(e/this._getRowCount()),n=e-this._getRowCount()*t;return{cellIndex:t,rowIndex:n}},_createGroupTree:function(e,t){function n(e,t,r,o){var a,s,l;for(r=r||[],a=0;a<e.items.length;a++)s={name:e.name,value:e.items[a].id,children:[],parent:o?o:null},r.push(s),l=t+1,this.option("groups")[l]&&n.call(this,this.option("groups")[l],l,s.children,s),s.children.length||(s.leafIndex=i,i++);return r}var i=0;return n.call(this,e,t)},_hasGroupItem:function(t,n,i){var r=t[n];return r&&e.inArray(i,r)>-1?!0:!1},_grep:function(e,t,n){n=n||[];for(var i=0;i<e.length;i++)this._hasGroupItem(t,e[i].name,e[i].value)&&(r.isDefined(e[i].leafIndex)&&n.push(e[i].leafIndex),e[i].children&&this._grep(e[i].children,t,n));return n},_getDateByCellIndexes:function(e,t){var i=this.getFirstViewDate(),r=new Date(i.getTime()+this._getMillisecondsOffset(e,t));return r.setTime(r.getTime()+n.getTimezonesDifference(i,r)),r},_getMillisecondsOffset:function(e,t){return this._getInterval()*this._calculateCellIndex(e,t)+this._calculateHiddenInterval(e,t)},_calculateHiddenInterval:function(e,t){var n=t%this._getCellCount();return n*this._getHiddenInterval()},_getHiddenInterval:function(){return c("day")-this.option("hoursInterval")*this._getCellCountInDay()*c("hour")},_getIntervalBetween:function(e,t){var i=this.option("startDayHour")*c("hour"),r=this.getFirstViewDate(),o=n.getTimezonesDifference(r,e),a=e.getTime()-r.getTime()-o,s=Math.floor((a+i)/c("day")),l=s*c("day");return t||(l=a-s*this._getHiddenInterval()),l},_getGroupIndexes:function(e){var t,n=[];return e&&this.option("groups").length&&(t=this._createGroupTree(this.option("groups")[0],0),n=this._grep(t,e)),n},_updateIndex:function(e){return e*this._getRowCount()},_getDroppableCell:function(){return this._getDateTables().find("."+L)},_getWorkSpaceWidth:function(){return this.option("horizontalScrollingEnabled")?this._$dateTable.outerWidth():this.element().outerWidth()-this.getTimePanelWidth()},_getCellPositionByIndex:function(e,t){var n=this._getCellCoordinatesByIndex(e),i=this._getCellByCoordinates(n,t);return this._getCellPosition(i)},_getCellPosition:function(e){var t=this.option("rtlEnabled"),n=e.position();return t&&(n.left+=e.outerWidth()),n},_getCellByCoordinates:function(e,t){return this._$dateTable.find("tr").eq(e.rowIndex).find("td").eq(e.cellIndex+t*this._getCellCount())},_getCells:function(e){var t=e?C:P;return this.element().find("."+t)},_getGroupHeaderCellsContent:function(){return this.element().find("."+B)},_getScrollCoordinates:function(e,t,n){var i=n||new Date(this.option("currentDate")),r=this.option("startDayHour"),o=this.option("endDayHour");return r>e&&(e=r),e>=o&&(e=o-1),i.setHours(e),i.setMinutes(t),this.getCoordinatesByDate(i)},supportAllDayRow:function(){return!0},getCellData:function(t){return e.extend(!0,{},t.data(q))},getCoordinatesByDate:function(e,t,n){t=t||0;var i=this.getCellIndexByDate(e,n),r=this._getCellPositionByIndex(i,t),o=this.getPositionShift(n?0:this.getTimeShift(e));return{top:r.top+o.top,left:r.left+o.left,max:this.getMaxAllowedPosition()[t],groupIndex:t}},getCellIndexByDate:function(e,t){var n=t?864e5:this._getInterval(),i=this._getIntervalBetween(e,t),r=Math.floor(i/n);return t&&(r=this._updateIndex(r)),0>r&&(r=0),r},getPositionShift:function(e){return{top:e*this.getCellHeight(),left:0}},getTimeShift:function(e){var t=this.getCellDuration(),n=new Date(e);return n.setMinutes(0),n.setHours(this.option("startDayHour")),(e.getTime()-n.getTime())%t/t},getCoordinatesByDateInGroup:function(e,t,n){var i,r=this._getGroupIndexes(t),o=[];if(r.length)for(i=0;i<r.length;i++)o.push(this.getCoordinatesByDate(e,r[i],n));else o.push(this.getCoordinatesByDate(e,0,n));return o},getDroppableCellIndex:function(){var e=this._getDroppableCell(),t=e.parent(),n=t.index();return n*t.find("td").length+e.index()},getDataByDroppableCell:function(){var e=this.getCellData(this._getDroppableCell());return{date:e.startDate,allDay:e.allDay,groups:e.groups}},getDateRange:function(){return[this.getFirstViewDate(),this.getLastViewDate()]},getCellWidth:function(){return this._getCells().first().outerWidth()},getCellHeight:function(){return this._getCells().first().outerHeight()},getAllDayHeight:function(){return this.option("showAllDayPanel")?this._getCells(!0).first().outerHeight():0},getMaxAllowedPosition:function(){var t=[],n=this.option("rtlEnabled");return this._$dateTable.find("tr").first().find("td:nth-child("+this._getCellCount()+"n)").each(function(i,r){var o=e(r).position().left;n||(o+=e(r).outerWidth()),t.push(Math.floor(o))}),t},getFixedContainer:function(){return this._$fixedContainer},getAllDayContainer:function(){return this._$allDayContainer},getCellIndexByCoordinates:function(e,t){var n=this._getTotalCellCount(this._getGroupCount()||1),i=this.getTimePanelWidth(),r=Math.floor(this._getWorkSpaceWidth()/n),o=this.option("rtlEnabled")||this.option("horizontalScrollingEnabled")?0:i,a=Math.floor(e.top/(t?this.getAllDayHeight():this.getCellHeight())),s=Math.floor((e.left+5-o)/r);return this.option("rtlEnabled")&&(s=n-s-1),n*a+s},getFirstViewDate:function(){return this._firstViewDate},getLastViewDate:function(){var e=this._getDateByCellIndexes(this._getRowCount()-1,this._getCellCount()-1);return new Date(e.getTime()+this.getCellDuration()-6e4)},getCellDuration:function(){return 36e5*this.option("hoursInterval")},getGroupBounds:function(e){var t=this.getCellIndexByCoordinates(e),n=this._getCellCount(),i=Math.floor(t/n),r=this._getCells(),o=this.getCellWidth(),a=i*n,s=r.eq(a).offset().left-o/2,l=r.eq(a+n-1).offset().left+o+o/2,u={left:s,right:l};return this.option("rtlEnabled")&&(u.left=l-2*o,u.right=s+2*o),u},getCellDataByCoordinates:function(e,t){var n=this._getCells(t),i=this.getCellIndexByCoordinates(e,t),r=n.eq(i);return this.getCellData(r)},getVisibleBounds:function(){var e={},t=this.getScrollable().element(),n=this.getCellHeight(),i=this.getScrollableScrollTop()/n,r=i+t.height()/n;return e.top={hours:Math.floor(i*this.option("hoursInterval"))+this.option("startDayHour"),minutes:i%2?30:0},e.bottom={hours:Math.floor(r*this.option("hoursInterval"))+this.option("startDayHour"),minutes:Math.floor(r)%2?30:0},e},updateScrollPosition:function(e){var t=this.getVisibleBounds(),n=e.getHours(),i=e.getMinutes();this.needUpdateScrollPosition(n,i,t)&&this.scrollToTime(n,i,e)},needUpdateScrollPosition:function(e,t,n){var i=!1;return(e<n.top.hours||e>n.bottom.hours)&&(i=!0),e===n.top.hours&&t<n.top.minutes&&(i=!0),e===n.bottom.hours&&t>n.top.minutes&&(i=!0),i},getGroupWidth:function(e){var t=this._getCellCount()*this.getCellWidth(),n=this.getMaxAllowedPosition(),i=n[e];return n.length&&i&&(t=this.option("rtlEnabled")?i-n[e+1]:0===e?i:i-n[e-1]),t},restoreScrollTop:function(){this.element().scrollTop(0)},scrollToTime:function(e,t,n){var i=this._getScrollCoordinates(e,t,n),r=this.getScrollable();r.scrollBy(i.top-r.scrollTop())},getDistanceBetweenCells:function(t,n){var i=0;return this.element().find("."+M).first().find("."+P).each(function(r){return t>r||r>n?!0:void(i+=e(this).outerWidth())}),i}}).include(a);return o("dxSchedulerWorkSpace",{},U),U}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpace"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceDay",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace","/utils/utils.common"],function(e,t,n,i){var r="dx-scheduler-work-space-day",o=n.inherit({_getElementClass:function(){return r},_getRowCount:function(){return this._getCellCountInDay()},_getCellCount:function(){return 1},_setFirstViewDate:function(){this._firstViewDate=this.option("currentDate"),i.isDefined(this.option("startDayHour"))&&this._firstViewDate.setHours(this.option("startDayHour"))},_getDateByIndex:function(){return this._firstViewDate},_getFormat:function(){return"D"},_renderDateHeader:e.noop});return t("dxSchedulerWorkSpaceDay",{},o),o}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceDay"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceWeek",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace"],function(e,t,n){var i="dx-scheduler-work-space-week",r=n.inherit({_getElementClass:function(){return i},_getRowCount:function(){return this._getCellCountInDay()},_getCellCount:function(){return 7},_getDateByIndex:function(e){var t=new Date(this._firstViewDate);return t.setDate(this._firstViewDate.getDate()+e),t},_getFormat:function(){return"ddd d"}});return t("dxSchedulerWorkSpaceWeek",{},r),r}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceWorkWeek",["jquery","/componentRegistrator","/utils/utils.date","/utils/utils.common","/ui/widgets/scheduler/ui.scheduler.workSpaceWeek"],function(e,t,n,i,r){var o="dx-scheduler-work-space-work-week",a=0,s=r.inherit({_getElementClass:function(){return o},_getCellCount:function(){return 5},_firstDayOfWeek:function(){return this.option("firstDayOfWeek")||1},_getDateByIndex:function(e){var t,n=new Date(this._firstViewDate);return n.setDate(this._firstViewDate.getDate()+e+a),t=n.getDay(),t%6==0&&(a=Math.floor(t/6+1),n.setDate(n.getDate()+a)),n},_renderView:function(){a=0,this.callBase()},_setFirstViewDate:function(){this._firstViewDate=n.getFirstWeekDate(this.option("currentDate"),this._firstDayOfWeek()),this._firstViewDate=n.normalizeDateByWeek(this._firstViewDate,this.option("currentDate")),this._setStartDayHour(this._firstViewDate)}});return t("dxSchedulerWorkSpaceWorkWeek",{},s),s}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceWorkWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceMonth",["jquery","/utils/utils.date","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace"],function(e,t,n,i){var r="dx-scheduler-work-space-month",o=7,a=864e5,s=i.inherit({_getElementClass:function(){return r},_getRowCount:function(){return 6},_getCellCount:function(){return o},_getDateByIndex:function(e){var t=new Date(this._firstViewDate);return t.setDate(this._firstViewDate.getDate()+e),t},_getFormat:function(){return"ddd"},_calculateCellIndex:function(e,t){return t%=this._getCellCount(),e*this._getCellCount()+t},_getInterval:function(){return a},_getIntervalBetween:function(e){var n=this.getFirstViewDate(),i=t.getTimezonesDifference(n,e);return e.getTime()-(n.getTime()-36e5*this.option("startDayHour"))-i},_getDateByCellIndexes:function(e,t){var n=this.callBase(e,t);return this._setStartDayHour(n),n},_calculateHiddenInterval:function(){return 0},_getCellCoordinatesByIndex:function(e){var t=Math.floor(e/this._getCellCount()),n=e-this._getCellCount()*t;return{rowIndex:t,cellIndex:n}},_renderTimePanel:e.noop,_renderAllDayPanel:e.noop,_getTableAllDay:e.noop,_toggleAllDayVisibility:e.noop,_changeAllDayVisibility:e.noop,_setFirstViewDate:function(){var e=t.getFirstMonthDate(this.option("currentDate"));this._firstViewDate=t.getFirstWeekDate(e,this.option("firstDayOfWeek")),this.option("startDayHour")&&this._firstViewDate.setHours(this.option("startDayHour"))},_getDate:function(e,t){var n=new Date(this._firstViewDate);return n.setDate(n.getDate()+e*o+t),n},_getCellText:function(e,t){t%=this._getCellCount();var n=this._getDate(e,t);return Globalize.format(n,"dd")},_updateIndex:function(e){return e},getCellDuration:function(){return 36e5*this._calculateDayDuration()},getTimePanelWidth:function(){return 0},getPositionShift:function(){return{top:0,left:0}},getCoordinatesByDates:function(e,n){for(var i=[],r=new Date(e);n>=r;)i.push(this.getCoordinatesByDate(r)),r.setDate(r.getDate()+7),r=t.getFirstWeekDate(r,this.option("firstDayOfWeek"));return i},getCellCountToLastViewDate:function(e){var n=t.makeDate(e).getTime(),i=this.getLastViewDate().getTime(),r=this.getCellDuration();return Math.ceil((i-n)/r)},supportAllDayRow:function(){return!1},calculateEndDate:function(e){var t=new Date(e);return new Date(t.setHours(this.option("endDayHour")))},_getCellPositionByIndex:function(e,t){var n=this.callBase(e,t),i=this._getCellCoordinatesByIndex(e).rowIndex,r=this.getCellHeight()*i;return r&&(n.top=r),n},scrollToTime:e.noop});return n("dxSchedulerWorkSpaceMonth",{},s),s}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceMonth"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timeline",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace","/utils/utils.date"],function(e,t,n,i){var r="dx-scheduler-timeline",o="dx-scheduler-group-table",a="horizontal",s=i.dateToMilliseconds,l=n.inherit({_init:function(){this.callBase(),this.element().addClass(r),this._$sidebarTable=e("<table>").addClass(o)},_getRowCount:function(){return 1},_getCellCount:function(){return this._getCellCountInDay()},_getTotalCellCount:function(){return this._getCellCount()},_getTotalRowCount:function(e){return this._getRowCount()*e},_getDateByIndex:function(e){var t=new Date(this._firstViewDate),n=Math.floor(e/this._getCellCountInDay());return t.setTime(this._firstViewDate.getTime()+this._calculateCellIndex(0,e)*this._getInterval()+n*this._getHiddenInterval()),t},_getFormat:function(){return"t"},_calculateHiddenInterval:function(e,t){var n=Math.floor(t/this._getCellCountInDay());return n*this._getHiddenInterval()},_createWorkSpaceElements:function(){this._createWorkSpaceScrollableElements()},_dateTableScrollableConfig:function(){var t=this,n=this.callBase(),i={direction:a,onScroll:function(e){t._headerScrollable.scrollTo({left:e.scrollOffset.left})}};return e.extend(n,i)},_renderTimePanel:e.noop,_renderAllDayPanel:e.noop,_getTableAllDay:function(){return!1},_toggleAllDayVisibility:e.noop,_changeAllDayVisibility:e.noop,supportAllDayRow:function(){return!1},_getGroupHeaderContainer:function(){return this._$sidebarTable},_renderView:function(){this.callBase(),this._$sidebarTable.appendTo(this._sidebarScrollable.content()),this._setGroupHeaderCellsHeight()},_cleanView:function(){this.callBase(),this._$sidebarTable.empty()},_visibilityChanged:function(e){this.callBase(e),this._setGroupHeaderCellsHeight()},_makeGroupRows:function(t){for(var n,i,r,o,a,s,l=1,u=[],c=0;c<t.length;c++)c>0&&(l=t[c-1].items.length*l),n=this._makeGroupRowCells(t[c].items,l),u.push(n);var d=[],h=u.length,p=u[h-1].length;for(c=0;p>c;c++)d.push(e("<tr>").addClass("dx-scheduler-group-row"));for(c=h-1;c>=0;c--)for(i=u[c].length,r=p/i,o=0;i>o;o++)a=o*r,s=d[a],s.prepend(u[c][o].attr("rowspan",r));return d},_setGroupHeaderCellsHeight:function(){var e=this.getCellHeight()-1;this._getGroupHeaderCellsContent().css("height",e)},_attachGroupCountAttr:function(){this.element().attr("dx-group-column-count",this.option("groups").length)},_getCellCoordinatesByIndex:function(e){return{cellIndex:e%this._getCellCount(),rowIndex:0}},_getCellByCoordinates:function(e,t){return this._$dateTable.find("tr").eq(e.rowIndex+t).find("td").eq(e.cellIndex)},_calculateCellIndex:function(e,t){return t},_getGroupIndex:function(e){return e;
},_getWorkSpaceWidth:function(){return this._$dateTable.outerWidth(!0)},_calculateHeaderCellRepeatCount:function(){return 1},_getIntervalBetween:function(e,t){var n=this.option("startDayHour"),r=this.option("endDayHour"),o=this.getFirstViewDate(),a=o.getTime(),l=(24-r+n)*s("hour"),u=i.getTimezonesDifference(o,e),c=e.getTime(),d=c-a-u,h=Math.floor(d/s("day")),p=d-h*s("day"),f=0,m=this._getCellCountInDay()*h,g=c-i.trimTime(new Date(e)).getTime(),_=m*this.option("hoursInterval")*s("hour");return t||(e.getHours()<n?f=p-l+g:e.getHours()>=n&&e.getHours()<r?f=p:e.getHours()>=n&&e.getHours()>=r?f=p-(g-r*s("hour")):h||(_=d),_+=f),_},getAllDayContainer:function(){return null},getTimePanelWidth:function(){return 0},getPositionShift:function(e){var t=this.callBase(e),n=this.getCellWidth()*e;return this.option("rtlEnabled")&&(n*=-1),n+=t.left,{top:0,left:n}},getVisibleBounds:function(){var e={},t=this.getScrollable().element(),n=this.getCellWidth(),i=this.getScrollableScrollLeft()/n,r=i+t.width()/n,o=this._getDateByIndex(r),a=this._getDateByIndex(i);return e.right={hours:a.getHours(),minutes:a.getMinutes()>=30?30:0},e.left={hours:o.getHours(),minutes:o.getMinutes()>=30?30:0},e},needUpdateScrollPosition:function(e,t,n){var i=!1;return(e<n.right.hours||e>n.left.hours)&&(i=!0),e===n.right.hours&&t<n.right.minutes&&(i=!0),e===n.left.hours&&t>n.right.minutes&&(i=!0),i},scrollToTime:function(e,t,n){var i=this._getScrollCoordinates(e,t,n),r=this.getScrollable();r.scrollBy({left:i.left-r.scrollLeft(),top:0})}});return t("dxSchedulerTimeline",{},l),l}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timeline"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timelineDay",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.timeline","/utils/utils.common"],function(e,t,n,i){var r="dx-scheduler-timeline-day",o=n.inherit({_getElementClass:function(){return r},_setFirstViewDate:function(){this._firstViewDate=this.option("currentDate"),i.isDefined(this.option("startDayHour"))&&this._firstViewDate.setHours(this.option("startDayHour"))}});return t("dxSchedulerTimelineDay",{},o),o}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timelineDay"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timelineWeek",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.timeline"],function(e,t,n){var i="dx-scheduler-timeline-week",r="dx-scheduler-header-panel-cell",o="dx-scheduler-header-row",a=200,s=n.inherit({_getElementClass:function(){return i},_getCellCount:function(){return this.callBase()*this._getWeekDuration()},_renderDateHeader:function(){for(var t,n=this.callBase(),i=new Date(this._firstViewDate),s=[],l=this._getCellCountInDay(),u=l*a,c=0;c<this._getWeekDuration();c++)s.push(e("<th>").addClass(r).text(Globalize.format(i,"ddd d")).attr("colspan",l).width(u)),i.setDate(i.getDate()+1);t=e("<tr>").addClass(o).append(s),n.before(t)},_getWeekDuration:function(){return 7}});return t("dxSchedulerTimelineWeek",{},s),s}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timelineWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timelineWorkWeek",["jquery","/componentRegistrator","/utils/utils.date","/ui/widgets/scheduler/ui.scheduler.timelineWeek"],function(e,t,n,i){var r="dx-scheduler-timeline-work-week",o=i.inherit({_getElementClass:function(){return r},_getWeekDuration:function(){return 5},_firstDayOfWeek:function(){return this.option("firstDayOfWeek")||1},_setFirstViewDate:function(){this._firstViewDate=n.getFirstWeekDate(this.option("currentDate"),this._firstDayOfWeek()),this._firstViewDate=n.normalizeDateByWeek(this._firstViewDate,this.option("currentDate")),this._setStartDayHour(this._firstViewDate)}});return t("dxSchedulerTimelineWorkWeek",{},o),o}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timelineWorkWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointment",["jquery","/ui/uiNamespace","/utils/utils.translator","/utils/utils.array","/utils/utils.recurrence","/utils/utils.date","/utils/utils.common","/componentRegistrator","/ui/ui.tooltip","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/domComponent"],function(e,t,n,i,r,o,a,s,l,u,c,d,h){var p=c.addNamespace(d.enter,"dxSchedulerAppointment"),f=c.addNamespace(d.leave,"dxSchedulerAppointment"),m="dx-scheduler-appointment-empty",g=40,_="dx-scheduler-all-day-appointment",v={horizontal:"dx-scheduler-appointment-horizontal",vertical:"dx-scheduler-appointment-vertical"},y="dx-scheduler-appointment-recurrence",x="dx-scheduler-appointment-compact",b="dx-scheduler-appointment-reduced",w="dx-scheduler-appointment-reduced-icon",C={head:"dx-scheduler-appointment-head",body:"dx-scheduler-appointment-body",tail:"dx-scheduler-appointment-tail"},S=h.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{data:{},geometry:{top:0,left:0,width:0,height:0},allowDrag:!0,allowResize:!0,reduced:null,isCompact:!1,sortedIndex:void 0,direction:"vertical",resizableConfig:{}})},_optionChanged:function(e){switch(e.name){case"data":case"geometry":case"allowDrag":case"allowResize":case"reduced":case"sortedIndex":case"isCompact":case"direction":case"resizableConfig":this._invalidate();break;default:this.callBase(e)}},_render:function(){this.callBase(),this._renderAppointmentGeometry(),this._renderEmptyClass(),this._renderCompactClass(),this._renderReducedAppointment(),this._renderAllDayClass(),this._renderDirection(),this.element().attr("title",this.invoke("getField","text",this.option("data"))),this.element().attr("role","button"),this._renderRecurrenceClass(),this._renderSortedTabIndex(),this._renderResizable()},_renderAppointmentGeometry:function(){var e=this.option("geometry"),t=this.element();n.move(t,{top:e.top,left:e.left}),t.css({width:e.width,height:e.height})},_renderEmptyClass:function(){var e=this.option("geometry");e.width<g&&this.element().addClass(m)},_renderReducedAppointment:function(){var e=this.option("reduced");e&&(this.element().toggleClass(b,!0).toggleClass(C[e],!0),this._renderAppointmentReducedIcon())},_renderAppointmentReducedIcon:function(){var t=e("<div>").addClass(w).appendTo(this.element()),n=this._getEndDate();t.off(p).on(p,function(){l.show({target:t,content:Globalize.localize("dxScheduler-editorLabelEndDate")+": "+Globalize.format(n,"d MMMM yyyy")})}).off(f).on(f,function(){l.hide()})},_getEndDate:function(){var e=this.invoke("getField","endDate",this.option("data"));return e?o.makeDate(e):e},_renderAllDayClass:function(){this.element().toggleClass(_,!!this.option("allDay"))},_renderRecurrenceClass:function(){var e=this.invoke("getField","recurrenceRule",this.option("data"));r.getRecurrenceRule(e).isValid&&this.element().addClass(y)},_renderSortedTabIndex:function(){var e=this.option("sortedIndex");this.element().attr("sortedIndex",e),this.element().attr("tabIndex",0===e?0:-1)},_renderCompactClass:function(){this.element().toggleClass(x,!!this.option("isCompact"))},_renderDirection:function(){this.element().addClass(v[this.option("direction")])},_renderResizable:function(){this.option("allowResize")&&!this.option("isCompact")&&this._createComponent(this.element(),"dxResizable",this.option("resizableConfig"))}}).include(u);return s("dxSchedulerAppointment",{},S),S}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.appointment"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.base",["jquery","/class","/ui/ui.errors","/utils/utils.date"],function(e,t,n){var i=t["abstract"],r=20,o=15,a=3;return t.inherit({ctor:function(e){this.instance=e},getAppointmentDefaultSize:function(){return r},resizableConfig:i,getHorizontalResizableHandles:function(e){var t=this._isRtl();return e?"increase"===e?t?"right":"left":t?"left":"right":"right left"},getDeltaTime:i,getAppointmentGeometry:function(e){return this.applyCellBorder(e)},createTaskPositionMap:function(e){var t,n,i,r,o,a=e.length;if(a){for(this._defaultWidth=this.instance._cellWidth,this._defaultHeight=this.instance._cellHeight,this._allDayHeight=this.instance._allDayCellHeight,t=[],n=0;a>n;n++)i=this._getItemPosition(e[n]),this._isRtl()&&(i=this._correctRtlCoordinates(i)),t.push(i);return r=this._getSortedPositions(t),o=this._getResultPositions(r),this._getExtendedPositionMap(t,o)}},applyCellBorder:function(e){var t=1;return e.left+=t,e.top+=t,e.width-=t,e.height-=t,e},_getDeltaWidth:function(e,t){var n=this._defaultWidth||this.getAppointmentDefaultSize(),i=t.width;return Math.round((e.width-i)/n)},_correctRtlCoordinates:function(e){var t=e[0].width||this._getAppointmentMaxWidth();return e[0].appointmentReduced||(e[0].left-=t),this._correctRtlCoordinatesParts(e,t),e},_correctRtlCoordinatesParts:e.noop,_getAppointmentMaxWidth:function(){return this._defaultWidth},_getItemPosition:function(t){for(var n,i=this.calculateAppointmentHeight(t),r=this.calculateAppointmentWidth(t),o=r,a=this._getAppointmentCoordinates(t),s=this.isAllDay(t),l=[],u=this.instance.invoke("getField","startDate",t),c=0;c<a.length;c++){var d=r,h=null,p=[];(this._needVerifyItemSize()||s)&&(n=a[c].max,this.isAppointmentGreaterThan(n,{left:a[c].left,width:o})&&(h="head",d=this._reduceMultiWeekAppointment(r,{left:a[c].left,right:n}),p=this._getMultiWeekAppointmentParts({sourceAppointmentWidth:o,reducedWidth:d,height:i},a[c],u,c),this._isRtl()&&(a[c].left=n))),e.extend(a[c],{height:i,width:d,allDay:s,appointmentReduced:h}),p.length?(p.unshift(a[c]),l=e.merge(l,p)):l.push(a[c])}return l},_getAppointmentCoordinates:function(e){var t=[{top:0,left:0}],n=this._startDate(e);return this.instance.notifyObserver("needCoordinates",{startDate:n,appointmentData:e,callback:function(e){t=e}}),t},_needVerifyItemSize:function(){return!1},_isRtl:function(){return this.instance.option("rtlEnabled")},_getMultiWeekAppointmentParts:function(){return[]},_reduceMultiWeekAppointment:function(e,t){return e=this._isRtl()?Math.floor(t.left-t.right):t.right-Math.floor(t.left)},calculateAppointmentHeight:function(){return 0},calculateAppointmentWidth:function(){return 0},isAppointmentGreaterThan:function(e,t){var n=t.left+t.width-e;return this._isRtl()&&(n=e+t.width-t.left),n>this._defaultWidth/2},isAllDay:function(){return!1},_getSortedPositions:function(t){for(var n,i,r,o,a,s=[],l=0,u=0,c=t.length;c>u;u++)for(n=0,i=t[u].length;i>n;n++)r=t[u][n],o={i:u,j:n,top:r.top,left:r.left,isStart:!0,allDay:r.allDay,__tmpIndex:l},l++,a={i:u,j:n,top:r.top+r.height,left:r.left+r.width,isStart:!1,allDay:r.allDay,__tmpIndex:l},s.push(o,a),l++;return s.sort(e.proxy(function(e,t){return this._sortCondition(e,t)},this)),s},_fixUnstableSorting:function(e,t,n){if(0===e){if(t.__tmpIndex<n.__tmpIndex)return-1;if(t.__tmpIndex>n.__tmpIndex)return 1}return e},_sortCondition:i,_rowCondition:function(e,t){var n=this._normalizeCondition(e.left,t.left),i=this._normalizeCondition(e.top,t.top);return n?n:i?i:e.isStart-t.isStart},_columnCondition:function(e,t){var n=this._normalizeCondition(e.left,t.left),i=this._normalizeCondition(e.top,t.top);return i?i:n?n:e.isStart-t.isStart},_normalizeCondition:function(e,t){var n=e-t;return Math.abs(n)>1.001?n:0},_getResultPositions:function(e){for(var t,n,i,r,o,a,s=[],l=[],u=[],c=[],d=0,h=0,p=0;p<e.length;p++)if(n=e[p],n.isStart){for(t=void 0,i=0;i<l.length;i++)if(!l[i]){t=i,l[i]=!0;break}if(void 0===t)for(t=l.length,l.push(!0),i=0;i<s.length;i++)s[i].count++;s.push({index:t,count:l.length,i:n.i,j:n.j,sortedIndex:h++}),d<l.length&&(d=l.length)}else{if(r=this._findIndexByKey(s,"i","j",n.i,n.j),o=s[r],s.splice(r,1),l[o.index]=!1,c.push(o),!s.length){for(l=[],a=0;a<c.length;a++)c[a].count=d;c=[],d=0}u.push(o)}return u.sort(function(e,t){var n=e.j-t.j,i=e.i-t.i;return i?i:n})},_findIndexByKey:function(e,t,n,i,r){for(var o=0,a=0,s=e.length;s>a;a++)if(e[a][t]===i&&e[a][n]===r){o=a;break}return o},_getExtendedPositionMap:function(e,t){for(var n,i,r=0,o=0,a=e.length;a>o;o++)for(n=0,i=e[o].length;i>n;n++)e[o][n].index=t[r].index,e[o][n].sortedIndex=t[r].sortedIndex,e[o][n].count=t[r++].count,e[o][n].virtualIndex=e[o][n].top+"-"+e[o][n].left;return e},_startDate:function(e,t){var i=this.instance._getStartDate(e,t),r=this.instance.invoke("getField","text",e);if(isNaN(i.getTime()))throw n.Error("E1032",r);return i},_endDate:function(e){var t,n=this.instance._getEndDate(e),i=this._startDate(e,!0),r=this._startDate(e);return(!n||i>=n)&&(n=new Date(i.getTime()+6e4*this.instance.option("appointmentDurationInMinutes")),this.instance.invoke("setField","endDate",e,n)),r>=n&&(t=n.getTime()-i.getTime(),n=new Date(r.getTime()+t)),n},_getMaxNeighborAppointmentCount:function(){var e=this.getCompactAppointmentDefaultSize()+this.getCompactAppointmentDefaultOffset();return Math.floor(this.getCompactAppointmentGroupMaxWidth()/e)},_markAppointmentAsVirtual:function(e,t){var n=2;e.count-n>this._getMaxNeighborAppointmentCount()&&(e.virtual={top:e.top,left:e.left,index:e.virtualIndex,isAllDay:t})},getCompactAppointmentGroupMaxWidth:function(){var e=75;return e*this.getDefaultCellWidth()/100},getDefaultCellWidth:function(){return this._defaultWidth},getCompactAppointmentDefaultSize:function(){return o},getCompactAppointmentDefaultOffset:function(){return a}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontal",["jquery","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.base","/utils/utils.date"],function(e,t,n){var i=100,r=20,o=n.dateToMilliseconds;return t.inherit({resizableConfig:function(e,t){return{minWidth:this._defaultWidth,minHeight:0,step:this._defaultWidth,handles:this.getHorizontalResizableHandles(t)}},_needVerifyItemSize:function(){return!0},calculateAppointmentWidth:function(e){var t,n,i,r=this._defaultWidth||this.getAppointmentDefaultSize(),a=this.instance.invoke("getField","allDay",e),s=this.getAppointmentDefaultSize(),l=0,u=o("day"),c=this._startDate(e),d=this._endDate(e),h=d.getTime()-c.getTime();if(a)n=Math.ceil(h/u),l=n*(60*this.instance.option("dayDuration")/this.instance.option("appointmentDurationInMinutes"));else{var p=Math.floor(h/u),f=h%u,m=this.instance.option("dayDuration")*o("hour");f>m&&(f=m),i=this.instance.option("appointmentDurationInMinutes")*o("minute"),l=(p*m+f)/i}return t=l*r,s>t&&(t=s),t},getAppointmentGeometry:function(e){var t=this._customizeAppointmentGeometry(e);return this.callBase(t)},_customizeAppointmentGeometry:function(e){var t,n=(this._defaultHeight||this.getAppointmentDefaultSize())-r,o=n/e.count;return o>i&&(o=i),t=e.top+e.index*o,{height:o,width:e.width,top:t,left:e.left}},_correctRtlCoordinatesParts:function(e,t){for(var n=1;n<e.length;n++)e[n].left-=t;return e},_sortCondition:function(e,t){var n=this._columnCondition(e,t);return this._fixUnstableSorting(n,e,t)},_getMaxAppointmentWidth:function(e){var t;return this.instance.notifyObserver("getMaxAppointmentWidth",{date:e,callback:function(e){t=e}}),t},getDeltaTime:function(e,t){var n=this._getDeltaWidth(e,t);return this.instance.option("appointmentDurationInMinutes")*o("minute")*n},isAllDay:function(e){return this.instance.invoke("getField","allDay",e)}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontalMonth",["jquery","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontal","/utils/utils.date"],function(e,t,n){var i=.6;return t.inherit({_skipResizingForReducedAppointments:function(e){var t=!0;return"head"===e?t="increase":"tail"===e&&(t="decrease"),t},_getMultiWeekAppointmentParts:function(t,n,i,r){for(var o=t.sourceAppointmentWidth-t.reducedWidth,a=t.height,s=this._getFullWeekAppointmentWidth(r),l=this._getMaxAppointmentWidth(i),u=Math.floor(o/s),c=o%s,d=[],h=t.reducedWidth+c,p=n.top+this._defaultHeight,f=this._calculateMultiWeekAppointmentLeftOffset(n.max,s),m=0;u>m&&!(h>l);m++)d.push(e.extend(!0,{},n,{top:p,left:f,height:a,width:s,appointmentReduced:"body"})),p+=this._defaultHeight,h+=s;return c&&(this._isRtl()&&(f+=s-c),d.push(e.extend(!0,{},n,{top:p,left:f,height:a,width:c,appointmentReduced:"tail"}))),d},_calculateMultiWeekAppointmentLeftOffset:function(e,t){return this._isRtl()?e:e-t},_correctRtlCoordinatesParts:e.noop,_getFullWeekAppointmentWidth:function(t){return this.instance.notifyObserver("getFullWeekAppointmentWidth",{groupIndex:t,callback:e.proxy(function(e){this._maxFullWeekAppointmentWidth=e},this)}),this._maxFullWeekAppointmentWidth},_customizeAppointmentGeometry:function(e){var t,n,r=this._defaultHeight||this.getAppointmentDefaultSize(),o=e.index,a=i*r/2,s=(1-i)*r+e.top+o*a,l=e.width,u=e.left;return o>1&&(t=this.getCompactAppointmentDefaultSize(),n=this.getCompactAppointmentDefaultOffset(),s=e.top+n,u=e.left+(o-2)*(t+n)+n,a=t,l=t,e.isCompact=!0,this._markAppointmentAsVirtual(e)),{height:a,width:l,top:s,left:u}},getAppointmentGeometry:function(e){return e.appointmentReduced&&(e.skipResizing=this._skipResizingForReducedAppointments(e.appointmentReduced)),this.callBase(e)},calculateAppointmentWidth:function(e){var t,i=new Date(this._startDate(e)),r=this._endDate(e),o=this._defaultWidth||this.getAppointmentDefaultSize();return i=n.trimTime(i),t=(r.getTime()-i.getTime())/36e5,Math.ceil(t/24)*o},getDeltaTime:function(e,t){var n=this._getDeltaWidth(e,t);return 864e5*n},isAllDay:function(){return!1}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.vertical",["jquery","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.base","/utils/utils.date"],function(e,t,n){var i=15;return t.inherit({resizableConfig:function(e,t){return this.isAllDay(e)?{minWidth:this._defaultWidth,minHeight:0,step:this._defaultWidth,handles:this.getHorizontalResizableHandles(t)}:{minHeight:this._defaultHeight,step:this._defaultHeight,handles:"top bottom"}},getDeltaTime:function(e,t,n){var i,r=0;return this.isAllDay(n)?r=864e5*this._getDeltaWidth(e,t):(i=e.height-t.height,0>i&&(i=this._correctOnePxGap(i)),r=6e4*i/this._defaultHeight*this.instance.option("appointmentDurationInMinutes")),r},getAppointmentGeometry:function(e){var t,n=e.allDay;return t=n?this._getAllDayAppointmentGeometry(e):this._getSimpleAppointmentGeometry(e),this.callBase(t)},_correctOnePxGap:function(e){return Math.abs(e)%this._defaultHeight&&e--,e},_getMinuteHeight:function(){return this._defaultHeight/this.instance.option("appointmentDurationInMinutes")},_getAllDayAppointmentGeometry:function(e){var t=this._allDayHeight||this.getAppointmentDefaultSize(),n=e.index,i=e.count,r=t/(i>3?3:i),o=e.width,a=e.top+n*r,s=e.left,l=this.getCompactAppointmentDefaultSize();return this.instance.option("allowResize")&&this.instance.option("allowAllDayResize")||(e.skipResizing=!0),i>3&&(n>1?(a=e.top,s=e.left+(n-2)*l,r=l,o=l,e.isCompact=!0,this._markAppointmentAsVirtual(e,!0)):a+=r),{height:r,width:o,top:a,left:s}},_getSimpleAppointmentGeometry:function(e){var t=this._getAppointmentMaxWidth()/e.count,n=e.height,i=e.top,r=e.left+e.index*t;return{height:n,width:t,top:i,left:r}},isAllDay:function(e){var t=!1,n=this.instance.invoke("getField","startDate",e),i=this.instance.invoke("getField","endDate",e),r=this.instance.invoke("getField","allDay",e);return this.instance.notifyObserver("appointmentTakesAllDay",{startDate:n,endDate:i,callback:function(e){t=e}}),r||t},_getAppointmentMaxWidth:function(){return this._defaultWidth-i||this.getAppointmentDefaultSize()},calculateAppointmentWidth:function(e){var t,i;if(!this.isAllDay(e))return 0;var r=new Date(this._startDate(e)),o=this._endDate(e),a=this._defaultWidth||this.getAppointmentDefaultSize();return r=n.trimTime(r),t=(o.getTime()-r.getTime())/36e5,i=Math.ceil(t/24)*a},calculateAppointmentHeight:function(e){if(this.isAllDay(e))return 0;var t=this._startDate(e),n=this._endDate(e),i=(n.getTime()-t.getTime())/6e4,r=this.getAppointmentDefaultSize(),o=Math.round(i*this._getMinuteHeight());return r>o&&(o=r),o},_sortCondition:function(e,t){var n=e.allDay-t.allDay,i=n?n:this._rowCondition(e,t);return this._fixUnstableSorting(i,e,t)}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments",["jquery","/ui/uiNamespace","/utils/utils.translator","/utils/utils.array","/utils/utils.date","/utils/utils.common","/componentRegistrator","/ui/ui.tooltip","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/ui/widgets/scheduler/ui.scheduler.appointment","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.vertical","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontal","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontalMonth","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/templates/ui.template.function"],function(e,t,n,i,r,o,a,s,l,u,c,d,h,p,f,m){var g=t.CollectionWidget,_="dx-scheduler-scrollable-appointments",v="dx-scheduler-appointment",y=p.addNamespace("dxdblclick","dxSchedulerAppointment"),x={horizontal:d,horizontalMonth:h,vertical:c},b=g.inherit({_supportedKeys:function(){var t=this.callBase(),n=function(e){var t,n=this._getAccessAppointments(),i=n.filter(".dx-state-focused"),r=i.attr("sortedIndex"),o=n.length-1;(r>0&&e.shiftKey||o>r&&!e.shiftKey)&&(e.preventDefault(),e.shiftKey?r--:r++,t=this._getAppointmentByIndex(r),this._resetTabIndex(t),t.focus())};return e.extend(t,{escape:e.proxy(function(){this.moveAppointmentBack(),this._escPressed=!0},this),del:e.proxy(function(e){if(this.option("allowDelete")){e.preventDefault();var t=this._getItemData(e.target);this.notifyObserver("deleteAppointment",{data:t,target:e.target}),this.notifyObserver("hideAppointmentTooltip")}}),tab:n})},_getAppointmentByIndex:function(e){var t=this._getAccessAppointments();return t.filter("[sortedIndex ="+e+"]").eq(0)},_getAccessAppointments:function(){return this._itemElements().filter(":visible").not(".dx-state-disabled")},_resetTabIndex:function(e){this._focusTarget().attr("tabindex",-1),e.attr("tabindex",this.option("tabIndex"))},_moveFocus:e.noop,_focusTarget:function(){return this._itemElements()},_renderFocusTarget:function(){var e=this._getAppointmentByIndex(0);this._resetTabIndex(e)},_focusInHandler:function(t){if(this._targetIsDisabled(t))return void t.stopPropagation();this.callBase.apply(this,arguments),this._$currentAppointment=e(t.target),this.option("focusedElement",e(t.target));var n=this;setTimeout(function(){n.notifyObserver("appointmentFocused")})},_targetIsDisabled:function(t){return e(t.currentTarget).is(".dx-state-disabled, .dx-state-disabled *")},_focusOutHandler:function(){var e=this._getAppointmentByIndex(0);this.option("focusedElement",e),this.callBase.apply(this,arguments)},_eventBindingTarget:function(){return this._itemContainer()},_getDefaultOptions:function(){return e.extend(this.callBase(),{noDataText:null,activeStateEnabled:!0,hoverStateEnabled:!0,tabIndex:0,appointmentDurationInMinutes:30,fixedContainer:null,allDayContainer:null,renderingStrategy:"vertical",allowDrag:!0,allowResize:!0,allowAllDayResize:!0,onAppointmentDblClick:null,dayDuration:24})},_optionChanged:function(t){switch(t.name){case"renderingStrategy":this._initRenderingStrategy();break;case"fixedContainer":case"allDayContainer":case"onAppointmentDblClick":break;case"allowDrag":case"allowResize":case"allowAllDayResize":case"dayDuration":case"appointmentDurationInMinutes":this.repaint();break;case"focusedElement":this._resetTabIndex(e(t.value)),this.callBase(t);break;case"allowDelete":break;default:this.callBase(t)}},_itemClass:function(){return v},_itemContainer:function(){var e=this.callBase(),t=e,n=this.option("allDayContainer");return n&&(t=e.add(n)),t},_cleanItemContainer:function(){this.callBase();var e=this.option("allDayContainer");e&&e.empty(),this._virtualAppointments={}},_clean:function(){this.callBase(),delete this._$currentAppointment,delete this._initialSize,delete this._initialCoordinates},_init:function(){this.callBase(),this._initRenderingStrategy(),this.element().addClass(_),this._preventSingleAppointmentClick=!1,this._initDynamicTemplates()},_initRenderingStrategy:function(){var e=x[this.option("renderingStrategy")];this._renderingStrategy=new e(this)},_initDynamicTemplates:function(){this._dynamicTemplates.item=new m(e.proxy(function(t){var n=this.invoke("getField","text",t),i=r.makeDate(this.invoke("getField","startDate",t)),o=r.makeDate(this.invoke("getField","endDate",t)),a=this.invoke("getField","recurrenceRule",t),s=e("<div>").text(n),l=e("<div>").addClass("dx-scheduler-appointment-content-details");return e("<div>").addClass("dx-scheduler-appointment-content-date").text(Globalize.format(i,"t")).appendTo(l),e("<div>").addClass("dx-scheduler-appointment-content-date").text(" - ").appendTo(l),e("<div>").addClass("dx-scheduler-appointment-content-date").text(Globalize.format(o,"t")).appendTo(l),a&&e("<span>").addClass("dx-scheduler-appointment-recurrence-icon dx-icon-repeat").appendTo(l),[s,l]},this))},_executeItemRenderAction:function(e,t,n){var i=this._getItemRenderAction();i&&i({appointmentElement:n,appointmentData:t})},_getStartDate:function(e,t){var n=this.invoke("getField","startDate",e);return n=r.makeDate(n),t||this.notifyObserver("updateAppointmentStartDate",{startDate:n,appointment:e,callback:function(e){n=e}}),n},_getEndDate:function(e){var t=this.invoke("getField","endDate",e);return t&&(t=r.makeDate(t),this.notifyObserver("updateAppointmentEndDate",{endDate:t,callback:function(e){t=e}})),t},_itemClickHandler:function(t){this.callBase(t,{},{afterExecute:e.proxy(function(e){this._processItemClick(e.args[0].jQueryEvent)},this)})},_processItemClick:function(t){var n=e(t.currentTarget),i=this._getItemData(n);return this._targetIsDisabled(t)?void t.stopPropagation():(this._normalizeAppointmentDates(i),"keydown"===t.type||p.isFakeClickEvent(t)?void this.notifyObserver("showEditAppointmentPopup",{data:i,target:n}):void(this._appointmentClickTimeout=setTimeout(e.proxy(function(){this._preventSingleAppointmentClick||this.notifyObserver("showAppointmentTooltip",{data:i,target:n}),this._preventSingleAppointmentClick=!1},this),300)))},_normalizeAppointmentDates:function(e){var t=r.makeDate(this.invoke("getField","startDate",e)),n=r.makeDate(this.invoke("getField","endDate",e));this.invoke("setField","startDate",e,t),this.invoke("setField","endDate",e,n)},_extendActionArgs:function(){var e=this.callBase.apply(this,arguments);return this._mapAppointmentFields(e)},_mapAppointmentFields:function(e){return{appointmentData:e.itemData,appointmentElement:e.itemElement}},_render:function(){this.callBase.apply(this,arguments),this._attachAppointmentDblClick()},_attachAppointmentDblClick:function(){var e=this,t=e._itemSelector();this._itemContainer().off(y,t).on(y,t,function(t){e._itemJQueryEventHandler(t,"onAppointmentDblClick",{},{afterExecute:function(t){e._dblClickHandler(t.args[0].jQueryEvent)}})})},_dblClickHandler:function(t){var n=e(t.currentTarget),i=this._getItemData(n);clearTimeout(this._appointmentClickTimeout),this._preventSingleAppointmentClick=!0,this.notifyObserver("showEditAppointmentPopup",{data:i,target:n})},_renderItems:function(t){this._isContainerInvisible()||(this.notifyObserver("getCellDimensions",{callback:e.proxy(function(e,t,n){this._cellWidth=e,this._cellHeight=t,this._allDayCellHeight=n},this)}),this._positionMap=this._renderingStrategy.createTaskPositionMap(t),this.callBase(t))},_isContainerInvisible:function(){var e=!1;return this.notifyObserver("checkContainerVisibility",{callback:function(t){e=t}}),e},_renderItem:function(e,t){var n=this._renderingStrategy.isAllDay(t),i=this._getAppointmentContainer(n);this.callBase(e,t,i)},_getAppointmentContainer:function(e){var t=this.option("allDayContainer"),n=this.itemsContainer().not(t);return e&&t&&(n=t),n},_postprocessRenderItem:function(e){var t=e.itemElement,n=e.itemData,i=this._positionMap[e.itemIndex];this._applyResourceDataAttr(t),this._renderAppointmentClones(t,n,i),this._renderAppointment(t,i[0])},_applyResourceDataAttr:function(t){this.notifyObserver("getResourcesFromItem",{itemData:this._getItemData(t),callback:function(n){n&&e.each(n,function(e,n){for(var i="data-"+e.toLowerCase()+"-",r=0;r<n.length;r++)t.attr(i+n[r],!0)})}})},_renderAppointmentClones:function(e,t,i){var r,o,a=i.length;if(a>1)for(r=a-1;r>0;r--)o=e.clone(!0),e.after(o),n.clearCache(o),this._renderAppointment(o,i[r]),this._executeItemRenderAction(0,t,o)},_renderAppointment:function(t,n){var i,r=this._getItemData(t),a=this._renderingStrategy.getAppointmentGeometry(n),s=!n.isCompact&&this.option("allowResize")&&(!o.isDefined(n.skipResizing)||o.isString(n.skipResizing)),l=this.option("allowDrag"),u=this._renderingStrategy.isAllDay(r),c="vertical"!==this.option("renderingStrategy")||u?"horizontal":"vertical";this._createComponent(t,"dxSchedulerAppointment",{observer:this.option("observer"),data:r,geometry:a,direction:c,allowResize:s,allowDrag:l,allDay:u,reduced:n.appointmentReduced,isCompact:n.isCompact,sortedIndex:n.sortedIndex,cellWidth:this._cellWidth,cellHeight:this._cellHeight,resizableConfig:this._resizableConfig(r,n)}),i=this._paintAppointment(t,n.groupIndex),n.virtual&&i.done(e.proxy(function(e){this._processVirtualAppointment(n,t,r,e)},this)),this._renderDraggable(t)},_resizableConfig:function(t,i){var r=i.skipResizing?i.skipResizing:null,o=this._renderingStrategy.resizableConfig(t,r);return e.extend(o,{area:this._calculateResizableArea(i,t),onResizeStart:e.proxy(function(t){this._$currentAppointment=e(t.element),this._initialSize={width:t.width,height:t.height},this._initialCoordinates=n.locate(t.element)},this),onResizeEnd:e.proxy(function(e){return this._escPressed?void(e.jQueryEvent.cancel=!0):void this._resizeEndHandler(e)},this)})},_calculateResizableArea:function(e,t){var n=this.element().closest(".dx-scrollable-content"),i=this._renderingStrategy.isAllDay(t);return this.notifyObserver("getResizableAppointmentArea",{coordinates:{left:e.left,top:0},allDay:i,callback:function(e){e&&(n=e)}}),n},_resizeEndHandler:function(t){var n,i=this._getItemData(t.element),r=this._getStartDate(i),o=this._getEndDate(i),a=this._getDateRange(t,r,o),s={};this.invoke("setField","startDate",s,new Date(a[0])),this.invoke("setField","endDate",s,new Date(a[1])),n=e.extend({},i,s),this.notifyObserver("updateAppointmentAfterResize",{target:i,data:n,$appointment:t.element})},_getDateRange:function(e,t,n){var i,r,o=this._getItemData(e.element),a=this._renderingStrategy.getDeltaTime(e,this._initialSize,o),s=this.option("renderingStrategy"),l=!1;return l="vertical"!==s||this._renderingStrategy.isAllDay(o)?this.option("rtlEnabled")?e.handles.right:e.handles.left:e.handles.top,i=l?t.getTime()-a:t.getTime(),r=l?n.getTime():n.getTime()+a,[i,r]},_paintAppointment:function(t,n){var i=e.Deferred();return this.notifyObserver("getAppointmentColor",{itemData:this._getItemData(t),groupIndex:n,callback:function(e){e.done(function(e){e&&t.css("background-color",e),i.resolve(e)})}}),i.promise()},_renderDraggable:function(t){if(this.option("allowDrag")){var i,r=this,o=r._getItemData(t),a=this._renderingStrategy.isAllDay(o),s=this.option("fixedContainer");this.notifyObserver("getDraggableAppointmentArea",{callback:function(e){e&&(i=e)}}),this._createComponent(t,"dxDraggable",{area:i,boundOffset:r._calculateBoundOffset(),onDragStart:function(i){var o=i.jQueryEvent;r._skipDraggableRestriction(o),r.notifyObserver("hideAppointmentTooltip"),r.notifyObserver("getDragEventTargetElements",{callback:function(e){e&&(o.targetElements=e)}}),s.append(t),r._$currentAppointment=e(i.element),r._initialSize={width:i.width,height:i.height},r._initialCoordinates=n.locate(i.element)},onDrag:function(e){var i=n.locate(e.element);r.notifyObserver("correctAppointmentCoordinates",{coordinates:i,allDay:a,callback:function(e){e&&(i=e)}}),n.move(t,i)},onDragEnd:function(e){var n=r._getAppointmentContainer(a);return n.append(t),this._escPressed?void(e.jQueryEvent.cancel=!0):void r._dragEndHandler(e)}})}},_calculateBoundOffset:function(){var e={top:0};return this.notifyObserver("getBoundOffset",{callback:function(t){e=t}}),e},_skipDraggableRestriction:function(e){this.option("rtlEnabled")?e.maxLeftOffset=null:e.maxRightOffset=null,e.maxBottomOffset=null;
},_dragEndHandler:function(e){var t=this._getItemData(e.element),n=this._initialCoordinates;this._normalizeAppointmentDates(t),this.notifyObserver("updateAppointmentAfterDrag",{data:t,$appointment:e.element,coordinates:n})},_virtualAppointments:{},_processVirtualAppointment:function(e,t,n,i){var r=e.virtual,a=r.index;o.isDefined(this._virtualAppointments[a])||(this._virtualAppointments[a]={coordinates:{top:r.top,left:r.left},items:{data:[],colors:[]},isAllDay:r.isAllDay,buttonColor:i}),this._virtualAppointments[a].items.data.push(n),this._virtualAppointments[a].items.colors.push(i),t.remove()},_renderContentImpl:function(){this.callBase(),this._renderDropDownAppointments()},_renderDropDownAppointments:function(){var t=this._renderingStrategy.getCompactAppointmentGroupMaxWidth(),n=0,i=this;this.option("rtlEnabled")&&(n=t),e.each(this._virtualAppointments,e.proxy(function(e){var r=this._virtualAppointments[e],o=r.items,a=r.coordinates,s=r.isAllDay?this.option("allDayContainer"):this.element(),l=a.left;this.notifyObserver("renderDropDownAppointments",{$container:s,coordinates:{top:a.top,left:l+n},items:o,buttonColor:r.buttonColor,itemTemplate:this.option("itemTemplate"),buttonWidth:t,onAppointmentClick:function(e){var t=i._mapAppointmentFields(e);i._itemJQueryEventHandler(e.jQueryEvent,"onItemClick",t)}})},this))},updateDraggablesBoundOffsets:function(){this.option("allowDrag")&&this.element().find("."+v).each(e.proxy(function(t,n){var i=e(n),r=this._getItemData(i);this._renderingStrategy.isAllDay(r)||i.dxDraggable("instance").option("boundOffset",this._calculateBoundOffset())},this))},moveAppointmentBack:function(){var e=this._$currentAppointment,t=this._initialSize,i=this._initialCoordinates;e&&(i&&(n.move(e,i),delete this._initialSize),t&&(e.outerWidth(t.width),e.outerHeight(t.height),delete this._initialCoordinates))},focus:function(){var e=this._$currentAppointment;e&&(this.option("focusedElement",e),this.option("focusedElement").focus())}}).include(l);return a("dxSchedulerAppointments",{},b),b}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.appointments"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.dropDown",["jquery","/class","/utils/utils.translator","/utils/utils.common","/ui/widgets/ui.button"],function(e,t,n,i,r){var o="dx-scheduler-dropdown-appointments",a="dx-scheduler-dropdown-appointments-content",s="dx-scheduler-dropdown-appointment",l="dx-scheduler-dropdown-appointment-title",u="dx-scheduler-dropdown-appointment-date",c="dx-scheduler-dropdown-appointment-remove-button",d="dx-scheduler-dropdown-appointment-edit-button",h="dx-scheduler-dropdown-appointment-info-block",p="dx-scheduler-dropdown-appointment-buttons-block";return t.inherit({render:function(t,i){var r,a=t.coordinates,s=t.items;return this.instance=i,r=e("<div>").addClass(o).appendTo(t.$container),this._createDropDownMenu({$element:r,items:s,itemTemplate:t.itemTemplate,buttonWidth:t.buttonWidth,onAppointmentClick:t.onAppointmentClick}),this._paintMenuButton(r,t.buttonColor,s),this._applyInnerShadow(r,t.buttonWidth),n.move(r,{top:a.top,left:a.left}),r},repaintExisting:function(t){var n=["",o,"dx-dropdownmenu"].join(".");t.find(n).each(function(){e(this).dxDropDownMenu("instance").repaint()})},_paintMenuButton:function(e,t,n){var i,r,o=!0,a=n.colors,s=a.length;if(s)for(i=a[0],r=1;s>r;r++){if(i!==a[r]){o=!1;break}i=a[r]}t&&o&&e.css("background-color",t)},_createButtonTemplate:function(t){return e("<div />").html([e("<span />").text(t),e("<span />").text("...")]).addClass(a)},_applyInnerShadow:function(e){e.css("box-shadow","inset "+e.outerWidth()+"px 0 0 0 rgba(0, 0, 0, 0.3)")},_createDropDownMenu:function(t){var n,i,r=t.$element,o=t.items,a=t.onAppointmentClick;r.data("dxDropDownMenu")||(n=e.proxy(function(e,t,n){this._createDropDownAppointmentTemplate(e,n,o.colors[t])},this),i=this.instance,this.instance._createComponent(r,"dxDropDownMenu",{buttonIcon:null,usePopover:!0,popupHeight:200,items:o.data,buttonTemplate:this._createButtonTemplate(o.data.length),buttonWidth:t.buttonWidth,onItemClick:function(t){t.component.open(),e.isFunction(a)&&a.call(i._appointments,t)},activeStateEnabled:!1,focusStateEnabled:!1,itemTemplate:n}))},_createDropDownAppointmentTemplate:function(t,n,i){var r,o,a,c,d,p="",f=[],m="left",g=this.instance.fire("getField","text",t);n.addClass(s),this.instance.option("rtlEnabled")&&(m="right"),i&&n.css("border-"+m+"-color",i),this.instance.fire("normalizeAppointmentDates",{appointmentData:t,callback:function(e){t=e}}),c=this.instance.fire("getField","startDate",t),d=this.instance.fire("getField","endDate",t),this.instance.fire("formatDates",{startDate:c,endDate:d,formatType:"DATETIME",callback:function(e){p=e}}),a=e("<div />").addClass(h),r=e("<div>").addClass(l).text(g),o=e("<div>").addClass(u).text(p),a.append([r,o]),f.push(a),f.push(this._createButtons(t)),n.append(f)},_createButtons:function(t){var n=this.instance.option("editing"),o=!1,a=!1;if(!n)return"";n===!0&&(o=!0,a=!0),i.isObject(n)&&(o=n.allowDeleting,a=n.allowUpdating);var s=e("<div />").addClass(p),l=e("<div>").addClass(c),u=e("<div>").addClass(d);return o&&(s.append(l),this.instance._createComponent(l,r,{icon:"trash",height:25,width:25,onClick:e.proxy(function(e){e.jQueryEvent.stopPropagation(),this.instance.deleteAppointment(t)},this)})),a&&(s.append(u),this.instance._createComponent(u,r,{icon:"edit",height:25,width:25,onClick:e.proxy(function(e){e.jQueryEvent.stopPropagation(),this.instance.fire("showEditAppointmentPopup",{data:t})},this)})),s}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.subscribes",["jquery","/utils/utils.array","/utils/utils.recurrence","/utils/utils.date","/utils/utils.translator","/utils/utils.common"],function(e,t,n,i,r,o){return{currentViewUpdated:function(e){this.option("currentView",e)},currentDateUpdated:function(e){this.option("currentDate",e)},needCoordinates:function(e){var t,r,o=e.appointmentData,a=e.startDate,s=this.fire("getField","recurrenceRule",o),l=this.fire("getField","recurrenceException",o),u=this._workSpace.getDateRange(),c=this.appointmentTakesAllDay(o)?i.trimTime(new Date(u[0])):u[0],d=n.getDatesByRecurrence(s,a,c,u[1],l);d.length||d.push(a),t=this._resourcesManager.getResourcesFromItem(o),r=this.appointmentTakesAllDay(o)&&this._workSpace.supportAllDayRow(),e.callback(this._getCoordinates(d,t,r))},showAppointmentTooltip:function(t){var n=t.data,i=e(t.target),r=this._getSingleAppointmentData(n,t,i);this.showAppointmentTooltip(n,r,t.target)},hideAppointmentTooltip:function(){this._hideTooltip()},showAddAppointmentPopup:function(t){var n={};e.each(["startDate","endDate","allDay"],e.proxy(function(e,i){void 0!==t[i]&&(this.fire("setField",i,n,t[i]),delete t[i])},this)),this.showAppointmentPopup(e.extend(n,t),!0)},showEditAppointmentPopup:function(t){var n=t.data,i=e(t.target),r=this._getSingleAppointmentData(n,t,i),o=this.fire("getField","startDate",r);this.showAppointmentPopup(n,!1,r,o)},updateAppointmentAfterResize:function(t){var n=t.target,i=t.$appointment,r=this._getSingleAppointmentData(n,t,i),o=this.fire("getField","startDate",r);this._checkRecurringAppointment(n,r,o,e.proxy(function(){this._updateAppointment(n,t.data,function(){this._appointments.moveAppointmentBack()})},this))},updateAppointmentAfterDrag:function(t){var n=t.data,i=this._getUpdatedData(t),r=this._workSpace.getDroppableCellIndex(),o=this._workSpace.getCellIndexByCoordinates(t.coordinates),a=this.fire("getField","allDay",i),s=this.fire("getField","allDay",n),l=e.extend({},n,i),u=this._workSpace.supportAllDayRow()&&a,c=this._workSpace.getCellDataByCoordinates(t.coordinates,u),d=this._workSpace.supportAllDayRow()&&(s&&!a||!s&&a);r!==o||d?this._checkRecurringAppointment(n,l,c.startDate,e.proxy(function(){this._updateAppointment(n,l,function(){this._appointments.moveAppointmentBack()})},this)):this._appointments.moveAppointmentBack()},deleteAppointment:function(t){var n=t.data,i=e(t.target),r=this._getSingleAppointmentData(n,t,i),o=this.fire("getField","startDate",r);this._checkRecurringAppointment(n,r,o,e.proxy(function(){this.deleteAppointment(n)},this),!0)},getAppointmentColor:function(n){var i,r=this._resourcesManager.getResourceForPainting(this.option("groups")),o=e.Deferred().resolve().promise();if(r){var a=r.field,s=n.groupIndex,l=this._workSpace._getCellGroups(s),u=t.wrapToArray(n.itemData[a]),c=u.length?u[0]:void 0;for(i=0;i<l.length;i++)l[i].name===a&&(c=l[i].id);o=this._resourcesManager.getResourceColor(a,c)}n.callback(o)},getResourcesFromItem:function(e){e.callback(this._resourcesManager.getResourcesFromItem(e.itemData))},getCellDimensions:function(e){this._workSpace&&e.callback(this._workSpace.getCellWidth(),this._workSpace.getCellHeight(),this._workSpace.getAllDayHeight())},getBoundOffset:function(e){e.callback({top:-this.getWorkSpaceAllDayHeight()})},appointmentTakesAllDay:function(e){var t={};this.fire("setField","startDate",t,e.startDate),this.fire("setField","endDate",t,e.endDate),e.callback(this.appointmentTakesAllDay(t))},checkContainerVisibility:function(e){e.callback(this.element().is(":hidden"))},appointmentFocused:function(){this._workSpace.restoreScrollTop()},getResizableAppointmentArea:function(e){var t,n,i=e.allDay;this.option("groups")&&this.option("groups").length&&(i||"month"===this.option("currentView"))&&(n=this._workSpace.getGroupBounds(e.coordinates),t={left:n.left,right:n.right,top:0,bottom:0}),e.callback(t)},getDraggableAppointmentArea:function(e){e.callback(this.getWorkSpaceScrollableContainer())},getDragEventTargetElements:function(e){e.callback(this.element)},correctAppointmentCoordinates:function(e){var t,n=e.allDay,i=n?0:this.getWorkSpaceScrollableScrollTop(),r=this.getWorkSpaceHeaderPanelHeight(),o=this.getWorkSpaceScrollableScrollLeft(),a=this.getWorkSpaceDateTableOffset(),s=n?0:this.getWorkSpaceAllDayHeight();t={top:e.coordinates.top-i+s+r,left:e.coordinates.left-o-a},e.callback(t)},allDayPanelToggled:function(){this._appointments.updateDraggablesBoundOffsets()},normalizeAppointmentDates:function(e){var t=e.appointmentData,n=i.makeDate(this.fire("getField","startDate",t)),r=i.makeDate(this.fire("getField","endDate",t));this.fire("setField","startDate",t,n),this.fire("setField","endDate",t,r),e.callback(t)},formatDates:function(e){var t=e.startDate,n=e.endDate,i=e.formatType,r={DATETIME:function(){var e="MMMM d h:mm tt",i=Globalize.format(t,e)+" - ",r=t.getDate()===n.getDate()?Globalize.format(n,"t"):Globalize.format(n,e);return i+r},TIME:function(){return Globalize.format(t,"t")+" - "+Globalize.format(n,"t")},DATE:function(){var e="d MMMM",i=Globalize.format(t,e),r=n.getTime()-t.getTime()>864e5,o=r||n.getDate()!==t.getDate()?" - "+Globalize.format(n,e):"";return i+o}};e.callback(r[i]())},getFullWeekAppointmentWidth:function(e){var t=e.groupIndex,n=this._workSpace.getGroupWidth(t);e.callback(n)},getMaxAppointmentWidth:function(e){var t=this._workSpace.getCellCountToLastViewDate(e.date);e.callback(t*this._workSpace.getCellWidth())},updateAppointmentStartDate:function(e){var t,n=e.appointment,r=this._workSpace.getFirstViewDate(),o=new Date(e.startDate);this.appointmentTakesAllDay(n)?t=i.normalizeDate(o,r):(o.setHours(this.option("startDayHour")),o.setMinutes(0),t=i.normalizeDate(e.startDate,new Date(o))),e.callback(t)},updateAppointmentEndDate:function(e){var t=new Date(e.endDate),n=t;t.getHours()>=this.option("endDayHour")&&(n.setHours(this.option("endDayHour")),n.setMinutes(0)),e.callback(n)},renderDropDownAppointments:function(e){this._dropDownAppointments.render(e,this)},getGroupCount:function(e){var t=this._workSpace._getGroupCount();e.callback(t)},updateResizableArea:function(){var t=this.element().find(".dx-scheduler-appointment.dx-resizable"),n=e.grep(t,function(t){var n=e(t),i=n.dxResizable("instance"),r=i.option("area");return e.inArray(i.option("handles"),["right left","left right"])>-1&&e.isPlainObject(r)});e.each(n,e.proxy(function(t,n){var i=e(n),o=r.locate(i),a=this._appointments._getItemData(i),s=this._appointments._calculateResizableArea({left:o.left},a);i.dxResizable("instance").option("area",s)},this))},recurrenceEditorVisibylityChanged:function(e){this.recurrenceEditorVisibylityChanged(e.visible)},getField:function(e,t){return o.isDefined(this._dataAccessors.getter[e])?this._dataAccessors.getter[e](t):void 0},setField:function(e,t,n){return o.isDefined(this._dataAccessors.setter[e])?this._dataAccessors.setter[e](t,n):void 0},prerenderFilter:function(){var e,t=this.getWorkSpace().getDateRange();return!this.option("showAllDayPanel")&&this._workSpace.supportAllDayRow()&&(e=!1),this._appointmentModel.filterLoadedAppointments({startDayHour:this.option("startDayHour"),endDayHour:this.option("endDayHour"),min:t[0],max:t[1],resources:this._loadedResources,allDay:e})}}}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler",["jquery","/ui/uiNamespace","/utils/utils.translator","/ui/ui.errors","/ui/ui.dialog","/utils/utils.recurrence","/utils/utils.dom","/utils/utils.date","/utils/utils.common","/devices","/componentRegistrator","/ui/ui.widget","/ui/widgets/scheduler/ui.scheduler.subscribes","/ui/templates/ui.template.function","/ui/templates/ui.template.dynamic","/ui/templates/ui.template.move","/ui/widgets/scheduler/ui.scheduler.appointmentTooltip","/ui/widgets/scheduler/ui.scheduler.recurrenceEditor","/ui/widgets/scheduler/ui.scheduler.header","/ui/widgets/scheduler/ui.scheduler.workSpaceDay","/ui/widgets/scheduler/ui.scheduler.workSpaceWeek","/ui/widgets/scheduler/ui.scheduler.workSpaceWorkWeek","/ui/widgets/scheduler/ui.scheduler.workSpaceMonth","/ui/widgets/scheduler/ui.scheduler.timelineDay","/ui/widgets/scheduler/ui.scheduler.timelineWeek","/ui/widgets/scheduler/ui.scheduler.timelineWorkWeek","/ui/widgets/scheduler/ui.scheduler.resourceManager","/ui/widgets/scheduler/ui.scheduler.appointmentModel","/ui/widgets/scheduler/ui.scheduler.appointments","/ui/widgets/scheduler/ui.scheduler.appointments.dropDown","/ui/ui.dataHelper","/ui/ui.loading"],function(e,t,n,i,r,o,a,s,l,u,c,d,h,p,f,m,g,_,v,y,x,b,w,C,S,k,D,T,E,I,A,$){var B="dx-scheduler",O="dx-scheduler-readonly",P="dx-scheduler-appointment-popup",M="dx-scheduler-recurrence-rule-item",R="dx-scheduler-recurrence-rule-item-opened",V=610,L={day:{workSpace:y,renderingStrategy:"vertical"},week:{workSpace:x,renderingStrategy:"vertical"},workWeek:{workSpace:b,renderingStrategy:"vertical"},month:{workSpace:w,renderingStrategy:"horizontalMonth"},timelineDay:{workSpace:C,renderingStrategy:"horizontal"},timelineWeek:{workSpace:S,renderingStrategy:"horizontal"},timelineWorkWeek:{workSpace:k,renderingStrategy:"horizontal"}},F=d.inherit({_getDefaultOptions:function(){return e.extend(this.callBase(),{views:["day","week"],currentView:"day",currentDate:s.trimTime(new Date),min:void 0,max:void 0,firstDayOfWeek:void 0,groups:[],resources:[],dataSource:null,appointmentTemplate:"item",startDayHour:0,endDayHour:24,editing:{allowAdding:!0,allowDeleting:!0,allowDragging:!0,allowResizing:!0,allowUpdating:!0},showAllDayPanel:!0,recurrenceEditMode:"dialog",cellDuration:30,onAppointmentRendered:null,onAppointmentClick:null,onAppointmentDblClick:null,onCellClick:null,onAppointmentAdding:null,onAppointmentAdded:null,onAppointmentUpdating:null,onAppointmentUpdated:null,onAppointmentDeleting:null,onAppointmentDeleted:null,onAppointmentFormCreated:null,appointmentTooltipTemplate:"appointmentTooltip",appointmentPopupTemplate:"appointmentPopup",horizontalScrollingEnabled:!1,useDropDownViewSwitcher:!1,startDateExpr:"startDate",endDateExpr:"endDate",textExpr:"text",descriptionExpr:"description",allDayExpr:"allDay",recurrenceRuleExpr:"recurrenceRule",recurrenceExceptionExpr:"recurrenceException",remoteFiltering:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return u.real().generic&&!u.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!u.current().generic},options:{useDropDownViewSwitcher:!0,editing:{allowDragging:!1,allowResizing:!1}}}])},_optionChanged:function(t){var n,i=t.value,r=t.name;switch(t.name){case"firstDayOfWeek":this._workSpace.option(r,i),this._header.option(r,i);break;case"currentDate":i=s.trimTime(s.makeDate(i)),this._workSpace.option(r,i),this._header.option(r,i),this._appointments.option("items",[]),this._filterAppointmentsByDate(),this._reloadDataSource();break;case"dataSource":this._initDataSource(),this._customizeStoreLoadOptions(),this._appointmentModel.setDataSource(this._dataSource),this._loadResources().done(e.proxy(function(){this._filterAppointmentsByDate(),this._workSpace.option("showAllDayPanel",this.option("showAllDayPanel")),this._reloadDataSource()},this));break;case"min":case"max":this._header.option(r,s.makeDate(i)),this._workSpace.option(r,s.makeDate(i));break;case"views":case"useDropDownViewSwitcher":this._header.option(r,i);break;case"currentView":this._appointments.option("items",[]),this._header.option(r,i),this._loadResources().done(e.proxy(function(e){this._refreshWorkSpace(e),this._filterAppointmentsByDate(),this._appointments.option("renderingStrategy",this._getAppointmentsRenderingStrategy()),this._appointments.option("allowAllDayResize","day"!==i),this._reloadDataSource()},this));break;case"appointmentTemplate":this._appointments.option("itemTemplate",i);break;case"groups":this._loadResources().done(e.proxy(function(e){this._workSpace.option(r,e),this._filterAppointmentsByDate(),this._reloadDataSource()},this));break;case"resources":this._resourcesManager.setResources(i),this._loadResources().done(e.proxy(function(e){this._workSpace.option("groups",e),this._filterAppointmentsByDate(),this._reloadDataSource()},this));break;case"startDayHour":case"endDayHour":this._appointments.option("items",[]),this._workSpace.option(r,i),this._appointments.option("dayDuration",this._getDayDuration()),this._filterAppointmentsByDate(),this._reloadDataSource();break;case"onAppointmentAdding":case"onAppointmentAdded":case"onAppointmentUpdating":case"onAppointmentUpdated":case"onAppointmentDeleting":case"onAppointmentDeleted":case"onAppointmentFormCreated":this._actions[r]=this._createActionByOption(r);break;case"onAppointmentRendered":this._appointments.option("onItemRendered",this._getAppointmentRenderedAction());break;case"onAppointmentClick":this._appointments.option("onItemClick",this._createActionByOption(r));break;case"onAppointmentDblClick":this._appointments.option(r,this._createActionByOption(r));break;case"accessKey":case"onCellClick":this._workSpace.option(r,i);break;case"horizontalScrollingEnabled":this._loadResources().done(e.proxy(function(e){this._refreshWorkSpace(e),this._appointments.repaint()},this));break;case"cellDuration":this._workSpace.option("hoursInterval",i/60),this._appointments.option("appointmentDurationInMinutes",i);break;case"tabIndex":case"focusStateEnabled":this._header.option(r,i),this._workSpace.option(r,i),this._appointments.option(r,i),this.callBase(t);break;case"width":this._header.option(r,i),this.option("horizontalScrollingEnabled")&&this._workSpace.option("width",i),this.callBase(t),this._dimensionChanged();break;case"height":this.callBase(t),this._dimensionChanged();break;case"editing":this._initEditing(),n=this._editing,this._bringEditingModeToAppointments(n),this._appointmentForm&&this._appointmentForm.option("readOnly",!this._editing.allowUpdating),this._hideTooltip();break;case"showAllDayPanel":this._loadResources().done(e.proxy(function(){this._filterAppointmentsByDate(),this._workSpace.option("allDayExpanded",i),this._workSpace.option(r,i),this._reloadDataSource()},this));break;case"appointmentTooltipTemplate":case"appointmentPopupTemplate":case"recurrenceEditMode":case"remoteFiltering":break;case"startDateExpr":case"endDateExpr":case"textExpr":case"descriptionExpr":case"allDayExpr":case"recurrenceRuleExpr":case"recurrenceExceptionExpr":this._updateExpression(r,i),this._useDynamicTemplate()&&this._appointments.repaint();break;default:this.callBase(t)}},_bringEditingModeToAppointments:function(e){this._appointments.option({allowDrag:e.allowDragging,allowResize:e.allowResizing,allowDelete:e.allowUpdating&&e.allowDeleting,allowAllDayResize:e.allowResizing&&"day"!==this.option("currentView")}),this._dropDownAppointments.repaintExisting(this.element())},_isAllDayExpanded:function(e){return this.option("showAllDayPanel")&&this._appointmentModel.hasAllDayAppointments(e,this.option("startDayHour"),this.option("endDayHour"))},_filterAppointmentsByDate:function(){var e=this._workSpace.getDateRange();this._appointmentModel.filterByDate(e[0],e[1])},_loadResources:function(){var t=this.option("groups"),n=e.Deferred();return this._resourcesManager.getResourcesValueByFields(t).done(e.proxy(function(e){n.resolve(e),this._loadedResources=e},this)),n.promise()},_reloadDataSource:function(){this._dataSource&&($.show({container:this.element(),position:{of:this.element()}}),this._dataSource.load().done(function(){$.hide()}).fail(function(){$.hide()}))},_dimensionChanged:function(){this._appointments&&this._appointments.repaint(),this._hideTooltip()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this._initExpressions({startDate:this.option("startDateExpr"),endDate:this.option("endDateExpr"),allDay:this.option("allDayExpr"),text:this.option("textExpr"),description:this.option("descriptionExpr"),recurrenceRule:this.option("recurrenceRuleExpr"),recurrenceException:this.option("recurrenceExceptionExpr")}),this._initDataSource(),this._loadedResources=[],this._proxiedCustomizeStoreLoadOptionsHandler=e.proxy(this._customizeStoreLoadOptionsHandler,this),this._customizeStoreLoadOptions(),this.element().addClass(B),this._initEditing(),this._appointmentModel=new T(this._dataSource,{startDateExpr:this.option("startDateExpr"),endDateExpr:this.option("endDateExpr"),allDayExpr:this.option("allDayExpr"),recurrenceRuleExpr:this.option("recurrenceRuleExpr"),recurrenceExceptionExpr:this.option("recurrenceExceptionExpr")},this._dataAccessors),this._resourcesManager=new D(this.option("resources")),this._initActions(),this._dropDownAppointments=new I,this._subscribes=h},_dataSourceChangedHandler:function(){var e=this.fire("prerenderFilter");this._workSpace.option("allDayExpanded",this._isAllDayExpanded(e)),this._appointments.option("renderingStrategy",this._getAppointmentsRenderingStrategy()),this._setAppointmentsData(e)},_initExpressions:function(t){var n=DevExpress.data.utils;this._dataAccessors||(this._dataAccessors={getter:{},setter:{}}),e.each(t,e.proxy(function(e,t){t?(this._dataAccessors.getter[e]=n.compileGetter(t),this._dataAccessors.setter[e]=n.compileSetter(t)):(delete this._dataAccessors.getter[e],delete this._dataAccessors.setter[e])},this))},_updateExpression:function(e,t){var n={};n[e.replace("Expr","")]=t,this._initExpressions(n)},_initEditing:function(){var t=this.option("editing");this._editing={allowAdding:!!t,allowUpdating:!!t,allowDeleting:!!t,allowResizing:!!t,allowDragging:!!t},l.isObject(t)&&(this._editing=e.extend(this._editing,t)),this._editing.allowDragging=this._editing.allowDragging&&this._editing.allowUpdating,this._editing.allowResizing=this._editing.allowResizing&&this._editing.allowUpdating,this.element().toggleClass(O,this._isReadOnly())},_isReadOnly:function(){var e,t=!0,n=this._editing;for(e in n)n.hasOwnProperty(e)&&(t=t&&!n[e]);return t},_customizeStoreLoadOptions:function(){this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._proxiedCustomizeStoreLoadOptionsHandler)},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._proxiedCustomizeStoreLoadOptionsHandler),this.callBase()},_customizeStoreLoadOptionsHandler:function(e){this.option("remoteFiltering")||(e.storeLoadOptions.filter[0]=[this._appointmentModel.customizeDateFilter(e.storeLoadOptions.filter[0])]),e.storeLoadOptions.dxScheduler={startDate:this._workSpace.getFirstViewDate(),endDate:this._workSpace.getLastViewDate(),resources:this.option("resources")}},_initActions:function(){this._actions={onAppointmentAdding:this._createActionByOption("onAppointmentAdding"),onAppointmentAdded:this._createActionByOption("onAppointmentAdded"),onAppointmentUpdating:this._createActionByOption("onAppointmentUpdating"),onAppointmentUpdated:this._createActionByOption("onAppointmentUpdated"),onAppointmentDeleting:this._createActionByOption("onAppointmentDeleting"),onAppointmentDeleted:this._createActionByOption("onAppointmentDeleted"),onAppointmentFormCreated:this._createActionByOption("onAppointmentFormCreated")}},_getAppointmentRenderedAction:function(){return this._createActionByOption("onAppointmentRendered",{excludeValidators:["designMode","disabled","readOnly"]})},_defaultAppointmentFormEditors:function(e){var t=this;return[{dataField:t.option("textExpr"),editorType:"dxTextBox",label:{text:Globalize.localize("dxScheduler-editorLabelTitle")}},{dataField:t.option("allDayExpr"),editorType:"dxSwitch",label:{text:Globalize.localize("dxScheduler-allDay")},editorOptions:{onValueChanged:function(e){var n,i=e.value,r=t._appointmentForm.getEditor(t.option("startDateExpr")),o=t._appointmentForm.getEditor(t.option("endDateExpr"));r&&o&&(r.option("format",i?"date":"datetime"),o.option("format",i?"date":"datetime"),n=new Date(r.option("value")),i?(r.option("value",t._getAllDayStartDate(n)),o.option("value",t._getAllDayEndDate(n))):r.option("value")&&(n.setHours(t.option("startDayHour")),r.option("value",n),o.option("value",t._workSpace.calculateEndDate(r.option("value")))))}}},{dataField:t.option("startDateExpr"),editorType:"dxDateBox",label:{text:Globalize.localize("dxScheduler-editorLabelStartDate")},editorOptions:{format:e?"date":"datetime",onValueChanged:function(e){var n,i=e.value,r=e.previousValue,o=t._appointmentForm.getEditor(t.option("endDateExpr")),a=o.option("value");t._validateAppointmentFormDate(e.component,i,r),i>=a&&(n=a.getTime()-r.getTime(),o.option("value",new Date(i.getTime()+n)))}}},{dataField:t.option("endDateExpr"),editorType:"dxDateBox",label:{text:Globalize.localize("dxScheduler-editorLabelEndDate")},editorOptions:{format:e?"date":"datetime",onValueChanged:function(e){var n,i=e.value,r=e.previousValue,o=t._appointmentForm.getEditor(t.option("startDateExpr")),a=o.option("value");t._validateAppointmentFormDate(e.component,i,r),i&&a>=i&&(n=r.getTime()-a.getTime(),o.option("value",new Date(i.getTime()-n)))}}},{dataField:t.option("descriptionExpr"),editorType:"dxTextArea",label:{text:Globalize.localize("dxScheduler-editorLabelDescription")}},{dataField:t.option("recurrenceRuleExpr"),editorType:"dxSchedulerRecurrenceEditor",editorOptions:{observer:t,onContentReady:function(e){var t=e.element.closest(".dx-field-item"),n=t.find(".dx-field-item-label");n.off("dxclick").on("dxclick",function(){e.component.toggle()})}},cssClass:M,label:{text:Globalize.localize("dxScheduler-editorLabelRecurrence")}}]},_getAllDayStartDate:function(e){return e.setHours(0),e.setMinutes(0),e},_getAllDayEndDate:function(e){var t=new Date(e);return t.setDate(e.getDate()+1),t},_validateAppointmentFormDate:function(e,t,n){var i=!!t;i||e.option("value",n)},_renderFocusTarget:e.noop,_render:function(){this.callBase(),this._renderHeader(),this._appointments=this._createComponent("<div>",E,this._appointmentsConfig()),this._loadResources().done(e.proxy(function(e){this._renderWorkSpace(e);var t=this._workSpace.getFixedContainer(),n=this._workSpace.getAllDayContainer();this._appointments.option({fixedContainer:t,allDayContainer:n}),this._filterAppointmentsByDate(),this._reloadDataSource()},this))},_setAppointmentsData:function(e){e&&this._appointments.option("items",e)},_renderHeader:function(){this._header=this._createComponent("<div>",v,this._headerConfig()),this.element().append(this._header.element())},_headerConfig:function(){return{observer:this,min:s.makeDate(this.option("min")),max:s.makeDate(this.option("max")),views:this.option("views"),firstDayOfWeek:this.option("firstDayOfWeek"),currentView:this.option("currentView"),currentDate:s.trimTime(s.makeDate(this.option("currentDate"))),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled"),width:this.option("width"),rtlEnabled:this.option("rtlEnabled"),useDropDownViewSwitcher:this.option("useDropDownViewSwitcher")}},_useDynamicTemplate:function(){var t={startDateExpr:"startDate",endDateExpr:"endDate",textExpr:"text"},n=!1;return e.each(t,e.proxy(function(e,t){return this.option(e)!==t?(n=!0,!1):void 0},this)),n},_appointmentsConfig:function(){var e=this._editing,t=this,n={observer:this,renderingStrategy:this._getAppointmentsRenderingStrategy(),onItemRendered:this._getAppointmentRenderedAction(),onItemClick:this._createActionByOption("onAppointmentClick"),onAppointmentDblClick:this._createActionByOption("onAppointmentDblClick"),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled"),appointmentDurationInMinutes:this.option("cellDuration"),allowDrag:e.allowDragging,allowDelete:e.allowUpdating&&e.allowDeleting,allowResize:e.allowResizing,allowAllDayResize:e.allowResizing&&"day"!==this.option("currentView"),rtlEnabled:this.option("rtlEnabled"),onContentReady:function(){t._workSpace&&t._workSpace.option("allDayExpanded",t._isAllDayExpanded(t._appointments.option("items")))},dayDuration:this._getDayDuration()};return this._useDynamicTemplate()&&"item"===this.option("appointmentTemplate")||(n.itemTemplate=this._getTemplateByOption("appointmentTemplate")),n},_getAppointmentsRenderingStrategy:function(){return L[this.option("currentView")].renderingStrategy},_getDayDuration:function(){return this.option("endDayHour")-this.option("startDayHour")},_renderWorkSpace:function(e){this._workSpace=this._createComponent("<div>",L[this.option("currentView")].workSpace,this._workSpaceConfig(e)),this._workSpace.getWorkArea().append(this._appointments.element()),this.element().append(this._workSpace.element()),a.triggerShownEvent(this._workSpace.element())},_workSpaceConfig:function(e){return{observer:this,min:s.makeDate(this.option("min")),max:s.makeDate(this.option("max")),currentDate:s.trimTime(s.makeDate(this.option("currentDate"))),firstDayOfWeek:this.option("firstDayOfWeek"),groups:e,startDayHour:this.option("startDayHour"),endDayHour:this.option("endDayHour"),tabIndex:this.option("tabIndex"),accessKey:this.option("accessKey"),focusStateEnabled:this.option("focusStateEnabled"),hoursInterval:this.option("cellDuration")/60,showAllDayPanel:this.option("showAllDayPanel"),allDayExpanded:this._isAllDayExpanded(this._appointments.option("items")),onCellClick:this._createActionByOption("onCellClick"),horizontalScrollingEnabled:this.option("horizontalScrollingEnabled")}},_refreshWorkSpace:function(e){this._appointments.element().detach(),this._workSpace._dispose(),this._workSpace.element().remove(),delete this._workSpace,this._renderWorkSpace(e),this._appointments.option({fixedContainer:this._workSpace.getFixedContainer(),allDayContainer:this._workSpace.getAllDayContainer()})},getWorkSpaceScrollable:function(){return this._workSpace.getScrollable()},getWorkSpaceScrollableScrollTop:function(){return this._workSpace.getScrollableScrollTop()},getWorkSpaceScrollableScrollLeft:function(){return this._workSpace.getScrollableScrollLeft()},getWorkSpaceScrollableContainer:function(){return this._workSpace.getScrollableContainer()},getWorkSpaceAllDayHeight:function(){return this._workSpace.getAllDayHeight()},getWorkSpaceHeaderPanelHeight:function(){return this._workSpace.getHeaderPanelHeight()},getWorkSpaceDateTableOffset:function(){return!this.option("horizontalScrollingEnabled")||this.option("rtlEnabled")?this._workSpace.getTimePanelWidth():0},getWorkSpace:function(){return this._workSpace},getHeader:function(){return this._header},_createPopup:function(t){this._$popup&&this._popup.element().remove(),this._$popup=e("<div>").addClass(P).appendTo(this.element()),this._initDynamicPopupTemplate(t),this._popup=this._createComponent(this._$popup,"dxPopup",this._popupConfig(t));
},_popupContent:function(e){var t=this._popup.content();return this._createAppointmentForm(e,t),t},_createAppointmentForm:function(t,n){var i,r,o=this.fire("getField","allDay",t),a=this._defaultAppointmentFormEditors(o),l=this.option("resources");this.option("recurrenceRuleExpr")||a.splice(5,1),l&&l.length&&(this._resourcesManager.setResources(this.option("resources")),a=a.concat(this._resourcesManager.getEditors())),e.each(this._resourcesManager.getResourcesFromItem(t,!0)||{},function(e,n){t[e]=n}),this._appointmentForm=this._createComponent(n,"dxForm",{items:a,readOnly:this._editAppointmentData?!this._editing.allowUpdating:!1,showValidationSummary:!0,scrollingEnabled:!0,formData:e.extend(!0,{},t)}),i=this._appointmentForm.getEditor(this.option("recurrenceRuleExpr")),i&&(r=this.fire("getField","startDate",t),i.option("startDate",s.makeDate(r))),this._actions.onAppointmentFormCreated({form:this._appointmentForm,appointmentData:t})},_initDynamicPopupTemplate:function(e){var t=this;this._dynamicTemplates.appointmentPopup=new p(function(n,i,r){var o=t._popupContent(e);return r.append(o),r})},_popupConfig:function(t){var n=this._getTemplateByOption("appointmentPopupTemplate");return{_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),width:V,onHiding:e.proxy(function(){this.focus()},this),contentTemplate:new f(function(e){return new m(n.render(t,e))}),defaultOptionsRules:[{device:function(){return!u.current().generic},options:{fullScreen:!0}}]}},_getPopupButtons:function(){return[{shortcut:"done",location:"after",onClick:e.proxy(this._doneButtonClickHandler,this)},{shortcut:"cancel",location:"after"}]},_doneButtonClickHandler:function(e){var t,n=this._appointmentForm.validate();e.cancel=!0,(!n||n.isValid)&&(this._saveChanges(e),t=this.fire("getField","startDate",this._appointmentForm.option("formData")),this._workSpace.updateScrollPosition(t))},_saveChanges:function(){var e=this._appointmentForm.option("formData"),t=this._editAppointmentData,n=this._updatedRecAppointment;t&&!n?this.updateAppointment(t,e):(n&&this.updateAppointment(t,n),delete this._updatedRecAppointment,this.addAppointment(e))},_checkRecurringAppointment:function(t,n,i,r,a,s){var l,u;if(delete this._updatedRecAppointment,l=this.fire("getField","recurrenceRule",t),!o.getRecurrenceRule(l).isValid||!this._editing.allowUpdating)return void r();switch(u=this.option("recurrenceEditMode")){case"series":r();break;case"occurrence":this._singleAppointmentChangesHandler(t,n,i,a,s);break;default:this._showRecurrenceChangeConfirm(a).done(e.proxy(function(e){e&&r(),e||this._singleAppointmentChangesHandler(t,n,i,a,s)},this)).fail(e.proxy(function(){this._appointments.moveAppointmentBack()},this))}},_singleAppointmentChangesHandler:function(t,n,i,r,o){this.fire("setField","recurrenceRule",n,""),this.fire("setField","recurrenceException",n,""),r||o||this.addAppointment(n);var a=this._getRecurrenceException(i,t),s=e.extend({},t,{recurrenceException:a});o?(this._updatedRecAppointment=s,this._showAppointmentPopup(n,!0),this._editAppointmentData=t):this._updateAppointment(t,s)},_getRecurrenceException:function(e,t){var n=this.fire("getField","startDate",t),i=this._getRecurrenceExceptionDate(e,n),r=this.fire("getField","recurrenceException",t);return r?r+","+i:i},_getRecurrenceExceptionDate:function(e,t){return e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),Globalize.format(e,"yyyyMMddTHHmmss")},_showRecurrenceChangeConfirm:function(e){var t=Globalize.localize(e?"dxScheduler-confirmRecurrenceDeleteMessage":"dxScheduler-confirmRecurrenceEditMessage"),n=Globalize.localize(e?"dxScheduler-confirmRecurrenceDeleteSeries":"dxScheduler-confirmRecurrenceEditSeries"),i=Globalize.localize(e?"dxScheduler-confirmRecurrenceDeleteOccurrence":"dxScheduler-confirmRecurrenceEditOccurrence");return r.custom({message:t,showCloseButton:!0,showTitle:!0,buttons:[{text:n,onClick:function(){return!0}},{text:i,onClick:function(){return!1}}]}).show()},_getUpdatedData:function(e){var t,n,i,r=e.data||e,o=this.getTargetCellData(),a=this.fire("getField","allDay",r),l=s.makeDate(this.fire("getField","startDate",r)),u=s.makeDate(this.fire("getField","endDate",r)),c=o.allDay,d=o.date||l,h=o.groups,p=u.getTime()-l.getTime(),f={};this.fire("setField","allDay",f,c),this.fire("setField","startDate",f,d),t=new Date(d.getTime()+p),this.appointmentTakesAllDay(r)&&!f.allDay&&this._workSpace.supportAllDayRow()&&(t=this._workSpace.calculateEndDate(d)),a&&!this._workSpace.supportAllDayRow()&&(n=new Date(d),n.setHours(0),t=new Date(n.getTime()+p),0!==t.getHours()&&t.setHours(this.option("endDayHour"))),this.fire("setField","endDate",f,t);for(i in h)h.hasOwnProperty(i)&&(f[i]=h[i]);return f},_getCoordinates:function(e,t,n){for(var i=[],r=0;r<e.length;r++)i=i.concat(this._workSpace.getCoordinatesByDateInGroup(e[r],t,n));return i},_getSingleAppointmentData:function(t,i,r){var o,a,s,u=t,c=this._getUpdatedData(i),d=e.extend({},u,c),h=this.fire("getField","allDay",u),p=this._workSpace.supportAllDayRow()&&h,f=this.fire("getField","startDate",d),m=this.fire("getField","endDate",d),g=m.getTime()-f.getTime();return l.isDefined(r)?(a=n.locate(r),s=this._workSpace.getCellDataByCoordinates(a,p),o=s.startDate):o=t.startDate,this.fire("setField","startDate",d,o),this.fire("setField","endDate",d,new Date(o.getTime()+g)),d},subscribe:function(e,t){this._subscribes[e]=h[e]=t},fire:function(t){var n=this._subscribes[t],r=Array.prototype.slice.call(arguments);if(!e.isFunction(n))throw i.Error("E1031",t);return n.apply(this,r.slice(1))},getTargetCellData:function(){return this._workSpace.getDataByDroppableCell()},showAppointmentTooltip:function(e,t,n){g.show(e,t,n,this)},_hideTooltip:function(){g.hide()},_updateAppointment:function(t,n,i){var r={newData:n,oldData:t,cancel:!1};this._actions.onAppointmentUpdating(r),this._processActionResult(r,function(r){r?e.isFunction(i)&&i.call(this):(this._expandAllDayPanel(n),this._appointmentModel.update(t,n).always(e.proxy(function(e){this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentUpdated,n,e)},this)))})},_processActionResult:function(t,n){e.when(t.cancel).then(e.proxy(n,this))},_expandAllDayPanel:function(e){!this._isAllDayExpanded(this._appointments.option("items"))&&this.appointmentTakesAllDay(e)&&this._workSpace.option("allDayExpanded",!0)},_executeActionWhenOperationIsCompleted:function(e,t,n){var i={appointmentData:t},r=n&&"Error"===n.name;r?i.error=n:this._popup&&this._popup.option("visible")&&this._popup.hide(),e(i)},_showAppointmentPopup:function(e,t){this._createPopup(e);var n=[],i=!0;(!l.isDefined(t)||t)&&(n=this._getPopupButtons(),i=this._popup.initialOption("showCloseButton")),this._popup.option({buttons:n,showCloseButton:i}),this._popup.show()},getAppointmentPopup:function(){return this._popup},getAppointmentDetailsForm:function(){return this._appointmentForm},getAppointmentsInstance:function(){return this._appointments},getAppointmentResourceData:function(e,t){return this._resourcesManager.getResourceDataByValue(e,t)},getActions:function(){return this._actions},appointmentTakesAllDay:function(e){return this._appointmentModel.appointmentTakesAllDay(e,this.option("startDayHour"),this.option("endDayHour"))},recurrenceEditorVisibylityChanged:function(e){this._appointmentForm&&this._appointmentForm.element().find("."+M).toggleClass(R,e)},showAppointmentPopup:function(t,n,i){var r,o=!i&&t.length?this._getSingleAppointmentData(t,t):i;r=i?this.fire("getField","startDate",i):this.fire("getField","startDate",t),this._checkRecurringAppointment(t,o,r,e.proxy(function(){var e=this._editing;n?(delete this._editAppointmentData,e.allowAdding&&this._showAppointmentPopup(t)):(this._editAppointmentData=t,this._showAppointmentPopup(t,e.allowUpdating))},this),!1,!0)},scrollToTime:function(e,t,n){this._workSpace.scrollToTime(e,t,n)},addAppointment:function(t){var n,i=this.fire("getField","text",t);i||this.fire("setField","text",t,""),n={appointmentData:t,cancel:!1},this._actions.onAppointmentAdding(n),this._processActionResult(n,function(n){n||(this._expandAllDayPanel(t),this._appointmentModel.add(t).always(e.proxy(function(e){this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentAdded,t,e)},this)))})},updateAppointment:function(e,t){this._updateAppointment(e,t)},deleteAppointment:function(t){var n={appointmentData:t,cancel:!1};this._actions.onAppointmentDeleting(n),this._processActionResult(n,function(n){n||this._appointmentModel.remove(t).always(e.proxy(function(e){this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentDeleted,t,e)},this))})},focus:function(){this._editAppointmentData?this._appointments.focus():this._workSpace.focus()}}).include(A);return c("dxScheduler",t,F),F}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler"]),function(e,t){var n=e.require("/component"),i=e.require("/utils/utils.common");e.dxClientExporter=n.inherit({_getDocumentCreator:function(n,i){return"EXCEL"===i.format?new e.dxClientExporter.ExcelCreator(n.getDataProvider(),t.extend({rtlEnabled:n.option("rtlEnabled")},i)):void 0},exportTo:function(t){var n,r,o=this,a=this.option("exportingAction"),s=this.option("exportedAction"),l=this.option("fileSavingAction"),u=t.component;u&&(n={fileName:t.fileName,format:t.format,cancel:!1},i.isDefined(a)&&a(n),n.cancel||(r=o._getDocumentCreator(u,t),r.ready().done(function(){var o=r.getData(i.isFunction(window.Blob)),a=function(r){i.isDefined(s)&&s(),i.isDefined(l)&&(n.data=r,l(n)),n.cancel||e.dxClientExporter.fileSaver.saveAs(n.fileName,t.format,r,t.proxyUrl)};o&&o.then?o.then(a):a(o)})))}})}(DevExpress,jQuery),function(e,t){var n=t.require("/utils/utils.string"),i=t.require("/utils/utils.common"),r=t.require("/utils/utils.formatHelper").defaultDateTimeFormat,o=t.require("/class"),a=t.dxClientExporter,s='<?xml version="1.0" encoding="utf-8"?>',l='<sheetPr><outlinePr summaryBelow="0"/></sheetPr>',u="<sheetPr/>",c='<fonts count="2"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font><font><b/><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="1"><fill><patternFill patternType="none"/></fill></fills><borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/></left><right style="thin"><color rgb="FFD3D3D3"/></right><top style="thin"><color rgb="FFD3D3D3"/></top><bottom style="thin"><color rgb="FFD3D3D3"/></bottom></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',d="http://schemas.openxmlformats.org",h="rels",p="xl",f="workbook.xml",m="[Content_Types].xml",g="sharedStrings.xml",_="styles.xml",v="worksheets",y="sheet1.xml",x=["quarter","quarterAndYear","millisecond"],b="shortDate",w={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedPoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},C=Date.UTC(1899,11,30),S=60,k=4,D=7,T=165;a.excelFormatConverter={_applyPrecision:function(e,t){var n,i;if(t>0){for(n="decimal"!==e?".":"",i=0;t>i;i++)n+="0";return n}return""},_getCurrencyFormat:function(){var e,t,n,r,o=Globalize.cultures[Globalize.cultureSelector].numberFormat.currency;if(i.isArray(o.pattern)){r={n:"#,##0{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\$":o.symbol},t=o.pattern.slice();for(n in r)if(r.hasOwnProperty(n))for(e=0;e<t.length;e++)t[e]=t[e].replace(new RegExp(n,"g"),r[n]);return 2===t.length?t[1]+"_);"+t[0]:t[0]}},_convertDateFormat:function(t){r[t.toLowerCase()]&&-1===e.inArray(t,x)||(t=b);var n=Globalize.cultures[Globalize.cultureSelector].calendar.patterns,o=r[t.toLowerCase()];return i.isDefined(n[o])&&(o=n[o]),o.replace(/\//g,"\\/").replace(/ /g,"\\ ").replace(/,/g,"\\,").replace(/:/g,"\\:").replace(/tt/g,"AM/PM").replace(/N/g,"#\\,###")},_convertNumberFormat:function(e,t){var i,r="currency"===e?this._getCurrencyFormat():w[e];return r&&(i=n.format(r,this._applyPrecision(e,t))),i},convertFormat:function(e,t,n){if(i.isDefined(e)){if("date"===n)return a.excelFormatConverter._convertDateFormat(e);if(w[e])return a.excelFormatConverter._convertNumberFormat(e,t)}}},a.ExcelCreator=o.inherit({_getXMLTag:function(e,t,n){for(var r,o="<"+e,a=t.length,s=0;a>s;s++)r=t[s],o=o+" "+r.name+'="'+r.value+'"';return i.isDefined(n)?o+">"+n+"</"+e+">":o+" />"},_getDataProviderRowIndex:function(e){return e-!!this._dataProvider.isHeadersVisible()},_getExcelRowIndex:function(e){return e+!!this._dataProvider.isHeadersVisible()},_getCellIndex:function(e,t){var n,i="",r=26;for(this._maxIndex[0]<Number(e)&&(this._maxIndex[0]=Number(e)),this._maxIndex[1]<Number(t)&&(this._maxIndex[1]=Number(t));n=65+(t>=r?t%r:Math.ceil(t)),i=String.fromCharCode(n)+i,t>=r;)t=Math.floor(t/r)-1;return i+e},_getDataType:function(e){var t={"boolean":"b",date:"d",number:"n",string:"s"};return i.isDefined(t[e])?t[e]:"s"},_appendFormat:function(t,n,i){return t=a.excelFormatConverter.convertFormat(t,n,i),t?(-1===e.inArray(t,this._styleFormat)&&this._styleFormat.push(t),e.inArray(t,this._styleFormat)+1):void 0},_appendString:function(e){return i.isDefined(e)&&(e=String(e),e.length)?(e=n.encodeHtml(e),void 0===this._stringHash[e]&&(this._stringHash[e]=this._stringArray.length,this._stringArray.push(e)),this._stringHash[e]):void 0},_getExcelDateValue:function(e){var t,n;return i.isDate(e)?(t=Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-C)/864e5),S>t&&t--,n=(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400,t+n):void 0},_prepareValue:function(e,t){var n=this._dataProvider.getCellValue(e,t),r=this._dataProvider.getCellText&&this._dataProvider.getCellText(e,t),o=this._getDataType(this._dataProvider.getCellType(e,t))||"string",a=this._styleArray[t+k].formatID,s=i.isNumber(a)?this._styleFormat[a-1]:null;switch(!i.isDefined(n)&&i.isDefined(r)&&(n=r,o="s",s=null),"d"!==o||i.isDate(n)||(o="s"),o){case"s":n=this._appendString(n);break;case"d":n=this._getExcelDateValue(n,s),o="n"}return{value:n,type:o}},_getHeadersArray:function(){for(var e=this._dataProvider.getColumns(),t=[],n=0;n!==e.length;n++)t.push({style:0,type:"s",value:this._appendString(e[n].caption)});return t},_getDataArray:function(){for(var e,t,n,r,o,a,s=[],l=this._dataProvider.getRowsCount(),u=this._dataProvider.getColumns(),c=0;l>c;c++){for(t=[],r=u.length,e=0;e!==r;e++)n=this._prepareValue(c,e),o=n.type,!this._dataProvider.isGroupRow(c)&&i.isDefined(this._styleArray[e+k].formatID)&&"s"!==n.type&&(o="n"),a=e+k,this._dataProvider.isGroupRow(c)&&(a=k-1),this._dataProvider.isTotalCell(c,e)&&(a=this._getBoldStyleID(u[e].alignment)),t.push({style:a,value:n.value,type:o});c&&!this._needSheetPr&&this._dataProvider.getGroupLevel(this._getDataProviderRowIndex(c))>0&&(this._needSheetPr=!0),s.push(t)}return s},_getBoldStyleID:function(e){for(var t=0;k-1>t;t++)if(this._styleArray[t].alignment===e)return t},_culculateWidth:function(e){return e=parseInt(e,10),(!e||5>e)&&(e=100),Math.min(255,Math.floor((e-5)/D*100+.5)/100)},_prepareStyleData:function(){for(var e,t=Number(!!this._options.wrapTextEnabled),n=["center","left","right"],r=this._dataProvider.getColumns(),o=0;o<n.length;o++)this._styleArray.push({bold:!0,alignment:n[o],wrapText:1});for(this._styleArray.push({bold:!0,alignment:i.getDefaultAlignment(this._rtlEnabled),wrapText:0}),o=0;o<r.length;o++)e=r[o],this._styleArray.push({alignment:i.isDefined(e.alignment)?e.alignment:"left",formatID:this._appendFormat(e.format,e.precision,e.dataType),wrapText:t}),this._colsArray.push(this._culculateWidth(e.width))},_prepareCellData:function(){this._dataProvider.isHeadersVisible()&&this._cellsArray.push(this._getHeadersArray()),this._cellsArray=this._cellsArray.concat(this._getDataArray())},_createXMLRelationships:function(e){return this._getXMLTag("Relationships",[{name:"xmlns",value:d+"/package/2006/relationships"}],e)},_createXMLRelationship:function(e,t,n){return this._getXMLTag("Relationship",[{name:"Id",value:"rId"+e},{name:"Type",value:d+"/officeDocument/2006/relationships/"+t},{name:"Target",value:n}])},_getWorkbookContent:function(){var e='<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/></bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /></sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1</definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332</definedName></definedNames>';return s+this._getXMLTag("workbook",[{name:"xmlns:r",value:d+"/officeDocument/2006/relationships"},{name:"xmlns",value:d+"/spreadsheetml/2006/main"}],e)},_getContentTypesContent:function(){return s+'<Types xmlns="'+d+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /></Types>'},_generateStylesXML:function(){for(var e,t,n=this._zip.folder(p),r=this._styleArray.length,o=[],a="",l=0;l<this._styleFormat.length;l++)this._styleFormat[l]=this._getXMLTag("numFmt",[{name:"numFmtId",value:Number(l)+T},{name:"formatCode",value:this._styleFormat[l]}]);for(a=a+this._getXMLTag("numFmts",[{name:"count",value:this._styleFormat.length}],this._styleFormat.join(""))+c,e=0;r>e;e++)t=this._styleArray[e],o.push(this._getXMLTag("xf",[{name:"xfId",value:0},{name:"applyAlignment",value:1},{name:"fontId",value:Number(!!t.bold)},{name:"applyNumberFormat",value:i.isDefined(t.formatID)?1:0},{name:"numFmtId",value:i.isDefined(t.formatID)?Number(t.formatID)+T-1:0}],this._getXMLTag("alignment",[{name:"horizontal",value:t.alignment},{name:"vertical",value:"top"},{name:"wrapText",value:t.wrapText}])));a+=this._getXMLTag("cellXfs",[{name:"count",value:o.length}],o.join("")),a+=this._getXMLTag("cellStyles",[{name:"count",value:1}],this._getXMLTag("cellStyle",[{name:"name",value:"Normal"},{name:"xfId",value:0},{name:"builtinId",value:0}])),a=s+this._getXMLTag("styleSheet",[{name:"xmlns",value:d+"/spreadsheetml/2006/main"}],a),n.file(_,a),this._styleArray=[]},_generateStringsXML:function(){for(var e=this._zip.folder(p),t=this._stringArray.length,n=s,i=0;t>i;i++)this._stringArray[i]=this._getXMLTag("si",[],this._getXMLTag("t",[],this._stringArray[i]));n+=this._getXMLTag("sst",[{name:"xmlns",value:d+"/spreadsheetml/2006/main"},{name:"count",value:this._stringArray.length},{name:"uniqueCount",value:this._stringArray.length}],this._stringArray.join("")),e.file(g,n),this._stringArray=[]},_getPaneXML:function(){var e=[{name:"activePane",value:"bottomLeft"},{name:"state",value:"frozen"}],t=i.isDefined(this._dataProvider.getFrozenArea)?this._dataProvider.getFrozenArea():{x:0,y:Number(this._dataProvider.isHeadersVisible())};return t.x||t.y?(t.x&&e.push({name:"xSplit",value:t.x}),t.y&&e.push({name:"ySplit",value:t.y}),e.push({name:"topLeftCell",value:this._getCellIndex(t.y+1,t.x)}),this._getXMLTag("pane",e)):""},_generateWorksheetXML:function(){for(var e,t,n,r,o,a=0,s=[],c=this._cellsArray.length,d=this._colsArray.length,h="1:"+d,f=[['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',this._needSheetPr?l:u,'<dimension ref="A1:',this._getCellIndex(this._maxIndex[0],this._maxIndex[1])+'"/><sheetViews><sheetView '+(this._rtlEnabled?'rightToLeft="1" ':"")+'tabSelected="1" workbookViewId="0">'+this._getPaneXML()+'</sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" outlineLevelRow="',this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0,'" x14ac:dyDescent="0.25"/>'].join("")],m=0;d>m;m++)this._colsArray[m]=this._getXMLTag("col",[{name:"width",value:this._colsArray[m]},{name:"min",value:Number(m)+1},{name:"max",value:Number(m)+1}]);for(f.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>"),e=0;c>e;e++){for(n=[],o=this._cellsArray[e].length,m=0;o>m;m++)e=Number(e),t=this._cellsArray[e][m],n.push(this._getXMLTag("c",[{name:"r",value:this._getCellIndex(e+1,m)},{name:"s",value:t.style},{name:"t",value:t.type}],i.isDefined(t.value)?this._getXMLTag("v",[],t.value):null));s.push(this._getXMLTag("row",[{name:"r",value:Number(e)+1},{name:"spans",value:h},{name:"outlineLevel",value:Number(e)?this._dataProvider.getGroupLevel(this._getDataProviderRowIndex(e)):0},{name:"x14ac:dyDescent",value:"0.25"}],n.join(""))),this._cellsArray[e]=null,a++>1e4&&(f.push(s.join("")),s=[],a=0)}f.push(s.join("")),s=[],r=this._getCellIndex(this._maxIndex[0],this._maxIndex[1]),f.push("</sheetData>"+this._generateMergingXML()+(this._options.autoFilterEnabled?'<autoFilter ref="A1:'+r+'" />':"")+'<ignoredErrors><ignoredError sqref="A1:'+r+'" numberStoredAsText="1" /></ignoredErrors></worksheet>'),this._zip.folder(p).folder(v).file(y,f.join("")),this._colsArray=[],this._cellsArray=[],f=[]},_generateMergingXML:function(){var e,t,n,r,o,a,s,l=this._dataProvider.getRowsCount(),u=this._dataProvider.getColumns().length,c=[],d=[],h="";if(!i.isDefined(this._dataProvider.getCellMerging))return"";for(r=0;l>r;r++)for(n=0;n!==u;n++)if((!i.isDefined(c[r])||!i.isDefined(c[r][n]))&&(s=this._dataProvider.getCellMerging(r,n),s.colspan||s.rowspan))for(d.push({start:this._getCellIndex(r+1,n),end:this._getCellIndex(r+1+(s.rowspan||0),n+(s.colspan||0))}),e=r;e<=r+s.rowspan;e++)for(t=n;t<=n+s.colspan;t++)i.isDefined(c[e])||(c[e]=[]),c[e][t]=!0;for(o=d.length,a=0;o>a;a++)h+=this._getXMLTag("mergeCell",[{name:"ref",value:d[a].start+":"+d[a].end}]);return h.length?this._getXMLTag("mergeCells",[{name:"count",value:o}],h):""},_generateCommonXML:function(){var e,t=s+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/"+f)),n=this._zip.folder(p),i=s;this._zip.folder("_"+h).file("."+h,t),e=this._createXMLRelationship(1,"worksheet","worksheets/"+y)+this._createXMLRelationship(2,"styles",_)+this._createXMLRelationship(3,"sharedStrings",g),i+=this._createXMLRelationships(e),n.folder("_"+h).file(f+".rels",i),n.file(f,this._getWorkbookContent()),this._zip.file(m,this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(e,t){this._rtlEnabled=t&&!!t.rtlEnabled,this._options=t,this._maxIndex=[1,2],this._stringArray=[],this._stringHash={},this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._styleFormat=[],this._needSheetPr=!1,this._dataProvider=e,this._zip=new JSZip},ready:function(){return this._dataProvider.ready()},getData:function(e){return this._generateContent(),this._zip.generateAsync?this._zip.generateAsync({type:e?"blob":"base64",compression:"DEFLATE",mimeType:a.MIME_TYPES.EXCEL}):this._zip.generate({type:e?"blob":"base64",compression:"DEFLATE",mimeType:a.MIME_TYPES.EXCEL})}})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/ui/ui.errors"),i=e.require("/utils/utils.browser"),r=e.require("/utils/utils.common"),o=e.dxClientExporter,a={EXCEL:"xlsx",CSS:"css"};o.MIME_TYPES={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},o.fileSaver={_getDataUri:function(e,t){return"data:"+o.MIME_TYPES[e]+";base64,"+t},_linkDownloader:function(e,n){var i=document.createElement("a"),r={download:e,href:n};return document.body.appendChild(i),t(i).css({display:"none"}).text("load").attr(r)[0].click(),i},_formDownloader:function(e,n,i,r){var o={method:"post",action:e,enctype:"multipart/form-data"},a=t("<form>").css({display:"none"}).attr(o);a.append('<input type="hidden" name="fileName" value="'+n+'" />'),a.append('<input type="hidden" name="contentType" value="'+i+'" />'),a.append('<input type="hidden" name="data" value="'+r+'" />'),a.appendTo("body"),a.submit(),a.submit()&&a.remove()},_saveByProxy:function(e,t,n,i,r){return this._formDownloader(e,t,o.MIME_TYPES[n],i,r)},_winJSBlobSave:function(e,t,n){var i=new Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary,i.fileTypeChoices.insert(o.MIME_TYPES[n],["."+a[n]]),i.suggestedFileName=t,i.pickSaveFileAsync().then(function(t){t&&t.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(t){var n=e.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(n,t).then(function(){t.flushAsync().done(function(){n.close(),t.close()})})})})},_saveBlobAs:function(e,n,i,a){if(this._blobSaved=!1,r.isDefined(navigator.msSaveOrOpenBlob))navigator.msSaveOrOpenBlob(i,e),this._blobSaved=!0;else if(r.isDefined(window.WinJS))this._winJSBlobSave(i,e,n),this._blobSaved=!0;else{var s=window.URL||window.webkitURL||window.mozURL||window.msURL||window.oURL;if(a=r.isDefined(a)?a:function(){var e=t("#dxExportLink");s.revokeObjectURL(e.attr("href")),e.remove(),o.blobSaved=!0},r.isDefined(s))return this._linkDownloader(e,s.createObjectURL(i),a)}},saveAs:function(e,t,o,s,l){if(e+="."+a[t],r.isFunction(window.Blob))this._saveBlobAs(e,t,o);else if(r.isDefined(s)&&!r.isDefined(navigator.userAgent.match(/iPad/i)))this._saveByProxy(s,e,t,o);else{if(r.isDefined(navigator.userAgent.match(/iPad/i))||n.log("E1034"),i.msie&&parseInt(i.version)<10)return;this._linkDownloader(e,this._getDataUri(t,o),l)}}}}(DevExpress,jQuery),DevExpress.MOD_WIDGETS_WEB=!0}if(!window.DevExpress||!DevExpress.MOD_FRAMEWORK){if(!window.DevExpress||!DevExpress.MOD_CORE)throw Error("Required module is not referenced: core");!function(e,t,n){var i=t.require("/integration/knockout/ko.templateProvider"),r=function(e,t,n){for(var i=[],r=0,o=e.length;o>r;r++)n(e[r],t)||i.push(e[r]);return i.push.apply(i,t),i},o=function(t,n){var i=!1;return e.each(n,function(e,n){var r=t.option("id")===n.option("id")&&n.option("id"),o=t.option("behavior")===n.option("behavior")&&t.option("behavior");return i=r||o,o&&null===n.option("onExecute")&&n.option("onExecute",t.option("onExecute")),i?(t.element().remove(),!1):void 0}),i},a=function(e,t){return r(e,t,o)},s=function(e,t,i,r){var o=t?t[i]:n,a=o===n?r:o,s=e.option(i);return s===n||s===r?a:s},l=function(e,t){var n=s(e,t,"showText"),i=!!e.option("icon"),r=s(e,t,"title","");return n||!i?r:""},u=function(e,t){var n=s(e,t,"showIcon"),i=!!e.option("title"),r=s(e,t,"icon","");return n||!i?r:""};t.framework={utils:{mergeCommands:a,commandToContainer:{resolveIconValue:u,resolveTextValue:l,resolvePropertyValue:s}},templateProvider:i}}(jQuery,DevExpress),DevExpress.define("/framework/framework.errors",["/utils/utils.error","/errors"],function(e,t){return e(t.ERROR_MESSAGES,{E3001:"Routing rule is not found for the '{0}' URI.",E3002:"The passed object cannot be formatted into a URI string by the application's router. An appropriate route should be registered.",E3003:"Unable to navigate. Application is being initialized.",E3004:"Cannot execute the command: {0}.",E3005:"The '{0}' command {1} is not registered in the application's command mapping. Go to http://dxpr.es/1bTjfj1 for more details.",E3006:"Unknown navigation target: '{0}'. Use the 'current', 'back' or 'blank' values.",E3007:"Error while restoring the application state. The state has been cleared. Refresh the page.",E3008:"Unable to go back.",E3009:"Unable to go forward.",E3010:"The command's 'id' option should be specified.\r\nProcessed markup: {0}\n",E3011:"Layout controller cannot be resolved. There are no appropriate layout controllers for the current context. Check browser console for details.",E3012:"Layout controller cannot be resolved. Two or more layout controllers suit the current context. Check browser console for details.",E3013:"The '{0}' template with the '{1}' name is not found. Make sure the case is correct in the specified view name and the template fits the current context.",E3014:"All the children of the dxView element should be either of the dxCommand or dxContent type.\r\nProcessed markup: {0}",E3015:"The 'exec' method should be called before the 'finalize' method.",E3016:"Unknown transition type '{0}'.",E3018:"Unable to parse options.\nMessage: {0};\nOptions value: {1}.",E3019:"View templates should be updated according to the 13.1 changes. Go to http://dxpr.es/15ikrJA for more details.",E3020:"Concurrent templates are found:\r\n{0}Target device:\r\n{1}.",E3021:"Remote template cannot be loaded.\r\nUrl:{0}\r\nError:{1}.",E3022:"Cannot initialize the HtmlApplication component.",E3023:"Navigation item is not found",E3024:"Layout controller is not initialized",W3001:"A view with the '{0}' key doesn't exist.",W3002:"A view with the '{0}' key has already been released.",W3003:"Layout resolving context:\n{0}\nAvailable layout controller registrations:\n{1}\n",W3004:"Layout resolving context:\n{0}\nConcurent layout controller registrations for the context:\n{1}\n",W3005:'Direct hash-based navigation is detected in a mobile application. Use data-bind="dxAction: url" instead of href="#url" to avoid navigation issues.\nFound markup:\n{0}\n'})}),function(e,t){var n=encodeURIComponent("json:"),i=DevExpress.require("/class");t.framework.Route=i.inherit({_trimSeparators:function(e){return e.replace(/^[\/.]+|\/+$/g,"")},_escapeRe:function(e){return e.replace(/\W/g,"\\$1")},_checkConstraint:function(e,t){e=String(e),"string"==typeof t&&(t=new RegExp(t));var n=t.exec(e);return n&&n[0]===e?!0:!1},_ensureReady:function(){var t=this;return this._patternRe?!1:(this._pattern=this._trimSeparators(this._pattern),this._patternRe="",this._params=[],this._segments=[],this._separators=[],this._pattern.replace(/[^\/]+/g,function(e,n){t._segments.push(e),n&&t._separators.push(t._pattern.substr(n-1,1))}),e.each(this._segments,function(e){var n=!0,i=this,r=e?t._separators[e-1]:"";":"===i.charAt(0)?(n=!1,i=i.substr(1),t._params.push(i),t._patternRe+="(?:"+r+"([^/]*))",i in t._defaults&&(t._patternRe+="?")):t._patternRe+=r+t._escapeRe(i)}),this._patternRe=new RegExp("^"+this._patternRe+"$"),void 0)},ctor:function(e,t,n){this._pattern=e||"",this._defaults=t||{},this._constraints=n||{}},parse:function(t){var n,i,r=this;return this._ensureReady(),n=this._patternRe.exec(t),n?(i=e.extend({},this._defaults),e.each(this._params,function(e){var t=e+1;n.length>=t&&n[t]&&(i[this]=r.parseSegment(n[t]))}),e.each(this._constraints,function(e){return r._checkConstraint(i[e],r._constraints[e])?void 0:(i=!1,!1)}),i):!1},format:function(t){var n,i,r=this,o="";this._ensureReady();var a=e.extend({},this._defaults),s=0,l=[],u=[],c={};return e.each(t,function(e,n){t[e]=r.formatSegment(n),e in a||(c[e]=!0)}),e.each(this._segments,function(e,n){if(l[e]=e?r._separators[e-1]:"",":"===n.charAt(0)){var i=n.substr(1);if(!(i in t)&&!(i in r._defaults)||i in r._constraints&&!r._checkConstraint(t[i],r._constraints[i]))return l=null,!1;i in t?(void 0!==t[i]&&(a[i]=t[i],l[e]+=t[i],s=e),delete c[i]):i in a&&(l[e]+=a[i],u.push(e))}else l[e]+=n,s=e}),e.each(a,function(n,i){return i&&-1===e.inArray(":"+n,r._segments)&&t[n]!==i?(l=null,!1):void 0}),n=0,e.isEmptyObject(c)||(o="?",e.each(c,function(e){o+=e+"="+t[e]+"&",n++}),o=o.substr(0,o.length-1)),null===l?!1:(u.length&&e.map(u,function(e){e>=s&&(l[e]="")}),i=l.join(""),i=i.replace(/\/+$/,""),
{uri:i+o,unusedCount:n})},formatSegment:function(t){return e.isArray(t)||e.isPlainObject(t)?n+encodeURIComponent(JSON.stringify(t)):encodeURIComponent(t)},parseSegment:function(t){if(t.substr(0,n.length)===n)try{return e.parseJSON(decodeURIComponent(t.substr(n.length)))}catch(i){}return decodeURIComponent(t)}}),t.framework.Router=i.inherit({ctor:function(){this._registry=[]},_trimSeparators:function(e){return e.replace(/^[\/.]+|\/+$/g,"")},_createRoute:function(e,n,i){return new t.framework.Route(e,n,i)},register:function(e,t,n){this._registry.push(this._createRoute(e,t,n))},_parseQuery:function(t){var n={},i=t.split("&");return e.each(i,function(e,t){var i=t.split("=");n[i[0]]=decodeURIComponent(i[1])}),n},parse:function(t){var n,i=this;t=this._trimSeparators(t);var r=t.split("?",2),o=r[0],a=r[1];return e.each(this._registry,function(){var t=this.parse(o);return t!==!1?(n=t,a&&(n=e.extend(n,i._parseQuery(a))),!1):void 0}),n?n:!1},format:function(t){var n=!1,i=99999;return t=t||{},e.each(this._registry,function(){var r=e.extend(!0,{},t),o=this.format(r);o!==!1&&i>o.unusedCount&&(i=o.unusedCount,n=o.uri)}),n}})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/framework/framework.errors"),i=t.require("/componentRegistrator"),r=t.require("/domComponent"),o=r.inherit({ctor:function(t,n){e.isPlainObject(t)&&(n=t,t=e("<div />")),this.callBase(t,n)},_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{iconSrc:{since:"15.1",alias:"icon"}})},_getDefaultOptions:function(){return e.extend(this.callBase(),{onExecute:null,id:null,title:"",icon:"",visible:!0,disabled:!1,renderStage:"onViewShown"})},execute:function(){var t=this._options.disabled;if(e.isFunction(t)&&(t=!!t.apply(this,arguments)),t)throw n.Error("E3004",this._options.id);this.fireEvent("beforeExecute",arguments),this._createActionByOption("onExecute").apply(this,arguments),this.fireEvent("afterExecute",arguments)},_render:function(){this.callBase(),this.element().addClass("dx-command")},_renderDisabledState:e.noop,_dispose:function(){this.callBase(),this.element().removeData(this.NAME)}});i("dxCommand",t.framework,o)}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=DevExpress.require("/framework/framework.errors");t.framework.CommandMapping=n.inherit({ctor:function(){this._commandMappings={},this._containerDefaults={}},setDefaults:function(e,t){return this._containerDefaults[e]=t,this},mapCommands:function(t,n){var i=this;return e.each(n,function(n,r){"string"==typeof r&&(r={id:r});var o=r.id,a=i._commandMappings[t]||{};a[o]=e.extend({showIcon:!0,showText:!0},i._containerDefaults[t]||{},r),i._commandMappings[t]=a}),this._initExistingCommands(),this},unmapCommands:function(t,n){var i=this;e.each(n,function(e,n){var r=i._commandMappings[t]||{};r&&delete r[n]}),this._initExistingCommands()},getCommandMappingForContainer:function(e,t){return(this._commandMappings[t]||{})[e]},checkCommandsExist:function(t){var n=this,r=e.grep(t,function(i,r){return e.inArray(i,n._existingCommands)<0&&e.inArray(i,t)===r});if(0!==r.length)throw i.Error("E3005",r.join("', '"),1===r.length?" is":"s are")},load:function(t){if(t){var n=this;return e.each(t,function(e,t){n.setDefaults(e,t.defaults),n.mapCommands(e,t.commands)}),this}},_initExistingCommands:function(){var t=this;this._existingCommands=[],e.each(t._commandMappings,function(n,i){e.each(i,function(n,i){e.inArray(i.id,t._existingCommands)<0&&t._existingCommands.push(i.id)})})}}),t.framework.CommandMapping.defaultMapping={"global-navigation":{defaults:{showIcon:!0,showText:!0},commands:[]},"ios-header-toolbar":{defaults:{showIcon:!1,showText:!0,location:"after"},commands:["edit","save",{id:"back",location:"before"},{id:"cancel",location:"before"},{id:"create",showIcon:!0,showText:!1}]},"ios-action-sheet":{defaults:{showIcon:!1,showText:!0},commands:[]},"ios-view-footer":{defaults:{showIcon:!1,showText:!0},commands:[{id:"delete",type:"danger"}]},"android-header-toolbar":{defaults:{showIcon:!0,showText:!1,location:"after"},commands:[{id:"back",showIcon:!1,location:"before"},"create",{id:"save",showText:!0,showIcon:!1,location:"after"},{id:"edit",showText:!1,location:"after"},{id:"cancel",showText:!1,location:"before"},{id:"delete",showText:!1,location:"after"}]},"android-simple-toolbar":{defaults:{showIcon:!0,showText:!1,location:"after"},commands:[{id:"back",showIcon:!1,location:"before"},{id:"create"},{id:"save",showText:!0,showIcon:!1,location:"after"},{id:"edit",showText:!1,location:"after"},{id:"cancel",showText:!1,location:"before"},{id:"delete",showText:!1,location:"after"}]},"android-footer-toolbar":{defaults:{location:"after"},commands:[{id:"create",showText:!1,location:"center"},{id:"edit",showText:!1,location:"before"},{id:"delete",location:"menu"},{id:"save",showIcon:!1,location:"before"}]},"generic-header-toolbar":{defaults:{showIcon:!1,showText:!0,location:"after"},commands:["edit","save",{id:"back",location:"before"},{id:"cancel",location:"before"},{id:"create",showIcon:!0,showText:!1}]},"generic-view-footer":{defaults:{showIcon:!1,showText:!0},commands:[{id:"delete",type:"danger"}]},"win8-appbar":{defaults:{location:"after"},commands:["edit","cancel","save","delete",{id:"create",location:"before"},{id:"refresh",location:"before"}]},"win8-toolbar":{defaults:{showText:!1,location:"before"},commands:[{id:"previousPage"}]},"win8-phone-appbar":{defaults:{location:"center"},commands:["create","edit","cancel","save","refresh",{id:"delete",location:"menu"}]},"win8-split-toolbar":{defaults:{showIcon:!0,showText:!1,location:"after"},commands:[{id:"back",showIcon:!1,location:"before"},{id:"create"},{id:"save",showText:!0,location:"before"},{id:"edit",showText:!0,location:"menu"},{id:"cancel",showText:!0,location:"menu"},{id:"delete",showText:!0,location:"menu"}]},"win8-master-detail-toolbar":{defaults:{showText:!1,location:"before"},commands:["back"]},"win10-appbar":{defaults:{showText:!1,location:"after"},commands:[{id:"back",location:"before"},"edit","cancel","save","delete","create","refresh"]},"win10-phone-appbar":{defaults:{location:"after"},commands:["create","edit","cancel","save","refresh",{id:"delete",location:"menu"}]},"desktop-toolbar":{defaults:{showIcon:!1,showText:!0,location:"after"},commands:["cancel","create","edit","save",{id:"delete",type:"danger"}]}}}(jQuery,DevExpress),function(e,t){var n,i=DevExpress.require("/class"),r=t.require("/eventsMixin");t.framework.ViewCache=i.inherit({ctor:function(){this._cache={}},setView:function(e,t){this._cache[e]=t},getView:function(e){return this._cache[e]},removeView:function(e){var t=this._cache[e];return t&&(delete this._cache[e],this.fireEvent("viewRemoved",[{viewInfo:t}])),t},clear:function(){var t=this;e.each(this._cache,function(e){t.removeView(e)})},hasView:function(e){return e in this._cache}}).include(r),t.framework.NullViewCache=t.framework.ViewCache.inherit({setView:function(e,t){this.callBase(e,t),this.removeView(e)}}),t.framework.ConditionalViewCacheDecorator=i.inherit({ctor:function(e){this._filter=e.filter,this._viewCache=e.viewCache,this.viewRemoved=this._viewCache.viewRemoved,this._events=this._viewCache._events},setView:function(e,t){this._viewCache.setView(e,t),this._filter(e,t)||this._viewCache.removeView(e)},getView:function(e){return this._viewCache.getView(e)},removeView:function(e){return this._viewCache.removeView(e)},clear:function(){return this._viewCache.clear()},hasView:function(e){return this._viewCache.hasView(e)}}).include(r),n=5,t.framework.CapacityViewCacheDecorator=i.inherit({ctor:function(e){this._keys=[],this._size=e.size||n,this._viewCache=e.viewCache,this.viewRemoved=this._viewCache.viewRemoved,this._events=this._viewCache._events},setView:function(e,t){this.hasView(e)||(this._keys.length===this._size&&this.removeView(this._keys[0]),this._keys.push(e)),this._viewCache.setView(e,t)},getView:function(t){var n=e.inArray(t,this._keys);return 0>n?null:(this._keys.push(t),this._keys.splice(n,1),this._viewCache.getView(t))},removeView:function(t){var n=e.inArray(t,this._keys);return n>-1&&this._keys.splice(n,1),this._viewCache.removeView(t)},clear:function(){return this._keys=[],this._viewCache.clear()},hasView:function(e){return this._viewCache.hasView(e)}}).include(r),t.framework.HistoryDependentViewCacheDecorator=i.inherit({ctor:function(n){this._viewCache=n.viewCache||new t.framework.ViewCache,this._navigationManager=n.navigationManager,this._navigationManager.on("itemRemoved",e.proxy(this._onNavigationItemRemoved,this)),this.viewRemoved=this._viewCache.viewRemoved,this._events=this._viewCache._events},_onNavigationItemRemoved:function(e){this.removeView(e.key)},setView:function(e,t){this._viewCache.setView(e,t)},getView:function(e){return this._viewCache.getView(e)},removeView:function(e){return this._viewCache.removeView(e)},clear:function(){return this._viewCache.clear()},hasView:function(e){return this._viewCache.hasView(e)}}).include(r)}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class");t.framework.MemoryKeyValueStorage=n.inherit({ctor:function(){this.storage={}},getItem:function(e){return this.storage[e]},setItem:function(e,t){this.storage[e]=t},removeItem:function(e){delete this.storage[e]}}),t.framework.StateManager=n.inherit({ctor:function(e){e=e||{},this.storage=e.storage||new t.framework.MemoryKeyValueStorage,this.stateSources=e.stateSources||[]},addStateSource:function(e){this.stateSources.push(e)},removeStateSource:function(t){var n=e.inArray(t,this.stateSources);n>-1&&(this.stateSources.splice(n,1),t.removeState(this.storage))},saveState:function(){var t=this;e.each(this.stateSources,function(e,n){n.saveState(t.storage)})},restoreState:function(){var t=this;e.each(this.stateSources,function(e,n){n.restoreState(t.storage)})},clearState:function(){var t=this;e.each(this.stateSources,function(e,n){n.removeState(t.storage)})}})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=t.require("/utils/utils.queue"),r="__root__",o="__buffer__";t.framework.DefaultBrowserAdapter=n.inherit({ctor:function(t){t=t||{},this._window=t.window||window,this.popState=e.Callbacks(),e(this._window).on("hashchange",e.proxy(this._onHashChange,this)),this._tasks=i.create(),this.canWorkInPureBrowser=!0},replaceState:function(e){var t=this;return this._addTask(function(){e=t._normalizeUri(e),t._window.history.replaceState(null,null,"#"+e),t._currentTask.resolve()})},pushState:function(e){var t=this;return this._addTask(function(){e=t._normalizeUri(e),t._window.history.pushState(null,null,"#"+e),t._currentTask.resolve()})},createRootPage:function(){return this.replaceState(r)},_onHashChange:function(){this._currentTask&&this._currentTask.resolve(),this.popState.fire()},back:function(){var e=this;return this._addTask(function(){e._window.history.back()})},getHash:function(){return this._normalizeUri(this._window.location.hash)},isRootPage:function(){return this.getHash()===r},_normalizeUri:function(e){return(e||"").replace(/^#+/,"")},_addTask:function(t){var n=this,i=e.Deferred();return this._tasks.add(function(){return n._currentTask=i,t(),i}),i.promise()}}),t.framework.OldBrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(){this._innerEventCount=0,this.callBase.apply(this,arguments),this._skipNextEvent=!1},replaceState:function(t){var n=this;return t=n._normalizeUri(t),n.getHash()!==t?(n._addTask(function(){n._skipNextEvent=!0,n._window.history.back()}),n._addTask(function(){n._skipNextEvent=!0,n._window.location.hash=t})):e.Deferred().resolve().promise()},pushState:function(t){var n=this;return t=this._normalizeUri(t),this.getHash()!==t?n._addTask(function(){n._skipNextEvent=!0,n._window.location.hash=t}):e.Deferred().resolve().promise()},createRootPage:function(){return this.pushState(r)},_onHashChange:function(){var e=this._currentTask;this._currentTask=null,this._skipNextEvent?this._skipNextEvent=!1:this.popState.fire(),e&&e.resolve()}}),t.framework.BuggyAndroidBrowserAdapter=t.framework.OldBrowserAdapter.inherit({createRootPage:function(){return this.pushState(o),this.callBase()}}),t.framework.HistorylessBrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(t){t=t||{},this._window=t.window||window,this.popState=e.Callbacks(),e(this._window).on("dxback",e.proxy(this._onHashChange,this)),this._currentHash=this._window.location.hash},replaceState:function(t){return this._currentHash=this._normalizeUri(t),e.Deferred().resolve().promise()},pushState:function(e){return this.replaceState(e)},createRootPage:function(){return this.replaceState(r)},getHash:function(){return this._normalizeUri(this._currentHash)},back:function(){return this.replaceState(r)},_onHashChange:function(){var e=this.back();return this.popState.fire(),e}}),t.framework.BuggyCordovaWP81BrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(e){this.callBase(e),this.canWorkInPureBrowser=!1}})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=t.require("/utils/utils.storage"),r=t.require("/devices"),o="dxPhoneJSApplication";t.framework.HistoryBasedNavigationDevice=n.inherit({ctor:function(t){t=t||{},this._browserAdapter=t.browserAdapter||this._createBrowserAdapter(t),this.uriChanged=e.Callbacks(),this._browserAdapter.popState.add(e.proxy(this._onPopState,this))},init:e.noop,getUri:function(){return this._browserAdapter.getHash()},setUri:function(t,n){return n?this._browserAdapter.replaceState(t):t!==this.getUri()?this._browserAdapter.pushState(t):e.Deferred().resolve().promise()},back:function(){return this._browserAdapter.back()},_onPopState:function(){this.uriChanged.fire(this.getUri())},_isBuggyAndroid2:function(){var e=r.real(),t=e.version;return"android"===e.platform&&t.length>1&&(2===t[0]&&t[1]<4||t[0]<2)},_isBuggyAndroid4:function(){var e=r.real(),t=e.version;return"android"===e.platform&&t.length>1&&4===t[0]&&0===t[1]},_isWindowsPhone8:function(){var e=r.real();return"win"===e.platform&&e.phone},_createBrowserAdapter:function(e){var n,i=e.window||window,r=i.history.replaceState&&i.history.pushState;return n=this._isWindowsPhone8()?new t.framework.BuggyCordovaWP81BrowserAdapter(e):i!==i.top?new t.framework.HistorylessBrowserAdapter(e):this._isBuggyAndroid4()?new t.framework.BuggyAndroidBrowserAdapter(e):this._isBuggyAndroid2()||!r?new t.framework.OldBrowserAdapter(e):new t.framework.DefaultBrowserAdapter(e)}}),t.framework.StackBasedNavigationDevice=t.framework.HistoryBasedNavigationDevice.inherit({ctor:function(t){this.callBase(t),this.backInitiated=e.Callbacks(),this._rootStateHandler=null,e(window).on("unload",this._saveBrowserState)},init:function(){var t=this;return t._browserAdapter.canWorkInPureBrowser?t._initRootPage().done(function(){t._browserAdapter.isRootPage()&&t._browserAdapter.pushState("")}):e.Deferred().resolve().promise()},setUri:function(e){return this.callBase(e,!this._browserAdapter.isRootPage())},_saveBrowserState:function(){var e=i.sessionStorage();e&&e.setItem(o,!0)},_initRootPage:function(){var t=this.getUri(),n=i.sessionStorage();return!n||n.getItem(o)?e.Deferred().resolve().promise():(n.removeItem(o),this._browserAdapter.createRootPage(),this._browserAdapter.pushState(t))},_onPopState:function(){this._browserAdapter.isRootPage()?this._rootStateHandler?this._rootStateHandler():this.backInitiated.fire():(this._rootStateHandler||this._createRootStateHndler(),this.back())},_createRootStateHndler:function(){var e=this.getUri();this._rootStateHandler=function(){this.uriChanged.fire(e),this._rootStateHandler=null}}})}(jQuery,DevExpress),function(e,t,n){var i=t.require("/class"),r=t.require("/eventsMixin"),o=t.require("/framework/framework.errors"),a=t.require("/utils/utils.common"),s=t.require("/utils/utils.hardwareBack").processCallback,l=t.require("/utils/utils.topOverlay").hide,u={current:"current",blank:"blank",back:"back"},c="__history";t.framework.HistoryBasedNavigationManager=i.inherit({ctor:function(e){e=e||{},this._currentItem=n,this._previousItem=n,this._createNavigationDevice(e)},_createNavigationDevice:function(n){this._navigationDevice=n.navigationDevice||new t.framework.HistoryBasedNavigationDevice,this._navigationDevice.uriChanged.add(e.proxy(this._uriChangedHandler,this))},_uriChangedHandler:function(e){for(;l(););this.navigate(e)},_syncUriWithCurrentNavigationItem:function(){var e=this._currentItem&&this._currentItem.uri;this._navigationDevice.setUri(e,!0)},_cancelNavigation:function(e){this._syncUriWithCurrentNavigationItem(),this.fireEvent("navigationCanceled",[e])},_getDefaultOptions:function(){return{direction:"none",target:u.blank}},_updateHistory:function(e,t){this._previousItem=this._currentItem,this._currentItem={uri:e,key:e},this._navigationDevice.setUri(e,t.target===u.current)},_setCurrentItem:function(e){this._currentItem=e},navigate:function(t,i){i=i||{};var r,o=this,s=!o._currentItem,l=o._currentItem||{},c=i.item||{},d=l.uri,h=l.key,p=c.key;return t===n&&(t=o._navigationDevice.getUri()),/^_back$/.test(t)?void o.back():(i=e.extend(o._getDefaultOptions(),i||{}),s&&(i.target=u.current),r={currentUri:d,uri:t,cancel:!1,navigateWhen:[],options:i},o.fireEvent("navigating",[r]),t=r.uri,r.cancel||d===t&&(p===n||p===h)&&!o._forceNavigate?o._cancelNavigation(r):(o._forceNavigate=!1,e.when.apply(e,r.navigateWhen).done(function(){a.executeAsync(function(){o._updateHistory(t,i),o.fireEvent("navigated",[{uri:t,previousUri:d,options:i,item:o._currentItem}])})})),void 0)},back:function(){return this._navigationDevice.back()},previousItem:function(){return this._previousItem},currentItem:function(e){if(!(arguments.length>0))return this._currentItem;if(!e)throw o.Error("E3023");this._setCurrentItem(e)},rootUri:function(){return this._currentItem&&this._currentItem.uri},canBack:function(){return!0},saveState:e.noop,restoreState:e.noop,removeState:e.noop}).include(r),t.framework.StackBasedNavigationManager=t.framework.HistoryBasedNavigationManager.inherit({ctor:function(t){t=t||{},this.callBase(t),this._createNavigationStacks(t),s.add(e.proxy(this._deviceBackInitiated,this)),this._stateStorageKey=t.stateStorageKey||c},init:function(){return this._navigationDevice.init()},_createNavigationDevice:function(n){n.navigationDevice||(n.navigationDevice=new t.framework.StackBasedNavigationDevice),this.callBase(n),this._navigationDevice.backInitiated.add(e.proxy(this._deviceBackInitiated,this))},_uriChangedHandler:function(e){this.navigate(e)},_createNavigationStacks:function(e){this.navigationStacks={},this._keepPositionInStack=e.keepPositionInStack,this.currentStack=new t.framework.NavigationStack},_deviceBackInitiated:function(){l()?this._syncUriWithCurrentNavigationItem():this.back({isHardwareButton:!0})},_getDefaultOptions:function(){return{target:u.blank}},_createNavigationStack:function(){var n=new t.framework.NavigationStack;return n.itemsRemoved.add(e.proxy(this._removeItems,this)),n},_setCurrentItem:function(e){this._setCurrentStack(e.stack),this.currentStack.currentItem(e),this.callBase(e),this._syncUriWithCurrentNavigationItem()},_setCurrentStack:function(t){var n,i;"string"==typeof t?(i=t,i in this.navigationStacks||(this.navigationStacks[i]=this._createNavigationStack()),n=this.navigationStacks[i]):(n=t,i=e.map(this.navigationStacks,function(e,n){return e===t?n:null})[0]),this.currentStack=n,this.currentStackKey=i},_getViewTargetStackKey:function(e,t){var i,r;if(t)if(this.navigationStacks[e]!==n)i=e;else{for(r in this.navigationStacks)if(this.navigationStacks[r].items[0].uri===e){i=r;break}i=i||e}else i=this.currentStackKey||e;return i},_updateHistory:function(e,t){var i,r,a,s=t.root,l=s,c=!1,d=this.currentStack,h=t.keepPositionInStack!==n?t.keepPositionInStack:this._keepPositionInStack;if(t.stack=t.stack||this._getViewTargetStackKey(e,s),this._setCurrentStack(t.stack),(s||!this.currentStack.items.length)&&(c=this.currentStack===d,l=!0),s&&this.currentStack.items.length)(!h||c)&&(this.currentStack.currentIndex=0,this.currentItem().uri!==e&&this.currentStack.navigate(e,!0)),t.direction=t.direction||"none";else{switch(i=this.currentStack.currentIndex,r=this.currentItem()||{},t.target){case u.blank:this.currentStack.navigate(e);break;case u.current:this.currentStack.navigate(e,!0);break;case u.back:this.currentStack.currentIndex>0?this.currentStack.back(e):this.currentStack.navigate(e,!0);break;default:throw o.Error("E3006",t.target)}t.direction===n&&(a=this.currentStack.currentIndex-i,t.direction=0>a?this.currentStack.currentItem().backDirection||"backward":a>0&&this.currentStack.currentIndex>0?"forward":"none"),r.backDirection="forward"===t.direction?"backward":"none"}t.root=l,this._currentItem=this.currentStack.currentItem(),this._syncUriWithCurrentNavigationItem()},_removeItems:function(t){var n=this;e.each(t,function(e,t){n.fireEvent("itemRemoved",[t])})},back:function(t){var n,i;return t=t||{},n=e.extend({cancel:!1},t),this.fireEvent("navigatingBack",[n]),n.cancel?void this._syncUriWithCurrentNavigationItem():(i=this.previousItem(n.stack),void(i?this.navigate(i.uri,{stack:n.stack,target:u.back,item:i}):this.callBase()))},rootUri:function(){return this.currentStack.items.length?this.currentStack.items[0].uri:this.callBase()},canBack:function(e){var t=e?this.navigationStacks[e]:this.currentStack;return t.canBack()},saveState:function(t){var n,i;this.currentStack.items.length?(n={navigationStacks:{},currentStackKey:this.currentStackKey},e.each(this.navigationStacks,function(t,i){var r={};n.navigationStacks[t]=r,r.currentIndex=i.currentIndex,r.items=e.map(i.items,function(e){return{key:e.key,uri:e.uri}})}),i=JSON.stringify(n),t.setItem(this._stateStorageKey,i)):this.removeState(t)},restoreState:function(t){var n,i,r;if(!this.disableRestoreState&&(n=t.getItem(this._stateStorageKey)))try{i=this,r=JSON.parse(n),e.each(r.navigationStacks,function(t,n){var r=i._createNavigationStack();i.navigationStacks[t]=r,r.currentIndex=n.currentIndex,r.items=e.map(n.items,function(e){return e.stack=r,e})}),this.currentStackKey=r.currentStackKey,this.currentStack=this.navigationStacks[this.currentStackKey],this._currentItem=this.currentStack.currentItem(),this._navigationDevice.setUri(this.currentItem().uri),this._forceNavigate=!0}catch(a){throw this.removeState(t),o.Error("E3007")}},removeState:function(e){e.removeItem(this._stateStorageKey)},currentIndex:function(){return this.currentStack.currentIndex},previousItem:function(e){var t=this.navigationStacks[e]||this.currentStack;return t.previousItem()},getItemByIndex:function(e){return this.currentStack.items[e]},clearHistory:function(){this._createNavigationStacks({keepPositionInStack:this._keepPositionInStack})},itemByKey:function(t){var n;return e.each(this.navigationStacks,function(e,i){var r=i.itemByKey(t);return r?(n=r,!1):void 0}),n},currentItem:function(t){var n;return arguments.length>0?("string"==typeof t?n=this.itemByKey(t):e.isPlainObject(t)&&(n=t),void this.callBase(n)):this.callBase()}}),t.framework.NavigationStack=i.inherit({ctor:function(t){t=t||{},this.itemsRemoved=e.Callbacks(),this.clear()},currentItem:function(e){if(!e)return this.items[this.currentIndex];for(var t=0;t<this.items.length;t++)if(e===this.items[t]){this.currentIndex=t;break}},previousItem:function(){return this.items.length>1?this.items[this.currentIndex-1]:n},canBack:function(){return this.currentIndex>0},clear:function(){this._deleteItems(this.items),this.items=[],this.currentIndex=-1},back:function(e){if(this.currentIndex--,this.currentIndex<0)throw o.Error("E3008");var t=this.currentItem();t.uri!==e&&this._updateItem(this.currentIndex,e)},forward:function(){if(this.currentIndex++,this.currentIndex>=this.items.length)throw o.Error("E3009")},navigate:function(e,t){if(!(this.currentIndex<this.items.length&&this.currentIndex>-1&&this.items[this.currentIndex].uri===e)){if(t&&this.currentIndex>-1&&this.currentIndex--,this.currentIndex+1<this.items.length&&this.items[this.currentIndex+1].uri===e)this.currentIndex++;else{var n=this.items.splice(this.currentIndex+1,this.items.length-this.currentIndex-1);this.items.push({stack:this}),this.currentIndex++,this._updateItem(this.currentIndex,e),this._deleteItems(n)}return this.currentItem()}},itemByKey:function(e){for(var t,n=0;n<this.items.length;n++)if(t=this.items[n],t.key===e)return t},_updateItem:function(e,t){var n=this.items[e];n.uri=t,n.key=this.items[0].uri+"_"+e+"_"+t},_deleteItems:function(e){e&&this.itemsRemoved.fire(e)}})}(jQuery,DevExpress),function(e,t,n){function i(t,n){if(n.args){var i=n.args[0];t.jQueryEvent=i.jQueryEvent}"dxCommand"===(n.component||{}).NAME&&e.extend(t,n.component.option())}function r(t){if(t){var n=e(t.target);n.attr("href")&&t.preventDefault()}}t.framework.createActionExecutors=function(o){return{routing:{execute:function(t){var n,a,s=t.action,l={};e.isPlainObject(s)&&(n=s.routeValues,n&&e.isPlainObject(n)?l=s.options:n=s,a=o.router.format(n),i(l,t),r(l.jQueryEvent),o.navigate(a,l),t.handled=!0)}},hash:{execute:function(a){var s;if("string"==typeof a.action&&"#"===a.action.charAt(0)){var l=a.action.substr(1),u=a.args[0],c=l,d=function(e){var n=t.data.utils.compileGetter(e),i=a.args[0].model;return n(i)},h=u.evaluate||d;c=l.replace(/\{([^}]+)\}/g,function(i,r){r=e.trim(r),r.indexOf(",")>-1&&(r=e.map(r.split(","),e.trim));var o=h(r);return o===n&&(o=""),o=t.framework.Route.prototype.formatSegment(o)}),s={},i(s,a),r(s.jQueryEvent),o.navigate(c,s),a.handled=!0}}}}}}(jQuery,DevExpress),function(e,t){var n,i=t.require("/class"),r=i["abstract"],o=t.require("/eventsMixin"),a=t.require("/action"),s=t.require("/utils/utils.storage"),l=t.require("/utils/utils.common"),u=t.require("/framework/framework.errors"),c="InProgress",d="Inited",h=t.framework;t.framework.Application=i.inherit({ctor:function(i){i=i||{},this._options=i,this.namespace=i.namespace||window,this._applicationMode=i.mode?i.mode:"mobileApp",this.components=[],n=t.localization.localizeString("@Back"),this.router=i.router||new t.framework.Router;var r={mobileApp:t.framework.StackBasedNavigationManager,webSite:t.framework.HistoryBasedNavigationManager};this.navigationManager=i.navigationManager||new r[this._applicationMode]({keepPositionInStack:"keepHistory"===i.navigateToRootViewMode}),this.navigationManager.on("navigating",e.proxy(this._onNavigating,this)),this.navigationManager.on("navigatingBack",e.proxy(this._onNavigatingBack,this)),this.navigationManager.on("navigated",e.proxy(this._onNavigated,this)),this.navigationManager.on("navigationCanceled",e.proxy(this._onNavigationCanceled,this)),this.stateManager=i.stateManager||new t.framework.StateManager({storage:i.stateStorage||s.sessionStorage()}),this.stateManager.addStateSource(this.navigationManager),this.viewCache=this._createViewCache(i),this.commandMapping=this._createCommandMapping(i.commandMapping),this.createNavigation(i.navigation),this._isNavigating=!1,this._viewLinksHash={},a.registerExecutor(t.framework.createActionExecutors(this)),this.components.push(this.router),this.components.push(this.navigationManager)},_createViewCache:function(n){var i;return i=n.viewCache?n.viewCache:n.disableViewCache?new t.framework.NullViewCache:new t.framework.CapacityViewCacheDecorator({size:n.viewCacheSize,viewCache:new t.framework.ViewCache}),i.on("viewRemoved",e.proxy(function(e){this._releaseViewLink(e.viewInfo)},this)),i},_createCommandMapping:function(e){var n=e;return e instanceof t.framework.CommandMapping||(n=new t.framework.CommandMapping,n.load(t.framework.CommandMapping.defaultMapping||{}).load(e||{})),n},createNavigation:function(e){this.navigation=this._createNavigationCommands(e),this._mapNavigationCommands(this.navigation,this.commandMapping)},_createNavigationCommands:function(t){if(!t)return[];var n=0;return e.map(t,function(t){var i;return i=t instanceof h.dxCommand?t:new h.dxCommand(e.extend({root:!0},t)),i.option("id")||i.option("id","navigation_"+n++),i})},_mapNavigationCommands:function(t,n){var i=e.map(t,function(e){return e.option("id")});n.mapCommands("global-navigation",i)},_callComponentMethod:function(t,n){var i=[];return e.each(this.components,function(r,o){if(o[t]&&e.isFunction(o[t])){var a=o[t](n);a&&a.done&&i.push(a)}}),e.when.apply(e,i)},init:function(){var e=this;return e._initState=c,e._callComponentMethod("init").done(function(){e._initState=d,e._processEvent("initialized")}).fail(function(e){throw e||u.Error("E3022")})},_onNavigatingBack:function(e){this._processEvent("navigatingBack",e)},_onNavigating:function(e){var t,n,i=this;if(i._isNavigating)return i._pendingNavigationArgs=e,void(e.cancel=!0);if(i._isNavigating=!0,delete i._pendingNavigationArgs,t=this.router.parse(e.uri),!t)throw u.Error("E3001",e.uri);n=this.router.format(t),e.uri!==n&&n?(e.cancel=!0,e.cancelReason="redirect",l.executeAsync(function(){i.navigate(n,e.options)})):i._processEvent("navigating",e)},_onNavigated:function(e){var t,n=this,i=e.options.direction,r=n._acquireViewInfo(e.item,e.options);return r.model||(this._processEvent("beforeViewSetup",{viewInfo:r}),n._createViewModel(r),n._createViewCommands(r),this._processEvent("afterViewSetup",{viewInfo:r})),n._highlightCurrentNavigationCommand(r),t=n._showView(r,i).always(function(){n._isNavigating=!1;var e=n._pendingNavigationArgs;e&&l.executeAsync(function(){n.navigate(e.uri,e.options)})})},_isViewReadyToShow:function(e){return!!e.model},_onNavigationCanceled:function(e){var t,n=this;n._pendingNavigationArgs&&n._pendingNavigationArgs.uri===e.uri||(t=n.navigationManager.currentItem(),t&&l.executeAsync(function(){var i=n._acquireViewInfo(t,e.options);n._highlightCurrentNavigationCommand(i,!0)}),n._isNavigating=!1)},_disposeRemovedViews:function(){var t,n=this;e.each(n._viewLinksHash,function(e,i){i.linkCount||(t={viewInfo:i.viewInfo},n._processEvent("viewDisposing",t,t.viewInfo.model),n._disposeView(i.viewInfo),n._processEvent("viewDisposed",t,t.viewInfo.model),delete n._viewLinksHash[e])})},_onViewHidden:function(e){var t={viewInfo:e};this._processEvent("viewHidden",t,t.viewInfo.model)},_disposeView:function(t){var n=t.commands||[];e.each(n,function(e,t){t._dispose()})},_acquireViewInfo:function(e,t){var n=this.router.parse(e.uri),i=this._getViewInfoKey(e,n),r=this.viewCache.getView(i);return r?this._updateViewInfo(r,e,t):(r=this._createViewInfo(e,t),this._obtainViewLink(r),this.viewCache.setView(i,r)),r},_getViewInfoKey:function(e,t){var n={key:e.key,navigationItem:e,routeData:t};return this._processEvent("resolveViewCacheKey",n),n.key},_processEvent:function(e,t,n){this._callComponentMethod(e,t),this.fireEvent(e,t&&[t]);var i=(n||{})[e];i&&i.call(n,t)},_updateViewInfo:function(e,t,n){var i=t.uri,r=this.router.parse(i);e.viewName=r.view,e.routeData=r,e.uri=i,e.navigateOptions=n,e.canBack=this.canBack(n.stack),e.previousViewInfo=this._getPreviousViewInfo(n)},_createViewInfo:function(e,t){var n=e.uri,i=this.router.parse(n),r={key:this._getViewInfoKey(e,i)};return this._updateViewInfo(r,e,t),r},_createViewModel:function(e){e.model=e.model||this._callViewCodeBehind(e)},_createViewCommands:function(e){e.commands=e.model.commands||[],e.canBack&&"webSite"!==this._applicationMode&&this._appendBackCommand(e)},_callViewCodeBehind:function(t){var n=e.noop,i=t.routeData;return i.view in this.namespace&&(n=this.namespace[i.view]),n.call(this.namespace,i,t)||{}},_appendBackCommand:function(e){var i,r,o=e.commands,a=this,s=n;a._options.useViewTitleAsBackText&&(s=((e.previousViewInfo||{}).model||{}).title||s),i=[new t.framework.dxCommand({id:"back",title:s,behavior:"back",onExecute:function(){a.back({stack:e.navigateOptions.stack})},icon:"arrowleft",type:"back",renderStage:a._options.useViewTitleAsBackText?"onViewRendering":"onViewShown"})],r=t.framework.utils.mergeCommands(i,o),o.length=0,o.push.apply(o,r)},_showView:function(e,n){var i=this,r={viewInfo:e,direction:n,params:e.routeData};return t.data.utils.processRequestResultLock.obtain(),i._showViewImpl(r.viewInfo,r.direction).done(function(){l.executeAsync(function(){t.data.utils.processRequestResultLock.release(),i._processEvent("viewShown",r,e.model),
i._disposeRemovedViews()})})},_highlightCurrentNavigationCommand:function(t,n){var i,r=this,o=t.model&&t.model.currentNavigationItemId;void 0!==o&&e.each(this.navigation,function(e,t){return t.option("id")===o?(i=t,!1):void 0}),i||e.each(this.navigation,function(e,t){var n=t.option("onExecute");return l.isString(n)&&(n=n.replace(/^#+/,""),n===r.navigationManager.rootUri())?(i=t,!1):void 0}),e.each(this.navigation,function(e,t){n&&t===i&&t.option("highlighted")&&t.fireEvent("optionChanged",[{name:"highlighted",value:!0,previousValue:!0}]),t.option("highlighted",t===i)})},_showViewImpl:r,_obtainViewLink:function(e){var t=e.key;this._viewLinksHash[t]?this._viewLinksHash[t].linkCount++:this._viewLinksHash[t]={viewInfo:e,linkCount:1}},_releaseViewLink:function(e){this._viewLinksHash[e.key].linkCount--},navigate:function(t,n){var i=this;if(e.isPlainObject(t)&&(t=i.router.format(t),t===!1))throw u.Error("E3002");if(i._initState){if(i._initState!==d)throw u.Error("E3003");(!i._isNavigating||t)&&i.navigationManager.navigate(t,n)}else i.init().done(function(){i.restoreState(),i.navigate(t,n)})},canBack:function(e){return this.navigationManager.canBack(e)},_getPreviousViewInfo:function(e){var t,n,i=this.navigationManager.previousItem(e.stack);return i&&(n=this.router.parse(i.uri),t=this.viewCache.getView(this._getViewInfoKey(i,n))),t},back:function(e){this.navigationManager.back(e)},saveState:function(){this.stateManager.saveState()},restoreState:function(){this.stateManager.restoreState()},clearState:function(){this.stateManager.clearState()}}).include(o)}(jQuery,DevExpress),function(e,t){t.framework.html={layoutSets:{},animationSets:{"native":{"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"none",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"none",device:{grade:"C"}}]},"default":{"layout-change":[{animation:"none"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"pop",device:{platform:"android"}},{animation:"openDoor",device:{deviceType:"phone",platform:"win",version:[8]}},{animation:"win-pop",device:{deviceType:"phone",platform:"win"}}],"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"fade",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-content-rendered":[{animation:"fade"},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"none",device:{grade:"C"}}],"command-rendered-top":[{animation:"stagger-fade-drop"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}},{animation:"none",device:{platform:"win",version:[10]}}],"command-rendered-bottom":[{animation:"stagger-fade-rise"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}},{animation:"none",device:{platform:"win",version:[10]}}],"list-item-rendered":[{animation:"stagger-3d-drop",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"detail-item-rendered":[{animation:"stagger-3d-drop",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"edit-item-rendered":[{animation:"stagger-3d-drop",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}]},slide:{"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"fade",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-content-rendered":[{animation:"fade"},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"none",device:{grade:"C"}}],"command-rendered-top":[{animation:"stagger-fade-drop"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"command-rendered-bottom":[{animation:"stagger-fade-rise"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"list-item-rendered":[{animation:"stagger-fade-slide",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"detail-item-rendered":[{animation:"stagger-fade-slide",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"edit-item-rendered":[{animation:"stagger-fade-slide",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}]},zoom:{"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"fade",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-content-rendered":[{animation:"fade"},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"command-rendered-top":[{animation:"stagger-fade-zoom"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"command-rendered-bottom":[{animation:"stagger-fade-zoom"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"list-item-rendered":[{animation:"stagger-fade-zoom",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"detail-item-rendered":[{animation:"stagger-fade-zoom",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"edit-item-rendered":[{animation:"stagger-fade-zoom",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}]}}}}(jQuery,DevExpress),function(e,t){var n=t.require("/class"),i=t.require("/utils/utils.publicComponent"),r=t.require("/ui/events/ui.events.remove"),o=n.inherit({ctor:function(t,n){this.NAME=this.constructor.publicName(),n=n||{},this._$element=e(t).one(r.name,e.proxy(function(){this._dispose()},this)),i.attachInstanceToElement(this._$element,this.NAME,this),n.fromCache?this._options=n:(this._options={},this._setDefaultOptions(),n&&this.option(n),this._render())},_setDefaultOptions:e.noop,_render:e.noop,_dispose:e.noop,element:function(){return this._$element},option:function(t,n){if(0===arguments.length)return this._options;if(1===arguments.length){if("string"==typeof t)return this._options[t];n=t,e.extend(this._options,n)}else this._options[t]=n},instance:function(){return this}});o.publicName=i.getName,o.getInstance=function(e){return i.getInstanceByElement(e,this.publicName())},e.extend(t.framework.html,{MarkupComponent:o})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=t.framework.utils.commandToContainer,r="dxCommandToWidgetAdapter",o=n.inherit({ctor:function(e,t){this.command=e,this.widgetItem=this._createWidgetItem(e,t)},_createWidgetItem:function(t,n){var r,o=e.extend({},n,t.option()),a=function(e){t.execute(e)};return o.text=i.resolveTextValue(t,n),o.icon=i.resolveIconValue(t,n),o.type=i.resolvePropertyValue(t,n,"type"),o.location=i.resolvePropertyValue(t,n,"location"),r=this._createWidgetItemCore(o,a),r.command=t,r},_createWidgetItemCore:function(e){return e},dispose:function(){delete this.command,delete this.widgetItem}}),a=n.inherit({ctor:function(n){this._commandToWidgetItemOptionNames={},this.$widgetElement=n,this.$widgetElement.data(r,this),this.widget=this._getWidgetByElement(n),this._widgetWidgetContentReadyHandler=e.proxy(this._onWidgetContentReady,this),this._widgetWidgetItemRenderedHandler=e.proxy(this._onWidgetItemRendered,this),this._widgetDisposingHandler=e.proxy(this._onWidgetDisposing,this),this.widget.on("itemRendered",this._widgetWidgetItemRenderedHandler),this.widget.on("contentReady",this._widgetWidgetContentReadyHandler),this.widget.on("disposing",this._widgetDisposingHandler),this.itemWrappers=[],this._transitionExecutor=new t.TransitionExecutor},addCommand:function(t,n){var i=this._createItemWrapper(t,n);this.itemWrappers.push(i),this._addItemToWidget(i),this._commandChangedHandler=e.proxy(this._onCommandChanged,this),i.command.on("optionChanged",this._commandChangedHandler)},beginUpdate:function(){this.widget.beginUpdate()},endUpdate:function(){return this.widget.endUpdate(),this.animationDeferred},_onWidgetItemRendered:function(e){e.itemData.isJustAdded&&e.itemData.command&&e.itemData.command.option("visible")&&this._commandRenderedAnimation&&(this._transitionExecutor.enter(e.itemElement,this._commandRenderedAnimation),delete e.itemData.isJustAdded)},_onWidgetContentReady:function(){this.animationDeferred=this._transitionExecutor.start()},_onWidgetDisposing:function(){this.dispose(!0)},_setWidgetItemOption:function(t,n,i){var r,o=this.widget.option("items"),a=e.inArray(i,e.map(o,function(e){return e.command||{}}));a>-1&&(r="items["+a+"].","visible"!==t&&"location"!==t&&this.widget.option("items["+a+"]").options&&(r+="options."),r+=this._commandToWidgetItemOptionNames[t]||t,this.widget.option(r,n))},_onCommandChanged:function(e){"highlighted"!==e.name&&this._setWidgetItemOption(e.name,e.value,e.component)},_addItemToWidget:function(e){var t=this.widget.option("items");t.push(e.widgetItem),this.widget.element().is(":visible")&&(e.widgetItem.isJustAdded=!0),this.widget.option("items",t)},refresh:function(){var e=this.widget.option("items");this.widget.option("items",e)},clear:function(t){var n=this;e.each(n.itemWrappers,function(e,t){t.command.off("optionChanged",n._commandChangedHandler),t.dispose()}),this.itemWrappers.length=0,t||this._clearWidgetItems()},_clearWidgetItems:function(){this.widget.option("items",[])},dispose:function(e){this.clear(e),this.widget&&(this.widget.off("itemRendered",this._widgetWidgetItemRenderedHandler),this.widget.off("contentReady",this._widgetContentReadyHandler),this.widget.off("disposing",this._widgetDisposingHandler),this.$widgetElement.removeData(r),delete this.widget,delete this.$widgetElement)}}),s=n.inherit({ctor:function(e){this.createAdapter=e},_getWidgetAdapter:function(e){var t=e.data(r);return t||(t=this.createAdapter(e)),t},addCommand:function(e,t,n){var i=this._getWidgetAdapter(e);i.addCommand(t,n)},clearContainer:function(e){var t=this._getWidgetAdapter(e);t.clear()},beginUpdate:function(e){var t=this._getWidgetAdapter(e);t.beginUpdate()},endUpdate:function(e){var t=this._getWidgetAdapter(e);return t.endUpdate()}}),l=o.inherit({_createWidgetItemCore:function(e,t){var n;return e.onClick=t,"menu"===e.location?n=e:(n={location:e.location,visible:e.visible,options:e,widget:"button"},e.visible=!0,delete e.location),n}}),u=a.inherit({ctor:function(e){this.callBase(e),this._commandToWidgetItemOptionNames={title:"text"},this._commandRenderedAnimation="topToolbar"===this.widget.option("renderAs")?"command-rendered-top":"command-rendered-bottom"},_getWidgetByElement:function(e){return e.dxToolbar("instance")},_createItemWrapper:function(e,t){return new l(e,t)},addCommand:function(e,t){this.widget.option("visible",!0),this.callBase(e,t)}}),c=o.inherit({_createWidgetItemCore:function(e,t){return e.title=e.text,e.onClick=t,e}}),d=a.inherit({_createItemWrapper:function(e,t){return new c(e,t)},_getWidgetByElement:function(e){return e.dxList("instance")}}),h=o.inherit({}),p=a.inherit({ctor:function(t){this.callBase(t),this._commandToWidgetItemOptionNames={title:"text"},this.widget.option("onItemClick",e.proxy(this._onNavBarItemClick,this))},_onNavBarItemClick:function(e){for(var t=this.widget.option("items"),n=t.length;--n;)t[n].command.option("highlighted",!1);e.itemData.command.execute(e)},_getWidgetByElement:function(e){return e.dxNavBar("instance")},_createItemWrapper:function(e,t){return new h(e,t)},addCommand:function(e,t){this.callBase(e,t),this._updateSelectedIndex()},_onCommandChanged:function(e){var t=e.name,n=e.value;"highlighted"===t&&n&&this._updateSelectedIndex(),this.callBase(e)},_updateSelectedIndex:function(){for(var e,t=this.widget.option("items"),n=0,i=t.length;i>n;n++)if(e=t[n].command,e&&e.option("highlighted")){this.widget.option("selectedIndex",n);break}}}),f=o.inherit({_createWidgetItemCore:function(e){return e.title=e.text,e}}),m=a.inherit({ctor:function(t){this.callBase(t),this.widget.option("onSelectionChanged",e.proxy(this._onPivotSelectionChange,this))},_onPivotSelectionChange:function(e){e.addedItems.length&&e.removedItems.length&&e.addedItems[0]&&e.addedItems[0].command&&e.addedItems[0].command.execute(e)},_getWidgetByElement:function(e){return e.dxPivot("instance")},_createItemWrapper:function(e,t){return new f(e,t)},addCommand:function(e,t){this.callBase(e,t),this._updateSelectedIndex()},_onCommandChanged:function(e){var t=e.name,n=e.value;"visible"===t?this._rerenderPivot():"highlighted"===t&&n&&this._updateSelectedIndex(),this.callBase(e)},_addItemToWidget:function(e){e.command.option("visible")&&this.callBase(e)},_updateSelectedIndex:function(){var e,n,i,r=this.widget,o=r.option("items")||[];for(t.fx.off=!0,e=0,n=o.length;n>e;e++)if(i=o[e].command,i&&i.option("highlighted")){r.option("selectedIndex",e);break}t.fx.off=!1},_rerenderPivot:function(){var t=this;t.widget.option("items",[]),e.each(t.itemWrappers,function(e,n){n.command.option("visible")&&t._addItemToWidget(n)}),t.refresh(),t._updateSelectedIndex()}}),g=o.inherit({}),_=a.inherit({ctor:function(t){this.callBase(t),this._commandToWidgetItemOptionNames={title:"text"},this.widget.option("onItemClick",e.proxy(this._onSlideOutItemClick,this))},_onSlideOutItemClick:function(e){e.itemData.command.execute(e)},_getWidgetByElement:function(e){return e.dxSlideOut("instance")},_createItemWrapper:function(e,t){return new g(e,t)},_updateSelectedIndex:function(){for(var e,t=this.widget.option("items")||[],n=0,i=t.length;i>n;n++)if(e=t[n].command,e&&e.option("highlighted")){this.widget.option("selectedIndex",n);break}},addCommand:function(e,t){this.callBase(e,t),this._updateSelectedIndex()},_onCommandChanged:function(e){var t=e.name,n=e.value;"highlighted"===t&&n&&this._updateSelectedIndex(),this.callBase(e)}}),v=t.framework.html.commandToDXWidgetAdapters={};v.dxToolbar=new s(function(e){return new u(e)}),v.dxList=new s(function(e){return new d(e)}),v.dxNavBar=new s(function(e){return new p(e)}),v.dxPivot=new s(function(e){return new m(e)}),v.dxSlideOut=new s(function(e){return new _(e)})}(jQuery,DevExpress),function(e,t){var n=DevExpress.require("/class"),i=DevExpress.require("/framework/framework.errors"),r=t.require("/componentRegistrator"),o=t.framework.html.MarkupComponent.inherit({ctor:function(t,n){e.isPlainObject(t)&&(n=t,t=e("<div />")),this.callBase(t,n)},_setDefaultOptions:function(){this.callBase(),this.option({id:null})},_render:function(){this.callBase(),this.element().addClass("dx-command-container")}});r("dxCommandContainer",t.framework,o),t.framework.html.CommandManager=n.inherit({ctor:function(e){e=e||{},this.defaultWidgetAdapter=e.defaultWidgetAdapter||this._getDefaultWidgetAdapter(),this.commandMapping=e.commandMapping||new t.framework.CommandMapping},_getDefaultWidgetAdapter:function(){return{addCommand:e.noop,clearContainer:e.noop}},_getContainerAdapter:function(e){var n,i,r=e.data("dxComponents"),o=t.framework.html.commandToDXWidgetAdapters;if(r)for(n in r)if(i=r[n],i in o)return o[i];return this.defaultWidgetAdapter},findCommands:function(t){return e.map(t.addBack().find(".dx-command"),function(t){return e(t).dxCommand("instance")})},findCommandContainers:function(t){return e.map(t.find(".dx-command-container"),function(t){return e(t).dxCommandContainer("instance")})},_checkCommandId:function(e,t){if(null===e)throw i.Error("E3010",t.element().get(0).outerHTML)},renderCommandsToContainers:function(t,n){var i=this,r={},o=[],a=[];return e.each(t,function(e,t){var n=t.option("id");i._checkCommandId(n,t),o.push(n),r[n]=t}),i.commandMapping.checkCommandsExist(o),e.each(n,function(t,n){var o,s=[];e.each(r,function(e,t){var r=e,o=i.commandMapping.getCommandMappingForContainer(r,n.option("id"));o&&s.push({command:t,options:o})}),s.length&&(o=i._attachCommandsToContainer(n.element(),s),o&&a.push(o))}),e.when.apply(e,a)},clearContainer:function(e){var t=e.element(),n=this._getContainerAdapter(t);n.clearContainer(t)},_arrangeCommandsToContainers:function(e,t){i.log("W0002","CommandManager","_arrangeCommandsToContainers","14.1","Use the 'renderCommandsToContainers' method instead."),this.renderCommandsToContainers(e,t)},_attachCommandsToContainer:function(t,n){var i,r=this._getContainerAdapter(t);return r.beginUpdate&&r.beginUpdate(t),e.each(n,function(e,n){r.addCommand(t,n.command,n.options)}),r.endUpdate&&(i=r.endUpdate(t)),i}})}(jQuery,DevExpress),function(e,t,n){var i,r=DevExpress.require("/class"),o=t.require("/eventsMixin"),a=DevExpress.require("/framework/framework.errors"),s=t.require("/utils/utils.common"),l=t.require("/utils/utils.dom"),u="__hidden-bag",c=".dx-transition:not(.dx-transition .dx-transition)",d=".dx-content",h="onViewShown",p="dxcontentrendered.layoutController",f=".dx-pending-rendering",m=".dx-pending-rendering-manual",g=function(e){return".dx-transition-"+e};t.framework.html.DefaultLayoutController=r.inherit({ctor:function(e){e=e||{},this.name=e.name||"",this._layoutModel=e.layoutModel||{},this._defaultPaneName=e.defaultPaneName||"content",this._transitionDuration=e.transitionDuration===n?400:e.transitionDuration},init:function(n){n=n||{},this._visibleViews={},this._$viewPort=n.$viewPort||e("body"),this._commandManager=n.commandManager,this._viewEngine=n.viewEngine,this.transitionExecutor=new t.TransitionExecutor,this._prepareTemplates(),this._$viewPort.append(this.element()),this._hideElements(this.element()),n.templateContext&&(this._templateContext=n.templateContext,this._proxiedTemplateContextChangedHandler=e.proxy(this._templateContextChangedHandler,this))},activate:function(){if(this._disabledState)return this._disabledState=!1,this._notifyShowing(),e.Deferred().resolve().promise();var t=this.element();return this._showElements(t),this._attachRefreshViewRequiredHandler(),e.Deferred().resolve().promise()},deactivate:function(){return this._disabledState=!1,this._releaseVisibleViews(),this._hideElements(this.element()),this._detachRefreshViewRequiredHandler(),e.Deferred().resolve().promise()},disable:function(){this._disabledState=!0,this._notifyHidden()},activeViewInfo:function(){return this._visibleViews[this._defaultPaneName]},_fireViewEvents:function(t){var n=this;e.each(this._visibleViews,function(e,i){n.fireEvent(t,[i])})},_notifyShowing:function(){this._fireViewEvents("viewShowing")},_notifyShown:function(){this._fireViewEvents("viewShown")},_notifyHidden:function(){this._fireViewEvents("viewHidden")},_applyTemplate:function(e,n){e.each(function(e,i){t.framework.templateProvider.applyTemplate(i,n)})},_releaseVisibleViews:function(){var t=this;e.each(this._visibleViews,function(e,n){t._hideView(n),t._releaseView(n)}),this._visibleViews={}},_templateContextChangedHandler:function(){var t=this;e.when.apply(e,e.map(t._visibleViews,function(e){return t.showView(e)})).then(function(){t._notifyShown()})},_attachRefreshViewRequiredHandler:function(){this._templateContext&&this._templateContext.on("optionChanged",this._proxiedTemplateContextChangedHandler)},_detachRefreshViewRequiredHandler:function(){this._templateContextChanged&&this._templateContext.off("optionChanged",this._proxiedTemplateContextChangedHandler)},_getPreviousViewInfo:function(e){return this._visibleViews[this._getViewPaneName(e.viewTemplateInfo)]},_prepareTemplates:function(){var e=this,t=e._viewEngine.getLayoutTemplate(this._getLayoutTemplateName());e._$layoutTemplate=t,e._$mainLayout=e._createEmptyLayout(),e._showElements(e._$mainLayout),e._applyTemplate(e._$mainLayout,e._layoutModel),e._$navigationWidget=e._createNavigationWidget()},renderNavigation:function(e){this._clearNavigationWidget(),this._renderNavigationImpl(e)},_renderNavigationImpl:function(e){this._renderCommands(this._$mainLayout,e)},_createNavigationWidget:function(){var t,n=this._findCommandContainers(this._$mainLayout);return e.each(n,function(e,n){return"global-navigation"===n.option("id")?(t=n.element(),!1):void 0}),t},_clearNavigationWidget:function(){this._$navigationWidget&&this._commandManager.clearContainer(this._$navigationWidget.dxCommandContainer("instance"))},element:function(){return this._$mainLayout},_getViewFrame:function(){return this._$mainLayout},_getLayoutTemplateName:function(){return this.name},_applyModelToTransitionElements:function(t,n){var i=this;this._getTransitionElements(t).each(function(t,r){i._applyTemplate(e(r).children(),n)})},_createViewLayoutTemplate:function(){var e=this,t=e._$layoutTemplate.clone();return this._hideElements(t),t},_createEmptyLayout:function(){var e=this,t=e._$layoutTemplate.clone();return this._hideElements(t),this._getTransitionElements(t).empty(),t.children(d).remove(),t},_getTransitionElements:function(e){return e.find(c).addBack(c)},showView:function(t,i){i=i||"forward";var r,o=this,a=o._getPreviousViewInfo(t),s=a===t?a.currentViewTemplateId:n;return this._disabledState=!1,this._defineCurrentViewTemplateId(t),s&&s===t.currentViewTemplateId&&t===a?(o.fireEvent("viewShowing",[t,i]),r=e.Deferred().resolve().promise()):(o._ensureViewRendered(t),o.fireEvent("viewShowing",[t,i]),r=this._showViewImpl(t,i,s).done(function(){o._onViewShown(t)})),r},disposeView:function(e){this._clearRenderResult(e)},_clearRenderResult:function(e){e.renderResult&&(e.renderResult.$markup.remove(),e.renderResult.$viewItems.remove(),delete e.renderResult)},_prepareViewTemplate:function(){},_renderViewImpl:function(t,n){var i,r=this,o=".dx-command,.dx-content,script",s=this._createViewLayoutTemplate(),l=!0,u=e();if(0===t.children(o).length&&this._viewEngine._wrapViewDefaultContent(t),i=t.children(),this._applyModelToTransitionElements(s,n.model),this._viewEngine.applyLayout(t,s),i.each(function(t,i){var a=e(i);r._applyTemplate(a,n.model),a.is(o)?l=!1:u=u.add(a)}),u.length&&!l)throw a.Error("E3014",u[0].outerHTML);n.renderResult=n.renderResult||{},n.renderResult.$viewItems=i,n.renderResult.$markup=s},_renderCommands:function(e,t){var n=this._findCommandContainers(e);return this._commandManager.renderCommandsToContainers(t,n)},_prepareViewCommands:function(n){var i=n.renderResult.$viewItems,r=this._commandManager.findCommands(i),o={};n.commands=t.framework.utils.mergeCommands(n.commands||[],r),n.commandsToRenderMap=o,e.each(n.commands,function(e,t){var n=t.option("renderStage")||h,i=o[n]=o[n]||[];i.push(t)})},_applyViewCommands:function(t,n){n=n||h;var i,r=t.commandsToRenderMap[n],o=t.renderResult.$markup;return r?(i=this._renderCommands(o,r),delete t.commandsToRenderMap[n]):i=e.Deferred().resolve().promise(),i},_findCommandContainers:function(e){return l.createComponents(e,["dxCommandContainer"])},_defineCurrentViewTemplateId:function(e){var t=e.$viewTemplate?e.$viewTemplate.dxView("instance"):this._viewEngine.getViewTemplateInfo(e.viewName),n=t.getId();e.currentViewTemplateId=n},_ensureViewRendered:function(e){var t=e.renderResult&&e.renderResult.markupCache[e.currentViewTemplateId];t?e.renderResult.$markup=t:(this._renderView(e),e.renderResult.markupCache=e.renderResult.markupCache||{},e.renderResult.markupCache[e.currentViewTemplateId]=e.renderResult.$markup)},_renderView:function(e){var t=e.$viewTemplate||this._viewEngine.getViewTemplate(e.viewName);this._prepareViewTemplate(t,e),this._renderViewImpl(t,e),this._prepareViewCommands(e),this._applyViewCommands(e,"onViewRendering"),this._appendViewToLayout(e),t.remove(),this._onRenderComplete(e),this.fireEvent("viewRendered",[e])},_appendViewToLayout:function(n){var i=this,r=i._getViewFrame(n),o=n.renderResult.$markup,a=e(),s=[];e.each(o.find(".dx-content-placeholder"),function(n,i){t.framework.prepareTransition(e(i),e(i).attr("data-dx-content-placeholder-name"))}),e.each(i._getTransitionElements(r),function(t,n){var r=e(n),u=o.find(g(r.attr("data-dx-transition-name"))).children(),c={$element:u,animation:r.attr("data-dx-transition-type")};s.push(c),r.append(u),i._showViewElements(u),l.triggerShownEvent(u),a=a.add(u)}),i._$mainLayout.append(n.renderResult.$viewItems.filter(".dx-command")),o.remove(),n.renderResult.$markup=a,n.renderResult.animationItems=s},_onRenderComplete:function(){},_onViewShown:function(){e(document).trigger("dx.viewchanged")},_enter:function(t,n){var i=this.transitionExecutor;e.each(t,function(e,t){i.enter(t.$element,t.animation,n)})},_leave:function(t,n){var i=this.transitionExecutor;e.each(t,function(e,t){i.leave(t.$element,t.animation,n)})},_doTransition:function(e,t,n){return e&&this._leave(e.renderResult.animationItems,n),this._enter(t.renderResult.animationItems,n),this._showView(t),this.transitionExecutor.start()},_showViewImpl:function(e,t,i){var r,o=this,a=this._getPreviousViewInfo(e),s={direction:t};return a===e&&(a=n),a||(s.duration=0,s.delay=0),r=o._doTransition(a,e,s).then(function(){return o._changeView(e,i)})},_releaseView:function(e){this.fireEvent("viewReleased",[e])},_getReadyForRenderDeferredItems:function(){return e.Deferred().resolve().promise()},_changeView:function(e,t){var n,i=this;return t?i._hideView(e,t):(n=i._getPreviousViewInfo(e),n&&n!==e&&(i._hideView(n),i._releaseView(n)),this._visibleViews[this._getViewPaneName(e.viewTemplateInfo)]=e),this._subscribeToDeferredItems(e),this._getReadyForRenderDeferredItems(e).then(function(){return i._applyViewCommands(e)}).then(function(){return i._renderDeferredItems(e.renderResult.$markup)})},_subscribeToDeferredItems:function(t){var n=this,i=t.renderResult.$markup;i.find(f).add(i.filter(f)).each(function(){var i={viewInfo:t,context:n};e(this).on(p,i,n._onDeferredContentRendered)})},_onDeferredContentRendered:function(t){var n=e(t.target),i=t.data.viewInfo,r=t.data.context;n.off(p,r._onDeferredContentRendered),r._renderCommands(n,i.commands)},_renderDeferredItems:function(t){var n,i=this,r=e.Deferred(),o=t.find(m).add(t.filter(m)).first();return o.length?(n=o.data("dx-render-delegate"),s.executeAsync(function(){n().then(function(){return i._renderDeferredItems(t)}).then(function(){r.resolve()})})):r.resolve(),r.promise()},_getViewPaneName:function(){return this._defaultPaneName},_hideElements:function(e){e.addClass("dx-fast-hidden")},_showElements:function(e){e.removeClass("dx-fast-hidden")},_hideViewElements:function(e){this._patchIDs(e),this._disableInputs(e),e.removeClass("dx-active-view").addClass("dx-inactive-view")},_hideView:function(e,t){if(e.renderResult){var i=t===n?e.renderResult.$markup:e.renderResult.markupCache[t];this._hideViewElements(i),this.fireEvent("viewHidden",[e])}},_showViewElements:function(e){this._unpatchIDs(e),this._enableInputs(e),e.removeClass("dx-inactive-view").addClass("dx-active-view"),this._skipAnimation(e)},_showView:function(e){e.renderResult&&this._showViewElements(e.renderResult.$markup)},_skipAnimation:function(e){e.addClass("dx-skip-animation");for(var t=0;t<e.length;t++)e.eq(t).css("transform");e.removeClass("dx-skip-animation")},_patchIDs:function(e){this._processIDs(e,function(e){var t=e;return-1===e.indexOf(u)&&(t=u+"-"+e),t})},_unpatchIDs:function(e){this._processIDs(e,function(e){var t=e;return 0===e.indexOf(u)&&(t=e.substr(u.length+1)),t})},_processIDs:function(t,n){var i=t.find("[id]");e.each(i,function(t,i){var r=e(i),o=r.attr("id");r.attr("id",n(o))})},_enableInputs:function(t){var n=t.find(":input[data-disabled=true]");e.each(n,function(t,n){e(n).removeAttr("disabled").removeAttr("data-disabled")})},_disableInputs:function(t){var n=t.find(":input:not([disabled], [disabled=true])");e.each(n,function(t,n){e(n).attr({disabled:!0,"data-disabled":!0})})}}).include(o),i=t.framework.html.layoutSets,i["default"]=i["default"]||[],i["default"].push({controller:new t.framework.html.DefaultLayoutController})}(jQuery,DevExpress),function(e,t,n){var i,r,o=DevExpress.require("/class"),a=DevExpress.require("/framework/framework.errors"),s=t.require("/utils/utils.dom"),l=t.require("/utils/utils.common"),u=t.require("/componentRegistrator"),c=t.framework,d=t.framework.html.MarkupComponent,h="MarkupTemplate:",p="dxView",f="dxLayout";u(p,c,d.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null,title:null})},ctor:function(){this._id=s.uniqueId(),this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.element().addClass("dx-view"),this.element().attr("dx-data-template-id",this._id)},getId:function(){return this._id}}),c),u(f,c,d.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null})},_render:function(){this.callBase(),this.element().addClass("dx-layout")}})),u("dxViewPlaceholder",c,d.inherit({_setDefaultOptions:function(){this.callBase(),this.option({viewName:null})},_render:function(){this.callBase(),this.element().addClass("dx-view-placeholder")}})),i=function(e,t,n,i){"absolute"===i?e.addClass("dx-transition-absolute"):e.addClass("dx-transition-static"),e.addClass("dx-transition").addClass("dx-transition-"+n).addClass("dx-transition-"+t).attr("data-dx-transition-type",t).attr("data-dx-transition-name",n)},r=function(e){e.addClass("dx-transition-inner-wrapper")},u("dxTransition",c,d.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null,type:n,animation:"slide"})},_render:function(){this.callBase();var e=this.element();i(e,this.option("type")||this.option("animation"),this.option("name"),"absolute"),e.wrapInner("<div/>"),r(e.children())},_clean:function(){this.callBase(),this.element().empty()}})),t.framework.prepareTransition=function(e,t){0===e.children(".dx-content").length&&(e.wrapInner("<div>"),e.children().dxContent({targetPlaceholder:t}))},u("dxContentPlaceholder",c,d.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null,transition:n,animation:"none",contentCssPosition:"absolute"})},_render:function(){this.callBase();var e=this.element();e.addClass("dx-content-placeholder").addClass("dx-content-placeholder-"+this.option("name")),e.attr("data-dx-content-placeholder-name",this.option("name")),i(e,this.option("transition")||this.option("animation"),this.option("name"),this.option("contentCssPosition"))},prepareTransition:function(){t.framework.prepareTransition(this.element(),this.option("name"))}})),u("dxContent",c,d.inherit({_setDefaultOptions:function(){this.callBase(),this.option({targetPlaceholder:null})},_optionChanged:function(){this._refresh()},_clean:function(){this.callBase(),this.element().removeClass(this._currentClass)},_render:function(){this.callBase();var e=this.element();e.addClass("dx-content"),this._currentClass="dx-content-"+this.option("targetPlaceholder"),e.attr("data-dx-target-placeholder-id",this.option("targetPlaceholder")),e.addClass(this._currentClass),r(e)}})),c.html.ViewEngine=o.inherit({ctor:function(t){t=t||{},this.$root=t.$root,this.device=t.device||{},this.dataOptionsAttributeName=t.dataOptionsAttributeName||"data-options",this._templateMap={},this._pendingViewContainer=null,this.markupLoaded=e.Callbacks(),this._templateContext=t.templateContext,this._$skippedMarkup=e(),t.templatesVersion!==n&&t.templateCacheStorage&&this._isReleaseVersion()&&(this._templateCacheEnabled=!0,this._templatesVersion="v_"+t.templatesVersion,this._templateCacheStorage=t.templateCacheStorage,this._templateCacheKey="dxTemplateCache_"+DevExpress.VERSION+"_"+JSON.stringify(this.device))},_isReleaseVersion:function(){return!/http:\/\/localhost/.test(location.href)},_enumerateTemplates:function(t){var n=this;
e.each(n._templateMap,function(n,i){e.each(i,function(n,i){e.each(i,function(e,n){t(n)})})})},_findComponent:function(e,t){var n=(this._templateMap[e]||{})[t]||[],i=this._templateContext&&this._templateContext.option()||{};return n=this._filterTemplates(i,n),this._checkMatchedTemplates(n),n[0]},_findTemplate:function(e,t){var n,i,r=this._findComponent(e,t);if(!r)throw this._clearCache(),a.Error("E3013",t,e);return n=r.element(),r._isStaticComponentsCreated||(s.createComponents(n,["dxContent","dxContentPlaceholder","dxTransition"]),r._isStaticComponentsCreated=!0),i=n.clone().removeClass("dx-hidden")},_clearCache:function(){this._templateCacheStorage.removeItem(this._templateCacheKey)},_loadTemplatesFromMarkupCore:function(t){var n,i,r=this;if(t.find("[data-dx-role]").length)throw a.Error("E3019");r.markupLoaded.fire({markup:t}),n=s.createComponents(t,[p,f]),e.each(n,function(e,t){var n=t.element();n.addClass("dx-hidden"),r._registerTemplateComponent(t),t.element().detach()}),i=t.filter("script"),i.appendTo(r.$root),r._$skippedMarkup=r._$skippedMarkup.add(i)},_registerTemplateComponent:function(e){var t=e.NAME,n=e.option(),i=n.name,r=this._templateMap[i]||{};r[t]=r[t]||[],r[t].push(e),this._templateMap[i]=r},_applyPartialViews:function(t){var n=this;s.createComponents(t,["dxViewPlaceholder"]),e.each(t.find(".dx-view-placeholder"),function(){var t,i,r=e(this);r.children().length||(t=r.data("dxViewPlaceholder").option("viewName"),i=n._findTemplate(t,p),n._applyPartialViews(i),r.append(i),i.removeClass("dx-hidden"))})},_ajaxImpl:function(){return e.ajax.apply(e,arguments)},_loadTemplatesFromURL:function(t){var n=this,i=this._getLoadOptions(),r=e.Deferred();return t=i.winPhonePrefix+t,this._ajaxImpl({url:t,isLocal:i.isLocal,dataType:"html"}).done(function(e){n._loadTemplatesFromMarkupCore(s.createMarkupFromString(e)),r.resolve()}).fail(function(e,n,i){var o=a.Error("E3021",t,i);r.reject(o)}),r.promise()},_getLoadOptions:function(){return location.protocol.indexOf("wmapp")>=0?{winPhonePrefix:location.protocol+"www/",isLocal:!0}:{winPhonePrefix:"",isLocal:n}},_loadExternalTemplates:function(){var t=[],n=this;return e("head").find("link[rel='dx-template']").each(function(i,r){var o=n._loadTemplatesFromURL(e(r).attr("href"));t.push(o)}),e.when.apply(e,t)},_processTemplates:function(){var t=this;e.each(t._templateMap,function(n,i){e.each(i,function(e,n){t._filterTemplatesByDevice(n)})}),t._enumerateTemplates(function(e){t._applyPartialViews(e.element())})},_filterTemplatesByDevice:function(t){var n=this._filterTemplates(this.device,t);e.each(t,function(t,i){e.inArray(i,n)<0&&i.element().remove()}),t.length=0,t.push.apply(t,n)},_filterTemplates:function(e,t){return l.findBestMatches(e,t,function(e){return e.option()})},_checkMatchedTemplates:function(t){if(t.length>1){var n="";throw e.each(t,function(e,t){n+=t.element().attr("data-options")+"\r\n"}),a.Error("E3020",n,JSON.stringify(this.device))}},_wrapViewDefaultContent:function(e){e.wrapInner('<div class="dx-full-height"></div>'),e.children().eq(0).dxContent({targetPlaceholder:"content"})},_initDefaultLayout:function(){this._$defaultLayoutTemplate=e('<div class="dx-full-height" data-options="dxLayout : { name: \'default\' } "> \n    <div class="dx-full-height" data-options="dxContentPlaceholder : { name: \'content\' } " ></div> \n</div>'),s.createComponents(this._$defaultLayoutTemplate)},_getDefaultLayoutTemplate:function(){return this._$defaultLayoutTemplate.clone()},applyLayout:function(t,i){(i===n||0===i.length)&&(i=this._getDefaultLayoutTemplate()),0===t.children(".dx-content").length&&this._wrapViewDefaultContent(t);var r=e().add(i).add(t),o=r.find(".dx-content");return e.each(o,function(){var t=e(this),n=t.attr("data-dx-target-placeholder-id"),i=r.find(".dx-content-placeholder-"+n);i.empty(),i.append(t)}),o.filter(":not(.dx-content-placeholder .dx-content)").remove(),i},_loadTemplatesFromCache:function(){var t,n,i,r;if(this._templateCacheEnabled){if(n=function(t,n){if("string"==typeof n&&0===n.indexOf(h)){var i=JSON.parse(n.substr(h.length)),r=i.type,o=i.options,a=s.createMarkupFromString(i.markup);return o.fromCache=!0,a[r](o)[r]("instance")}return"skippedMarkup"===t?e("<div>").append(s.createMarkupFromString(n)).contents():n},i=this._templateCacheStorage.getItem(this._templateCacheKey))try{r=JSON.parse(i,n),t=r[this._templatesVersion]}catch(o){this._clearCache()}if(t)return this._templateMap=t.templates,this.$root.append(t.skippedMarkup),!0}},_putTemplatesToCache:function(){if(this._templateCacheEnabled){var t=function(t,n){return n&&n.element?h+JSON.stringify({markup:n.element().prop("outerHTML"),options:n.option(),type:n.NAME}):"skippedMarkup"===t?e("<div>").append(n.clone()).html():n},n={};n[this._templatesVersion]={templates:this._templateMap,skippedMarkup:this._$skippedMarkup},this._templateCacheStorage.setItem(this._templateCacheKey,JSON.stringify(n,t,4))}},init:function(){var t=this;return this._initDefaultLayout(),this._loadTemplatesFromCache()?e.Deferred().resolve().promise():(t._loadTemplatesFromMarkupCore(t.$root.children()),this._loadExternalTemplates().done(function(){t._processTemplates(),t._putTemplatesToCache()}))},getViewTemplate:function(e){return this._findTemplate(e,p)},getViewTemplateInfo:function(e){return this._findComponent(e,p)},getLayoutTemplate:function(e){return e?this._findTemplate(e,f):this._getDefaultLayoutTemplate()},getLayoutTemplateInfo:function(e){return this._findComponent(e,f)},loadTemplates:function(t){var n;return"string"==typeof t?n=this._loadTemplatesFromURL(t):(this._loadTemplatesFromMarkupCore(t),n=e.Deferred().resolve().promise()),n.done(e.proxy(this._processTemplates,this))}})}(jQuery,DevExpress),function(e,t,n){var i=t.require("/component"),r=t.require("/framework/framework.errors"),o=t.require("/utils/utils.viewPort").value,a=t.require("/utils/utils.object"),s=t.require("/utils/utils.dom"),l=t.require("/utils/utils.common"),u=t.require("/devices"),c=t.require("/ui/events/ui.events.emitter.feedback"),d=t.framework,h=d.html,p="dx-viewport",f="layout-change";h.HtmlApplication=d.Application.inherit({ctor:function(n){n=n||{},this.callBase(n),this._$root=e(n.rootNode||document.body),this._initViewport(n.viewPort),"mobileApp"===this._applicationMode&&s.initMobileViewport(n.viewPort),this.device=n.device||u.current(),this.commandManager=n.commandManager||new t.framework.html.CommandManager({commandMapping:this.commandMapping}),this._initTemplateContext(),this.viewEngine=n.viewEngine||new h.ViewEngine({$root:this._$root,device:this.device,templateCacheStorage:n.templateCacheStorage||window.localStorage,templatesVersion:n.templatesVersion,templateContext:this._templateContext}),this.components.push(this.viewEngine),this._initMarkupFilters(this.viewEngine),this._layoutSet=n.layoutSet||t.framework.html.layoutSets["default"],this._animationSet=n.animationSet||t.framework.html.animationSets["default"],this._availableLayoutControllers=[],this._activeLayoutControllersStack=[],this.transitionExecutor=new t.TransitionExecutor,this._initAnimations(this._animationSet)},_initAnimations:function(n){n&&(e.each(n,function(n,i){e.each(i,function(e,i){t.animationPresets.registerPreset(n,i)})}),t.animationPresets.applyChanges())},_localizeMarkup:function(e){t.localization.localizeNode(e)},_notifyIfBadMarkup:function(t){t.each(function(){var t=e(this).html();/href="#/.test(t)&&r.log("W3005",t)})},_initMarkupFilters:function(t){var n=[];n.push(this._localizeMarkup),t.markupLoaded&&t.markupLoaded.add(function(t){e.each(n,function(e,n){n(t.markup)})})},_createViewCache:function(e){var n=this.callBase(e);return e.viewCache||(n=new t.framework.ConditionalViewCacheDecorator({filter:function(e,t){return!t.viewTemplateInfo.disableCache},viewCache:n})),n},_initViewport:function(){this._$viewPort=this._getViewPort(),o(this._$viewPort)},_getViewPort:function(){var t=e("."+p);return t.length||(t=e("<div>").addClass(p).appendTo(this._$root)),t},_initTemplateContext:function(){this._templateContext=new i({orientation:u.orientation()}),u.on("orientationChanged",e.proxy(function(e){this._templateContext.option("orientation",e.orientation)},this))},_showViewImpl:function(t,n){var i=this,r=e.Deferred(),o=r.promise(),a=t.layoutController;return i._obtainViewLink(t),a.showView(t,n).done(function(){i._activateLayoutController(a,i._getTargetNode(t),n).done(function(){r.resolve()})}),c.lock(o),o},_resolveLayoutController:function(e){var t={viewInfo:e,layoutController:null,availableLayoutControllers:this._availableLayoutControllers};return this._processEvent("resolveLayoutController",t,e.model),t.layoutController||this._resolveLayoutControllerImpl(e)},_checkLayoutControllerIsInitialized:function(t){if(t){var n=!1;if(e.each(this._layoutSet,function(e,i){return i.controller===t?(n=!0,!1):void 0}),!n)throw r.Error("E3024")}},_ensureOneLayoutControllerFound:function(e,t){var n=function(e,t){return"controller"===e?"[controller]: { name:"+t.name+" }":t};if(!t.length)throw r.log("W3003",JSON.stringify(e,null,4),JSON.stringify(this._availableLayoutControllers,n,4)),r.Error("E3011");if(t.length>1)throw r.log("W3004",JSON.stringify(e,null,4),JSON.stringify(t,n,4)),r.Error("E3012")},_resolveLayoutControllerImpl:function(t){var i=t.viewTemplateInfo||{},r=t.navigateOptions||{},o=e.extend({root:!t.canBack,customResolveRequired:!1,pane:i.pane,modal:r.modal!==n?r.modal:i.modal||!1},u.current()),a=l.findBestMatches(o,this._availableLayoutControllers);return this._ensureOneLayoutControllerFound(o,a),a[0].controller},_onNavigatingBack:function(e){if(this.callBase.apply(this,arguments),!e.cancel&&!this.canBack()&&this._activeLayoutControllersStack.length>1){var t=this._activeLayoutControllersStack[this._activeLayoutControllersStack.length-2],i=t.activeViewInfo();e.cancel=!0,this._activateLayoutController(t,n,"backward"),this.navigationManager.currentItem(i.key)}},_activeLayoutController:function(){return this._activeLayoutControllersStack.length?this._activeLayoutControllersStack[this._activeLayoutControllersStack.length-1]:n},_getTargetNode:function(t){var i=(t.navigateOptions||{}).jQueryEvent;return i?e(i.target):n},_activateLayoutController:function(t,n,i){var r=this,o=r._activeLayoutController();return o===t?e.Deferred().resolve().promise():t.activate(n).then(e.proxy(this._deactivatePreviousLayoutControllers,this,t,i)).then(function(){r._activeLayoutControllersStack.push(t)})},_deactivatePreviousLayoutControllers:function(t,n){var i,r=this,o=[],a=r._activeLayoutControllersStack.pop();if(!a)return e.Deferred().resolve().promise();if(t.isOverlay)r._activeLayoutControllersStack.push(a),o.push(a.disable());else{for(var s=e.Deferred(),l=!1,u=function(e,t){return function(){e.deactivate().done(function(){t.resolve()})}};a&&a!==t;)i=e.Deferred(),a.isOverlay?l=!0:r.transitionExecutor.leave(a.element(),f,{direction:n}),s.promise().done(u(a,i)),o.push(i.promise()),a=r._activeLayoutControllersStack.pop();l?s.resolve():(r.transitionExecutor.enter(t.element(),f,{direction:n}),r.transitionExecutor.start().done(function(){s.resolve()}))}return e.when.apply(e,o)},init:function(){var e=this,t=this.callBase();return t.done(function(){e._initLayoutControllers(),e.renderNavigation()}),t},_disposeView:function(e){e.layoutController.disposeView&&e.layoutController.disposeView(e),this.callBase(e)},viewPort:function(){return this._$viewPort},_createViewInfo:function(){var e=this.callBase.apply(this,arguments),t=this.getViewTemplateInfo(e.viewName);if(!t)throw r.Error("E3013","dxView",e.viewName);return e.viewTemplateInfo=t,e.layoutController=this._resolveLayoutController(e),e},_createViewModel:function(e){this.callBase(e),a.extendFromObject(e.model,e.viewTemplateInfo)},_initLayoutControllers:function(){var t=this;e.each(t._layoutSet,function(e,n){var i=n.controller,r=u.current();l.findBestMatches(r,[n]).length&&(t._availableLayoutControllers.push(n),i.init&&i.init({app:t,$viewPort:t._$viewPort,navigationManager:t.navigationManager,viewEngine:t.viewEngine,templateContext:t._templateContext,commandManager:t.commandManager}),i.on)&&(i.on("viewReleased",function(e){t._onViewReleased(e)}),i.on("viewHidden",function(e){t._onViewHidden(e)}),i.on("viewRendered",function(e){t._processEvent("viewRendered",{viewInfo:e},e.model)}),i.on("viewShowing",function(e,n){t._processEvent("viewShowing",{viewInfo:e,direction:n,params:e.routeData},e.model)}),i.on("viewShown",function(e,n){t._processEvent("viewShown",{viewInfo:e,direction:n,params:e.routeData},e.model)}))})},_onViewReleased:function(e){this._releaseViewLink(e)},renderNavigation:function(){var t=this;e.each(t._availableLayoutControllers,function(e,n){var i=n.controller;i.renderNavigation&&i.renderNavigation(t.navigation)})},getViewTemplate:function(e){return this.viewEngine.getViewTemplate(e)},getViewTemplateInfo:function(e){var t=this.viewEngine.getViewTemplateInfo(e);return t&&t.option()},loadTemplates:function(e){return this.viewEngine.loadTemplates(e)},templateContext:function(){return this._templateContext}})}(jQuery,DevExpress),DevExpress.MOD_FRAMEWORK=!0}if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE){if(!window.DevExpress||!DevExpress.MOD_CORE)throw Error("Required module is not referenced: core");!function(e){e.viz={}}(DevExpress),function(e,t,n){function i(e,t){for(var n,i=0,r=e.length,o=[];r>i;)n=t(e[i],i),null!==n&&o.push(n),i++;return o}function r(e,t){return i(t,function(t){return e[t]?e[t]:null})}function o(e,t,n,i){var r=i;return h(t,function(t,i){e[i]&&(e[i]-=n,r-=n)}),r}function a(e){return String(e).toLowerCase()}var s=DevExpress.require("/utils/utils.common"),l=s.isDefined,u=e.require("/errors").log,c=e.require("/utils/utils.math"),d=t.inArray,h=t.each,p=Math,f=p.round,m=t.extend,g=e.viz.core={};e.viz.utils={decreaseGaps:function(e,t,n){var i;do i=r(e,t),i.push(p.ceil(n/i.length)),n=o(e,t,p.min.apply(null,i),n);while(n>0&&i.length>1);return n},normalizeEnum:a,parseScalar:function(e,t){return e!==n?e:t},enumParser:function(e){for(var t={},n=0,i=e.length;i>n;++n)t[a(e[n])]=1;return function(e,n){var i=a(e);return t[i]?i:n}},patchFontOptions:function(e){var t={};return h(e||{},function(e,n){/^(cursor|opacity)$/i.test(e)||(e="color"===e?"fill":"font-"+e),t[e]=n}),t},convertPolarToXY:function(e,t,n,i){var r,o=90;return n=l(n)?n+t-o:0,r=c.getCosAndSin(n),{x:f(e.x+i*r.cos),y:f(e.y+i*r.sin)}},convertXYToPolar:function(e,t,n){var i=c.getDistance(e.x,e.y,t,n),r=p.atan2(n-e.y,t-e.x);return{phi:f(c.normalizeAngle(180*r/p.PI)),r:f(i)}},processSeriesTemplate:function(e,n){for(var r,o,a=s.isFunction(e.customizeSeries)?e.customizeSeries:t.noop,l=e.nameField||"series",u={},c=[],d=0,h=n.length;h>d;d++)o=n[d],l in o&&(r=u[o[l]],r||(r=u[o[l]]={name:o[l],data:[]},c.push(r.name)),r.data.push(o));return i(c,function(e){var n=u[e];return t.extend(n,a.call(null,n.name))})},getCategoriesInfo:function(e,t,n){if(!(e&&e.length>0))return{};t=l(t)?t:e[0],n=l(n)?n:e[e.length-1];var r,o,a,s,u=i(e,function(e){return l(e)?e.valueOf():null}),c=l(t)?d(t.valueOf(),u):0,h=l(n)?d(n.valueOf(),u):e.length-1,p=!1;return 0>c&&(c=0),0>h&&(h=e.length-1),c>h&&(o=h,h=c,c=o,p=!0),r=e.slice(c,h+1),s=r.length,a=s>0,{categories:a?r:null,start:a?r[p?s-1:0]:null,end:a?r[p?0:s-1]:null,inverted:p}},setCanvasValues:function(e){e&&(e.originalTop=e.top,e.originalBottom=e.bottom,e.originalLeft=e.left,e.originalRight=e.right)},updatePanesCanvases:function(t,n,i){var r=0;h(t,function(e,t){t.weight=t.weight||1,r+=t.weight});var o=0,a=t.padding||10,s=i?n.width-n.left-n.right:n.height-n.top-n.bottom,l=(s-a*(t.length-1))/r,u=i?"left":"top",c=i?"right":"bottom";h(t,function(t,i){var r=f(i.weight*l);i.canvas=i.canvas||{},m(i.canvas,{deltaLeft:0,deltaRight:0,deltaTop:0,deltaBottom:0},n),i.canvas[u]=n[u]+o,i.canvas[c]=n[c]+(s-r-o),o=o+r+a,e.viz.utils.setCanvasValues(i.canvas)})},unique:function(e){var t={};return i(e,function(e){var n=t[e]?null:e;return t[e]=!0,n})},map:i,wrapDeprecate:function(e,t){g[e]=function(){return u("W0002","DevExpress.viz.core",e,"15.1","Use the 'DevExpress.viz."+e+"' method instead"),t.apply(this,arguments)}}}}(DevExpress,jQuery),DevExpress.define("/vis/core/errorWarnings",["/utils/utils.error","/errors"],function(e,t){return e(t.ERROR_MESSAGES,{E2001:"Invalid data source",E2002:"Axis type and data type are incompatible",E2003:'"{0}" data source field contains data of unsupported type',E2004:'"{0}" data source field is inconsistent',E2101:"Unknown series type was specified: {0}",E2102:"Ambiguity occurred between two value axes with the same name",E2103:'"{0}" option must be a function',E2104:"Invalid logarithm base",E2105:'Invalid value of a "{0}"',E2106:"Invalid visible range",E2202:"Invalid scale {0} value",E2203:'The "{0}" field of the "selectedRange" configuration object is not valid',W2002:"The {0} data field is absent",W2003:"Tick interval is too small",W2101:'The "{0}" pane does not exist; the last pane is used by default',W2102:'Value axis with the "{0}" name was created automatically',W2103:"Chart title was hidden due to container size",W2104:"Legend was hidden due to container size",W2105:'Title of "{0}" axis was hidden due to container size',W2106:'Labels of "{0}" axis were hidden due to container size',W2301:"Invalid value range"})}),function(e,t,n){var i=t.require("/utils/utils.common"),r=i.isDefined,o=Math.round;t.viz.numericTranslatorFunctions={translate:function(e){var t=this,n=t._canvasOptions,i=n.rangeDoubleError,o=t.translateSpecialCase(e);return r(o)?o:isNaN(e)||e.valueOf()+i<n.rangeMin||e.valueOf()-i>n.rangeMax?null:t._conversionValue(t._calculateProjection((e-n.rangeMinVisible)*n.ratioOfCanvasRange))},untranslate:function(e,t,n){var i=this._canvasOptions,o=i.startPoint;return!n&&(o>e||e>i.endPoint)||!r(i.rangeMin)||!r(i.rangeMax)?null:this._calculateUnProjection((e-o)/i.ratioOfCanvasRange)},getInterval:function(){return o(this._canvasOptions.ratioOfCanvasRange*(this._businessRange.interval||Math.abs(this._canvasOptions.rangeMax-this._canvasOptions.rangeMin)))},_getValue:function(e){return e},zoom:function(e,t){var i=this,r=i._canvasOptions,o=r.startPoint,a=r.endPoint,s=(o+e)/t,l=(a+e)/t,u=[i.translate(i._getValue(r.rangeMin)),i.translate(i._getValue(r.rangeMax))],c=Math.min(u[0],u[1]),d=Math.max(u[0],u[1]);return c>s&&(l-=s-c,s=c),l>d&&(s-=l-d,l=d),l-s>d-c&&(s=c,l=d),e=(a-o)*s/(l-s)-o,t=(o+e)/s||1,{min:i.untranslate(s,n,!0),max:i.untranslate(l,n,!0),translate:e,scale:t}},getMinScale:function(e){return e?1.1:.9},getScale:function(e,t){var n=this._canvasOptions;return e=r(e)?e:n.rangeMin,t=r(t)?t:n.rangeMax,(n.rangeMax-n.rangeMin)/Math.abs(e-t)},isValid:function(e){var t=this._canvasOptions;return null!==e&&!isNaN(e)&&e.valueOf()+t.rangeDoubleError>=t.rangeMin&&e.valueOf()-t.rangeDoubleError<=t.rangeMax},parse:function(e){return Number(e)},to:function(e){return this._conversionValue(this._calculateProjection((e-this._canvasOptions.rangeMinVisible)*this._canvasOptions.ratioOfCanvasRange))},from:function(e){return this._calculateUnProjection((e-this._canvasOptions.startPoint)/this._canvasOptions.ratioOfCanvasRange)},_add:function(e,t,n){return e+t*n},isValueProlonged:!1}}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.numericTranslatorFunctions;n.datetimeTranslatorFunctions={translate:i.translate,untranslate:function(){var e=i.untranslate.apply(this,arguments);return null===e?e:new Date(e)},_getValue:i._getValue,getInterval:i.getInterval,zoom:i.zoom,getMinScale:i.getMinScale,getScale:i.getScale,isValid:function(e){return i.isValid.call(this,new Date(e))},parse:function(e){return new Date(e)},to:i.to,from:function(e){return new Date(i.from.call(this,e))},_add:t.require("/utils/utils.date").addDateInterval,isValueProlonged:i.isValueProlonged}}(jQuery,DevExpress),function(e,t){var n=t.require("/utils/utils.common"),i=n.isDefined,r=Math.round;t.viz.categoryTranslatorFunctions={translate:function(e,t){var n,o=this,a=o._canvasOptions,s=o._categoriesToPoints[e],l=o.translateSpecialCase(e),u=a.startPointIndex||0,c=o._businessRange.stick?0:.5;return i(l)?l:s||0===s?(t=t||0,n=s+c-u+.5*t,r(o._calculateProjection(a.interval*n))):null},untranslate:function(e,t,n){var i=this,o=i._canvasOptions,a=o.startPoint,s=i.visibleCategories||i._categories,l=s.length,u=0,c=i._businessRange.stick?.5:0;return!n&&(a>e||e>o.endPoint)?null:(t=t||0,u=r((e-a)/o.interval+c-.5-.5*t),l===u&&u--,-1===u&&(u=0),o.invert&&(u=l-u-1),s[u])},getInterval:function(){return this._canvasOptions.interval},zoom:function(e,t){var n,i,r,o=this,a=o._canvasOptions,s=o._businessRange.stick,l=a.invert,u=a.interval*t,c=e/u,d=parseInt((a.startPointIndex||0)+c+.5),h=parseInt(a.canvasLength/u+(s?1:0))||1,p=o._categories;return l&&(d=parseInt((a.startPointIndex||0)+(o.visibleCategories||[]).length-c+.5)-h),0>d&&(d=0),n=d+h,n>p.length&&(n=p.length,d=n-h,0>d&&(d=0)),i=p.slice(parseInt(d),parseInt(n)),r=o._getDiscreteInterval(i.length,a),t=r/a.interval,e=o.translate(l?i[i.length-1]:i[0])*t-(a.startPoint+(s?0:r/2)),{min:i[0],max:i[i.length-1],translate:e,scale:t}},getMinScale:function(e){var t=this,n=t._canvasOptions,i=(t.visibleCategories||t._categories).length;return i+=(parseInt(.1*i)||1)*(e?-2:2),n.canvasLength/(Math.max(i,1)*n.interval)},getScale:function(e,t){var n=this,r=n._canvasOptions,o=n.getCanvasVisibleArea(),a=!n._businessRange.stick&&1,s=n.translate(e,-a),l=n.translate(t,+a);return i(s)||(s=r.invert?o.max:o.min),i(l)||(l=r.invert?o.min:o.max),n.canvasLength/Math.abs(l-s)},isValid:function(e){return this._categoriesToPoints[e]>=0},parse:function(e){return e},to:function(e,t){var n=this._canvasOptions,i=this._businessRange,o=this._categoriesToPoints[e],a=n.startPointIndex||0,s=i.stick?0:.5,l=o+s-a+(i.invert?-1:1)*t*.5;return r(this._calculateProjection(n.interval*l))},from:function(e,t){var n=this._canvasOptions,i=this._businessRange,o=n.startPoint,a=this._categories,s=a.length,l=i.stick?.5:0,u=r((e-o)/n.interval+l-.5-.5*t);return s===u&&u--,-1===u&&(u=0),n.invert&&(u=s-u-1),a[u]},_add:function(){return NaN},isValueProlonged:!0}}(jQuery,DevExpress),function(e,t,n){var i=t.viz,r=i.numericTranslatorFunctions,o=t.require("/utils/utils.math"),a=t.require("/utils/utils.common"),s=o.raiseTo,l=o.getLog;i.logarithmicTranslatorFunctions={translate:function(e){var t=this,n=t.translateSpecialCase(e);return a.isDefined(n)?n:r.translate.call(t,l(e,t._businessRange.base))},untranslate:function(){var e=r.untranslate.apply(this,arguments);return null===e?e:s(e,this._businessRange.base)},getInterval:r.getInterval,_getValue:function(e){return Math.pow(this._canvasOptions.base,e)},zoom:r.zoom,getMinScale:r.getMinScale,getScale:function(e,t){var i=this._businessRange.base;return e=a.isDefined(e)?l(e,i):n,t=a.isDefined(t)?l(t,i):n,r.getScale.call(this,e,t)},isValid:function(e){return r.isValid.call(this,l(e,this._businessRange.base))},parse:r.parse,to:function(e){return r.to.call(this,l(e,this._businessRange.base))},from:function(e){return s(r.from.call(this,e),this._businessRange.base)},_add:function(e,t,n){var i=this._businessRange.base;return s(r._add(l(e,i),t,n),i)},isValueProlonged:r.isValueProlonged}}(jQuery,DevExpress),function(e){function t(){this.setDomain(arguments[0],arguments[1]).setCodomain(arguments[2],arguments[3])}var n=Number;t.prototype={constructor:t,setDomain:function(e,t){var i=this;return i._domain1=n(e),i._domain2=n(t),i._domainDelta=i._domain2-i._domain1,i},setCodomain:function(e,t){var i=this;return i._codomain1=n(e),i._codomain2=n(t),i._codomainDelta=i._codomain2-i._codomain1,i},getDomain:function(){return[this._domain1,this._domain2]},getCodomain:function(){return[this._codomain1,this._codomain2]},getDomainStart:function(){return this._domain1},getDomainEnd:function(){return this._domain2},getCodomainStart:function(){return this._codomain1},getCodomainEnd:function(){return this._codomain2},getDomainRange:function(){return this._domainDelta},getCodomainRange:function(){return this._codomainDelta},translate:function(e){var t=(n(e)-this._domain1)/this._domainDelta;return t>=0&&1>=t?this._codomain1+t*this._codomainDelta:NaN},adjust:function(e){var t=(n(e)-this._domain1)/this._domainDelta,i=NaN;return 0>t?i=this._domain1:t>1?i=this._domain2:t>=0&&1>=t&&(i=n(e)),i}},e.viz.Translator1D=t}(DevExpress),function(e,t){function n(e,t){return c(e)&&c(t)&&e.valueOf()===t.valueOf()}function i(e){var t,i,r=e.min,o=e.max,a=e.minVisible,u=e.maxVisible,c=e.base,d=s.isDate(o)||s.isDate(r),h=d?f:p,m="logarithmic"===e.axisType;return m&&(u=l(u,c),a=l(a,c),r=l(r,c),o=l(o,c)),n(r,o)&&(t=r.valueOf()-h,i=o.valueOf()+h,d?(r=new Date(t),o=new Date(i)):(r=0!==r||m?t:0,o=i)),n(a,u)&&(t=a.valueOf()-h,i=u.valueOf()+h,d?(a=t<r.valueOf()?r:new Date(t),u=i>o.valueOf()?o:new Date(i)):((0!==a||m)&&(a=r>t?r:t),u=i>o?o:i)),{base:c,rangeMin:r,rangeMax:o,rangeMinVisible:a,rangeMaxVisible:u}}var r,o=t.viz,a=t.require("/utils/utils.math"),s=t.require("/utils/utils.common"),l=a.getLog,u=a.getPower,c=s.isDefined,d=Math.abs,h=["width","height","left","top","bottom","right"],p=1,f=6e4,m=e.noop,g=function(t){return e.each(h,function(e,n){t[n]=parseInt(t[n])||0}),t},_=function(e){for(var t={},n=e.length,i=0;n>i;i++)t[e[i]]=i;return t},v=function(e){function t(t,n){!c(e[t])&&c(e[n])&&(e[t]=e[n])}return t("minVisible","min"),t("maxVisible","max"),e};r=o.Translator2D=function(e,t,n){this.update(e,t,n)},r.prototype={constructor:r,reinit:function(){var t=this,n=t._businessRange,i=n.categories||[],r={},a=t._prepareCanvasOptions(),s=o.utils.getCategoriesInfo(i,n.minVisible,n.maxVisible).categories,l=(s||i).length;switch(n.axisType){case"logarithmic":r=o.logarithmicTranslatorFunctions;break;case"discrete":r=o.categoryTranslatorFunctions,t._categories=i,a.interval=t._getDiscreteInterval(n.addSpiderCategory?l+1:l,a),t._categoriesToPoints=_(i,a.invert),s&&l&&(a.startPointIndex=t._categoriesToPoints[s[0]],t.visibleCategories=s);break;default:r="datetime"===n.dataType?o.datetimeTranslatorFunctions:o.numericTranslatorFunctions}e.extend(t,r),t._conversionValue=t._options.conversionValue?function(e){return e}:function(e){return Math.round(e)},t._calculateSpecialValues()},_getDiscreteInterval:function(e,t){var n=e-(this._businessRange.stick?1:0);return n>0?t.canvasLength/n:t.canvasLength},_prepareCanvasOptions:function(){var e,t=this,n=t._businessRange,r=t._canvasOptions=i(n),o=t._canvas;return t._options.isHorizontal?(r.startPoint=o.left,e=o.width,r.endPoint=o.width-o.right,r.invert=n.invert):(r.startPoint=o.top,e=o.height,r.endPoint=o.height-o.bottom,r.invert=!n.invert),t.canvasLength=r.canvasLength=r.endPoint-r.startPoint,r.rangeDoubleError=Math.pow(10,u(r.rangeMax-r.rangeMin)-u(e)-2),r.ratioOfCanvasRange=r.canvasLength/(r.rangeMaxVisible-r.rangeMinVisible),r},updateCanvas:function(e){this._canvas=g(e),this.reinit()},updateBusinessRange:function(e){this._businessRange=v(e),this.reinit()},update:function(t,n,i){var r=this;r._options=e.extend(r._options||{},i),r._canvas=g(n),r.updateBusinessRange(t)},getBusinessRange:function(){return this._businessRange},getCanvasVisibleArea:function(){return{min:this._canvasOptions.startPoint,max:this._canvasOptions.endPoint}},_calculateSpecialValues:function(){var e,t,n,i=this,r=i._canvasOptions,o=r.startPoint,a=r.endPoint,s=i._businessRange,l=s.minVisible,u=s.maxVisible;0>=l&&u>=0?(i.sc={},t=i.translate(0)):(e=s.invert^(0>=l&&0>=u),t=i._options.isHorizontal?e?a:o:e?o:a),n=o+r.canvasLength/2,i.sc={canvas_position_default:t,canvas_position_left:o,canvas_position_top:o,canvas_position_center:n,canvas_position_middle:n,canvas_position_right:a,canvas_position_bottom:a,canvas_position_start:r.invert?a:o,canvas_position_end:r.invert?o:a}},translateSpecialCase:function(e){return this.sc[e]},_calculateProjection:function(e){var t=this._canvasOptions;return t.invert?t.endPoint-e:t.startPoint+e},_calculateUnProjection:function(e){var t=this._canvasOptions;return t.invert?t.rangeMaxVisible.valueOf()-e:t.rangeMinVisible.valueOf()+e},getVisibleCategories:function(){return this.visibleCategories},getMinBarSize:function(e){var t=this.getCanvasVisibleArea(),n=this.untranslate(t.min+e);return d(this.untranslate(t.min)-(c(n)?n:this.untranslate(t.max)))},translate:m,untranslate:m,getInterval:m,zoom:m,getMinScale:m,getRange:function(){return[this.untranslate(this._canvasOptions.startPoint),this.untranslate(this._canvasOptions.endPoint)]},isEmptyValueRange:function(){return this._businessRange.stubData},getScreenRange:function(){return[this._canvasOptions.startPoint,this._canvasOptions.endPoint]},add:function(e,t,n){return this._add(e,t,(this._businessRange.invert?-1:1)*n)}}}(jQuery,DevExpress),function(e,t){function n(t,n,r){var o=this;o._startAngle=r.startAngle,o._endAngle=r.endAngle,o._argCanvas={left:0,right:0,width:this._getAngle()},o._valCanvas={left:0,right:0},o.canvas=e.extend({},n),o._init(),o._arg=new i.Translator2D(t.arg,o._argCanvas,{isHorizontal:!0,conversionValue:!0}),o._val=new i.Translator2D(t.val,o._valCanvas,{isHorizontal:!0}),o._businessRange=t}var i=t.viz,r=t.require("/utils/utils.math"),o=t.require("/utils/utils.common"),a=90,s=Math.round;n.prototype={constructor:n,_init:function(){var e=this.canvas;this._setCoords({x:e.left+(e.width-e.right-e.left)/2,y:e.top+(e.height-e.top-e.bottom)/2,r:Math.min(e.width-e.left-e.right,e.height-e.top-e.bottom)/2}),this._valCanvas.width=this._rad},reinit:function(){this._init(),this._arg.reinit(),this._val.reinit()},_setCoords:function(e){this._x0=e.x,this._y0=e.y,this._rad=e.r<0?0:e.r},getBusinessRange:function(){return this._businessRange},translate:function(e,t,n){var i,l,u=this,c=u._arg.translate(e,n&&n[0]),d=u._val.translate(t,n&&n[1]),h=o.isDefined(c)?c+u._startAngle-a:null,p=r.getCosAndSin(h);return l=s(u._y0+d*p.sin),i=s(u._x0+d*p.cos),{x:i,y:l,angle:h,radius:d}},setCanvasDimension:function(e){this.canvas.width=this.canvas.height=e,this.reinit()},setAngles:function(e,t){var n=this;n._startAngle=e,n._endAngle=t,n._argCanvas.width=n._getAngle(),n._arg.update(n._arg.getBusinessRange(),n._argCanvas)},getAngles:function(){return[this._startAngle,this._endAngle]},getValLength:function(){return this._rad},getCenter:function(){return{x:this._x0,y:this._y0}},getBaseAngle:function(){return this._startAngle-a},getInterval:function(){return this._arg.getInterval()},getValInterval:function(){return this._val.getInterval()},_getAngle:function(){return Math.abs(this._endAngle-this._startAngle)},getComponent:function(e){var t=this,n=this["_"+e];return n.getRadius=function(){return t.getValLength()},n.getCenter=function(){return t.getCenter()},n.getAngles=function(){return t.getAngles()},n},_untranslate:function(e,t){var n=r.getDistance(this._x0,this._y0,e,t),i=Math.atan2(t-this._y0,e-this._x0);return{r:n,phi:i}},untranslate:function(e,t){var n=this._untranslate(e,t);return n.phi=s(r.normalizeAngle(180*n.phi/Math.PI)),n.r=s(n.r),n},getVisibleCategories:e.noop,getCanvasVisibleArea:function(){return{}},getMinBarSize:function(e){return this._val.getMinBarSize(e)}},i.PolarTranslator=n}(jQuery,DevExpress),function(e){var t=window.isFinite,n=DevExpress.require("/class");e.viz.Rectangle=n.inherit({ctor:function(e){var t=this;e=e||{},t.left=Number(e.left)||0,t.right=Number(e.right)||0,t.top=Number(e.top)||0,t.bottom=Number(e.bottom)||0},width:function(){return this.right-this.left},height:function(){return this.bottom-this.top},horizontalMiddle:function(){return(this.left+this.right)/2},verticalMiddle:function(){return(this.top+this.bottom)/2},raw:function(){var e=this;return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},clone:function(){return new this.constructor(this.raw())},move:function(e,n){var i=this.clone();return t(e)&&t(n)&&(i.left+=Number(e),i.right+=Number(e),i.top+=Number(n),i.bottom+=Number(n)),i},inflate:function(e,n){var i=this.clone();return t(e)&&t(n)&&(i.left-=Number(e),i.right+=Number(e),i.top-=Number(n),i.bottom+=Number(n)),i},scale:function(e){var t=this;return e>0?t.inflate(t.width()*(e-1)/2,t.height()*(e-1)/2):t.clone()}})}(DevExpress),function(e,t){function n(e){this._options=e}function i(e,t){this._renderElement=e,this._cacheBBox=t}var r,o=Math.round,a=t.require("/utils/utils.object"),s={
horizontal:0,vertical:0},l={center:.5,right:1,bottom:1,left:0,top:0};n.prototype={constructor:n,position:function(e){var t=this,n=e.of.getLayoutOptions(),i=t.getLayoutOptions(),r=e.at,a=e.my,u=e.offset||s,c=-l[a.horizontal]*i.width+n.x+l[r.horizontal]*n.width+parseInt(u.horizontal),d=-l[a.vertical]*i.height+n.y+l[r.vertical]*n.height+parseInt(u.vertical);t.shift(o(c),o(d))},getLayoutOptions:e.noop,getVerticalCuttedSize:function(e){var t=this,n=e.height,i=e.top,r=e.bottom,o=t.getLayoutOptions();return o&&(t.draw(e.width,e.height),o=t.getLayoutOptions(),o&&(n-=o.height,"bottom"===o.position.vertical?r+=o.height:i+=o.height)),{left:e.left,right:e.right,top:i,bottom:r,width:e.width,height:n}}},r=i.prototype=a.clone(n.prototype),r.constructor=i,r.getLayoutOptions=function(){return this._cacheBBox||this._renderElement.getBBox()},r.shift=function(e,t){var n=this.getLayoutOptions();this._renderElement.move(o(e-n.x),o(t-n.y))},t.viz.LayoutElement=n,t.viz.WrapperLayoutElement=i}(jQuery,DevExpress),function(e,t,n){function i(e){var t=E(e);return C[t]||C[S[t]||I]}function r(e,t){return S[e+"."+t]||k[e+"."+t]||S[e]}function o(e,t,n){return r(e+t,n)||r(e,n)}function a(e,t){if(!arguments.length)return I;var n=E(t);return I=(e&&e.platform?o(E(e.platform),e.version,n):r(E(e),n))||I,this}function s(e,t){var n=e.indexOf(t);return n>0?{name:e.substring(0,n),scheme:e.substring(n+1)}:null}function l(e,t){var n=s(e,".")||s(e,"-")||{name:e},i=n.name,r=n.scheme;r?(S[i]=S[i]||t,S[i+"."+r]=S[i+"-"+r]=t):S[i]=t}function u(e,t){var n=E(e&&e.name);n&&(l(n,n),C[n]=D(!0,{},i(t),f(e)))}function c(e,t){l(E(e),E(t))}function d(e,t){k[e]=t}function h(e,t,i,r){var o=i?i[t]:r;o!==n&&e[t]===n&&(e[t]=o)}function p(e,t,i,r){var o=i?i[t]:r;o!==n&&(e[t]=D(!0,{},o,e[t]))}function f(e){return e=D(!0,{loadingIndicator:{font:{}},legend:{font:{},border:{}},title:{font:{}},tooltip:{font:{}},"chart:common":{},"chart:common:axis":{grid:{},minorGrid:{},tick:{},minorTick:{},title:{font:{}},label:{font:{}}},chart:{commonSeriesSettings:{candlestick:{}}},pie:{},polar:{},gauge:{scale:{tick:{},minorTick:{},label:{font:{}}}},barGauge:{},map:{background:{}},rangeSelector:{scale:{tick:{},minorTick:{},label:{font:{}}},chart:{}},sparkline:{},bullet:{}},e),h(e.loadingIndicator,"backgroundColor",e),h(e.chart.commonSeriesSettings.candlestick,"innerColor",null,e.backgroundColor),h(e.map.background,"color",null,e.backgroundColor),h(e.title.font,"color",null,e.primaryTitleColor),p(e.title,"subtitle",null,e.title),h(e.legend.font,"color",null,e.secondaryTitleColor),h(e.legend.border,"color",null,e.axisColor),m(e),T(["chart","pie","polar","gauge","barGauge","map","rangeSelector","sparkline","bullet"],function(t,n){h(e[n],"redrawOnResize",e),h(e[n],"containerBackgroundColor",null,e.backgroundColor),p(e[n],"tooltip",e)}),T(["chart","pie","polar","gauge","barGauge","map","rangeSelector"],function(t,n){p(e[n],"loadingIndicator",e),p(e[n],"legend",e),p(e[n],"title",e)}),T(["chart","pie","polar"],function(t,n){p(e,n,null,e["chart:common"])}),T(["chart","polar"],function(t,n){e[n]=e[n]||{},p(e[n],"commonAxisSettings",null,e["chart:common:axis"])}),p(e.rangeSelector.chart,"commonSeriesSettings",e.chart),p(e.rangeSelector.chart,"dataPrepareSettings",e.chart),h(e.map.legend,"backgroundColor",e),g(e),e}function m(e){var t=e["chart:common:axis"],n="color";T([t,t.grid,t.minorGrid,t.tick,t.minorTick],function(t,i){h(i,n,null,e.axisColor)}),h(t.title.font,n,null,e.secondaryTitleColor),h(t.label.font,n,null,e.axisLabelColor),h(e.gauge.scale.label.font,n,null,e.axisLabelColor),h(e.gauge.scale.tick,n,null,e.backgroundColor),h(e.gauge.scale.minorTick,n,null,e.backgroundColor),h(e.rangeSelector.scale.tick,n,null,e.axisColor),h(e.rangeSelector.scale.minorTick,n,null,e.axisColor),h(e.rangeSelector.scale.label.font,n,null,e.axisLabelColor)}function g(e){var t=e.map;T(["area","line","marker"],function(e,n){p(t,"layer:"+n,null,t.layer)}),T(["dot","bubble","pie","image"],function(e,n){p(t,"layer:marker:"+n,null,t["layer:marker"])})}function _(e){var t=++A;e._cache=t,$[t]=e}function v(e){delete $[e._cache]}function y(){return T($,function(){this.refresh()}),this}var x=e.viz,b=x.utils,w=b.wrapDeprecate,C={},S={},k={},D=t.extend,T=t.each,E=b.normalizeEnum,I=null,A=0,$={};w("currentTheme",a),w("registerTheme",u),D(x,{currentTheme:a,registerTheme:u,findTheme:i,registerThemeAlias:c,registerThemeSchemeAlias:d,refreshAll:y,addCacheItem:_,removeCacheItem:v})}(DevExpress,jQuery),function(e,t,n){function i(e){return e===n?k:(e=w(e),void(k=e in D?e:S))}function r(e,t){var n,i=t&&t.type;return y(e)?e.slice(0):(x(e)&&(n=D[w(e)]),n||(n=D[k]),n=n||null,i&&n?n[i].slice(0):n)}function o(e,t){var i,r={};y(t)?r.simpleSet=t.slice(0):t&&(r.simpleSet=y(t.simpleSet)?t.simpleSet.slice(0):n,r.indicatingSet=y(t.indicatingSet)?t.indicatingSet.slice(0):n,r.gradientSet=y(t.gradientSet)?t.gradientSet.slice(0):n),(r.simpleSet||r.indicatingSet||r.gradientSet)&&(i=w(e),b(D[i]=D[i]||{},r))}function a(e){var t=0;this.next=function(){var n=e[t++];return t===e.length&&this.reset(),n},this.reset=function(){t=0}}function s(e,t){t=t||{};var n=t.useHighlight?C:0;this._originalPalette=r(e,{type:t.type||"simpleSet"}),this._paletteSteps=new a([0,n,-n]),this._resetPalette()}function l(e,t){var n=new _(e).alter(t),i=u(n);return(i>200||55>i)&&(n=new _(e).alter(-t/2)),n.toHex()}function u(e){return.3*e.r+.59*e.g+.11*e.b}function c(e,t){var n=r(e,{type:"gradientSet"});n=t>0?d(n,t):[],this.getColor=function(e){return n[e]||null}}function d(e,t){function n(e){var t=r*e,n=m(t),i=g(t);a.push(o[n].blend(o[i],t-n).toHex())}for(var i=t-1,r=e.length-1,o=[],a=[],s=0;r>=s;++s)o.push(new _(e[s]));if(i>0)for(s=0;i>=s;++s)n(s/i);else n(.5);return a}var h=e.viz,p=h.utils,f=p.wrapDeprecate,m=Math.floor,g=Math.ceil,_=e.require("/color"),v=e.require("/utils/utils.common"),y=v.isArray,x=v.isString,b=t.extend,w=p.normalizeEnum,C=50,S="default",k=S,D={"default":{simpleSet:["#5f8b95","#ba4d51","#af8a53","#955f71","#859666","#7e688c"],indicatingSet:["#a3b97c","#e1b676","#ec7f83"],gradientSet:["#5f8b95","#ba4d51"]},"harmony light":{simpleSet:["#fcb65e","#679ec5","#ad79ce","#7abd5c","#e18e92","#b6d623","#b7abea","#85dbd5"],indicatingSet:["#b6d623","#fcb65e","#e18e92"],gradientSet:["#7abd5c","#fcb65e"]},"soft pastel":{simpleSet:["#60a69f","#78b6d9","#6682bb","#a37182","#eeba69","#90ba58","#456c68","#7565a4"],indicatingSet:["#90ba58","#eeba69","#a37182"],gradientSet:["#78b6d9","#eeba69"]},pastel:{simpleSet:["#bb7862","#70b3a1","#bb626a","#057d85","#ab394b","#dac599","#153459","#b1d2c6"],indicatingSet:["#70b3a1","#dac599","#bb626a"],gradientSet:["#bb7862","#70b3a1"]},bright:{simpleSet:["#70c92f","#f8ca00","#bd1550","#e97f02","#9d419c","#7e4452","#9ab57e","#36a3a6"],indicatingSet:["#70c92f","#f8ca00","#bd1550"],gradientSet:["#e97f02","#f8ca00"]},soft:{simpleSet:["#cbc87b","#9ab57e","#e55253","#7e4452","#e8c267","#565077","#6babac","#ad6082"],indicatingSet:["#9ab57e","#e8c267","#e55253"],gradientSet:["#9ab57e","#e8c267"]},ocean:{simpleSet:["#75c099","#acc371","#378a8a","#5fa26a","#064970","#38c5d2","#00a7c6","#6f84bb"],indicatingSet:["#c8e394","#7bc59d","#397c8b"],gradientSet:["#acc371","#38c5d2"]},vintage:{simpleSet:["#dea484","#efc59c","#cb715e","#eb9692","#a85c4c","#f2c0b5","#c96374","#dd956c"],indicatingSet:["#ffe5c6","#f4bb9d","#e57660"],gradientSet:["#efc59c","#cb715e"]},violet:{simpleSet:["#d1a1d1","#eeacc5","#7b5685","#7e7cad","#a13d73","#5b41ab","#e287e2","#689cc1"],indicatingSet:["#d8e2f6","#d0b2da","#d56a8a"],gradientSet:["#eeacc5","#7b5685"]}};b(s.prototype,{dispose:function(){return this._originalPalette=this._palette=this._paletteSteps=null,this},getNextColor:function(){var e=this;return e._currentColor>=e._palette.length&&e._resetPalette(),e._palette[e._currentColor++]},_resetPalette:function(){var e,t,n=this;if(n._currentColor=0,e=n._paletteSteps.next(),t=n._originalPalette,e)for(var i=n._palette=[],r=0,o=t.length;o>r;++r)i[r]=l(t[r],e);else n._palette=t.slice(0)},reset:function(){return this._paletteSteps.reset(),this._resetPalette(),this}}),f("registerPalette",o),f("getPalette",r),f("currentPalette",i),b(h,{Palette:s,GradientPalette:c,registerPalette:o,getPalette:r,currentPalette:i})}(DevExpress,jQuery),function(e,t){function n(e,t){var n=e;return t&&h(t.split("."),function(e,t){return n=n[t]}),n}var i=DevExpress.require("/class"),r=e.require("/utils/utils.common"),o=r.isString,a=e.viz,s=a.utils.parseScalar,l=a.findTheme,u=a.addCacheItem,c=a.removeCacheItem,d=t.extend,h=t.each;a.BaseThemeManager=i.inherit({ctor:function(){u(this)},dispose:function(){var e=this;return c(e),e._callback=e._theme=e._font=null,e},setCallback:function(e){return this._callback=e,this},setTheme:function(e,t){return this._current=e,this._rtl=t,this.refresh()},refresh:function(){var e=this,t=e._current||{},n=l(t.name||t);return e._themeName=n.name,e._defaultPalette=n.defaultPalette,e._font=d({},n.font,t.font),e._themeSection&&h(e._themeSection.split("."),function(t,i){n=d(!0,{},n[i],e._IE8?n[i+"IE8"]:{})}),e._theme=d(!0,{},n,o(t)?{}:t),e._initializeTheme(),s(e._rtl,e._theme.rtlEnabled)&&d(!0,e._theme,e._theme._rtl),e._callback(),e},theme:function(e){return n(this._theme,e)},themeName:function(){return this._themeName},createPalette:function(e,t){return new a.Palette(e||this._defaultPalette,t)},createGradientPalette:function(e,t){return new a.GradientPalette(e||this._defaultPalette,t)},_initializeTheme:function(){var e=this;h(e._fontFields||[],function(t,i){e._initializeFont(n(e._theme,i))})},_initializeFont:function(e){d(e,this._font,d({},e))}})}(DevExpress,jQuery),function(e,t){function n(e){return"numeric"===e||"datetime"===e||"string"===e?e:""}var i=t.require("/utils/utils.common"),r=i.isDefined,o={string:function(e){return r(e)?""+e:e},numeric:function(e){if(!r(e))return e;var t=Number(e);return isNaN(t)&&(t=void 0),t},datetime:function(e){if(!r(e))return e;var t,n=Number(e);return t=isNaN(n)?new Date(e):new Date(n),isNaN(Number(t))&&(t=void 0),t}};t.viz.parseUtils={correctValueType:n,getParser:function(t){return o[n(t)]||e.noop}}}(jQuery,DevExpress),function(e){function t(e){var t=this,n=e.renderer;t._group=n.g().attr({"class":"dx-loading-indicator"}).linkOn(n.root,"loading-indicator"),t._rect=n.rect().attr({opacity:0}).append(t._group),t._text=n.text().attr({align:"center"}).append(t._group),t._createStates(e.eventTrigger,t._group,n.root,e.notify)}var n=e.viz.utils.patchFontOptions,i=0,r=1,o="loadingIndicatorReady";t.prototype={constructor:t,_createStates:function(e,t,n,r){var a=this;a._states=[[0,function(){r(!1)},function(){t.linkRemove(),n.attr({"pointer-events":null}),e(o)}],[.85,function(){t.linkAppend(),n.attr({"pointer-events":"none"}),r(!0)},function(){e(o)}]],a._state=i},setSize:function(e){var t=e.width,n=e.height;this._rect.attr({width:t,height:n}),this._text.attr({x:t/2,y:n/2})},setOptions:function(e){this._rect.attr({fill:e.backgroundColor}),this._text.css(n(e.font)).attr({text:e.text}),this[e.show?"show":"hide"]()},dispose:function(){var e=this;e._group.linkRemove().linkOff(),e._group=e._rect=e._text=e._states=null},_transit:function(e){var t,n=this;n._state!==e&&(n._state=e,n._isHiding=!1,t=n._states[e],n._noHiding=!0,t[1](),n._noHiding=!1,n._rect.stopAnimation().animate({opacity:t[0]},{complete:t[2],easing:"linear",duration:400,unstoppable:!0}))},show:function(){this._transit(r)},hide:function(){this._transit(i)},scheduleHiding:function(){this._noHiding||(this._isHiding=!0)},fulfillHiding:function(){this._isHiding&&this.hide()}},e.viz.LoadingIndicator=t}(DevExpress),function(e,t,n,i,r){function o(e){e.css({left:"-9999px"}).detach()}function a(e){var n,i,o=this;o._eventTrigger=e.eventTrigger,o._wrapper=t("<div></div>").css({position:"absolute",overflow:"visible",width:0,height:0,"pointer-events":"none"}).addClass(e.cssClass),o._renderer=n=new s.renderers.Renderer({pathModified:e.pathModified,container:o._wrapper[0]}),i=n.root,i.attr({"pointer-events":"none"}),o._cloud=n.path([],"area").sharp().append(i),o._shadow=n.shadowFilter(),o._textGroup=n.g().attr({align:"center"}).append(i),o._text=n.text(r,0,0).append(o._textGroup),o._textGroupHtml=t("<div></div>").css({position:"absolute",width:0,padding:0,margin:0,border:"0px solid transparent"}).appendTo(o._wrapper),o._textHtml=t("<div></div>").css({position:"relative",display:"inline-block",padding:0,margin:0,border:"0px solid transparent"}).appendTo(o._textGroupHtml)}var s=e.viz,l=e.require("/utils/utils.common"),u=10,c={argument:["argumentFormat","argumentPrecision"],percent:["percent","percentPrecision"],value:["format","precision"]},d=e.require("/utils/utils.formatHelper"),h=Math.ceil;a.prototype={constructor:a,dispose:function(){this._wrapper.remove(),this._renderer.dispose(),this._options=null},setOptions:function(e){e=e||{};var n=this,i=n._cloudSettigns={opacity:e.opacity,filter:n._shadow.ref,"stroke-width":null,stroke:null},r=e.border||{},o=t(e.container);return n._container=(o.length?o:t("body")).get(0),n._shadowSettigns=t.extend({x:"-50%",y:"-50%",width:"200%",height:"200%"},e.shadow),n._options=e,r.visible&&t.extend(i,{"stroke-width":r.width,stroke:r.color,"stroke-opacity":r.opacity,dashStyle:r.dashStyle}),n._textFontStyles=s.utils.patchFontOptions(e.font),n._textFontStyles.color=e.font.color,n._wrapper.css({"z-index":e.zIndex}),n._customizeTooltip=t.isFunction(e.customizeTooltip)?e.customizeTooltip:null,n},setRendererOptions:function(e){return this._renderer.setOptions(e),this._textGroupHtml.css({direction:e.rtl?"rtl":"ltr"}),this},render:function(){var e=this;return o(e._wrapper),e._cloud.attr(e._cloudSettigns),e._shadow.attr(e._shadowSettigns),e._textGroupHtml.css(e._textFontStyles),e._textGroup.css(e._textFontStyles),e._text.css(e._textFontStyles),e._eventData=null,e},update:function(e){return this.setOptions(e).render()},_prepare:function(e,n){var i=this._options,r={};return this._customizeTooltip&&(r=this._customizeTooltip.call(e,e),r=t.isPlainObject(r)?r:{},"text"in r&&(n.text=l.isDefined(r.text)?String(r.text):""),"html"in r&&(n.html=l.isDefined(r.html)?String(r.html):"")),"text"in n||"html"in n||(n.text=e.valueText||""),n.color=r.color||i.color,n.borderColor=r.borderColor||(i.border||{}).color,n.textColor=r.fontColor||(i.font||{}).color,!!n.text||!!n.html},show:function(e,t,n){var r,o,a=this,s={},l=a._options,u=l.paddingLeftRight,c=l.paddingTopBottom,d=a._textGroupHtml,p=a._textHtml,f=a._shadowSettigns,m=f.offsetX,g=f.offsetY,_=2*f.blur+1,v=i.getComputedStyle;return a._prepare(e,s)?(a._state=s,s.tc={},a._wrapper.appendTo(a._container),a._cloud.attr({fill:s.color,stroke:s.borderColor}),s.html?(a._text.attr({text:""}),d.css({color:s.textColor,width:a._getCanvas().width}),p.html(s.html),v?(r=v(p.get(0)),r={x:0,y:0,width:h(parseFloat(r.width)),height:h(parseFloat(r.height))}):(r=p.get(0).getBoundingClientRect(),r={x:0,y:0,width:h(r.width?r.width:r.right-r.left),height:h(r.height?r.height:r.bottom-r.top)}),d.width(r.width),d.height(r.height)):(p.html(""),a._text.css({fill:s.textColor}).attr({text:s.text}),r=a._textGroup.css({fill:s.textColor}).getBBox()),o=s.contentSize={x:r.x-u,y:r.y-c,width:r.width+2*u,height:r.height+2*c,lm:_-m>0?_-m:0,rm:_+m>0?_+m:0,tm:_-g>0?_-g:0,bm:_+g>0?_+g:0},o.fullWidth=o.width+o.lm+o.rm,o.fullHeight=o.height+o.tm+o.bm+l.arrowLength,a.move(t.x,t.y,t.offset),a._eventData&&a._eventTrigger("tooltipHidden",a._eventData),a._eventData=n,a._eventTrigger("tooltipShown",a._eventData),!0):!1},hide:function(){var e=this;o(e._wrapper),e._eventData&&e._eventTrigger("tooltipHidden",e._eventData),e._eventData=null},move:function(e,t,n){n=n||0;var i=this,r=i._getCanvas(),o=i._state,a=o.tc,s=o.contentSize;i._calculatePosition(e,t,n,r)&&(i._cloud.attr({points:a.cloudPoints}).move(s.lm,s.tm),o.html?i._textGroupHtml.css({left:-s.x+s.lm,top:-s.y+s.tm+a.correction}):i._textGroup.move(-s.x+s.lm,-s.y+s.tm+a.correction),i._renderer.resize("out"===a.hp?r.fullWidth-r.left:s.fullWidth,"out"===a.vp?r.fullHeight-r.top:s.fullHeight)),n=i._wrapper.css({left:0,top:0}).offset(),i._wrapper.css({left:a.x-n.left,top:a.y-n.top})},formatValue:function(e,t){var n=c[t||"value"],i=n[0]in this._options?this._options[n[0]]:t;return d.format(e,i,this._options[n[1]]||0)},getLocation:function(){return s.utils.normalizeEnum(this._options.location)},isEnabled:function(){return!!this._options.enabled},isShared:function(){return!!this._options.shared},_calculatePosition:function(e,t,n,i){var r,o,a,s,l=this,c=l._options,d=c.arrowLength,h=l._state,p=h.tc,f=h.contentSize,m=f.width,g=m/2,_=f.height,v=t-i.top,y=i.top+i.height-t,x=e-i.left,b=i.width+i.left-e,w=_+d+n+f.tm,C=_+d+n+f.bm,S=m+f.lm,k=m+f.rm,D=g+f.lm,T=g+f.rm,E=0,I=[6,0],A=g+u,$=g,B=g-u,O=_+d,P="center",M="bottom";switch(o=a=_,c.verticalAlignment){case"top":M="bottom",s=!0;break;case"bottom":M="top",s=!0}switch(s||(w>v&&C>y?M="out":w>v&&(M="top")),s=!1,c.horizontalAlignment){case"left":P="right",s=!0;break;case"center":P="center",s=!0;break;case"right":P="left",s=!0}return s||(S>x&&k>b?P="out":D>x&&b>k?P="left":T>b&&x>S&&(P="right")),"out"===P?e=i.left:"left"===P?(A=u,$=B=0):"right"===P?(A=$=m,B=m-u,e-=m):"center"===P&&(e-=g),"out"===M?t=i.top:"top"===M?("out"!==P&&(E=d),I[0]=2,o=a=d,O=A,A=B,B=O,O=0,t+=n):t-=_+d+n,p.x=e-f.lm,p.y=t-f.tm,p.correction=E,P===p.hp&&M===p.vp?!1:(p.hp=P,p.vp=M,r=[0,0+E,m,0+E,m,_+E,0,_+E],"out"!==P&&"out"!==M&&(I.splice(2,0,A,o,$,O,B,a),r.splice.apply(r,I)),p.cloudPoints=r,!0)},_getCanvas:function(){var e=n.documentElement,t=n.body;return{left:i.pageXOffset||e.scrollLeft||0,top:i.pageYOffset||e.scrollTop||0,width:e.clientWidth||0,height:e.clientHeight||0,fullWidth:Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,t.clientWidth,e.clientWidth),fullHeight:Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)}}},s.Tooltip=a}(DevExpress,jQuery,document,window),function(e,t,n){function i(e,t,n,i){if(t&&t[n]){var r,o=t[n].hatching.direction,a=t[n].fill;return i=a===J?i:a,o=o&&o!==J?o:G,r=F({},t[n].hatching,{direction:o,step:j,width:N}),e.pattern(i,r)}}function r(e){var t=e.margin;t>=0?(t=T(e.margin),t={top:t,bottom:t,left:t,right:t}):t={top:t.top>=0?T(t.top):H,bottom:t.bottom>=0?T(t.bottom):H,left:t.left>=0?T(t.left):H,right:t.right>=0?T(t.right):H},e.margin=t}function o(e,t,n){var i,r,o=7,a=4;switch(e.itemTextPosition){case q:case G:i=t+o+n.width,r=A(t,n.height);break;case U:case Y:i=A(t,n.width),r=t+a+n.height}return{width:i,height:r}}function a(e,t){var n={};return n.left=$(e.x,t.x),n.top=$(e.y,t.y),n.right=A(e.x+e.width,t.x+t.width),n.bottom=A(e.y+e.height,t.y+t.height),n}function s(e,t,n,i){var r=t&&n[t[e]];r&&r.marker.attr(r.states[i])}function l(e,n){return e?(r(e),e.horizontalAlignment=ne(e.horizontalAlignment,G),e.verticalAlignment=ie(e.verticalAlignment,e.horizontalAlignment===W?Y:U),e.orientation=re(e.orientation,e.horizontalAlignment===W?K:Q),e.itemTextPosition=oe(e.itemTextPosition,e.orientation===K?Y:G),e.position=ae(e.position,Z),e.itemsAlignment=se(e.itemsAlignment,null),e.hoverMode=L(e.hoverMode),e.customizeText=R(e.customizeText)?e.customizeText:function(){return this[n]},e.customizeHint=R(e.customizeHint)?e.customizeHint:t.noop,e._incidentOccured=e._incidentOccured||t.noop,e):null}function u(e,t){return e.rect(0,0,t,t)}function c(e,t){return e.circle(t/2,t/2,t/2)}function d(e){return"circle"===L(e)}function h(e){return d(e)?c:u}function p(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function f(e,t,n){var i={x:0,y:0},r=0,o=0;return z(e,function(e,n){var a=n[0];z(n,function(e,n){var o=n.offset||t.spacing;i[t.direction]+=n[t.measure]+o,r=A(r,i[t.direction])}),i[t.direction]=0,i[t.ortDirection]+=a[t.ortMeasure]+a.ortOffset||t.ortSpacing,o=A(o,i[t.ortDirection])}),r>t.length?(t.countItem=m(t,n),!0):void 0}function m(e,t){return e.ortCountItem++,B(t/e.ortCountItem)}function g(e,t){var n=0;return z(e,function(e,i){var r=i.offset||t.spacing;n+=i[t.measure]+r}),n}function _(e,t){var n=0;return z(e,function(e,i){n=A(n,g(i,t))}),n}function v(e,t,n){var i,r=g(e,t);switch(t.itemsAlignment){case G:i=n-r;break;case W:i=(n-r)/2;break;default:i=0}return i}function y(e){switch(e.itemTextPosition){case Y:return{horizontal:W,vertical:U};case U:return{horizontal:W,vertical:Y};case q:return{horizontal:G,vertical:W};case G:return{horizontal:q,vertical:W}}}function x(e,t,n){var i={};return n%t.countItem==0&&(t.markerOffset?e.push([],[]):e.push([])),t.markerOffset?(i.firstLine=e[e.length-1],i.secondLine=e[e.length-2]):i.firstLine=i.secondLine=e[e.length-1],i}function b(e,t){var n=0;z(e,function(e,i){i&&(n=A(n,i[t]))}),z(e,function(e,i){i&&(i[t]=n)})}function w(e){for(var t,n=e.length,i=e[0].length,r=[],o=0;i>o;o++)for(r[o]=[],t=0;n>t;t++)r[o][t]=e[t][o];return r}function C(e){switch(e){case U:case Y:return W;case q:return G;case G:return q}}var S=e.viz,k=S.utils,D=S.WrapperLayoutElement,T=Number,E=Math,I=E.round,A=E.max,$=E.min,B=E.ceil,O=e.require("/utils/utils.object"),P=e.require("/utils/utils.common"),M=P.isDefined,R=P.isFunction,V=k.enumParser,L=k.normalizeEnum,F=t.extend,z=t.each,H=10,N=2,j=5,W="center",G="right",q="left",U="top",Y="bottom",K="horizontal",Q="vertical",X="inside",Z="outside",J="none",ee="height",te="width",ne=V([q,W,G]),ie=V([U,Y]),re=V([Q,K]),oe=V([q,G,U,Y]),ae=V([Z,X]),se=V([q,W,G]),le=S.Legend=function(e){var t=this;t._renderer=e.renderer,t._legendGroup=e.group,t._backgroundClass=e.backgroundClass,t._itemGroupClass=e.itemGroupClass,t._textField=e.textField,t._getCustomizeObject=e.getFormatObject,t._patterns=[]},ue=le.prototype=O.clone(e.viz.LayoutElement.prototype);t.extend(ue,{constructor:le,update:function(e,t){var n=this;return n._data=e,n._boundingRect={width:0,height:0,x:0,y:0},n._options=l(t,n._textField),n},draw:function(e,t){var n=this,i=n._options,r=n._renderer,o=n._data;return this._size={width:e,height:t},n.erase(),i&&i.visible&&o&&o.length?(n._insideLegendGroup=r.g().append(n._legendGroup),n._createBackground(),n._createItems(n._getItemData()),n._locateElements(i),n._finalUpdate(i),(n.getLayoutOptions().width>e||n.getLayoutOptions().height>t)&&(n._options._incidentOccured("W2104"),n.erase()),n):n},probeDraw:function(e,t){return this.draw(e,t)},_createItems:function(e){var t,r=this,a=r._options,s=a.markerSize,l=r._renderer,u=0,c=0,d=h(a.markerType);for(r._markersId={};u<r._patterns.length;u++)r._patterns[u].dispose();r._patterns=[],r._items=k.map(e,function(e,u){var h=r._insideLegendGroup,p=T(e.size>0?e.size:s),f=e.states,m=f.normal,g=m.fill,_=d(l,p).attr({fill:g||a.markerColor,opacity:m.opacity}).append(h),v=r._createLabel(e,h),y=i(l,f,"hover",g),x=i(l,f,"selection",g),b={normal:{fill:g}},w=v.getBBox();return y&&(b.hovered={fill:y.id},r._patterns.push(y)),x&&(b.selected={fill:x.id},r._patterns.push(x)),e.id!==n&&(r._markersId[e.id]=u),t=o(a,p,w),c=A(c,t.height),r._createHint(e,v),{label:v,labelBBox:w,group:h,bbox:t,marker:_,markerSize:p,tracker:{id:e.id,argument:e.argument},states:b,itemTextPosition:a.itemTextPosition,markerOffset:0,bboxs:[]}}),a.equalRowHeight&&z(r._items,function(e,t){t.bbox.height=c})},_getItemData:function(){var e=this._data;return this._options.inverted&&(e=e.slice().reverse()),e},_finalUpdate:function(e){this._adjustBackgroundSettings(e),this._setBoundingRect(e.margin)},erase:function(){var e=this,t=e._insideLegendGroup;return t&&t.dispose(),e._insideLegendGroup=e._x1=e._x2=e._y2=e._y2=null,e},_locateElements:function(e){this._moveInInitialValues(),this._locateRowsColumns(e)},_moveInInitialValues:function(){var e=this;e._legendGroup&&e._legendGroup.move(0,0),e._background&&e._background.attr({x:0,y:0,width:0,height:0})},applySelected:function(e){return s(e,this._markersId,this._items,"selected"),this},applyHover:function(e){return s(e,this._markersId,this._items,"hovered"),this},resetItem:function(e){return s(e,this._markersId,this._items,"normal"),this},_createLabel:function(e,t){var n=this._getCustomizeObject(e),i=C(this._options.itemTextPosition),r=this._options.customizeText.call(n,n),o=M(e.textOpacity)?F({},this._options.font,{opacity:e.textOpacity}):this._options.font;return this._renderer.text(r,0,0).css(k.patchFontOptions(o)).attr({align:i}).append(t)},_createHint:function(e,t){var n=this._getCustomizeObject(e),i=this._options.customizeHint.call(n,n);M(i)&&""!==i&&t.setTitle(i)},_createBackground:function(){var e=this,t=e._options.position===X,n=e._options.backgroundColor,i=n||(t?e._options.containerBackgroundColor:J);(e._options.border.visible||(t||n)&&n!==J)&&(e._background=e._renderer.rect(0,0,0,0).attr({fill:i,"class":e._backgroundClass}).append(e._insideLegendGroup))},_locateRowsColumns:function(){var e,t=this,n=0,i=t._getItemsLayoutOptions(),r=t._items.length;do e=[],t._createLines(e,i),t._alignLines(e,i),n++;while(f(e,i,r)&&r>n);t._applyItemPosition(e,i)},_createLines:function(e,t){z(this._items,function(n,i){var r,o,a=x(e,t,n),s={width:i.labelBBox.width,height:i.labelBBox.height,element:i.label,bbox:i.labelBBox,pos:y(t),itemIndex:n},l={width:i.markerSize,height:i.markerSize,element:i.marker,pos:{horizontal:W,vertical:W},bbox:{width:i.markerSize,height:i.markerSize,x:0,y:0},itemIndex:n},u=t.markerOffset?"ortOffset":"offset";t.inverseLabelPosition?(r=s,o=l):(r=l,o=s),r[u]=t.labelOffset,a.secondLine.push(r),a.firstLine.push(o)})},_alignLines:function(e,t){function n(e,t){b(t,r)}var i,r=t.ortMeasure;if(z(e,n),r=t.measure,t.itemsAlignment){if(t.markerOffset)for(i=0;i<e.length;)z(w([e[i++],e[i++]]),n)}else z(w(e),n)},_applyItemPosition:function(e,t){var n=this,i={x:0,y:0},r=_(e,t),o=0;z(e,function(e,a){var s=a[0],l=s.ortOffset||t.ortSpacing;i[t.direction]=v(a,t,r),z(a,function(e,r){var a=r.offset||t.spacing,s=new D(r.element,r.bbox),l=new D(null,{x:i.x,y:i.y,width:r.width,height:r.height}),u=n._items[r.itemIndex];s.position({of:l,my:r.pos,at:r.pos}),u.bboxs.push(l),i[t.direction]+=r[t.measure]+a,o++}),i[t.ortDirection]+=s[t.ortMeasure]+l}),z(this._items,function(e,t){var i=a(t.bboxs[0].getLayoutOptions(),t.bboxs[1].getLayoutOptions()),r=n._options.columnItemSpacing/2,o=n._options.rowItemSpacing/2;t.tracker.left=i.left-r,t.tracker.right=i.right+r,t.tracker.top=i.top-o,t.tracker.bottom=i.bottom+o})},_getItemsLayoutOptions:function(){var e=this,t=e._options,n=t.orientation,i={itemsAlignment:t.itemsAlignment,orientation:t.orientation},r=e._size.width-2*t.paddingLeftRight,o=e._size.height-2*t.paddingTopBottom;return n===K?(i.length=r,i.ortLength=o,i.spacing=t.columnItemSpacing,i.direction="x",i.measure=te,i.ortMeasure=ee,i.ortDirection="y",i.ortSpacing=t.rowItemSpacing,i.countItem=t.columnCount,i.ortCountItem=t.rowCount,i.marginTextLabel=4,i.labelOffset=7,(t.itemTextPosition===Y||t.itemTextPosition===U)&&(i.labelOffset=4,i.markerOffset=!0)):(i.length=o,i.ortLength=r,i.spacing=t.rowItemSpacing,i.direction="y",i.measure=ee,i.ortMeasure=te,i.ortDirection="x",i.ortSpacing=t.columnItemSpacing,i.countItem=t.rowCount,i.ortCountItem=t.columnCount,i.marginTextLabel=7,i.labelOffset=4,(t.itemTextPosition===G||t.itemTextPosition===q)&&(i.labelOffset=7,i.markerOffset=!0)),i.countItem||(i.countItem=i.ortCountItem?B(e._items.length/i.ortCountItem):e._items.length),(t.itemTextPosition===U||t.itemTextPosition===q)&&(i.inverseLabelPosition=!0),i.itemTextPosition=t.itemTextPosition,i.ortCountItem=i.ortCountItem||B(e._items.length/i.countItem),i},_adjustBackgroundSettings:function(e){if(this._background){var t=e.border,n=this._insideLegendGroup.getBBox(),i={x:I(n.x-e.paddingLeftRight),y:I(n.y-e.paddingTopBottom),width:I(n.width)+2*e.paddingLeftRight,height:I(n.height)+2*e.paddingTopBottom,opacity:e.backgroundOpacity};t.visible&&t.width&&t.color&&t.color!==J&&(i["stroke-width"]=t.width,i.stroke=t.color,i["stroke-opacity"]=t.opacity,i.dashStyle=t.dashStyle,i.rx=t.cornerRadius||0,i.ry=t.cornerRadius||0),this._background.attr(i)}},_setBoundingRect:function(e){if(this._insideLegendGroup){var t=this._insideLegendGroup.getBBox();t.height+=e.top+e.bottom,t.width+=e.left+e.right,t.x-=e.left,t.y-=e.top,this._boundingRect=t}},getActionCallback:function(e){var n=this;return n._options.visible?function(t){n[t](e.index)}:t.noop},getLayoutOptions:function(){var e=this._options,t=this._insideLegendGroup?this._boundingRect:{width:0,height:0,x:0,y:0};return e?(t.verticalAlignment=e.verticalAlignment,t.horizontalAlignment=e.horizontalAlignment,e.orientation===K?(t.cutLayoutSide=e.verticalAlignment,t.cutSide="vertical"):e.horizontalAlignment===W?(t.cutLayoutSide=e.verticalAlignment,t.cutSide="vertical"):(t.cutLayoutSide=e.horizontalAlignment,t.cutSide="horizontal"),t.position={horizontal:e.horizontalAlignment,vertical:e.verticalAlignment},t):null},shift:function(e,t){var n=this,i={};return n._insideLegendGroup&&(n._insideLegendGroup.attr({translateX:e-n._boundingRect.x,translateY:t-n._boundingRect.y}),i=n._legendGroup.getBBox()),n._x1=i.x,n._y1=i.y,n._x2=i.x+i.width,n._y2=i.y+i.height,n},getPosition:function(){return this._options.position},coordsIn:function(e,t){return e>=this._x1&&e<=this._x2&&t>=this._y1&&t<=this._y2},getItemByCoord:function(e,t){var n,i=this._items,r=this._insideLegendGroup;for(e-=r.attr("translateX"),t-=r.attr("translateY"),n=0;n<i.length;n++)if(p(i[n].tracker,e,t))return i[n].tracker;return null},dispose:function(){var e=this;return e._legendGroup=e._insideLegendGroup=e._renderer=e._options=e._data=e._items=null,e}})}(DevExpress,jQuery),function(e,t,n){function i(e,t){return e>t}function r(e,t){return t>e}function o(e,t,n,i){var r=h(t);h(e)?r&&i(e,t)&&n(t):r&&n(t)}function a(e){return e}function s(e){return e.valueOf()}function l(e,t,n){var i,r,o,l=e.length,u="datetime"===n?s:a;if(t&&t.length)for(r=0;r<t.length;r++){for(o=0,i=!1;l>o;o++)if(u(e[o])===u(t[r])){i=!0;break}i||e.push(t[r])}return e}var u,c=t.viz,d=t.require("/utils/utils.common"),h=d.isDefined,p=d.isDate,f="min",m="max",g="minVisible",_="maxVisible",v="categories",y="base",x="axisType";u=c.Range=function(t){t&&e.extend(this,t)},u.prototype={constructor:u,dispose:function(){this[v]=null},addRange:function(e){var t=this,a=t[v],s=e[v],u=function(n,i){o(t[n],e[n],function(e){t[n]=e},i)},c=function(e,n,i){o(t[e],t[n],function(n){h(t[e])&&(t[e]=n)},i)},p=function(n){t[n]=t[n]||e[n]};return d.isDefined(e.stick)&&(t.stick=e.stick),p("addSpiderCategory"),p("percentStick"),p("minSpaceCorrection"),p("maxSpaceCorrection"),p("invert"),p(x),p("dataType"),"logarithmic"===t[x]?p(y):t[y]=n,u(f,i),u(m,r),"discrete"===t[x]?(p(g),p(_)):(u(g,i),u(_,r)),u("interval",i),c(f,g,i),c(f,_,i),c(m,_,r),c(m,g,r),t[v]=a===n?s:l(a,s,t.dataType),this},isDefined:function(){return h(this[f])&&h(this[m])||this[v]&&this[v].length},setStubData:function(e){var t=this,n=(new Date).getYear()-1,i="datetime"===e,r="discrete"===t[x];return r?t.categories=["0","1","2"]:(t[f]=i?new Date(n,0,1):0,t[m]=i?new Date(n,11,31):10),t.stubData=!0,t},correctValueZeroLevel:function(){function e(e,n){t[e]<0&&t[n]<0&&(t[n]=0),t[e]>0&&t[n]>0&&(t[e]=0)}var t=this;return"logarithmic"===t[x]||p(t[m])||p(t[f])?t:(e(f,m),e(g,_),t)},checkZeroStick:function(){var e=this;return e.min>=0&&e.max>=0?e.minStickValue=0:e.min<=0&&e.max<=0&&(e.maxStickValue=0),e}}}(jQuery,DevExpress),function(e,t){function n(e){return h(e)&&e.length>0}function i(e,t,n){var i=e.attr({text:t}).applyEllipsis(n);i&&e.setTitle(t)}function r(e){e.margin>=0?e.margin={top:e.margin,bottom:e.margin,left:e.margin,right:e.margin}:(e.margin=e.margin||{},e.margin={top:e.margin.top>=0?e.margin.top:p,bottom:e.margin.bottom>=0?e.margin.bottom:p,left:e.margin.left>=0?e.margin.left:p,right:e.margin.right>=0?e.margin.right:p})}function o(e){"bottom"!==e.verticalAlignment&&(e.verticalAlignment="top"),"left"!==e.horizontalAlignment&&"right"!==e.horizontalAlignment&&(e.horizontalAlignment="center")}function a(e){this._renderer=e.renderer,this._incidentOccured=e.incidentOccured,this._group=e.renderer.g().attr({"class":e.cssClass}).linkOn(e.renderer.root,{name:"title",after:"peripheral"})}var s,l=t.viz,u=l.utils,c=t.require("/utils/utils.object"),d=t.require("/utils/utils.common"),h=d.isDefined,p=10,f=3;l.Title=a,s=a.prototype=c.clone(t.viz.LayoutElement.prototype),e.extend(s,{
constructor:a,dispose:function(){var e=this;e._group.linkOff(),e._renderer=e._group=null,e._disposeInnerElements(),e._options=null},_updateOptions:function(e){o(e),r(e),this._options=e},_updateStructure:function(){var e=this,t=e._renderer,i=e._group,r={align:e._options.horizontalAlignment};e._titleElement||(e._titleElement=t.text().attr(r).append(i),e._subtitleElement=t.text().attr(r),e._clipRect=t.clipRect(),i.attr({clipId:e._clipRect.id})),i.linkAppend(),n(e._options.subtitle.text)?e._subtitleElement.append(i):e._subtitleElement.remove()},_updateTexts:function(){var e,t,i=this,r=i._options,o=r.subtitle,a=i._titleElement,s=i._subtitleElement,l="A";a.attr({text:l,y:0}).css(u.patchFontOptions(r.font)),e=a.getBBox(),i._titleTextY=e.height+e.y,a.attr({text:r.text}),e=a.getBBox(),t=-e.y,a.attr({y:t}),n(o.text)&&(t+=e.height+e.y,s.attr({text:o.text,y:0}).css(u.patchFontOptions(o.font)),t+=-s.getBBox().y-i._titleTextY+f,s.attr({y:t}))},_updateBoundingRectAlignment:function(){var e=this._boundingRect,t=this._options;e.verticalAlignment=t.verticalAlignment,e.horizontalAlignment=t.horizontalAlignment,e.cutLayoutSide=t.verticalAlignment,e.cutSide="vertical",e.position={horizontal:t.horizontalAlignment,vertical:t.verticalAlignment}},update:function(e){return n(e.text)?(this._updateOptions(e),this._updateStructure(),this._updateTexts(),this._boundingRect={},this._updateBoundingRect(),this._updateBoundingRectAlignment()):(this._group.linkRemove(),this._boundingRect=null),this},draw:function(e,t){var n,i=this;return i._group.linkAppend(),i._correctTitleLength(e),n=i.getLayoutOptions(),(n.width>e||n.height>t)&&(i._incidentOccured("W2103"),i._group.linkRemove(),i._boundingRect.width=i._boundingRect.height=0),i},probeDraw:function(e,t){return this.draw(e,t),this},_correctTitleLength:function(e){var t=this,n=t._options,r=n.margin,o=e-r.left-r.right;i(t._titleElement,n.text,o),t._subtitleElement&&i(t._subtitleElement,n.subtitle.text,o),t._updateBoundingRect()},_disposeInnerElements:function(){this._titleElement&&(this._titleElement.dispose(),this._subtitleElement.dispose(),this._clipRect.dispose(),this._titleElement=this._subtitleElement=this._clipRect=null)},getLayoutOptions:function(){return this._boundingRect||null},shift:function(e,t){var n=this,i=n.getLayoutOptions();return n._group.move(e-i.x,t-i.y),n._setClipRectSettings(),n},_setClipRectSettings:function(){var e=this.getLayoutOptions();this._clipRect.attr({x:e.x,y:e.y,width:e.width,height:e.height})},_updateBoundingRect:function(){var e,t=this,n=t._options,i=n.margin,r=t._boundingRect;e=t._group.getBBox(),e.height+=i.top+i.bottom-t._titleTextY,e.width+=i.left+i.right,e.x-=i.left,e.y+=t._titleTextY-i.top,n.placeholderSize>0&&(e.height=n.placeholderSize),r.height=e.height,r.width=e.width,r.x=e.x,r.y=e.y}})}(jQuery,DevExpress),function(e){function t(e){var t=i.utils.normalizeDataSourceOptions(e);return"paginate"in t||(t.paginate=!1),new i.DataSource(t)}function n(e){this._callback=e,this._items=this._ds=null,this._isShared=!1}var i=e.data,r=e.require("/utils/utils.common").isArray;n.prototype={constructor:n,dispose:function(){this._reset()},isLoaded:function(){return!this._ds||this._ds.isLoaded()},items:function(){return this._ds?this._ds.items():this._items},_reset:function(){var e=this;e._items=null,e._ds&&(e._isShared?e._ds.off({changed:e._callback,loadError:e._callback}):e._ds.dispose(),e._ds=null,e._isShared=!1)},update:function(e){var n=this;n._reset(),!e||r(e)?(n._items=e||null,n._callback()):(n._isShared=e instanceof i.DataSource,n._ds=n._isShared?e:t(e),n._ds.on({changed:n._callback,loadError:n._callback}),n._ds.isLoaded()?n._callback():n._ds.load())}},e.viz.DataSource=n}(DevExpress),function(e,t){var n=t.viz,i=t.require("/utils/utils.math"),r=t.require("/utils/utils.common"),o=r.isDefined,a=i.adjustValue,s=Math,l=s.abs,u=s.ceil,c=s.floor,d=e.noop,h=200,p=[2,4,5,8,10];n.outOfScreen={x:-1e3,y:-1e3},n.tickManager={continuous:{_hasUnitBeginningTickCorrection:d,_checkBoundedDatesOverlapping:d,_correctInterval:function(e){this._tickInterval*=e},_correctMax:function(e){this._max=this._adjustNumericTickValue(u(this._max/e)*e,e,this._min)},_correctMin:function(e){this._min=this._adjustNumericTickValue(c(this._min/e)*e,e,this._min)},_findBusinessDelta:function(e,t){return a(l(e-t))},_findTickIntervalForCustomTicks:function(){return l(this._customTicks[1]-this._customTicks[0])},_getBoundInterval:function(){var e=this,t=e._options.boundCoef;return o(t)&&isFinite(t)?e._tickInterval*l(t):e._tickInterval/2},_getInterval:function(e,t){var n,i,r,o=e||this._getDeltaCoef(this._screenDelta,this._businessDelta,this._options.gridSpacingFactor),s=t||this._options.numberMultipliers,l=0,u=!1;if(o>1){for(n=1;!u;n*=10)for(r=0;r<s.length;r++)if(l=s[r]*n,l>=o){u=!0;break}}else if(o>0)for(l=1,n=.1;!u;n/=10)for(r=s.length-1;r>=0;r--){if(i=s[r]*n,o>i){u=!0;break}l=i}return a(l)},_getMarginValue:function(e,t,n){return i.applyPrecisionByMinDelta(e,n,l(t-e)*n)},_getDefaultMinorInterval:function(e,t){var n,i=this._getDeltaCoef(e,t,this._options.minorGridSpacingFactor),r=p,o=r.length-1;for(o;o>=0;o--)if(n=t/r[o],n>=i)return a(n);return 0},_getMinorInterval:function(e,t){var n,i,r,a=this,s=a._options,l=s.minorTickInterval,d=s.minorTickCount;isFinite(l)&&a._isTickIntervalCorrect(l,h,t)?(n=l,r=t>n?u(t/n)-1:0):o(d)?(i=o(d)?d+1:c(e/s.minorGridSpacingFactor),r=i-1,n=r>0?t/i:0):(n=a._getDefaultMinorInterval(e,t),r=t>n?c(t/n)-1:0),a._minorTickInterval=n,a._minorTickCount=r},_getNextTickValue:function(e,t,n){return t=o(n)&&n?-t:t,e+=t,this._adjustNumericTickValue(e,t,this._min)},_isTickIntervalValid:function(e){return o(e)&&isFinite(e)&&0!==e}}}}(jQuery,DevExpress),function(e,t){function n(e,t,n){var i=u(t),r=6e4*e.getTimezoneOffset();return new Date(Math[n]((+e-r)/i)*i+r)}var i=t.require("/utils/utils.date"),r=t.require("/utils/utils.common"),o=t.viz.tickManager,a=r.isDefined,s=i.convertDateUnitToMilliseconds,l=i.correctDateWithUnitBeginning,u=i.dateToMilliseconds,c=i.convertMillisecondsToDateUnits,d=Math,h=d.abs,p=d.ceil,f=d.floor,m=d.round,g=50,_={millisecond:[1,2,5,10,25,100,250,300,500],second:[1,2,3,5,10,15,20,30],minute:[1,2,3,5,10,15,20,30],hour:[1,2,3,4,6,8,12],day:[1,2,3,5,7,10,14],month:[1,2,3,6]};o.datetime=e.extend({},o.continuous,{_correctInterval:function(e){var t=u(this._tickInterval);this._tickInterval=c(t*e)},_correctMax:function(e){this._max=n(this._max,e,"ceil")},_correctMin:function(e){this._min=n(this._min,e,"floor"),this._options.setTicksAtUnitBeginning&&l(this._min,e)},_findTickIntervalForCustomTicks:function(){return c(h(this._customTicks[1]-this._customTicks[0]))},_getBoundInterval:function(){var e=this,t=e._tickInterval,n=u(t),i=e._options.boundCoef,r=a(i)&&isFinite(i)?n*h(i):n/2;return c(r)},_getInterval:function(e){var t,n,i,r,o,a=e||this._getDeltaCoef(this._screenDelta,this._businessDelta,this._options.gridSpacingFactor),l=this._options.numberMultipliers,u={};if(a>0&&1>a)return{milliseconds:1};if(0===a)return 0;for(i in _)if(_.hasOwnProperty(i))for(r=_[i],n=0;n<r.length;n++)if(a<=s(i,r[n]))return u[i+"s"]=r[n],u;for(t=1;;t*=10)for(n=0;n<l.length;n++)if(o=t*l[n],a<=s("year",o))return{years:o};return 0},_getMarginValue:function(e,t,n){return c(m(h(t-e)*n))},_getMinorInterval:function(e,t){var n,i,r,o,s=this,l=s._options;a(l.minorTickInterval)&&s._isTickIntervalCorrect(l.minorTickInterval,g,t)?(n=l.minorTickInterval,i=u(n),o=t>i?p(t/i)-1:0):(r=a(l.minorTickCount)?l.minorTickCount+1:f(e/l.minorGridSpacingFactor),o=r-1,n=o>0?c(t/r):0),s._minorTickInterval=n,s._minorTickCount=o},_getNextTickValue:function(e,t,n,r,o){var a=i.addInterval(e,t,n);return this._options.setTicksAtUnitBeginning&&o!==!1&&l(a,t,!0),a},_getUnitBeginningMinorTicks:function(e){var t=this,n=t._ticks,i=t._findMinorTickInterval(n[1],n[2]),r=!0,o=!1,a=!1,s=t._getNextTickValue(n[1],i,r,o,a);return t._isTickIntervalValid(i)&&(e=t._createTicks(e,i,s,n[0],r,o,a)),e},_hasUnitBeginningTickCorrection:function(){var e=this._ticks;return e.length<3?!1:e[1]-e[0]!=e[2]-e[1]&&this._options.setTicksAtUnitBeginning&&this._options.minorTickCount},_isTickIntervalValid:function(e){return a(e)&&0!==u(e)},_checkBoundedDatesOverlapping:function(){var e=this._ticks,t=this.getOverlappingBehavior();return e.length>2&&"stagger"!==t.mode&&"ignore"!==t.mode&&!this._areDisplayValuesValid(e[0],e[1])}})}(jQuery,DevExpress),function(e,t){var n=t.viz,i=t.require("/utils/utils.math"),r=t.require("/utils/utils.date"),o=t.require("/utils/utils.common"),a=o.isDefined,s=r.addInterval,l=i.adjustValue,u=n.tickManager,c=u.continuous,d=i.getLog,h=i.raiseTo,p=Math,f=p.abs,m=p.ceil,g=p.floor,_=p.round;u.logarithmic=e.extend({},c,{_correctMax:function(){var e=this._options.base;this._max=l(h(m(l(d(this._max,e))),e))},_correctMin:function(){var e=this._options.base;this._min=l(h(g(l(d(this._min,e))),e))},_findBusinessDelta:function(e,t,n){var i;return 0>=e||0>=t?0:i=n===!1?c._findBusinessDelta(e,t):_(f(d(e,this._options.base)-d(t,this._options.base)))},_findTickIntervalForCustomTicks:function(){return l(d(this._customTicks[1]/this._customTicks[0],this._options.base))},_getInterval:function(e){var t,n,i=e||this._getDeltaCoef(this._screenDelta,this._businessDelta,this._options.gridSpacingFactor),r=this._options.numberMultipliers,o=0,a=!1;if(0!==i)for(t=1;!a;t*=10)for(n=0;n<r.length;n++)if(o=r[n]*t,o>=i){a=!0;break}return l(o)},_getMinorInterval:function(e,t){var n=this,i=n._options,r=i.minorTickCount,o=a(r)?r+1:g(e/i.minorGridSpacingFactor),s=o-1,l=s>0?t/o:0;n._minorTickInterval=l,n._minorTickCount=s},_getMarginValue:function(){return null},_getNextTickValue:function(e,t,n,i){var r,o,u=this;return t=a(n)&&n?-t:t,i===!1?o=e+t:(r=s(d(e,u._options.base),t,u._min>u._max),o=l(h(r,u._options.base))),o}})}(jQuery,DevExpress),function(e,t){function n(e){switch(e){case"overlap":return w;case w:return C;default:return"end"}}function i(e){return e.toString()}var r,o=t.viz,a=o.tickManager,s=t.require("/utils/utils.common"),l=s.isDefined,u=s.isNumber,c=Math,d=c.abs,h=c.ceil,p=c.floor,f=c.atan,m=c.max,g=e.each,_=e.noop,v=e.isFunction,y=e.extend,x=4,b=2,w="stagger",C="rotate",S=2;r=a.overlappingMethods={},r.base={_applyOverlappingBehavior:function(){var e=this,t=e._options,n=t.overlappingBehavior;"ignore"!==n.mode&&(e._useAutoArrangement=!0,e._correctTicks(),"_auto"===n.mode&&(e._applyAutoOverlappingBehavior(),e._useAutoArrangement=t.overlappingBehavior.isOverlapped),e._useAutoArrangement&&(n.mode===w&&(e._screenDelta*=b),e._applyAutoArrangement()))},checkBoundedTicksOverlapping:function(){return{overlappedDates:this._checkBoundedDatesOverlapping(),overlappedStartEnd:this._checkStartEndOverlapping()}},getMaxLabelParams:function(e){var t,n,r=this,o=r._options.getText||i,a=0;return e=e||r._calculateMajorTicks(),g(e,function(e,i){var s=o(i,r._options.labelOptions),u=l(s)?s.length:-1;u>a&&(a=u,t=i,n=s)}),a>0?r._getTextElementBbox(t,n):{width:0,height:0,length:0,y:0}},_applyAutoArrangement:function(){var e,t,n=this,i=n._options;n._useAutoArrangement&&(t=n._getTicksSize(),e=n._getAutoArrangementStep(t),e>1&&(l(n._tickInterval)||l(n._customTicks)?n._ticks=n._getAutoArrangementTicks(e):(i.gridSpacingFactor=t,n._ticks=n._createTicks([],n._findTickInterval(),n._min,n._max))))},_getAutoArrangementTicks:function(e){var t,n=this,i=n._ticks,r=i.length,o=i,a=n._decimatedTicks||[];if(e>1){for(o=[],t=0;r>t;t++)t%e==0?o.push(i[t]):a.push(i[t]);n._correctInterval(e)}return o},_isOverlappedTicks:function(e){return this._getAutoArrangementStep(this._getTicksSize(),e,-1)>1},_areDisplayValuesValid:function(e,t){var n,r,o,a=this,s=a._options,l=s.getText||i,c=s.overlappingBehavior&&u(s.overlappingBehavior.rotationAngle)?s.overlappingBehavior.rotationAngle:0,h=a._getTextElementBbox(e,l(e,s.labelOptions)),p=a._getTextElementBbox(t,l(t,s.labelOptions)),f=h.x>p.x,m=h.y>p.y;return 0!==c?o=a._getDistanceByAngle(h.height,c)<=d(p.x-h.x):(n=f?p.x+p.width>h.x:h.x+h.width>p.x,r=m?p.y+p.height>h.y:h.y+h.height>p.y,o=!(n&&r)),o}},r.circular=y({},r.base,{_correctTicks:_,_applyAutoOverlappingBehavior:function(){this._options.overlappingBehavior.isOverlapped=!0},_getTextElementBbox:function(e,t){var n,i=y({},this._options.textOptions,{rotate:0}),r=v(this._options.translate)?this._options.translate(e):{x:0,y:0};return t=this._options.renderText(t,r.x,r.y).css(this._options.textFontStyles).attr(i),n=t.getBBox(),t.remove(),n},_getTicksSize:function(){return this.getMaxLabelParams(this._ticks)},_checkStartEndOverlapping:function(){var e=this._ticks,t=e[e.length-1];return e.length>1&&!this._areDisplayValuesValid(e[0],t)},_getAutoArrangementStep:function(e){var t=this,n=t._options,i=n.circularRadius,r=n.circularStartAngle,o=n.circularEndAngle,a=r===o?360:d(r-o),s=t._businessDelta||t._ticks.length,l=t._tickInterval*a/s,u=e.width,p=e.height,g=d(360*f(p/(2*i-u))/c.PI),_=d(360*f(u/(2*i-p))/c.PI),v=m(g,_),y=1;return v>l&&(y=h(v/l)),m(1,y)}}),r.linear=y({},r.base,{_correctTicks:function(){var e,t=a.continuous._getInterval;e=h(t.call(this,this._getDeltaCoef(this._screenDelta*x,this._ticks.length)))||this._ticks.length,this._ticks=this._getAutoArrangementTicks(e)},_getTextElementBbox:function(e,t){var n,i=y({},this._options.textOptions,{rotate:0}),r=0,o=0,a=v(this._options.translate)?this._options.translate(e):0;return this._options.isHorizontal?r+=a:o+=a,t=this._options.renderText(t,r,o).css(this._options.textFontStyles).attr(i),n=t.getBBox(),t.remove(),n},_checkStartEndOverlapping:_,_getAutoArrangementStep:function(e,t,n){var i,r=this,o=r._options,a=o.textSpacing||0,s=o.isHorizontal?a:0;return t=t||r._screenDelta,n=l(n)?n:1,o.getCustomAutoArrangementStep?o.getCustomAutoArrangementStep(r._ticks,o):e>0?(i=p((t+a)/(e+s)),i=n>=i?S:i,h((o.ticksCount||r._ticks.length)/i)):1},_getOptimalRotationAngle:function(){var e=this,t=e._options,n=e._ticks[0],r=e._ticks[1],a=o.outOfScreen,s=e._textOptions,l=t.getText||i,u=t.textFontStyles,d=t.renderText(l(n,t.labelOptions),a.x+t.translate(n,!t.isHorizontal),a.y).css(u).attr(s),p=t.renderText(l(r,t.labelOptions),a.x+t.translate(r,!t.isHorizontal),a.y).css(u).attr(s),f=d.getBBox(),m=p.getBBox(),g=180*c.asin((f.height+t.textSpacing)/(m.x-f.x))/Math.PI;return d.remove(),p.remove(),isNaN(g)?90:h(g)},_applyAutoOverlappingBehavior:function(){for(var e=this,t=e._options.overlappingBehavior,i=e._screenDelta,r=!1,o=null,a=null,s="overlap";"end"!==s;)switch(r=o&&90!==o?!1:e._isOverlappedTicks(i),s=n(r?s:null)){case w:i*=b,a=s;break;case C:o=e._getOptimalRotationAngle(),i=e._screenDelta,a=s}t.isOverlapped=r,t.mode=a,t.rotationAngle=o},_getDistanceByAngle:function(e,t){return e/d(c.sin(t*(c.PI/180)))},_getTicksSize:function(){var e=this.getMaxLabelParams(this._ticks),t=this._options,n=t.overlappingBehavior?t.overlappingBehavior.rotationAngle:0,i=u(n)&&0!==n;return h(i?this._getDistanceByAngle(e.height,n):t.isHorizontal?e.width:e.height)}})}(jQuery,DevExpress),function(e,t){function n(e){var t,n=e[0],i=[n.obj],r=e.length,o=1;for(o;r>o;o++)t=e[o],n.value!==t.value&&(i.push(t.obj),n=t);return i}function i(e,t){if(!e.length&&!t.length)return[];var i=e.concat(t),r=[],o=i.length,a=!1,s=0;for(s;o>s;s++)null!==i[s]?r.push({obj:i[s],value:i[s].valueOf()}):a=!0;return r.sort(function(e,t){return e.value-t.value}),r=n(r),a&&r.push(null),r}var r,o=t.viz,a=o.tickManager,s=t.require("/utils/utils.date"),l=t.require("/utils/utils.common"),u=t.require("/utils/utils.formatHelper"),c=l.isDefined,d=l.isNumber,h=s.addInterval,p=t.require("/utils/utils.math"),f=p.adjustValue,m=o.utils.map,g=e.each,_=e.inArray,v=e.noop,y=30,x=15,b=[1,2,3,5],w=2e3,C=2;a.discrete=e.extend({},a.continuous,{_calculateMinorTicks:v,_findTickInterval:v,_createTicks:function(){return[]},_getMarginValue:v,_generateBounds:v,_correctMin:v,_correctMax:v,_findBusinessDelta:v,_addBoundedTicks:v,getFullTicks:function(){return this._customTicks},getMinorTicks:function(){return this._decimatedTicks||[]},_findTickIntervalForCustomTicks:function(){return 1}}),r=a.TickManager=function(e,t,n){n=n||{},this.update(e||{},t||{},n),this._initOverlappingMethods(n.overlappingBehaviorType)},r.prototype={constructor:r,dispose:function(){this._ticks=null,this._minorTicks=null,this._decimatedTicks=null,this._boundaryTicks=null,this._options=null},update:function(e,t,n){this._updateOptions(n||{}),this._min=t.min,this._updateTypes(e||{}),this._updateData(t||{})},_updateMinMax:function(e){var t=e.min||0,n=e.max||0,i=this._applyMinMaxMargins(t,n);this._min=this._originalMin=i.min,this._max=this._originalMax=i.max,this._updateBusinessDelta()},_updateBusinessDelta:function(){this._businessDelta=this._findBusinessDelta&&this._findBusinessDelta(this._min,this._max)},_updateTypes:function(e){var t=this,n=t._validateAxisType(e.axisType),i=t._validateDataType(e.dataType);t._resetMethods(),this._axisType=n,this._dataType=i,this._initMethods()},_updateData:function(t){t=e.extend({},t),t.min=c(t.min)?t.min:this._originalMin,t.max=c(t.max)?t.max:this._originalMax,this._updateMinMax(t),this._customTicks=t.customTicks&&t.customTicks.slice(),this._customMinorTicks=t.customMinorTicks,this._screenDelta=t.screenDelta||0},_updateOptions:function(e){var t;this._options=t=e,this._useAutoArrangement=!!this._options.useTicksAutoArrangement,t.gridSpacingFactor=t.gridSpacingFactor||y,t.minorGridSpacingFactor=t.minorGridSpacingFactor||x,t.numberMultipliers=t.numberMultipliers||b},getTickBounds:function(){return{minVisible:this._minBound,maxVisible:this._maxBound}},getTicks:function(e){var t=this,n=t._options;return t._ticks=t._calculateMajorTicks(),t._checkLabelFormat(),t._decimatedTicks=[],t._applyAutoArrangement(),e||t._applyOverlappingBehavior(),t._generateBounds(),n.showMinorTicks&&(t._minorTicks=t._calculateMinorTicks()),t._addBoundedTicks(),t._ticks},getMinorTicks:function(){var e=this,t=e.getDecimatedTicks(),n=e._options||{},r=t.length,o=c(n.minorTickInterval)||c(n.minorTickCount),a=e._customMinorTicks&&e._customMinorTicks.length,s=n.showMinorTicks&&(o||a),l=r&&!s?t:e._minorTicks||[];return i(l,[])},getDecimatedTicks:function(){return this._decimatedTicks||[]},getFullTicks:function(){var e=this,t=e._ticks&&!e._minorTicks,n=t?e._calculateMinorTicks():e._minorTicks||[];return i(e._ticks||[],n.concat(e.getBoundaryTicks()))},getBoundaryTicks:function(){return this._boundaryTicks||[]},getTickInterval:function(){return this._tickInterval},getMinorTickInterval:function(){return this._minorTickInterval},getOverlappingBehavior:function(){return this._options.overlappingBehavior},getOptions:function(){return this._options},_calculateMajorTicks:function(){var e,t=this;return t._options.showCalculatedTicks||!t._customTicks?e=t._createTicks(t._options.showCalculatedTicks?t._customTicks||[]:[],t._findTickInterval(),t._min,t._max):(e=t._customTicks.slice(),t._tickInterval=e.length>1?t._findTickIntervalForCustomTicks():0),e},_applyMargin:function(e,t,n,i){var r,o=t;return isFinite(e)&&(r=this._getMarginValue(t,n,e),r&&(o=this._getNextTickValue(t,r,i,!1))),o},_applyMinMaxMargins:function(e,t){var n=this._options,i=e>t?t:e,r=t>e?t:e;return this._minCorrectionEnabled=this._getCorrectionEnabled(e,"min"),this._maxCorrectionEnabled=this._getCorrectionEnabled(t,"max"),n&&!n.stick&&(i=this._applyMargin(n.minValueMargin,e,t,!0),r=this._applyMargin(n.maxValueMargin,t,e,!1)),{min:i,max:r}},_checkBoundedTickInArray:function(e,t){var n=m(t||[],function(e){return e.valueOf()}),i=_(e.valueOf(),n);-1!==i&&t.splice(i,1)},_checkLabelFormat:function(){var e=this._options;"datetime"===this._dataType&&!e.hasLabelFormat&&this._ticks.length&&(e.labelOptions.format=e.isMarkersVisible?s.getDateUnitInterval(this._tickInterval):u.getDateFormatByTicks(this._ticks))},_generateBounds:function(){var e=this,t=e._getBoundInterval(),n=e._options.stick,i=e._options.minStickValue,r=e._options.maxStickValue,o=e._minCorrectionEnabled&&!n?e._getNextTickValue(e._min,t,!0):e._originalMin,a=e._maxCorrectionEnabled&&!n?e._getNextTickValue(e._max,t):e._originalMax;e._minBound=i>o?i:o,e._maxBound=a>r?r:a},_initOverlappingMethods:function(e){this._initMethods(a.overlappingMethods[e||"linear"])},_addBoundedTicks:function(){var e=this,t=m(e._ticks,function(e){return e.valueOf()}),n=e._originalMin,i=e._originalMax,r=e._options.addMinMax||{};e._boundaryTicks=[],r.min&&-1===_(n.valueOf(),t)&&(e._boundaryTicks.push(n),e._checkBoundedTickInArray(n,e._minorTicks),e._checkBoundedTickInArray(n,e._decimatedTicks)),r.max&&-1===_(i.valueOf(),t)&&(e._boundaryTicks.push(i),e._checkBoundedTickInArray(i,e._minorTicks),e._checkBoundedTickInArray(i,e._decimatedTicks))},_getCorrectionEnabled:function(e,t){var n=this._options||{},i=n.percentStick&&1===Math.abs(e),r=n[t+"ValueMargin"];return!i&&!r},_validateAxisType:function(e){var t="continuous",n={continuous:!0,discrete:!0,logarithmic:!0};return n[e]?e:t},_validateDataType:function(e){var t={numeric:!0,datetime:!0,string:!0};return t[e]||(e=c(this._min)?this._getDataType(this._min):"numeric"),e},_getDataType:function(e){return l.isDate(e)?"datetime":"numeric"},_getMethods:function(){var e;return e="continuous"===this._axisType?"datetime"===this._dataType?a.datetime:a.continuous:a[this._axisType]||a.continuous},_resetMethods:function(){var e=this,t=e._getMethods();g(t,function(t){e[t]&&delete e[t]})},_initMethods:function(e){var t=this;e=e||t._getMethods(),g(e,function(e,n){t[e]=n})},_getDeltaCoef:function(e,t,n){var i;return n=n||this._options.gridSpacingFactor,e=e||this._screenDelta,t=t||this._businessDelta,i=e/n,i=1>=i?C:i,t/i},_adjustNumericTickValue:function(e,t,n){return l.isExponential(e)?f(e):p.applyPrecisionByMinDelta(n,t,e)},_isTickIntervalCorrect:function(e,t,n){var i;if(n=n||this._businessDelta,!d(e)&&(i=new Date,e=h(i,e)-i,!e))return!1;if(d(e)){if(!(e>0&&n/e>t))return!0;this._options.incidentOccured&&this._options.incidentOccured("W2003")}return!1},_correctValue:function(e,t,n){var i=this,r="_"+e+"CorrectionEnabled",o=e+"SpaceCorrection",a="_"+e,s=i._options.minStickValue,l=i._options.maxStickValue;i[r]&&(i._options[o]&&(i[a]=i._getNextTickValue(i[a],t,"min"===e)),n.call(this,t)),"min"===e&&(i[a]=i[a]<s?s:i[a]),"max"===e&&(i[a]=i[a]>l?l:i[a])},_findTickInterval:function(){var e,t=this,n=t._options;return e=t._isTickIntervalValid(n.tickInterval)&&t._isTickIntervalCorrect(n.tickInterval,w)?n.tickInterval:t._getInterval(),t._isTickIntervalValid(e)&&(t._correctValue("min",e,t._correctMin),t._correctValue("max",e,t._correctMax),t._updateBusinessDelta()),t._tickInterval=e,e},_findMinorTickInterval:function(e,t){var n=this,i=n._ticks,r=n._options.stick?i.length-1:i.length;return 1>r&&(r=1),n._getMinorInterval(n._screenDelta/r,n._findBusinessDelta(e,t,!1)),n._minorTickInterval},_createMinorTicks:function(e,t,n){var i=this,r=i._findMinorTickInterval(t,n),o=!1,a=!1,s=!1,l=i._getNextTickValue(t,r,o,a,s);return i._isTickIntervalValid(r)&&(e=i._createCountedTicks(e,r,l,n,i._minorTickCount,o,a,s)),e},_calculateMinorTicks:function(){var e=this,t=e._options,n=[],i=e._ticks,r=i.length,o=e._hasUnitBeginningTickCorrection(),a=o?1:0;if(t.showMinorCalculatedTicks||!e._customMinorTicks){if(i.length){for(n=e._getBoundedMinorTicks(n,e._minBound,i[0],!0),o&&(n=e._getUnitBeginningMinorTicks(n)),a;r-1>a;a++)n=e._createMinorTicks(n,i[a],i[a+1]);n=e._getBoundedMinorTicks(n,e._maxBound,i[r-1])}else n=e._createMinorTicks(n,e._minBound,e._maxBound);t.showMinorCalculatedTicks&&(n=n.concat(e._customMinorTicks||[]))}else n=e._customMinorTicks;return n},_createCountedTicks:function(e,t,n,i,r,o,a){for(var s=n,l=0;r>l;l++)a===!1&&s.valueOf()===i.valueOf()||e.push(s),s=this._getNextTickValue(s,t,!1,o,!1);return e},_createTicks:function(e,t,n,i,r,o,a){var s,l,u,c=this,d=n,h=n;if(c._isTickIntervalValid(t)){u=0>n-i;do{if(d=h,c._options.stick?d>=c._originalMin&&d<=c._originalMax&&e.push(d):e.push(d),h=c._getNextTickValue(d,t,r,o,a),d.valueOf()===h.valueOf())break;s=h-n>=0,l=i-h>=0}while(u===s&&u===l)}else e.push(d);return e},_getBoundedMinorTicks:function(e,t,n,i){var r,o,a=this,s=!1,l=a._tickInterval?this._getNextTickValue(n,a._tickInterval,i,!0,s):t,u=a._findMinorTickInterval(n,l),c=a._isTickIntervalCorrect(u,w,a._findBusinessDelta(n,t,!1)),d=t.valueOf();if(c&&a._isTickIntervalValid(u)&&a._minorTickCount>0){if(i){if(n.valueOf()<=d)return e;for(;l.valueOf()<d;)l=this._getNextTickValue(l,u,!1,!1,s);r=l,o=a._getNextTickValue(n,u,!0,!1,!1)}else r=a._getNextTickValue(n,u,!1,!1,!1),o=t;e=a._createTicks(e,u,r,o,!1,!1,s)}return e}}}(jQuery,DevExpress),function(e,t,n){function i(e,t,n,i){var r={value:e,valueText:o.format(e,t.format,t.precision)||""};return n&&(r.min=n.min,r.max=n.max),i&&(r.point=i),r}var r=t.viz.utils.map,o=t.require("/utils/utils.formatHelper");t.viz.axes={constants:{logarithmic:"logarithmic",discrete:"discrete",numeric:"numeric",left:"left",right:"right",top:"top",bottom:"bottom",center:"center",canvasPositionPrefix:"canvas_position_",canvasPositionTop:"canvas_position_top",canvasPositionBottom:"canvas_position_bottom",canvasPositionLeft:"canvas_position_left",canvasPositionRight:"canvas_position_right",canvasPositionStart:"canvas_position_start",canvasPositionEnd:"canvas_position_end",horizontal:"horizontal",vertical:"vertical",convertTicksToValues:function(e){return r(e||[],function(e){return e.value})},convertValuesToTicks:function(e){return r(e||[],function(e){return{value:e}})},validateOverlappingMode:function(e){return"ignore"!==e?"enlargeTickInterval":"ignore"},formatLabel:function(t,n,r,o){var a=i(t,n,r,o);return e.isFunction(n.customizeText)?n.customizeText.call(a,a):a.valueText},formatHint:function(t,r,o){var a=i(t,r,o);return e.isFunction(r.customizeHint)?r.customizeHint.call(a,a):n}}}}(jQuery,DevExpress),function(e,t,n){function i(e,t){var n=new Date(e.getTime()),i=v[t];return i&&i(n),n}var r=t.viz,o=t.require("/utils/utils.formatHelper"),a=t.require("/utils/utils.date"),s=t.require("/utils/utils.common"),l=s.isDefined,u=r.axes,c=u.constants,d=e.extend,h=c.canvasPositionPrefix,p=c.top,f=c.bottom,m=c.left,g=c.right,_=c.center,v={millisecond:function(e){e.setMilliseconds(0)},second:function(e){e.setSeconds(0,0)},minute:function(e){e.setMinutes(0,0,0)},hour:function(e){e.setHours(0,0,0,0)},month:function(e){e.setMonth(0),v.day(e)},quarter:function(e){e.setMonth(a.getFirstQuarterMonth(e.getMonth())),v.day(e)}};v.week=v.day=function(e){e.setDate(1),v.hour(e)},u.xyAxes={linear:{measureLabels:function(){return this._tickManager.getMaxLabelParams()},getMarkerTrackers:function(){return this._markerTrackers},_prepareDatesDifferences:function(e,t){var n,i;if("week"===t&&(t="day"),"quarter"===t&&(t="month"),e[t])for(i=0;i<a.dateUnitIntervals.length&&(n=a.dateUnitIntervals[i],e[n]&&(e[n]=!1,e.count--),n!==t);i++);},_getSharpParam:function(e){return this._isHorizontal^e?"h":"v"},_createAxisElement:function(){var e=this._axisPosition,t=this._getCanvasStartEnd(),n=this._isHorizontal?[t.start,e,t.end,e]:[e,t.start,e,t.end];return this._renderer.path(n,"line")},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)},_getCanvasStartEnd:function(){return{start:this._translator.translateSpecialCase(c.canvasPositionStart),end:this._translator.translateSpecialCase(c.canvasPositionEnd)}},_getScreenDelta:function(){return Math.abs(this._translator.translateSpecialCase(c.canvasPositionStart)-this._translator.translateSpecialCase(c.canvasPositionEnd))},_initAxisPositions:function(){var e=this,t=e._options.position,n=0;e.delta&&(n=e.delta[t]||0),e._axisPosition=e._additionalTranslator.translateSpecialCase(h+t)+n},_getTickCoord:function(e){var t,n={top:-1,middle:-.5,bottom:0,left:-1,center:-.5,right:0},i=n[this._options.tickOrientation||"center"];return t=l(e.posX)&&l(e.posY)?{x1:e.posX,y1:e.posY+i*e.length,x2:e.posX,y2:e.posY+i*e.length+e.length}:null},_drawTitle:function(){var e=this,t=e._options,n=t.title,i={opacity:n.opacity,align:_};n.text&&e._axisTitleGroup&&(e._title=e._renderer.text(n.text,0,0).css(r.utils.patchFontOptions(n.font)).attr(i).append(e._axisTitleGroup))},_drawDateMarker:function(e,t){var n,i,o,a,s,l,u=this,d=u._options.marker;return null!==t.x?(t.withoutStick||(l=u._renderer.path([t.x,t.y,t.x,t.y+d.separatorHeight],"line").attr({"stroke-width":d.width,stroke:d.color,"stroke-opacity":d.opacity,sharp:"h"}).append(u._axisElementsGroup)),o=u._renderer.text(String(c.formatLabel(e,t.labelFormat)),0,0).attr({align:"left"}).css(r.utils.patchFontOptions(d.label.font)).append(u._axisElementsGroup),a=o.getBBox(),s=d.width+d.textLeftIndent,n=this._translator.getBusinessRange().invert?t.x-s-a.width:t.x+s,i=t.y+d.textTopIndent+a.height/2,o.move(n,i),{labelStartPosX:n,labelEndPosX:n+a.width,path:l,text:o,date:e,dateMarkerStartPosX:t.x}):void 0},_disposeDateMarker:function(e){e.path&&e.path.dispose(),e.path=null,e.text.dispose(),e.text=null},_getDiff:function(e,t){var n=a.getDatesDifferences(t,e);return this._prepareDatesDifferences(n,this._dateUnitInterval),n},_drawDateMarkers:function(){var e,t,n,r,s,l=this,u=l._options,c=l._majorTicks,d=l._boundaryTicks,h=d.length-1,p=c.length,f=[],m=1;if(d[0]&&c[0].value>d[0].value&&c.unshift(d[0]),d[h]&&c[p-1].value<d[h].value&&c.push(d[h]),p=c.length,"datetime"===u.argumentType&&"discrete"!==u.type&&!(1>=p)){for(t=l._axisPosition+this._axisElementsGroup.getBBox().height+u.label.indentFromAxis+u.marker.topIndent,l._dateUnitInterval=a.getDateUnitInterval(this._tickManager.getTickInterval()),m;p>m;m++)s=l._getDiff(c[m].value,c[m-1].value),s.count>0&&(r=i(c[m].value,l._dateUnitInterval),n=l._drawDateMarker(r,{x:l._translator.translate(r),y:t,labelFormat:l._getLabelFormatOptions(o.getDateFormatByDifferences(s))}),n&&(l._checkMarkersPosition(n,e)?(f.push(n),e=n):l._disposeDateMarker(n)));f.length&&(n=l._drawDateMarker(c[0].value,{x:l._translator.translate(c[0].value),y:t,labelFormat:l._getLabelFormatOptions(o.getDateFormatByDifferences(l._getDiff(c[0].value,f[0].date))),withoutStick:!0}),n&&(l._checkMarkersPosition(n,f[0])||l._disposeDateMarker(n),f.unshift(n))),l._initializeMarkersTrackers(f,l._axisElementsGroup,l._axisGroup.getBBox().width,t)}},_initializeMarkersTrackers:function(e,t,n,i){var r,o,a,s,l,u=this,c=u._options.marker.separatorHeight,d=u._renderer,h=e.length,p=this._translator.getBusinessRange();for(u._markerTrackers=[],a=0;h>a;a++)l=e[a],o=e[a+1]||{dateMarkerStartPosX:p.invert?this._translator.translateSpecialCase("canvas_position_end"):n,date:p.max},s=l.dateMarkerStartPosX,r=d.path([s,i,s,i+c,o.dateMarkerStartPosX,i+c,o.dateMarkerStartPosX,i,s,i]).attr({"stroke-width":1,stroke:"grey",fill:"grey","fill-opacity":1e-4,"stroke-opacity":1e-4}).append(t),r.data("range",{startValue:l.date,endValue:o.date}),u._markerTrackers.push(r)},_checkMarkersPosition:function(e,t){return t===n||e.labelStartPosX>t.labelEndPosX||e.labelEndPosX<t.labelStartPosX},_getLabelFormatOptions:function(e){var t=this,n=t._markerLabelOptions;return n||(t._markerLabelOptions=n=d(!0,{},t._options.marker.label)),l(t._options.marker.label.format)||(n.format=e),n},_adjustConstantLineLabels:function(){var e,t,i,r,o,a,s,l,u,c,d,v,y,x,b,w,C=this,S=C._options,k=C._isHorizontal,D=C._constantLines,T=C._constantLineLabels,E=k?{top:0,bottom:0}:{left:0,right:0},I=0;if(T!==n||D!==n){for(u=0;u<T.length;u++)if(s=l=0,r=S.constantLines[u],c=r.paddingTopBottom,d=r.paddingLeftRight,o=r.label,v=o.verticalAlignment,y=o.horizontalAlignment,x="inside"===o.position,e=T[u],null!==e){if(t=D[u],a=e.getBBox(),i=t.getBBox(),b=a.height,w=a.width,k)if(x)switch(y===m?s-=d:s+=d,v){case _:l+=i.y+i.height/2-a.y-b/2;break;case f:l+=i.y+i.height-a.y-b-c;break;default:l+=i.y-a.y+c}else v===f?(I=C.delta&&C.delta[f]||0,l+=c-a.y+C._additionalTranslator.translateSpecialCase(h+f)+I,E[f]<b+c&&(E[f]=b+c)):(I=C.delta&&C.delta[p]||0,l-=c+a.y+b-C._additionalTranslator.translateSpecialCase(h+p)-I,E[p]<c+b&&(E[p]=c+b));else if(x){switch(y){case _:s+=i.x+i.width/2-a.x-w/2;break;case g:s-=d;break;default:s+=d}l+=v===f?i.y-a.y+c:i.y-a.y-b-c}else l+=i.y+i.height/2-a.y-b/2,y===g?(s+=d,E[g]<d+w&&(E[g]=d+w)):(s-=d,E[m]<d+w&&(E[m]=d+w));e.move(s,l)}C.padding=E}},_checkAlignmentConstantLineLabels:function(e){var t=e.position,n=(e.verticalAlignment||"").toLowerCase(),i=(e.horizontalAlignment||"").toLowerCase();
this._isHorizontal?"outside"===t?(n=n===f?f:p,i=_):(n=n===_?_:n===f?f:p,i=i===m?m:g):"outside"===t?(n=_,i=i===m?m:g):(n=n===f?f:p,i=i===g?g:i===_?_:m),e.verticalAlignment=n,e.horizontalAlignment=i},_getConstantLineLabelsCoords:function(e,t){var n=this,i=n._additionalTranslator,r=_,o=e,a=e;switch(n._isHorizontal?a=i.translateSpecialCase(h+t.verticalAlignment):o=i.translateSpecialCase(h+t.horizontalAlignment),t.horizontalAlignment){case m:r=n._isHorizontal||"inside"!==t.position?g:m;break;case _:r=_;break;case g:r=n._isHorizontal||"inside"!==t.position?m:g}return{x:o,y:a,align:r}},_getAdjustedStripLabelCoords:function(e,t,n){var i=0,r=0,o=e.label.horizontalAlignment,a=e.label.verticalAlignment,s=t.getBBox(),l=n.getBBox();return o===m?i+=e.paddingLeftRight:o===g&&(i-=e.paddingLeftRight),a===p?r+=l.y-s.y+e.paddingTopBottom:a===_?r+=l.y+l.height/2-s.y-s.height/2:a===f&&(r-=e.paddingTopBottom),{x:i,y:r}},_adjustTitle:function(){var e,t,n,i,r,o=this,a=o._options,s=a.position,l=o._title,u=a.title.margin,c=o._translator.translateSpecialCase(h+_),d=o._axisElementsGroup,p=o._axisPosition;l&&d&&(t=l.getBBox(),e=d.getBBox(),r=e.isEmpty,i=t.height,o._isHorizontal?n=s===f?{y:(r?p:e.y+e.height)-t.y+u,x:c}:{y:(r?p:e.y)-i-t.y-u,x:c}:(n=s===m?{x:(r?p:e.x)-i-t.y-u,y:c}:{x:(r?p:e.x+e.width)+i+t.y+u,y:c},n.rotate=a.position===m?270:90),l.attr(n))},coordsIn:function(e,t){var n=this.getBoundingRect();return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},_boundaryTicksVisibility:{min:!0,max:!0},_getOverlappingBehaviorOptions:function(){var e=this,t=e._options,i=function(){return""},r=t.label.overlappingBehavior?d({},t.label.overlappingBehavior):null;return r&&(e._isHorizontal||(r.mode=c.validateOverlappingMode(r.mode)),"rotate"!==r.mode&&(r.rotationAngle=0)),e._translator.getBusinessRange().stubData||(i=function(e,n){return c.formatLabel(e,n,{min:t.min,max:t.max})}),{hasLabelFormat:e._hasLabelFormat,labelOptions:t.label,isMarkersVisible:"discrete"===t.type?!1:t.marker.visible,overlappingBehavior:r,isHorizontal:e._isHorizontal,textOptions:e._textOptions,textFontStyles:e._textFontStyles,textSpacing:t.label.minSpacing,getText:i,renderText:function(t,n,i,r){return e._renderer.text(t,n,i,r).append(e._renderer.root)},translate:function(t,n){return n?e._additionalTranslator.translate(t):e._translator.translate(t)},addMinMax:t.showCustomBoundaryTicks?e._boundaryTicksVisibility:n}},_getMinMax:function(){return{min:this._options.min,max:this._options.max}},_getStick:function(){return!this._options.valueMarginsEnabled},_getStripLabelCoords:function(e,t,n){var i,r,o=this,a=o._additionalTranslator,s=o._isHorizontal,l=s?_:m;return s?(e.horizontalAlignment===_?(i=t+(n-t)/2,l=_):e.horizontalAlignment===m?(i=t,l=m):e.horizontalAlignment===g&&(i=n,l=g),r=a.translateSpecialCase(h+e.verticalAlignment)):(i=a.translateSpecialCase(h+e.horizontalAlignment),l=e.horizontalAlignment,e.verticalAlignment===p?r=t:e.verticalAlignment===_?r=n+(t-n)/2:e.verticalAlignment===f&&(r=n)),{x:i,y:r,align:l}},_getTranslatedValue:function(e,t,n){return{x:this._translator.translate(e,n),y:t}},_getSkippedCategory:function(){var e,t=this._translator.getVisibleCategories()||this._translator.getBusinessRange().categories;return t&&t.length&&!!this._tickOffset&&(e=t[t.length-1]),e},_getSpiderCategoryOption:e.noop}}}(jQuery,DevExpress),function(e,t,n){function i(e){var t;return e=s.normalizeAngle(e),e>=315&&360>=e||45>e&&e>=0?t=1:e>=45&&135>e?t=2:e>=135&&225>e?t=3:e>=225&&315>e&&(t=4),t}var r,o,a=t.viz,s=t.require("/utils/utils.math"),l=t.require("/utils/utils.common"),u=a.axes,c=u.constants,d=u.xyAxes.linear,h=a.utils,p=h.map,f=Math,m=f.abs,g=f.round,_=h.convertPolarToXY,v=e.extend,y=e.noop,x=90;o=u.polarAxes={},r=o.circular={_overlappingBehaviorType:"circular",_createAxisElement:function(){var e=this._additionalTranslator;return this._renderer.circle(e.getCenter().x,e.getCenter().y,e.getRadius())},_setBoundingRect:function(){this.boundingRect={width:0,height:0}},_boundaryTicksVisibility:{min:!0},_getOverlappingBehaviorOptions:function(){var e=this,t=e._additionalTranslator,n=t.getAngles(),i=d._getOverlappingBehaviorOptions.call(e),r=e._translator,o=e._options.label.indentFromAxis||0;return i.overlappingBehavior&&(i.overlappingBehavior={mode:c.validateOverlappingMode(i.overlappingBehavior.mode)}),i.translate=function(e){return _(t.getCenter(),n[0],r.translate(e),t.translate(c.canvasPositionBottom))},i.circularRadius=t.getRadius()+o,i.circularStartAngle=n[0],i.circularEndAngle=n[1],i.isHorizontal=!1,i},_addBoundaryTick:function(e){var t=this._tickManager.getBoundaryTicks();t.length&&e.unshift({value:t[0]})},_getSpiderCategoryOption:function(){return this._options.firstPointOnStartAngle},_getMinMax:function(){var e,t=this._options,i=l.isNumber(t.originValue)?t.originValue:n;return t.period>0&&t.argumentType===c.numeric&&(i=i||0,e=i+t.period),{min:i,max:e}},_getStick:function(){return this._options.firstPointOnStartAngle||this._options.type!==c.discrete},measureLabels:function(e){var t,n=this,i=n._options,r=i.label.indentFromAxis||0,o=i.visible?i.width:0,a=.5*i.tick.length,s=e?r+a:0;return n._axisElementsGroup&&n._options.label.visible?(n._updateTickManager(),t=n._tickManager.getMaxLabelParams(),{height:t.height+s,width:t.width+s}):{height:o,width:o}},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)-x},_getCanvasStartEnd:function(){return{start:0-x,end:360-x}},_createStrip:function(e,t,n){var i=this._additionalTranslator.getCenter(),r=this._additionalTranslator.getRadius();return this._renderer.arc(i.x,i.y,0,r,-t,-e).attr(n)},_getStripLabelCoords:function(e,t,n){var i=this,r=t+(n-t)/2,o=s.getCosAndSin(-r),a=i._additionalTranslator.getRadius()/2,l=i._additionalTranslator.getCenter(),u=g(l.x+a*o.cos),d=g(l.y-a*o.sin);return{x:u,y:d,align:c.center}},_createConstantLine:function(e,t){var n=this._additionalTranslator.getCenter(),i=this._additionalTranslator.getRadius();return this._createPathElement([n.x,n.y,n.x+i,n.y],t).rotate(e,n.x,n.y)},_getConstantLineLabelsCoords:function(e){var t=this,n=s.getCosAndSin(-e),i=t._additionalTranslator.getRadius()/2,r=t._additionalTranslator.getCenter(),o=g(r.x+i*n.cos),a=g(r.y-i*n.sin);return{x:o,y:a,align:c.center}},_checkAlignmentConstantLineLabels:y,_getScreenDelta:function(){return 2*Math.PI*this._additionalTranslator.getRadius()},_getTickCoord:function(e){var t=this._additionalTranslator.getCenter(),n=this._additionalTranslator.getRadius(),i={inside:-1,center:-.5,outside:0},r=e.length*i[this._options.tickOrientation||"center"],o=n+r;return{x1:t.x+o,y1:t.y,x2:t.x+o+e.length,y2:t.y,angle:e.angle}},_getLabelAdjustedCoord:function(e){var t=this,n=e.labelPos,r=s.getCosAndSin(n.angle),o=r.cos,a=r.sin,l=e.label.getBBox(),u=l.width/2,c=l.height/2,d=t._options.label.indentFromAxis||0,h=n.x+d*o,p=n.y+(n.y-l.y-c)+d*a;switch(i(n.angle)){case 1:h+=u,p+=c*a;break;case 2:h+=u*o,p+=c;break;case 3:h+=-u,p+=c*a;break;case 4:h+=u*o,p+=-c}return{x:h,y:p}},_getGridLineDrawer:function(){var e=this,t=e._additionalTranslator.getRadius(),n=e._additionalTranslator.getCenter();return function(i){return e._createPathElement([n.x,n.y,n.x+t,n.y],i.gridStyle).rotate(i.angle,n.x,n.y)}},_getTranslatedValue:function(e,t,n){var i=this._additionalTranslator,r=i.getAngles()[0],o=this._translator.translate(e,-n),a=_(i.getCenter(),r,o,i.translate(c.canvasPositionBottom));return{x:a.x,y:a.y,angle:o+r-x}},_getAdjustedStripLabelCoords:function(e,t){var n,i=t.getBBox();return n=t.attr("y")-i.y-i.height/2,{x:0,y:n}},coordsIn:function(e,t){return h.convertXYToPolar(this._additionalTranslator.getCenter(),e,t).r>this._additionalTranslator.getRadius()},_rotateTick:function(e,t){var n=this._additionalTranslator.getCenter();e.graphic.rotate(t,n.x,n.y)}},o.circularSpider=v({},r,{_createAxisElement:function(){var e=p(this.getSpiderTicks(),function(e){return{x:e.posX,y:e.posY}});return this._renderer.path(e,"area")},_getStick:function(){return!0},_getSpiderCategoryOption:function(){return!0},getSpiderTicks:function(){var e=this;return e._spiderTicks=c.convertValuesToTicks(e._tickManager.getFullTicks()),e._initTicks(e._spiderTicks,{tickStyle:{},gridStyle:{}},!1,e._getSkippedCategory(),e._tickOffset),e._spiderTicks},_createStrip:function(e,t,n){for(var i,r,o,a,s=this._additionalTranslator.getCenter(),l=this.getSpiderTicks(),u=[],c=0,d=l.length;d>c;)a=l[c],a.angle>=e&&a.angle<=t&&(i||(i=l[c-1]||l[l.length-1],u.push((a.posX+i.posX)/2,(a.posY+i.posY)/2)),u.push(a.posX,a.posY),o=l[c+1]||l[0],r={x:(a.posX+o.posX)/2,y:(a.posY+o.posY)/2}),c++;return u.push(r.x,r.y),u.push(s.x,s.y),this._renderer.path(u,"area").attr(n)},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)-x},_setTickOffset:function(){this._tickOffset=!1}}),o.linear={_overlappingBehaviorType:"linear",_getMinMax:r._getMinMax,_getStick:d._getStick,_getSpiderCategoryOption:e.noop,_createAxisElement:function(){var e=this._additionalTranslator,t=e.getCenter(),n=[t.x,t.y,t.x+e.getRadius(),t.y];return this._renderer.path(n,"line").rotate(e.getAngles()[0]-x,t.x,t.y)},_setBoundingRect:r._setBoundingRect,_getScreenDelta:function(){return this._additionalTranslator.getRadius()},_getTickCoord:function(e){return{x1:e.posX-e.length/2,y1:e.posY,x2:e.posX+e.length/2,y2:e.posY,angle:e.angle+x}},_getOverlappingBehaviorOptions:function(){var e=this,t=e._translator,n=e._additionalTranslator,i=d._getOverlappingBehaviorOptions.call(this),r=s.normalizeAngle(e._additionalTranslator.getAngles()[0]);return i.overlappingBehavior&&(i.overlappingBehavior={mode:c.validateOverlappingMode(i.overlappingBehavior.mode)}),i.isHorizontal=r>45&&135>r||r>225&&315>r?!0:!1,i.translate=function(i){return _(n.getCenter(),e._options.startAngle,n.translate(c.canvasPositionTop),t.translate(i)).x},i},_getLabelAdjustedCoord:function(e){var t,n,i=this,r=e.labelPos,o=s.getCosAndSin(r.angle),a=i._options.label.indentFromAxis||0,l=e.label.getBBox();return t=r.x-m(a*o.sin)+m(l.width/2*o.cos),n=r.y+(r.y-l.y)-m(l.height/2*o.sin)+m(a*o.cos),{x:t,y:n}},_getGridLineDrawer:function(){var e=this,t=e._additionalTranslator.getCenter();return function(n){return e._renderer.circle(t.x,t.y,s.getDistance(t.x,t.y,n.posX,n.posY)).attr(n.gridStyle).sharp()}},_getTranslatedValue:function(e,t,n){var i=this._additionalTranslator,r=i.getAngles()[0],o=i.translate(c.canvasPositionStart),a=_(i.getCenter(),r,o,this._translator.translate(e,n));return{x:a.x,y:a.y,angle:o+r-x}},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)},_getCanvasStartEnd:function(){return{start:0,end:this._additionalTranslator.getRadius()}},_createStrip:function(e,t,n){var i=this._additionalTranslator.getCenter();return this._renderer.arc(i.x,i.y,e,t,0,360).attr(n)},_getAdjustedStripLabelCoords:r._getAdjustedStripLabelCoords,_getStripLabelCoords:function(e,t,n){var i=this,r=t+(n-t)/2,o=i._additionalTranslator.getCenter(),a=g(o.y-r);return{x:o.x,y:a,align:c.center}},_createConstantLine:function(e,t){var n=this._additionalTranslator.getCenter();return this._renderer.circle(n.x,n.y,e).attr(t).sharp()},_getConstantLineLabelsCoords:function(e){var t=this,n=t._additionalTranslator.getCenter(),i=g(n.y-e);return{x:n.x,y:i,align:c.center}},_checkAlignmentConstantLineLabels:y,_rotateTick:function(e,t){e.graphic.rotate(t,e.posX,e.posY)}},o.linearSpider=v({},o.linear,{_createPathElement:function(e,t){return this._renderer.path(e,"area").attr(t).sharp()},setSpiderTicks:function(e){this._spiderTicks=e},_getGridLineDrawer:function(){var e=this,t=e._additionalTranslator.getCenter();return function(n){var i=s.getDistance(t.x,t.y,n.posX,n.posY);return e._createPathElement(e._getGridPoints(t,i),n.gridStyle)}},_getGridPoints:function(e,t){return p(this._spiderTicks,function(n){var i=s.getCosAndSin(n.angle);return{x:g(e.x+t*i.cos),y:g(e.y+t*i.sin)}})},_createStrip:function(e,t,n){var i=this._additionalTranslator.getCenter(),r=this._getGridPoints(i,t),o=this._getGridPoints(i,e);return this._renderer.path([o,r.reverse()],"area").attr(n)},_createConstantLine:function(e,t){var n=this._additionalTranslator.getCenter(),i=this._getGridPoints(n,e);return this._createPathElement(i,t)}})}(jQuery,DevExpress),function(e,t,n){function i(e){return e.categories&&e.categories.length}function r(e){var t=e.label,n=e.position,i=e.isHorizontal?c.bottom:c.left,r=e.isHorizontal?c.top:c.right;n!==i&&n!==r&&(n=i),n!==c.right||t.userAlignment||(t.alignment=c.left),e.position=n,e.hoverMode=e.hoverMode?e.hoverMode.toLowerCase():"none",t.minSpacing=m(t.minSpacing)?t.minSpacing:D}function o(e,t){var i=e.length;if(t!==n)for(;i--;)if(e[i].value===t)return i;return-1}var a,s=t.viz,l=t.require("/utils/utils.math"),u=t.require("/utils/utils.common"),c=s.axes.constants,d=s.parseUtils,h=c.formatLabel,p=c.convertTicksToValues,f=c.convertValuesToTicks,m=u.isDefined,g=u.isNumber,_=l.getSignificantDigitPosition,v=l.roundValue,y=s.utils.patchFontOptions,x=Math,b=x.abs,w=x.round,C=e.extend,S=e.each,k=e.noop,D=5,T=4,E=8,I=4;a=t.viz.axes.Axis=function(e){var t=this;t._renderer=e.renderer,t._incidentOccured=e.incidentOccured,t._stripsGroup=e.stripsGroup,t._labelAxesGroup=e.labelAxesGroup,t._constantLinesGroup=e.constantLinesGroup,t._axesContainerGroup=e.axesContainerGroup,t._gridContainerGroup=e.gridGroup,t._axisCssPrefix=e.widgetClass+"-"+(e.axisClass?e.axisClass+"-":""),t._setType(e.axisType,e.drawingType),t._createAxisGroups(),t._tickManager=t._createTickManager()},a.prototype={constructor:a,_updateIntervalAndBounds:function(){var e,t,n,r,o,a=this,s=a._translator,l=s.getBusinessRange();if(!i(l)){if(t=a.getMajorTicks(!0),n=t.length,l.isSynchronized||(o=this._tickManager.getTickBounds()),n>1){for(r=b(t[0].value-t[1].value),e=1;n-1>e;e++)r=Math.min(b(t[e].value-t[e+1].value),r);o=C({interval:r},o)}o&&(l.addRange(o),s.reinit())}},_createAllTicks:function(e){var t=this;t._boundaryTicks=t._getBoundaryTicks(),t._majorTicks=t.getMajorTicks(t._options.withoutOverlappingBehavior),t._decimatedTicks=i(e)?t.getDecimatedTicks():[],t._minorTicks=t.getMinorTicks()},_drawAxis:function(){var e=this,t=e._options,n=e._createAxis({"stroke-width":t.width,stroke:t.color,"stroke-opacity":t.opacity});n.append(e._axisLineGroup)},_correctMinForTicks:function(e,t,n){var i,r=_(b(t-e)/n),o=v(Number(e),r);return e>o&&(i=x.pow(10,-r),o=l.applyPrecisionByMinDelta(o,i,o+i)),o>t&&(o=e),o},_getTickManagerData:function(){var e=this,t=e._options,n=e._getScreenDelta(),r=e._minBound,o=e._maxBound,a=e._translator.getVisibleCategories()||e._translator.getBusinessRange().categories,s=t.customTicks||(i({categories:a})?a:e._majorTicks&&e._majorTicks.length&&p(e._majorTicks)),l=t.customMinorTicks||e._minorTicks&&e._minorTicks.length&&p(e._minorTicks);return g(r)&&t.type!==c.logarithmic&&(r=e._correctMinForTicks(r,o,n)),{min:r,max:o,customTicks:s,customMinorTicks:l,screenDelta:n}},_getTickManagerTypes:function(){return{axisType:this._options.type,dataType:this._options.dataType}},_getTicksOptions:function(){var e=this._options;return{base:e.type===c.logarithmic?e.logarithmBase:n,tickInterval:this._translator.getBusinessRange().stubData?null:e.tickInterval,gridSpacingFactor:e.axisDivisionFactor,minorGridSpacingFactor:e.minorAxisDivisionFactor,numberMultipliers:e.numberMultipliers,incidentOccured:e.incidentOccured,setTicksAtUnitBeginning:e.setTicksAtUnitBeginning,showMinorTicks:e.minorTick.visible||e.minorGrid.visible,minorTickInterval:e.minorTickInterval,minorTickCount:e.minorTickCount,useTicksAutoArrangement:e.useTicksAutoArrangement,showCalculatedTicks:e.tick.showCalculatedTicks,showMinorCalculatedTicks:e.minorTick.showCalculatedTicks}},_getBoundaryTicks:function(){var e=this._translator.getVisibleCategories()||this._translator.getBusinessRange().categories,t=i({categories:e})&&this._tickOffset?[e[0],e[e.length-1]]:this._tickManager.getBoundaryTicks();return f(t)},_createTickManager:function(){return s.CoreFactory.createTickManager({},{},{overlappingBehaviorType:this._overlappingBehaviorType})},_getMarginsOptions:function(){var e=this._translator.getBusinessRange();return{stick:e.stick||this._options.stick,minStickValue:e.minStickValue,maxStickValue:e.maxStickValue,percentStick:e.percentStick,minValueMargin:this._options.minValueMargin,maxValueMargin:this._options.maxValueMargin,minSpaceCorrection:e.minSpaceCorrection,maxSpaceCorrection:e.maxSpaceCorrection}},_updateTickManager:function(){var e,t=this._getOverlappingBehaviorOptions();e=C(!0,this._getMarginsOptions(),t,this._getTicksOptions()),this._tickManager.update(this._getTickManagerTypes(),this._getTickManagerData(),e)},_correctLabelAlignment:function(){var e=this,t=e._options.label,n=e._tickManager.getOverlappingBehavior();n&&"rotate"===n.mode?(e._textOptions.rotate=n.rotationAngle,t.userAlignment||(e._textOptions.align=c.left)):t.userAlignment||(e._textOptions.align=t.alignment)},_correctLabelFormat:function(){this._options.label=this._tickManager.getOptions().labelOptions},_deleteLabels:function(){this._axisElementsGroup&&this._axisElementsGroup.clear()},_drawTicks:function(e){var t=this,n=t._axisLineGroup;S(e||[],function(e,i){var r,o=t._getTickCoord(i);o&&(r=t._isHorizontal?[o.x1,o.y1,o.x2,o.y2]:[o.y1,o.x1,o.y2,o.x2],i.graphic=t._createPathElement(r,i.tickStyle).append(n),o.angle&&t._rotateTick(i,o.angle))})},_createPathElement:function(e,t){return this._renderer.path(e,"line").attr(t).sharp(this._getSharpParam())},_createAxis:function(e){return this._createAxisElement().attr(e).sharp(this._getSharpParam(!0))},_drawLabels:function(){var e=this,t=e._renderer,n=e._axisElementsGroup,i=/^\s+$/;S(e._majorTicks,function(r,o){var a,s,l=o.labelText;m(l)&&""!==l&&!i.test(l)&&(a=e._isHorizontal?o.labelPos.x:o.labelPos.y,s=e._isHorizontal?o.labelPos.y:o.labelPos.x,o.label?o.label.css(o.labelFontStyle).attr(o.labelStyle).attr({text:l,x:a,y:s}):o.label=t.text(l,a,s).css(o.labelFontStyle).attr(o.labelStyle).append(n),o.label.data({"chart-data-argument":o.value}))})},_getGridLineDrawer:function(e){var t=this,i=t._translator,r=t._additionalTranslator,o=t._isHorizontal,a=o?c.left:c.top,s=o?c.right:c.bottom,l=r.translateSpecialCase(c.canvasPositionStart),u=r.translateSpecialCase(c.canvasPositionEnd),d=e.visible&&e[a]?i.translateSpecialCase(c.canvasPositionPrefix+a):n,h=e.visible&&e[s]?i.translateSpecialCase(c.canvasPositionPrefix+s):n,p=o?function(e){return null!==e.posX?[e.posX,l,e.posX,u]:null}:function(e){return null!==e.posX?[l,e.posX,u,e.posX]:null},f=T+d,m=h-T;return function(e){if(!(e.posX===n||e.posX<f||e.posX>m)){var i=p(e);return i&&t._createPathElement(i,e.gridStyle)}}},_drawGrids:function(e,t){var n,i=this,r=i._axisGridGroup,o=0,a=e.length,s=i._getGridLineDrawer(t||{visible:!1});for(o;a>o;o++)n=e[o],n.grid=s(n),n.grid&&n.grid.append(r)},_getConstantLinePos:function(e,t,n){var i=this._validateUnit(e,"E2105","constantLine"),r=this._getTranslatedCoord(i);return!m(r)||r<x.min(t,n)||r>x.max(t,n)?{}:{value:r,parsedValue:i}},_createConstantLine:function(e,t){var n=this,i=this._additionalTranslator,r=i.translateSpecialCase(c.canvasPositionStart),o=i.translateSpecialCase(c.canvasPositionEnd),a=this._isHorizontal?[e,o,e,r]:[r,e,o,e];return n._createPathElement(a,t)},_drawConstantLinesAndLabels:function(e,t,n){if(m(e.value)){var i=this,r=i._getConstantLinePos(e.value,t,n),o=e.label||{},a=r.value,s={stroke:e.color,"stroke-width":e.width,dashStyle:e.dashStyle};if(!m(a))return i._constantLines.push(null),void(o.visible&&i._constantLineLabels.push(null));i._constantLines.push(i._createConstantLine(a,s).append(i._axisConstantLineGroup)),i._constantLineLabels.push(o.visible?i._drawConstantLineLabels(r.parsedValue,o,a):null)}},_drawConstantLine:function(){var e=this,t=e._options,n=t.constantLines,i=e._getCanvasStartEnd();e._translator.getBusinessRange().stubData||(e._constantLines=[],e._constantLineLabels=[],S(n,function(t,n){e._drawConstantLinesAndLabels(n,i.start,i.end)}))},_drawConstantLineLabels:function(e,t,n){var i,r=this,o=t.text,a=r._options,s=a.label;return r._checkAlignmentConstantLineLabels(t),o=m(o)?o:h(e,s),i=r._getConstantLineLabelsCoords(n,t),r._renderer.text(o,i.x,i.y).css(y(C({},s.font,t.font))).attr({align:i.align}).append(r._axisConstantLineGroup)},_getStripPos:function(t,n,i,r,o){var a,s,l,u,c=!(!o.minVisible&&!o.maxVisible),d=o.categories||[],h=t,p=n,f=o.minVisible;if(!c){if(l=e.inArray(t,d),u=e.inArray(n,d),-1===l||-1===u)return{stripFrom:0,stripTo:0};l>u&&(h=n,p=t)}return h=this._validateUnit(h,"E2105","strip"),p=this._validateUnit(p,"E2105","strip"),a=this._getTranslatedCoord(h,-1),s=this._getTranslatedCoord(p,1),!m(a)&&c&&(a=f>h?i:r),!m(s)&&c&&(s=f>p?i:r),s>a?{stripFrom:a,stripTo:s}:{stripFrom:s,stripTo:a}},_createStrip:function(e,t,n){var i,r,o,a,s=this._additionalTranslator,l=s.translateSpecialCase(c.canvasPositionStart),u=s.translateSpecialCase(c.canvasPositionEnd);return this._isHorizontal?(i=e,r=x.min(l,u),o=t-e,a=b(l-u)):(i=x.min(l,u),r=e,o=b(l-u),a=b(e-t)),this._renderer.rect(i,r,o,a).attr(n)},_drawStrip:function(){var e,t,n,i,r,o=this,a=o._options,s=a.strips,l=this._getCanvasStartEnd(),u=o._translator.getBusinessRange();if(!u.stubData)for(o._strips=[],o._stripLabels=[],e=0;e<s.length;e++)if(t=s[e],i=t.label||{},r={fill:t.color},m(t.startValue)&&m(t.endValue)&&m(t.color)){if(n=o._getStripPos(t.startValue,t.endValue,l.start,l.end,u),n.stripTo-n.stripFrom==0||!m(n.stripTo)||!m(n.stripFrom)){o._strips.push(null),i.text&&o._stripLabels.push(null);continue}o._strips.push(o._createStrip(n.stripFrom,n.stripTo,r).append(o._axisStripGroup)),o._stripLabels.push(i.text?o._drawStripLabel(i,n.stripFrom,n.stripTo):null)}},_drawStripLabel:function(e,t,n){var i=this,r=i._options,o=i._getStripLabelCoords(e,t,n);return i._renderer.text(e.text,o.x,o.y).css(y(C({},r.label.font,e.font))).attr({align:o.align}).append(i._axisLabelGroup)},_adjustStripLabels:function(){var e,t,i=this,r=i._stripLabels,o=i._strips;if(r!==n||o!==n)for(e=0;e<r.length;e++)null!==r[e]&&(t=i._getAdjustedStripLabelCoords(i._options.strips[e],r[e],o[e]),r[e].move(t.x,t.y))},_adjustLabels:function(){var e,t,n,i,r,o,a=this,s=a._options,l=a._majorTicks,u=l.length,d=a._isHorizontal,h=a._tickManager?a._tickManager.getOverlappingBehavior():s.label.overlappingBehavior,p=s.position,f=!1,m=a._axisElementsGroup&&a._axisElementsGroup.getBBox()||{};if(S(l,function(e,t){t.label&&(t.label.attr(a._getLabelAdjustedCoord(t,m)),f=!0)}),n=f&&d&&h&&"stagger"===h.mode){for(t=0,r=0;u>r;r+=2)e=l[r].label,o=e&&e.getBBox()||{},o.height>t&&(t=o.height);for(i=h.staggeringSpacing,t=w(t)+i,r=1;u>r;r+=2)e=l[r].label,e&&(p===c.bottom?e.move(0,t):p===c.top&&e.move(0,-t));for(r=0;u>r;r++)l[r].label&&l[r].label.rotate(0)}},_getLabelAdjustedCoord:function(e,t){var n,i,r=this,o=r._options,a=e.label.getBBox(),s=r._isHorizontal,l=o.position,u=r.padding&&r.padding[l]||0,d=r._textOptions,h=e.label.attr("y");return s&&l===c.bottom?i=2*h-a.y+u:s?s&&l===c.top&&(i=2*h-a.y-a.height-u):(n=l===c.left?d.align===c.right?a.x+a.width-u:d.align===c.center?a.x+a.width/2-u-(t.width/2||0):a.x-u-(t.width||0):d.align===c.center?a.x+a.width/2+(t.width/2||0)+u:d.align===c.right?a.x+a.width+(t.width||0)+u:a.x+u,i=h+~~(h-a.y-a.height/2)),{x:n,y:i}},_createAxisGroups:function(){var e=this,t=e._renderer,n=e._axisCssPrefix;e._axisGroup=t.g().attr({"class":n+"axis"}),e._axisStripGroup=t.g().attr({"class":n+"strips"}),e._axisGridGroup=t.g().attr({"class":n+"grid"}),e._axisElementsGroup=t.g().attr({"class":n+"elements"}).append(e._axisGroup),e._axisLineGroup=t.g().attr({"class":n+"line"}).append(e._axisGroup),e._axisTitleGroup=t.g().attr({"class":n+"title"}).append(e._axisGroup),e._axisConstantLineGroup=t.g().attr({"class":n+"constant-lines"}),e._axisLabelGroup=t.g().attr({"class":n+"axis-labels"})},_clearAxisGroups:function(e){var t=this,n=t._axisCssPrefix;t._axisGroup.remove(),t._axisStripGroup.remove(),t._axisLabelGroup.remove(),t._axisConstantLineGroup.remove(),t._axisGridGroup.remove(),t._axisTitleGroup?t._axisTitleGroup.clear():e||(t._axisTitleGroup=t._renderer.g().attr({"class":n+"title"}).append(t._axisGroup)),t._axisElementsGroup?t._axisElementsGroup.clear():e||(t._axisElementsGroup=t._renderer.g().attr({"class":n+"elements"}).append(t._axisGroup)),t._axisLineGroup&&t._axisLineGroup.clear(),t._axisStripGroup&&t._axisStripGroup.clear(),t._axisGridGroup&&t._axisGridGroup.clear(),t._axisConstantLineGroup&&t._axisConstantLineGroup.clear(),t._axisLabelGroup&&t._axisLabelGroup.clear()},_initTickCoord:function(e,t){var n=this._getTranslatedValue(e.value,this._axisPosition,t);e.posX=n.x,e.posY=n.y,e.angle=n.angle},_initTickStyle:function(e,t){e.length=t.length,e.tickStyle=e.withoutPath?{stroke:"none","stroke-width":0,"stroke-opacity":0}:t.tickStyle,e.gridStyle=t.gridStyle},_initTickLabel:function(e,t){var n=this,i=n._options.label.customizeColor;e.labelText=h(e.value,n._options.label,{min:n._minBound,max:n._maxBound}),e.labelPos=n._getTranslatedValue(e.value,t),e.labelStyle=n._textOptions,e.labelFontStyle=C({},n._textFontStyles),i&&i.call&&(e.labelFontStyle.fill=i.call(e,e)),e.labelHint=c.formatHint(e.value,n._options.label,{min:n._minBound,max:n._maxBound})},_getTickStyle:function(e,t){return{tickStyle:{stroke:e.color,"stroke-width":e.width,"stroke-opacity":e.opacity},gridStyle:{stroke:t.color,"stroke-width":t.width,"stroke-opacity":t.opacity},length:e.length}},_initTicks:function(e,t,n,i,r,a){var s,l=this,u=0,c=e.length,d=o(e,i);for(u;c>u;u++)s=e[u],u!==d&&l._initTickCoord(s,r),l._initTickStyle(s,t),n&&!s.withoutLabel&&l._initTickLabel(s,a)},_initAllTicks:function(){var e=this,t=e._options,i=e._getTickStyle(t.tick,t.grid),r=e._getTickStyle(t.minorTick,t.minorGrid),o=e._getSkippedCategory(),a=this._boundaryTicks,s=t.label.visible&&e._axisElementsGroup&&!e._translator.getBusinessRange().stubData,l=e.getLabelsParams().pos,u=e._tickOffset;e._initTicks(e._majorTicks,i,s,o,u,l),e._initTicks(e._minorTicks,r,!1,n,u),e._initTicks(e._decimatedTicks,i,!1,o,u),t.showCustomBoundaryTicks&&a.length&&(e._initTicks([a[0]],i,!1,-1,-1),a.length>1&&e._initTicks([a[1]],i,!1,-1,1))},_buildTicks:function(){var e=this;e._createAllTicks(e._translator.getBusinessRange()),e._correctLabelAlignment(),e._correctLabelFormat()},_setTickOffset:function(){var e=this._options,t=e.discreteAxisDivisionMode;this._tickOffset=+("crossLabels"!==t||!t)},_createHints:function(){var e=this;S(e._majorTicks||[],function(e,t){var n=t.labelHint;m(n)&&""!==n&&t.label.setTitle(n)})},_setBoundingRect:function(){var e,t=this,n=t._options,i=t._axisElementsGroup?t._axisElementsGroup.getBBox():{x:0,y:0,width:0,height:0,isEmpty:!0},r=t._axisLineGroup.getBBox(),o=n.placeholderSize,a=t._isHorizontal,s=a?"y":"x",l=a?"height":"width",u=n.crosshairEnabled?a?I:E:0,d=t._title&&t._axisTitleGroup?t._axisTitleGroup.getBBox():i;return i.isEmpty&&d.isEmpty&&!o?void(t.boundingRect=i):(e=r[s]||t._axisPosition,n.position===(a&&c.bottom||c.right)?(i[l]=o||d[s]+d[l]-e+u,i[s]=e):(i[l]=o||r[l]+e-d[s]+u,i[s]=d.isEmpty?e:d[s]-u),t.boundingRect=i,void 0)},_validateUnit:function(e,t,i){var r=this;return e=r.parser(e),e===n&&t&&r._incidentOccured(t,[i]),e},_setType:function(e,t){var n=this;S(s.axes[e][t],function(e,t){n[e]=t})},_getSharpParam:function(){return!0},dispose:function(){var e=this;e._axisElementsGroup&&e._axisElementsGroup.dispose(),e._stripLabels=e._strips=null,e._title=null,e._axisStripGroup=e._axisConstantLineGroup=e._axisLabelGroup=null,e._axisLineGroup=e._axisElementsGroup=e._axisGridGroup=null,e._axisGroup=e._axisTitleGroup=null,e._axesContainerGroup=e._stripsGroup=e._constantLinesGroup=null,e._renderer=e._options=e._textOptions=e._textFontStyles=null,e._translator=e._additionalTranslator=null,e._majorTicks=e._minorTicks=null,e._tickManager=null},getOptions:function(){return this._options},setPane:function(e){this.pane=e,this._options.pane=e},setTypes:function(e,t,n){this._options.type=e||this._options.type,this._options[n]=t||this._options[n]},resetTypes:function(e){this._options.type=this._initTypes.type,this._options[e]=this._initTypes[e]},getTranslator:function(){return this._translator},updateOptions:function(e){var t=this,n=e.label;t._options=e,e.tick=e.tick||{},e.minorTick=e.minorTick||{},e.grid=e.grid||{},e.minorGrid=e.minorGrid||{},e.title=e.title||{},e.marker=e.marker||{},t._initTypes={type:e.type,argumentType:e.argumentType,valueType:e.valueType},r(e),t._setTickOffset(),t._isHorizontal=e.isHorizontal,t.pane=e.pane,t.name=e.name,t.priority=e.priority,t._hasLabelFormat=""!==n.format&&m(n.format),t._textOptions={align:n.alignment,opacity:n.opacity},t._textFontStyles=s.utils.patchFontOptions(n.font),e.type===c.logarithmic&&(e.logarithmBaseError&&(t._incidentOccured("E2104"),delete e.logarithmBaseError),t.calcInterval=function(t,n){return l.getLog(t/n,e.logarithmBase)})},updateSize:function(e){var t=this,n=t._options,i=t._isHorizontal?"horizontal":"vertical";n.title.text&&t._axisTitleGroup&&(t._incidentOccured("W2105",[i]),t._axisTitleGroup.dispose(),t._axisTitleGroup=null),e&&t._axisElementsGroup&&n.label.visible&&!t._translator.getBusinessRange().stubData&&(t._incidentOccured("W2106",[i]),t._axisElementsGroup.dispose(),t._axisElementsGroup=null),t._setBoundingRect()},setTranslator:function(e,t){var n=this,i=e.getBusinessRange();this._minBound=i.minVisible,this._maxBound=i.maxVisible,n._translator=e,n._additionalTranslator=t,n.resetTicks(),n._updateIntervalAndBounds(),n._buildTicks()},resetTicks:function(){this._deleteLabels(),this._majorTicks=this._minorTicks=null},getLabelsParams:function(){var e=this,t=e._options,n=t.position,i=t.label.indentFromAxis,r=e._axisPosition,o=e._axisElementsGroup;return{pos:n===c.top||n===c.left?r-i:r+i,width:o&&o.getBBox().width||0}},getFormattedValue:function(e,t,i){var r=this._options.label;return m(e)?h(e,C(!0,{},r,t),n,i):null},getTicksValues:function(){return{majorTicksValues:p(this._majorTicks||this.getMajorTicks()),minorTicksValues:p(this._minorTicks||this.getMinorTicks())}},getMajorTicks:function(e){var t,n,i=this,r=i._options.label.overlappingBehavior;return i._updateTickManager(),i._textOptions.rotate=0,t=f(i._tickManager.getTicks(e)),t.length&&(r.hideFirstTick||r.hideLastTick||r.hideFirstLabel||r.hideLastLabel?(r.hideFirstLabel&&(t[0].withoutLabel=!0),r.hideLastLabel&&(t[t.length-1].withoutLabel=!0),r.hideFirstTick&&(t[0].withoutPath=!0),r.hideLastTick&&(t[t.length-1].withoutPath=!0)):e||"ignore"===r.mode||(n=i._tickManager.checkBoundedTicksOverlapping(),n.overlappedDates&&(t[1].withoutLabel=!0),n.overlappedStartEnd&&("first"===r.hideFirstOrLast?t[0].withoutLabel=!0:t[t.length-1].withoutLabel=!0))),i._addBoundaryTick(t),t},getMinorTicks:function(){return f(this._tickManager.getMinorTicks())},getDecimatedTicks:function(){return f(this._tickManager.getDecimatedTicks())},setTicks:function(e){this.resetTicks(),this._majorTicks=f(e.majorTicks),this._minorTicks=f(e.minorTicks)},setPercentLabelFormat:function(){this._hasLabelFormat||(this._options.label.format="percent")},resetAutoLabelFormat:function(){this._hasLabelFormat||delete this._options.label.format},getMultipleAxesSpacing:function(){return this._options.multipleAxesSpacing||0},drawGrids:function(e){var t=this,n=t._options;e=e||{},t._axisGridGroup.append(t._gridContainerGroup),n.grid.visible&&t._drawGrids(t._majorTicks.concat(t._decimatedTicks),e),n.minorGrid.visible&&t._drawGrids(t._minorTicks,e)},draw:function(e){var t,n=this,i=n._options;n._axisGroup&&n._clearAxisGroups(e),t=i.label.visible&&n._axisElementsGroup&&!n._translator.getBusinessRange().stubData,n._updateIntervalAndBounds(),n._buildTicks(),n._initAxisPositions(),n._initAllTicks(),i.visible&&n._drawAxis(),i.tick.visible&&(n._drawTicks(n._majorTicks),n._drawTicks(n._decimatedTicks)),i.minorTick.visible&&n._drawTicks(n._minorTicks),t&&n._drawLabels(),i.showCustomBoundaryTicks&&this._drawTicks(n._boundaryTicks),n._drawTitle(),i.strips&&n._drawStrip(),i.constantLines&&n._drawConstantLine(),n._stripsGroup&&n._axisStripGroup.append(n._stripsGroup),n._constantLinesGroup&&n._axisConstantLineGroup.append(n._constantLinesGroup),n._axisGroup.append(n._axesContainerGroup),n._labelAxesGroup&&n._axisLabelGroup.append(n._labelAxesGroup),
n._adjustConstantLineLabels(),t&&n._adjustLabels(),i.marker.visible&&n._drawDateMarkers(),n._createHints(),n._adjustStripLabels(),n._adjustTitle(),n._setBoundingRect()},getBoundingRect:function(){return this._axisElementsGroup?this.boundingRect:{x:0,y:0,width:0,height:0}},shift:function(e,t){this._axisGroup.attr({translateX:e,translateY:t})},applyClipRects:function(e,t){this._axisGroup.attr({clipId:t}),this._axisStripGroup.attr({clipId:e})},validate:function(e){var t=this,i=t._options,r=e?i.argumentType:i.valueType,o=r?d.getParser(r):function(e){return e};t.parser=o,i.dataType=r,i.min!==n&&(i.min=t._validateUnit(i.min,"E2106")),i.max!==n&&(i.max=t._validateUnit(i.max,"E2106")),t._minBound!==n&&(t._minBound=t._validateUnit(t._minBound)),t._maxBound!==n&&(t._maxBound=t._validateUnit(t._maxBound))},zoom:function(e,t,i){var r=this,o=r._options.min,a=r._options.max;return i=i||r._options.type===c.discrete,e=r._validateUnit(e),t=r._validateUnit(t),i||(o!==n&&(e=o>e?o:e,t=o>t?o:t),a!==n&&(t=t>a?a:t,e=e>a?a:e)),r._zoomArgs={min:e,max:t}},resetZoom:function(){this._zoomArgs=null},getRangeData:function(){var e,t,i,r,o=this,a=o._options,s=o._getMinMax(),l=s.min,u=s.max,d=o._zoomArgs||{},h=a.type;return h===c.logarithmic&&(l=0>=l?n:l,u=0>=u?n:u),h!==c.discrete?(e=l,t=u,m(l)&&m(u)&&(e=u>l?l:u,t=u>l?u:l),i=m(d.min)?d.min:e,r=m(d.max)?d.max:t):(i=m(d.min)?d.min:l,r=m(d.max)?d.max:u),{min:e,max:t,stick:o._getStick(),categories:a.categories,dataType:a.dataType,axisType:h,base:a.logarithmBase,invert:a.inverted,addSpiderCategory:o._getSpiderCategoryOption(),minVisible:i,maxVisible:r}},getFullTicks:function(){return this._tickManager.getFullTicks()},_addBoundaryTick:k,getMarkerTrackers:k,measureLabels:k,_drawDateMarkers:k,coordsIn:k,_getSkippedCategory:k,_initAxisPositions:k,_drawTitle:k,_adjustConstantLineLabels:k,_adjustTitle:k,getSpiderTicks:k,setSpiderTicks:k}}(jQuery,DevExpress),function(e,t,n,i){function r(e){0===Fe&&n.body.appendChild(Le),++Fe,e.append({element:Le})}function o(e,t){e.append({element:t}),--Fe,0===Fe&&n.body.removeChild(Le)}function a(e){return e&&"string"!=typeof e}function s(e){return n.createElementNS("http://www.w3.org/2000/svg",e)}function l(e,t){return null!==e?"url("+(t?window.location.href:"")+"#"+e+")":""}function u(e,t){var n;for(n in t)e[n]=t[n];return e}function c(e,t,n){var i=Number(ge(n*be).toFixed(3)),r=Number(me(n*be).toFixed(3)),o=e.width/2,a=e.height/2,s=e.x+o,l=e.y+a,u=_e(o*i)+_e(a*r),c=_e(o*r)+_e(a*i),d=t[0]+(s-t[0])*i+(l-t[1])*r,p=t[1]-(s-t[0])*r+(l-t[1])*i;return h({x:d-u,y:p-c,width:2*u,height:2*c})}function d(e){return e>-Ce&&+Ce>e?e:0}function h(e){var t=d(pe(e.x)),n=d(pe(e.y)),i=d(he(e.width+e.x)),r=d(he(e.height+e.y)),o={x:t,y:n,width:i-t,height:r-n};return o.isEmpty=!(o.x||o.y||o.width||o.height),o}function p(e,t){var n=[["M",0,0]];switch(t){case"line":n=f(e);break;case"area":n=f(e,!0);break;case"bezier":n=m(e);break;case"bezierarea":n=m(e,!0)}return n}function f(e,t){return g(e,_,t)}function m(e,t){return g(e,v,t)}function g(e,t,n){var i,r,o=[];if(e[0]&&e[0].length)for(i=0,r=e.length;r>i;++i)t(e[i],n,o);else t(e,n,o);return o}function _(e,t,n){var r=0,o=n.length,a=o,s=(e||[]).length;if(s){if(e[0].x!==i)for(;s>r;)n[a++]=["L",e[r].x,e[r++].y];else for(;s>r;)n[a++]=["L",e[r++],e[r++]];n[o][0]="M"}else n[a]=["M",0,0];return t&&n.push(["Z"]),n}function v(e,t,n){var r,o=n.length,a=(e||[]).length;if(a)if(e[0].x!==i)for(n[o++]=["M",e[0].x,e[0].y],r=1;a>r;)n[o++]=["C",e[r].x,e[r++].y,e[r].x,e[r++].y,e[r].x,e[r++].y];else for(n[o++]=["M",e[0],e[1]],r=2;a>r;)n[o++]=["C",e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]];else n[o]=["M",0,0];return t&&n.push(["Z"]),n}function y(e){for(var t,n,i,r=[],o=0,a=e.length,s=0;a>s;++s)for(t=e[s],n=0,i=t.length;i>n;++n)r[o++]=t[n];return r.join(" ")}function x(e,t,n){var i,r,o=e.length,a=t.length,s=-1!==n.indexOf("area")?C:w;if(0===o)for(i=0;a>i;i++)e.push(t[i].slice(0));else a>o?s(e,t,n):o>a&&(r=t.slice(0),s(t,e,n));return r}function b(e,t){var n=e[e.length-2],i=e[e.length-1];switch(t){case"line":case"area":e[0]="L";break;case"bezier":case"bezierarea":e[0]="C",e[1]=e[3]=e[5]=n,e[2]=e[4]=e[6]=i}}function w(e,t,n){var i=e[e.length-1].slice(),r=e.length;for(b(i,n);r<t.length;r++)e[r]=i.slice(0)}function C(e,t,n){var i,r,o,a,s,l=e.length,u=t.length;if((l-1)%2==0&&(u-1)%2==0)for(i=(l-1)/2-1,r=e.slice(0,i+1),o=r[r.length-1].slice(0),a=e.slice(i+1)[0].slice(0),b(o,n),b(a,n),s=i;(u-1)/2-1>s;s++)e.splice(s+1,0,o),e.splice(s+3,0,a)}function S(e,t){var n,i,r=e._styles,o="";t=t||{};for(n in t)i=t[n],ye(i)&&("number"!=typeof i||De[n]||(i+="px"),r[n]=""!==i?i:null);for(n in r)i=r[n],i&&(o+=n+":"+i+";");return o&&e.element.setAttribute("style",o),e}function k(e,t){t=t||{};var n,r,o,s,c,d,h=e._settings,p={},f=e.element,m=e.renderer,g=m.rtl;if(!a(t))return t in h?h[t]:t in Ve?Ve[t]:0;u(p,t);for(n in p)if(r=p[n],r!==i){if(h[n]=r,"align"===n)n="text-anchor",r={left:g?"end":"start",center:"middle",right:g?"start":"end"}[r]||"";else{if("dashStyle"===n){s=!0;continue}if(n===Ie)s=!0;else if("clipId"===n)n="clip-path",r=l(r,m.pathModified);else{if(/^(translate(X|Y)|rotate[XY]?|scale(X|Y)|sharp)$/i.test(n)){o=!0;continue}/^(x|y|d)$/i.test(n)&&(o=!0)}}null===r?f.removeAttribute(n):f.setAttribute(n,r)}if(s&&"dashStyle"in h)if(r=h.dashStyle,c=("_originalSW"in e?e._originalSW:h[Ie])||1,n="stroke-dasharray",r=null===r?"":xe(r),""===r||"solid"===r||r===Me)e.element.removeAttribute(n);else{for(r=r.replace(/longdash/g,"8,3,").replace(/dash/g,"4,3,").replace(/dot/g,"1,3,").replace(/,$/,"").split(","),d=r.length;d--;)r[d]=we(r[d])*c;e.element.setAttribute(n,r.join(","))}return o&&e._applyTransformation(),e}function D(e){return function(t,n){var i,r=this;return a(t)&&(t=u({},t),i=t.segments,"points"in t&&(i=p(t.points,r.type),delete t.points),i&&(t.d=y(i),r.segments=i,delete t.segments)),e(r,t,n)}}function T(e,t){return function(n,i){var r,o,s,l,c,d,h=this._settings;return a(n)&&(n=u({},n),("x"in n||"y"in n||"innerRadius"in n||"outerRadius"in n||"startAngle"in n||"endAngle"in n)&&(h.x=r="x"in n?n.x:h.x,delete n.x,h.y=o="y"in n?n.y:h.y,delete n.y,h.innerRadius=s="innerRadius"in n?n.innerRadius:h.innerRadius,delete n.innerRadius,h.outerRadius=l="outerRadius"in n?n.outerRadius:h.outerRadius,delete n.outerRadius,h.startAngle=c="startAngle"in n?n.startAngle:h.startAngle,delete n.startAngle,h.endAngle=d="endAngle"in n?n.endAngle:h.endAngle,delete n.endAngle,n.d=t.apply(null,se._normalizeArcParams(r,o,s,l,c,d)))),e(this,n,i)}}function E(e){return function(t,n){var r,o,s,l,c,d,h,p=this;return a(t)&&(t=u({},t),n||t.x===i&&t.y===i&&t.width===i&&t.height===i&&t[Ie]===i||(r=t.x!==i?p._originalX=t.x:p._originalX||0,o=t.y!==i?p._originalY=t.y:p._originalY||0,s=t.width!==i?p._originalWidth=t.width:p._originalWidth||0,l=t.height!==i?p._originalHeight=t.height:p._originalHeight||0,c=t[Ie]!==i?p._originalSW=t[Ie]:p._originalSW,d=~~((l>s?s:l)/2),h=d>(c||0)?c||0:d,t.x=r+h/2,t.y=o+h/2,t.width=s-h,t.height=l-h,(c||0)===h&&0===h&&c===i||(t[Ie]=h)),"sharp"in t&&delete t.sharp),e(p,t,n)}}function I(e){var t,n,r,o,s=this;return a(e)?(e=u({},e),t=s._settings,r=ye(t[Ee])&&ye(t[Ie]),e[Te]!==i&&(t[Te]=e[Te],delete e[Te],n=!0),e[Ee]!==i&&(t[Ee]=e[Ee],delete e[Ee]),e[Ie]!==i&&(t[Ie]=e[Ie],delete e[Ie]),e[Ae]!==i&&(t[Ae]=e[Ae],delete e[Ae]),o=ye(t[Ee])&&ye(t[Ie]),k(s,e),n=n||o!==r&&t[Te],n&&z(s,t.text,o),(n||e.x!==i||e.y!==i)&&N(s),o&&j(s),s):k(s,e)}function A(e){return e=e||{},S(this,e),$e in e&&N(this),this}function $(e,t,n,r,o){var a,s,l,c,d;if(n.wholeText!==i)e.push({value:n.wholeText,style:r,className:o,line:t,height:r[$e]||0});else if("BR"===n.tagName)++t;else{switch(u(a={},r),n.tagName){case"B":case"STRONG":a[Oe]="bold";break;case"I":case"EM":a[Be]="italic";break;case"U":a[Pe]="underline"}for(s=n.style,s.color&&(a.fill=s.color),s.fontSize&&(a[$e]=we(s.fontSize,10)),s.fontStyle&&(a[Be]=s.fontStyle),s.fontWeight&&(a[Oe]=s.fontWeight),s.textDecoration&&(a[Pe]=s.textDecoration),l=0,d=n.childNodes,c=d.length;c>l;++l)t=$(e,t,d[l],a,n.className||o)}return t}function B(e){for(var t,n=e[0],i=1,r=e.length;r>i;++i)t=e[i],t.line===n.line?(n.height=de(n.height,t.height),n.inherits=n.inherits||0===t.height,t.height=NaN):n=t}function O(e){var t=[],i=n.createElement("div");return i.innerHTML=e.replace(/\r/g,"").replace(/\n/g,"<br/>"),$(t,0,i,{},""),B(t),t}function P(e){for(var t=e.replace(/\r/g,"").split("\n"),n=0,i=[];n<t.length;n++)i.push({value:t[n],height:0});return i}function M(e,t,i){for(var r,o=0,a=e.length;a>o;++o)r=e[o],r[i]=s("tspan"),r[i].appendChild(n.createTextNode(r.value)),r.style&&S({element:r[i],_styles:{}},r.style),r.className&&r[i].setAttribute("class",r.className),t.appendChild(r[i])}function R(e,t,n){return function(i){var r,o,a,s,l,u,c,d,h=this.element,p=this.getBBox().width,f=0,m=!1;if(0>i&&(i=0),p>i){for(r=e(h,this._texts),a=0,s=r.length;s>a;++a)f=de(f,r[a].commonLength);if(1===f)return!1;for(o=pe(f*i/p),a=0;s>a;++a)for(l=r[a].parts,u=0,c=l.length;c>u;++u)d=l[u],d.startIndex<=o&&d.endIndex>o?(t(d,o-d.startIndex-4),m=!0):d.startIndex>o&&n(d)}return m}}function V(e,t){var n,i,r,o=[];if(t)for(n=0,i=t.length;i>n;++n)r=t[n],o[r.line]?(r.startIndex=o[r.line].commonLength+1,r.endIndex=o[r.line].commonLength+r.value.length,o[r.line].parts.push(r),o[r.line].commonLength+=r.value.length):(r.startIndex=0,r.endIndex=r.value.length,o.push({commonLength:r.value.length,parts:[r]}));else o=[{commonLength:e.textContent.length,parts:[{value:e.textContent,tspan:e,startIndex:0,endIndex:e.textContent.length}]}];return o}function L(e,t){var n=e.value.substr(0,t)+"...";e.tspan.textContent=n,e.stroke&&(e.stroke.textContent=n)}function F(e){e.tspan.parentNode.removeChild(e.tspan),e.stroke&&e.stroke.parentNode.removeChild(e.stroke)}function z(e,t,i){var r;e._texts=null,e.clear(),null!==t&&(t=""+t,e.renderer.encodeHtml||-1===t.indexOf("<")&&-1===t.indexOf("&")?-1!==t.indexOf("\n")?r=P(t):i&&(r=[{value:t,height:0}]):r=O(t),r?r.length&&(e._texts=r,i&&M(r,e.element,Ee),M(r,e.element,"tspan")):e.element.appendChild(n.createTextNode(t)))}function H(e,t,n){e.tspan.setAttribute(t,n),e.stroke&&e.stroke.setAttribute(t,n)}function N(e){if(e._texts){var t,n,i=e._texts,r=e._settings.x,o=we(e._styles[$e],10)||12,a=i[0];for(H(a,"x",r),H(a,"y",e._settings.y),t=1,n=i.length;n>t;++t)a=i[t],a.height>=0&&(H(a,"x",r),H(a,"dy",a.inherits?de(a.height,o):a.height||o))}}function j(e){if(e._texts)for(var t,n=e._texts,i=e._settings[Ee],r=e._settings[Ie],o=e._settings[Ae]||1,a=0,s=n.length;s>a;++a)t=n[a].stroke,t.setAttribute(Ee,i),t.setAttribute(Ie,r),t.setAttribute(Ae,o),t.setAttribute("stroke-linejoin","round")}function W(e,t,n,i){n=n||{};var r,o,a=e.renderer,s=e._settings,l={},c={translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0,rotateX:0,rotateY:0};if(i&&(n.complete=i),a.animationEnabled()){for(r in t)o=t[r],/^(translate(X|Y)|rotate[XY]?|scale(X|Y))$/i.test(r)?(l.transform=l.transform||{from:{},to:{}},l.transform.from[r]=r in s?Number(s[r].toFixed(3)):c[r],l.transform.to[r]=o):l[r]="arc"===r||"segments"===r?o:{from:r in s?s[r]:parseFloat(e.element.getAttribute(r)||0),to:o};a.animateElement(e,l,u(u({},a._animation),n))}else n.step&&n.step.call(e,1,1),n.complete&&n.complete.call(e),e.attr(t);return e}function G(e,t,n){var i,r,o=this,a=o.segments||[];return o.renderer.animationEnabled()&&"points"in e&&(i=p(e.points,o.type),r=x(a,i,o.type),e.segments={from:a,to:i,end:r},delete e.points),W(o,e,t,n)}function q(e,t,n){var i=this,r=i._settings,o={from:{},to:{}};return i.renderer.animationEnabled()&&("x"in e||"y"in e||"innerRadius"in e||"outerRadius"in e||"startAngle"in e||"endAngle"in e)&&(o.from.x=r.x||0,o.from.y=r.y||0,o.from.innerRadius=r.innerRadius||0,o.from.outerRadius=r.outerRadius||0,o.from.startAngle=r.startAngle||0,o.from.endAngle=r.endAngle||0,o.to.x="x"in e?e.x:r.x,delete e.x,o.to.y="y"in e?e.y:r.y,delete e.y,o.to.innerRadius="innerRadius"in e?e.innerRadius:r.innerRadius,delete e.innerRadius,o.to.outerRadius="outerRadius"in e?e.outerRadius:r.outerRadius,delete e.outerRadius,o.to.startAngle="startAngle"in e?e.startAngle:r.startAngle,delete e.startAngle,o.to.endAngle="endAngle"in e?e.endAngle:r.endAngle,delete e.endAngle,e.arc=o),W(i,e,t,n)}function U(e,t){var n={is:!1,name:t.name||t,after:t.after};return e?n.to=e:n.virtual=!0,n}function Y(e,t,n){var i=this;i.renderer=e,i.element=s(t),i._settings={},i._styles={},"path"===t&&(i.type=n||"line")}function K(e,t){Y.call(this,e,"path",t)}function Q(e){Y.call(this,e,"path","arc")}function X(e){Y.call(this,e,"rect")}function Z(e){Y.call(this,e,"text")}function J(e,t){for(var n,i=t;n=e[i];++i)n._link.i=i}function ee(e,t){var n,i,r=t._links,o=e._link.after=e._link.after||t._linkAfter;if(o){for(n=0;(i=r[n])&&i._link.name!==o;++n);if(i)for(++n;(i=r[n])&&i._link.after===o;++n);}else n=r.length;r.splice(n,0,e),J(r,n)}function te(e){for(var t=e._link.to._links,n=0;t[n]!==e;++n);t.splice(n,1),J(t,n)}function ne(t){var n=this;n.root=n._createElement(n._rootTag,n._rootAttr).attr({"class":t.cssClass}).css(n._rootCss),n._init(),n.pathModified=!!t.pathModified,n._$container=e(t.container),n.root.append({element:t.container}),n._locker=0,n._backed=!1}var ie,re,oe,ae,se=t.viz.renderers={},le=t.require("/utils/utils.common"),ue=Math,ce=ue.min,de=ue.max,he=ue.ceil,pe=ue.floor,fe=ue.round,me=ue.sin,ge=ue.cos,_e=ue.abs,ve=ue.PI,ye=le.isDefined,xe=t.viz.utils.normalizeEnum,be=ve/180,we=parseInt,Ce=1e10,Se=.5,ke=5,De={"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,widows:!0,"z-index":!0,zoom:!0},Te="text",Ee="stroke",Ie="stroke-width",Ae="stroke-opacity",$e="font-size",Be="font-style",Oe="font-weight",Pe="text-decoration",Me="none",Re=function(){return Object.create?function(e){return Object.create(e)}:function(e){var t=function(){};return t.prototype=e,new t}}(),Ve={scaleX:1,scaleY:1},Le=n.createElement("div"),Fe=0;Le.style.left="-9999px",Le.style.position="absolute",ie=function(){var e=1;return function(){return"DevExpress_"+e++}}(),re={full:Me,lefttop:"xMinYMin",leftcenter:"xMinYMid",leftbottom:"xMinYMax",centertop:"xMidYMin",center:"xMidYMid",centerbottom:"xMidYMax",righttop:"xMaxYMin",rightcenter:"xMaxYMid",rightbottom:"xMaxYMax"},se._normalizeArcParams=function(e,t,n,i,r,o){var a,s=!0;return fe(r)!==fe(o)&&(_e(o-r)%360==0&&(r=0,o=360,a=!0,o-=.01),r>360&&(r%=360),o>360&&(o%=360),r>o&&(r-=360),s=!1),r*=be,o*=be,[e,t,ce(i,n),de(i,n),ge(r),me(r),ge(o),me(o),a,pe(_e(o-r)/ve)%2?"1":"0",s]},oe=R(V,L,F),ae=function(e,t,n,i,r,o,a,s,l,u){return["M",(e+i*r).toFixed(ke),(t-i*o).toFixed(ke),"A",i.toFixed(ke),i.toFixed(ke),0,u,0,(e+i*a).toFixed(ke),(t-i*s).toFixed(ke),l?"M":"L",(e+n*a).toFixed(5),(t-n*s).toFixed(ke),"A",n.toFixed(ke),n.toFixed(ke),0,u,1,(e+n*r).toFixed(ke),(t-n*o).toFixed(ke),"Z"].join(" ")};var ze=D(k),He=T(k,ae),Ne=E(k);se.SvgElement=Y,Y.prototype={constructor:Y,_getJQElement:function(){return this._$element||(this._$element=e(this.element))},dispose:function(){return this._getJQElement().remove(),this},append:function(e){return(e||this.renderer.root).element.appendChild(this.element),this},remove:function(){var e=this.element;return e.parentNode&&e.parentNode.removeChild(e),this},enableLinks:function(){return this._links=[],this},virtualLink:function(e){return ee({_link:U(null,e)},this),this},linkAfter:function(e){return this._linkAfter=e,this},linkOn:function(e,t){return this._link=U(e,t),ee(this,e),this},linkOff:function(){return te(this),this._link=null,this},linkAppend:function(){for(var e,t=this._link,n=t.to._links,i=t.i+1;(e=n[i])&&!e._link.is;++i);return this._insert(t.to,e),t.is=!0,this},_insert:function(e,t){e.element.insertBefore(this.element,t?t.element:null)},linkRemove:function(){return this.remove(),this._link.is=!1,this},clear:function(){return this._getJQElement().empty(),this},toBackground:function(){var e=this.element,t=e.parentNode;return t&&t.insertBefore(e,t.firstChild),this},toForeground:function(){var e=this.element,t=e.parentNode;return t&&t.appendChild(e),this},attr:function(e,t){return k(this,e,t)},css:function(e){return S(this,e)},animate:function(e,t,n){return W(this,e,t,n)},sharp:function(e){return this.attr({sharp:e||!0})},_applyTransformation:function(){var e,t,n,i,r=this._settings,o=[],a=r.sharp,s=r[Ie]%2,l=!s||"h"!==a&&a!==!0?0:Se,u=!s||"v"!==a&&a!==!0?0:Se;o.push("translate("+((r.translateX||0)+l)+","+((r.translateY||0)+u)+")"),r.rotate&&(n="rotateX"in r?r.rotateX:r.x,i="rotateY"in r?r.rotateY:r.y,o.push("rotate("+r.rotate+","+(n||0)+","+(i||0)+")")),e=ye(r.scaleX),t=ye(r.scaleY),(e||t)&&o.push("scale("+(e?r.scaleX:1)+","+(t?r.scaleY:1)+")"),o.length&&this.element.setAttribute("transform",o.join(" "))},move:function(e,t,n,i){var r={};return ye(e)&&(r.translateX=e),ye(t)&&(r.translateY=t),n?this.animate(r,i):this.attr(r),this},rotate:function(e,t,n,i,r){var o={rotate:e||0};return ye(t)&&(o.rotateX=t),ye(n)&&(o.rotateY=n),i?this.animate(o,r):this.attr(o),this},getBBox:function(){var e,t=this.element,n=this._settings;try{e=t.getBBox&&t.getBBox()}catch(i){}return e=e||{x:0,y:0,width:t.offsetWidth||0,height:t.offsetHeight||0},e=n.rotate?c(e,[("rotateX"in n?n.rotateX:n.x)||0,("rotateY"in n?n.rotateY:n.y)||0],-n.rotate):h(e)},markup:function(){var e=n.createElement("div"),t=this.element.cloneNode(!0);return e.appendChild(t),e.innerHTML},getOffset:function(){return this._getJQElement().offset()},stopAnimation:function(e){var t=this.animation;return t&&t.stop(e),this},setTitle:function(e){var t=s("title");t.textContent=e||"",this.element.appendChild(t)},data:function(e,t){var n,r=this.element;if(t!==i)r[e]=t;else for(n in e)r[n]=e[n];return this},on:function(){return e.fn.on.apply(this._getJQElement(),arguments),this},off:function(){return e.fn.off.apply(this._getJQElement(),arguments),this},trigger:function(){return e.fn.trigger.apply(this._getJQElement(),arguments),this}},se.PathSvgElement=K,K.prototype=Re(Y.prototype),u(K.prototype,{constructor:K,attr:ze,animate:G}),se.ArcSvgElement=Q,Q.prototype=Re(Y.prototype),u(Q.prototype,{constructor:Q,attr:He,animate:q}),se.RectSvgElement=X,X.prototype=Re(Y.prototype),u(X.prototype,{constructor:X,attr:Ne}),se.TextSvgElement=Z,Z.prototype=Re(Y.prototype),u(Z.prototype,{constructor:Z,attr:I,css:A,applyEllipsis:oe}),se.SvgRenderer=ne,ne.prototype={constructor:ne,_rootTag:"svg",_rootAttr:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",fill:Me,stroke:Me,"stroke-width":0},_rootCss:{"line-height":"normal","-ms-user-select":Me,"-moz-user-select":Me,"-webkit-user-select":Me,"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",display:"block",overflow:"hidden"},_init:function(){var e=this;e._defs=e._createElement("defs").append(e.root),e._animationController=new se.AnimationController(e.root.element),e._animation={enabled:!0,duration:1e3,easing:"easeOutCubic"}},setOptions:function(e){var t=this;return t.rtl=!!e.rtl,t.encodeHtml=!!e.encodeHtml,t.updateAnimationOptions(e.animation||{}),t.root.attr({direction:t.rtl?"rtl":"ltr"}),t},_createElement:function(e,t,n){var i=new se.SvgElement(this,e,n);return t&&i.attr(t),i},lock:function(){var e=this;return 0===e._locker&&(e._backed=!e._$container.is(":visible"),e._backed&&r(e.root)),++e._locker,e},unlock:function(){var e=this;return--e._locker,0===e._locker&&(e._backed&&o(e.root,e._$container[0]),e._backed=!1),e},resize:function(e,t){return e>=0&&t>=0&&this.root.attr({width:e,height:t}),this},dispose:function(){var e,t=this;t.root.dispose(),t._defs.dispose(),t._animationController.dispose();for(e in t)t[e]=null;return t},animationEnabled:function(){return!!this._animation.enabled},updateAnimationOptions:function(e){return u(this._animation,e),this},stopAllAnimations:function(e){return this._animationController[e?"lock":"stop"](),this},animateElement:function(e,t,n){return this._animationController.animateElement(e,t,n),this},svg:function(){return this.root.markup()},getRootOffset:function(){return this.root.getOffset()},onEndAnimation:function(e){this._animationController.onEndAnimation(e)},rect:function(e,t,n,i){var r=new se.RectSvgElement(this);return r.attr({x:e||0,y:t||0,width:n||0,height:i||0})},circle:function(e,t,n){return this._createElement("circle",{cx:e||0,cy:t||0,r:n||0})},g:function(){return this._createElement("g")},image:function(e,t,n,i,r,o){var a=this._createElement("image",{x:e||0,y:t||0,width:n||0,height:i||0,preserveAspectRatio:re[xe(o)]||Me});return a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",r||""),a},path:function(e,t){var n=new se.PathSvgElement(this,t);return n.attr({points:e||[]})},arc:function(e,t,n,i,r,o){var a=new se.ArcSvgElement(this);return a.attr({x:e||0,y:t||0,innerRadius:n||0,outerRadius:i||0,startAngle:r||0,endAngle:o||0})},text:function(e,t,n){var i=new se.TextSvgElement(this);return i.attr({text:e,x:t||0,y:n||0})},pattern:function(e,t){t=t||{};var n,i,r,o,a,s=this,u=t.step||6,c=u/2,d=1.5*u,h=xe(t.direction);return"right"!==h&&"left"!==h?{id:e,append:function(){return this},clear:function(){},dispose:function(){},remove:function(){}}:(n=ie(),i="right"===h?"M "+c+" "+-c+" L "+-c+" "+c+" M 0 "+u+" L "+u+" 0 M "+d+" "+c+" L "+c+" "+d:"M 0 0 L "+u+" "+u+" M "+-c+" "+c+" L "+c+" "+d+" M "+c+" "+-c+" L "+d+" "+c,r=s._createElement("pattern",{id:n,width:u,height:u,patternUnits:"userSpaceOnUse"}).append(s._defs),r.id=l(n,s.pathModified),o=s.rect(0,0,u,u).attr({fill:e,opacity:t.opacity}).append(r),a=new se.PathSvgElement(this).attr({d:i,"stroke-width":t.width||1,stroke:e}).append(r),r)},clipRect:function(e,t,n,i){var r=this,o=ie(),a=r._createElement("clipPath",{id:o}).append(r._defs),s=r.rect(e,t,n,i).append(a);return s.id=o,s.remove=function(){throw"Not implemented"},s.dispose=function(){return a.dispose(),a=null,this},s},shadowFilter:function(e,t,n,i,r,o,a,s,u){var c=this,d=ie(),h=c._createElement("filter",{id:d,x:e||0,y:t||0,width:n||0,height:i||0}).append(c._defs),p=c._createElement("feGaussianBlur",{"in":"SourceGraphic",result:"gaussianBlurResult",stdDeviation:a||0}).append(h),f=c._createElement("feOffset",{"in":"gaussianBlurResult",result:"offsetResult",dx:r||0,dy:o||0}).append(h),m=c._createElement("feFlood",{result:"floodResult","flood-color":s||"","flood-opacity":u}).append(h),g=c._createElement("feComposite",{"in":"floodResult",in2:"offsetResult",operator:"in",result:"compositeResult"}).append(h),_=c._createElement("feComposite",{"in":"SourceGraphic",in2:"compositeResult",operator:"over"}).append(h);return h.ref=l(d,c.pathModified),h.gaussianBlur=p,h.offset=f,h.flood=m,h.composite=g,h.finalComposite=_,h.attr=function(e){var t=this,n={},i={},r={};return"x"in e&&(n.x=e.x),"y"in e&&(n.y=e.y),"width"in e&&(n.width=e.width),"height"in e&&(n.height=e.height),k(t,n),"blur"in e&&t.gaussianBlur.attr({stdDeviation:e.blur}),"offsetX"in e&&(i.dx=e.offsetX),"offsetY"in e&&(i.dy=e.offsetY),t.offset.attr(i),"color"in e&&(r["flood-color"]=e.color),"opacity"in e&&(r["flood-opacity"]=e.opacity),t.flood.attr(r),t},h}},se.rotateBBox=c,se._getEllipsis=R,se._createArcAttr=T,se._createPathAttr=D,se._createRectAttr=E}(jQuery,DevExpress,document),function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function o(e,t,n,i,r,o,a,s,l,u,c){var d=e+i*r,h=t-i*o,p=e+i*a,f=t-i*s,m=e+n*a,g=t-n*s,_=e+n*r,v=t-n*o;return c?"m 0 0 x e":["wr",T(e-n),T(t-n),T(e+n),T(t+n),T(m),T(g),T(_),T(v),l?"wr ":"at ",T(e-i),T(t-i),T(e+i),T(t+i),T(d),T(h),T(p),T(f),"x e"].join(" ")}function a(e){var t,n,i={};for(t in F)n=e[t],void 0!==n&&(i[t]=n);return i}function s(e,t){return t=Math.ceil(parseInt(t)/2),t&&t>1&&(e.left-=t,e.top-=t,e.right+=t,e.bottom+=t),e}function l(){for(var e,t=(this._settings.d||"").match(/[-0-9]+/g),n={},i=0;i<t.length;i++)e=parseInt(t[i]),i%2?(n.top=void 0===n.top||e<n.top?e:n.top,n.bottom=void 0===n.bottom||e>n.bottom?e:n.bottom):(n.left=void 0===n.left||e<n.left?e:n.left,n.right=void 0===n.right||e>n.right?e:n.right);return n.left=n.left||0,n.top=n.top||0,n.right=n.right||0,n.bottom=n.bottom||0,s(n,this._fullSettings[M])}function u(e,t,n){var r,o,s,l,u,c=e.element,d=e._settings,h=e._fullSettings,p={style:{}};if("string"==typeof t)return t in d?d[t]:t in W?W[t]:0;t&&"transparent"===t.fill&&(t.fill="none");for(o in t)r=t[o],void 0!==r&&(s=h[o],n||(d[o]=r),h[o]=r,F[o]&&(r=null===r?e._parent&&e._parent._fullSettings[o]||r:r),s!==r&&e.processAttr(c,o,r,p));for(e._applyTransformation(p),e.css(p.style),u=0;u<e._children.length;u++)l=e._children[u],l!==e._clipRect&&l.attr(i(a(e._fullSettings),l._settings),!0),l._applyStyleSheet();return n||e._applyStyleSheet(),c&&(c.stroked=c.strokecolor&&"none"!==c.strokecolor.value&&c.strokeweight?"t":"f"),e}function c(e,t,n){for(var i=e.element,r=u(e,t,n),o=0;o<i.childNodes.length;o++)i.childNodes[o].xmlns=R,i.childNodes[o].style.behavior="url(#default#VML)",i.childNodes[o].style.display="inline-block";return r}function d(e,t,n,i){switch(t){case"stroke":n=n||"none",t+="color";break;case"fill":n=n||"none",e.filled="none"===n?"f":"t",t+="color";break;case M:t="strokeweight",n+="px";break;case"stroke-linejoin":return void(e.stroke.joinstyle=n);case"stroke-linecap":return void(e.stroke.endcap="butt"===n?"flat":n);case"opacity":return n=h(n),e.fill.opacity=n,e.stroke.opacity=n,void 0;case"fill-opacity":return void(e.fill.opacity=h(n));case"stroke-opacity":return void(e.stroke.opacity=h(n));case"dashStyle":return void(null===n?e.stroke[t]="":(n=B(n),n="solid"===n||"none"===n?"":n.replace(/longdash/g,"8,3,").replace(/dash/g,"4,3,").replace(/dot/g,"1,3,").replace(/,$/,""),e.stroke[t]=n));case"d":t="path",n=B(n).replace("z","x e").replace(/([.]\d+)/g,"");break;case"href":t="src";break;case"width":case"height":case"visibility":return void(i.style[t]=n||"");case"class":t+="Name";break;case"translateX":case"translateY":case"rotate":case"rotateX":case"rotateY":case"scale":case"scaleX":case"scaleY":case"x":case"y":return}e[t]=n}function h(e){return e>=.002?e:null===e?1:.002}function p(e){var t=document.createElement(e);return P.appendChild(t)}function f(e,t,n,i){if(!F[t])if("visibility"===t)i.style[t]=n||"";else if("width"===t||"height"===t)i.style[t]=n;else if("clipId"===t)this.applyClipID(n);else{if("translateX"===t||"translateY"===t||"x"===t||"y"===t)return;"class"===t?e.className=n:e[t]=n}}function m(t){var n=[{commonLength:0,parts:[]}],i=0;return $(t.childNodes||[],function(t,r){if("BR"!==r.nodeName){var o=n[i].commonLength,a=e(r).text();n[i].parts.push({span:r,startIndex:o?o+1:0,endIndex:o+a.length}),n[i].commonLength+=a.length}else n.push({commonLength:0,parts:[]}),i++}),n}function g(t,n){var i=e(t.span).text().substr(0,n)+"...";"#text"===t.span.nodeName?t.span.data=i:t.span.innerHTML=i}function _(e){e.span.parentNode.removeChild(e.span)}function v(){w.SvgRenderer.apply(this,arguments)}var y,x,b;t.viz.renderers=t.viz.renderers||{};var w=t.viz.renderers,C=t.require("/utils/utils.common"),S=Math,k=S.min,D=S.max,T=S.floor,E=S.sin,I=S.cos,A=C.isDefined,$=e.each,B=t.viz.utils.normalizeEnum,O=w.SvgElement.prototype,P=n.createDocumentFragment(),M="stroke-width",R="urn:schemas-microsoft-com:vml",V={behavior:"url(#default#VML)",display:"inline-block",position:"absolute"},L={xmlns:R},F={stroke:!0,fill:!0,opacity:!0,"stroke-width":!0,align:!0,dashStyle:!0,"stroke-opacity":!0,"fill-opacity":!0,rotate:!0,rotateX:!0,rotateY:!0},z=function(){},H=function(){return this},N={circle:"oval",g:"div",path:"shape",text:"span"},j=.775,W={scaleX:1,scaleY:1},G=w._createPathAttr(c),q=w._createArcAttr(c,o),U=w._createRectAttr(c),Y=w._getEllipsis(m,g,_);y=function(){this.ctor.apply(this,arguments)},x={div:{processAttr:f,attr:function(e,t){return u(this,e,t)},_applyTransformation:function(e){var t=e.style,n=this._settings,i=this._fullSettings;i.rotate&&(i.rotateX=i.rotateX||0,i.rotateY=i.rotateY||0),t.left=(n.x||0)+(n.translateX||0),t.top=(n.y||0)+(n.translateY||0)},_getBBox:function(){var e,t,n,i,r,o=1/0,a=1/0,s=-(1/0),l=-(1/0),u=0,c=this._children;if(c.length)for(;u<c.length;u++)e=c[u],e!==this._clipRect&&(t=e._fullSettings.translateX||0,n=e._fullSettings.translateY||0,r=e._fullSettings,i=e._getBBox(),o=k(o,i.left+t),s=D(s,i.right+t),a=k(a,i.top+n),l=D(l,i.bottom+n));else o=a=l=s=0;return{left:o,right:s,top:a,bottom:l}},defaultAttrs:{},defaultStyle:{position:"absolute"}},shape:{defaultAttrs:i({coordsize:"1,1","stroke-linejoin":"miter"},L),defaultStyle:i({width:1,height:1},V),_getBBox:l},image:{processAttr:function(e,t,n,i){"fill"!==t&&"stroke"!==t&&d(e,t,n,i)}},oval:{processAttr:function(e,t,n,i){if("cx"===t||"cy"===t)t=t[1];else if("r"===t)n*=2,d(e,"width",n,i),t="height";else if("x"===t||"y"===t)return;d(e,t,n,i)},_getBBox:function(){var e=this._fullSettings,t=e.cx||0,n=e.cy||0,i=e.r||0;return s({left:t-i,top:n-i,right:t+i,bottom:n+i},e[M]||1)}},span:{defaultAttrs:{},defaultStyle:{position:"absolute",whiteSpace:"nowrap"},processAttr:function(e,t,n,i){"text"===t?(n=A(n)?n.toString().replace(/\r/g,""):"",this.renderer.encodeHtml&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;")),e.innerHTML=n.replace(/\n/g,"<br/>"),this.css({filter:""}),this._bbox=null):f(e,t,n,i)},attr:function(e,t){return u(this,e,t)},applyEllipsis:Y,_applyTransformation:function(e){this.element.offsetHeight;var t,n=this,i=e.style,r=n._fullSettings,o=A(r.x)?r.x:0,a=A(r.y)?r.y:0,s=n._bbox||n.element.getBoundingClientRect(),l=s.bottom-s.top,u=s.right-s.left,c=r.rotate,d=1,h=0,p=A(r.rotateX)?r.rotateX:o,f=A(r.rotateY)?r.rotateY:a,m=0,g=0,_=l*j,v="",y={center:.5,right:1}[r.align],x=this._styles.opacity||r.opacity||r["fill-opacity"];l&&u&&(c&&(t=c*Math.PI/180,d=I(t),h=E(t),m=(o-p)*d-(a-f)*h+p-o,g=(o-p)*h+(a-f)*d+f-a,v="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11 = "+d.toFixed(5)+", M12 = "+(-h).toFixed(5)+", M21 = "+h.toFixed(5)+", M22 = "+d.toFixed(5)+")"),90>c?(g-=_*d,m-=(l-_)*h):180>c?(g+=(l-_)*d,m+=u*d-(l-_)*h):270>c?(g+=(l-_)*d+u*h,m+=u*d+_*h):(g+=u*h-_*d,m+=_*h),c&&this.renderer.rtl&&(m-=u-(l*Math.abs(h)+u*Math.abs(d))),y&&(m-=u*y*d,g-=u*y*h),A(x)&&(v+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*x+")"),o+=m,a+=g,this._bbox=s,i.filter=(i.filter||"")+v,i.left=o+(r.translateX||0),i.top=a+(r.translateY||0))},_getBBox:function(){var e=this.element,t=this._fullSettings,n=(e.parentNode&&e.parentNode.getBoundingClientRect?e.parentNode:this.renderer.root.element).getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.left-(t.translateX||0)-n.left,o=i.top-(t.translateY||0)-n.top;return{left:r,top:o,right:r+e.offsetWidth,bottom:o+e.offsetHeight}}}},i(y.prototype,O),i(y.prototype,{defaultStyle:V,defaultAttrs:L,ctor:function(t,n,r){var o=this,a="<";o.renderer=t,o.type=r||"line",o._children=[],o._settings={},o._fullSettings={},o._styles={},"div"!==n&&"span"!==n&&(a="<vml:"),"shape"===n?o.attr="arc"===o.type?q:G:"rect"===n&&(o.attr=U),i(o,x[n]),o.element=p(a+n+"/>"),o.css(o.defaultStyle).attr(o.defaultAttrs),o._$element=e(o.element)},dispose:function(){return this.remove(),this._$element.remove(),this},attr:function(e,t){return c(this,e,t)},processAttr:d,css:function(e){var t,n,i,r=this.element;for(i in e)if(n=this._styles[i],t=e[i],A(t)&&(this._styles[i]=t,n!==t)){switch(i){case"fill":i="color";break;case"font-size":i="fontSize","number"==typeof t&&(t+="px");break;case"font-weight":i="fontWeight";break;case"z-index":i="zIndex";break;case"opacity":continue}try{r.style[i]=t}catch(o){continue}}return this},applyClipID:function(e){var t,n,i=this.renderer;t=i.getClipRect(e),t?(n=t.getValue(),t.addElement(this)):n="rect(-9999px 9999px 9999px -9999px)",this._clipRect=this._clipRect||i.rect(0,0,0,0).attr({"class":"dxc-vml-clip",fill:"none",opacity:.001}),this._clipRect.attr({width:i.root.attr("width"),height:i.root.attr("height")}),this.css({clip:n,width:i.root.attr("width"),height:i.root.attr("height")})},_onAppended:function(e){var t=this;e._children&&(t._parent=e,-1===r(e._children,t)&&e._children.push(t),t.attr(i(a(e._fullSettings),t._settings),!0)),t._applyStyleSheet(),e._clipRect&&t!==e._clipRect&&e._clipRect.append(e)},append:function(e){return O.append.apply(this,arguments),
this._onAppended(e||this.renderer.root),this},_insert:function(e){O._insert.apply(this,arguments),this._onAppended(e)},_applyTransformation:function(e){var t=this,n=e.style,i=t.element,r=t._fullSettings,o="arc"!==t.type?r.x||r.cx-r.r||0:0,a="arc"!==t.type?r.y||r.cy-r.r||0:0;if(r.rotate){var s=r.rotate*Math.PI/180,l=A(r.rotateX)?r.rotateX:o,u=A(r.rotateY)?r.rotateY:a,c=o+(r.width||0||parseInt(i.style.width||0))/2,d=a+(r.height||0||parseInt(i.style.height||0))/2,h=I(s),p=E(s),f=(c-l)*h-(d-u)*p+l-c,m=(c-l)*p+(d-u)*h+u-d;o+=f,a+=m,n.rotation=r.rotate}n.left=o+(r.translateX||0),n.top=a+(r.translateY||0)},remove:function(){var e=this._parent;return e&&e._children.splice(r(e._children,this),1),this._parent=null,O.remove.apply(this,arguments)},clear:function(){return this._children=[],O.clear.apply(this,arguments)},getBBox:function(){var e=this._getBBox(),t=e.left,n=e.top,i=e.right-t,r=e.bottom-n;return{x:t,y:n,width:i,height:r,isEmpty:!(t||n||i||r)}},_getBBox:function(){var e=this.element,t=this._fullSettings,n=t.x||0,i=t.y||0,r=parseInt(e.style.width||0),o=parseInt(e.style.height||0);return s({left:n,top:i,right:n+r,bottom:i+o},t[M]||1)},_applyStyleSheet:function(){this._useCSSTheme&&this.attr(a(this.element.currentStyle),!0)},setTitle:function(e){this.element.setAttribute("title",e)}}),b=function(){this.ctor.apply(this,arguments)},i(b.prototype,y.prototype),i(b.prototype,{ctor:function(e,t){this._settings=this._fullSettings={},this.renderer=e,this._children=[],this._elements=[],this.id=t},attr:function(e,t){var n,i,r=u(this,e,t),o=this._elements.slice();if(r===this)for(i=0;i<o.length;i++)n=o[i],n._fullSettings.clipId===this.id?o[i].applyClipID(this.id):this.removeElement(n);return r},processAttr:z,_applyTransformation:z,append:H,dispose:function(){return this._elements=null,this.renderer.removeClipRect(this.id),this},addElement:function(e){var t=this._elements;-1===r(t,e)&&t.push(e)},removeElement:function(e){var t=r(this._elements,e);t>-1&&this._elements.splice(t,1)},getValue:function(){var e=this._settings,t=(e.x||0)+(e.translateX||0),n=(e.y||0)+(e.translateY||0);return"rect("+n+"px, "+(t+(e.width||0))+"px, "+(n+(e.height||0))+"px, "+t+"px)"},css:H,remove:H}),i(v.prototype,w.SvgRenderer.prototype),i(v.prototype,{constructor:v,_rootTag:"div",_rootAttr:{fill:"none",stroke:"none","stroke-width":0},_rootCss:{position:"relative",display:"inline-block",overflow:"hidden"},_init:function(){this._clipRects=[],this._animationController={dispose:H},this._animation={enabled:!1},this._defs={clear:H,remove:H,append:H,dispose:H}},setOptions:function(){return w.SvgRenderer.prototype.setOptions.apply(this,arguments),this.root.css({direction:this.rtl?"rtl":"ltr"}),this},_createElement:function(e,t,n){e=N[e]||e;var i=new w.VmlElement(this,e,n);return t&&i.attr(t),i},shadowFilter:function(){return{ref:null,append:H,dispose:H,attr:H,css:H}},clipRect:function(e,t,n,i){var r=this._clipRects,o=r.length,a=new b(this,o).attr({x:e||0,y:t||0,width:n||0,height:i||0});return r.push(a),a},getClipRect:function(e){return this._clipRects[e]},removeClipRect:function(e){delete this._clipRects[e]},pattern:function(e){return{id:e,append:H,remove:H,dispose:H}},image:function(e,t,n,i,r,o){return this._createElement("image",{x:e||0,y:t||0,width:n||0,height:i||0,location:o,href:r})},rect:function(e,t,n,i){return this._createElement("rect",{x:e||0,y:t||0,width:n||0,height:i||0})},path:function(e,t){return this._createElement("path",{points:e||[]},t)},arc:function(e,t,n,i,r,o){return this._createElement("path",{x:e||0,y:t||0,innerRadius:n||0,outerRadius:i||0,startAngle:r||0,endAngle:o||0},"arc")},text:function(e,t,n){return this._createElement("text",{text:e,x:t||0,y:n||0})},updateAnimationOptions:H,stopAllAnimations:H,svg:function(){return""},onEndAnimation:function(e){e()}}),w.VmlRenderer=v,w.VmlElement=y}(jQuery,DevExpress,document),function(e){function t(e){var t,n,i=this,r=i._animateStep;i._progress=i._calcProgress(e);for(t in i.params)(n=r[t]||r.base)(i.element,i.params[t],i._progress,i._easing,i._currentParams,t);return i.options.step&&i.options.step(i._easing(i._progress,0,1),i._progress),1===i._progress?i.stop():!0}function n(e){return this._startTime=e,this.tick=t,!0}function i(e,t,i){var r=this;r._progress=0,r.element=e,r.params=t,r.options=i,r.duration=i.partitionDuration?i.duration*i.partitionDuration:i.duration,r._animateStep=i.animateStep||a.animationSvgStep,r._easing=l[i.easing]||l.easeOutCubic,r._currentParams={},r.tick=n}function r(e){var t=this;t._animationCount=0,t._timerId=null,t._animations={},t.element=e}var o=e.require("/utils/utils.animationFrame"),a=e.viz.renderers,s=function(){},l={easeOutCubic:function(e,t,n){return 1===e?n:(1-Math.pow(1-e,3))*(n-t)+ +t},linear:function(e,t,n){return 1===e?n:e*(n-t)+ +t}};a.easingFunctions=l,a.animationSvgStep={segments:function(e,t,n,i,r){for(var o,a,s,l=t.from,u=t.to,c=[],d=0;d<l.length;d++){if(o=l[d],a=[o[0]],o.length>1)for(s=1;s<o.length;s++)a.push(i(n,o[s],u[d][s]));c.push(a)}r.segments=t.end&&1===n?t.end:c,e.attr({segments:c})},arc:function(e,t,n,i){var r,o=t.from,a=t.to,s={};for(r in o)s[r]=i(n,o[r],a[r]);e.attr(s)},transform:function(e,t,n,i,r){var o,a=t.from,s=t.to,l={};for(o in a)l[o]=r[o]=i(n,a[o],s[o]);e.attr(l)},base:function(e,t,n,i,r,o){var a={};a[o]=r[o]=i(n,t.from,t.to),e.attr(a)},_:s,complete:function(e,t){e.attr(t)}},i.prototype={_calcProgress:function(e){return Math.min(1,(e-this._startTime)/this.duration)},stop:function(e){var t=this,n=t.options,i=t._animateStep;t.stop=t.tick=s,i.complete&&i.complete(t.element,t._currentParams),n.complete&&!e&&n.complete()}},a.AnimationController=r,r.prototype={_loop:function(){var e,t=this,n=t._animations,i=0,r=+new Date,a=t._endAnimation;for(e in n)n[e].tick(r)||delete n[e],i++;return 0===i?(t.stop(),void(t._endAnimationTimer=a&&setTimeout(function(){0===t._animationCount&&(a(),t._endAnimation=null)}))):void(t._timerId=o.request.call(null,function(){t._loop()},t.element))},addAnimation:function(e){var t=this;t._animations[t._animationCount++]=e,clearTimeout(t._endAnimationTimer),t._timerId||(clearTimeout(t._startDelay),t._startDelay=setTimeout(function(){t._timerId=1,t._loop()},0))},animateElement:function(e,t,n){e&&t&&n&&(e.animation&&e.animation.stop(),this.addAnimation(e.animation=new i(e,t,n)))},onEndAnimation:function(e){this._animationCount?this._endAnimation=e:e()},dispose:function(){this.stop(),this.element=null},stop:function(){var e=this;e._animations={},e._animationCount=0,o.cancel(e._timerId),clearTimeout(e._startDelay),clearTimeout(e._endAnimationTimer),e._timerId=null},lock:function(){var e,t,n,i=this._animations;for(e in i)t=i[e].options.unstoppable,n=n||t,t||(i[e].stop(!0),delete i[e]);n||this.stop()}}}(DevExpress),function(e,t,n){function i(){return!(o.msie&&o.version<9)||!!n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}var r=t.viz.renderers,o=t.require("/utils/utils.browser");i()?r.Renderer=r.SvgRenderer:(n.namespaces&&!n.namespaces.vml&&(n.namespaces.add("vml","urn:schemas-microsoft-com:vml"),n.createStyleSheet().cssText="vml\\:* { behavior:url(#default#VML); display: inline-block; } "),r.Renderer=r.VmlRenderer),r.isSvg=i}(jQuery,DevExpress,document),function(e){e.viz.series={helpers:{consts:{events:{mouseover:"mouseover",mouseout:"mouseout",mousemove:"mousemove",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",mousedown:"mousedown",mouseup:"mouseup",click:"click",selectSeries:"selectseries",deselectSeries:"deselectseries",selectPoint:"selectpoint",deselectPoint:"deselectpoint",showPointTooltip:"showpointtooltip",hidePointTooltip:"hidepointtooltip"},states:{hover:"hover",normal:"normal",selection:"selection",normalMark:0,hoverMark:1,selectedMark:2,applyHover:"applyHover",applySelected:"applySelected",resetItem:"resetItem"},pieLabelIndent:30,pieLabelSpacing:10,pieSeriesSpacing:4}}}}(DevExpress),function(e,t){function n(e,t){var n=[];return E(e,function(e,i){E(i,function(i,r){for(var o=r.getPointsByArg(t),a=o.length,s=0;a>s;++s)if(o[s].value)return n.push(e),!1})}),n}function i(t,n,i,r){E(t,function(t,o){var l,u=e.inArray(t,n);-1!==u&&(l=a(u,r),E(o,function(e,t){s(t.getPointsByArg(i)||[],r.width,l)}))})}function r(e,t,r,l,u){var c,d,h,p,f,m,g,_,v={},y={},x=.7*t,b=l.barWidth;if(l.equalBarWidth)for(c=b&&(0>b||b>1)?0:b,g=o(x,r,c),h=0;h<e.length;h++)d=u(h,r),p=e[h].getPoints(),s(p,g.width,a(d,g));else{E(e,function(e,t){f=t.getStackName&&t.getStackName(),f=f||e.toString(),y[f]||(y[f]=[]),y[f].push(t),E(t.getPoints(),function(e,t){var n=t.argument;v.hasOwnProperty(n)||(v[n.valueOf()]=1)})});for(_ in v)m=n(y,_),g=o(x,m.length),i(y,m,_,g)}}function o(e,t,n){var i,r,o=t/2;return n?(r=k(e*n/t),i=k(t>1?(e-e*n)/(t-1):0)):(i=k(e/t*.2),r=k((e-i*(t-1))/t),2>r&&(r=2)),{width:r,spacing:i,middleIndex:o}}function a(e,t){return(e-t.middleIndex+.5)*t.width-(t.middleIndex-e-.5)*t.spacing}function s(e,t,n){E(e,function(e,i){i.correctCoordinates({width:t,offset:n})})}function l(e,t){return D(e)<t?e>=0?t:-t:e}function u(e){return e>=0?"positive":"negative"}function c(e){return w.utils.map(e.series,function(e){return e.isVisible()?e:null})}function d(e,t,n){var i=(e.positive[t]||{})[n]||0,r=-(e.negative[t]||{})[n]||0;return i+r}function h(e,t,n){return e?function(e,i){return i-(n?n[t[e].getStackName()]:e)-1}:function(e){return n?n[t[e].getStackName()]:e}}function p(e){var t=this,n=c(t);r(n,e.arg.getInterval(),n.length,t._options,h(t.rotated,n))}function f(e){var t=this,n=c(t),i={},o=0;E(n,function(){var e=this.getStackName();i.hasOwnProperty(e)||(i[e]=o++)}),r(n,e.arg.getInterval(),o,t._options,h(t.rotated,n,i))}function m(){var t=this,n=t._options.negativesAsZeroes,i=c(t),r={positive:{},negative:{}},o={left:{},right:{}};E(i,function(t,a){var s=a.getPoints(),l=!1;a._prevSeries=i[t-1],a.holes=e.extend(!0,{},o),E(s,function(e,t){var i,u,c=t.initialValue,d=t.argument.valueOf(),h=a.getStackName(),p=c>=0?r.positive:r.negative;n&&0>c&&(p=r.positive,c=0,t.resetValue()),p[h]=p[h]||{},i=p[h],i[d]?(t.correctValue(i[d]),i[d]+=c):(i[d]=c,t.resetCorrection()),t.hasValue()?l&&(l=!1,o.left[d]=(o.left[d]||0)+(t.value-(isFinite(t.minValue)?t.minValue:0)),t._skipSetLeftHole=!0):(u=s[e-1],!l&&u&&u.hasValue()&&(d=u.argument.valueOf(),u._skipSetRightHole=!0,o.right[d]=(o.right[d]||0)+(u.value-(isFinite(u.minValue)?u.minValue:0))),l=!0)})}),E(i,function(e,t){var n=t.getPoints(),i=t.holes;E(n,function(e,t){var n=t.argument.valueOf();t.resetHoles(),t._skipSetLeftHole||t.setHole(i.left[n]||o.left[n]&&0,"left"),t._skipSetRightHole||t.setHole(i.right[n]||o.right[n]&&0,"right"),t._skipSetLeftHole=null,t._skipSetRightHole=null})}),t._stackKeepers=r,E(i,function(e,n){E(n.getPoints(),function(e,i){var a=i.argument.valueOf();i.setPercentValue(d(r,n.getStackName(),a),t.fullStacked,o.left[a],o.right[a])})})}function g(e){var t=this,n=c(t),i=t._stackKeepers,r={positive:{},negative:{}};E(n,function(n,o){var a=o.getOptions().minBarSize,s=a&&e.val.getMinBarSize(a),c=o.getStackName();E(o.getPoints(),function(e,n){if(n.hasValue()){var o,a,h,p=n.initialValue,f=n.argument.valueOf();t.fullStacked&&(p=p/d(i,c,f)||0),o=l(p,s),a=u(o),h=r[a][c]=r[a][c]||{},h[f]?(n.minValue=h[f],h[f]+=o):h[f]=o,n.value=h[f]}})}),t.fullStacked&&_(n,r)}function _(e,t){E(e,function(e,n){var i=n.getStackName?n.getStackName():"default";E(n.getPoints(),function(e,n){var r=d(t,i,n.argument.valueOf());n.value=n.value/r,C.isNumber(n.minValue)&&(n.minValue=n.minValue/r)})})}function v(e){E(this.series,function(t,n){var i=n.getOptions().minBarSize,r=i&&e.val.getMinBarSize(i);r&&E(n.getPoints(),function(e,t){t.hasValue()&&(t.value=l(t.initialValue,r))})})}function y(e){var t=c(this);r(t,e.arg.getInterval(),t.length,{barWidth:null,equalBarWidth:!0},h(this.rotated,t))}function x(e){var t,n,i,r,o,a=this,s=c(a),l=a._options,u=e.arg.getCanvasVisibleArea(),d=e.val.getCanvasVisibleArea(),h=S.min(u.max-u.min,d.max-d.min),p=T(l.minBubbleSize,2),f=T(h*l.maxBubbleSize,2),m=(h*l.maxBubbleSize+l.minBubbleSize)/2,g=1/0,_=0;E(s,function(e,t){E(t.getPoints(),function(e,t){_=_>t.size?_:t.size,g=g<t.size?g:t.size})}),r=_-g,o=D(f-p),g=0>g?0:g,E(s,function(e,a){E(a.getPoints(),function(e,a){_===g?t=k(m):(i=D(a.size-g)/r,n=o*i+p,t=k(S.sqrt(n))),a.correctCoordinates(t)})})}function b(e){var t=this;switch(t.type=A(e.type),t.pane=e.pane,t.rotated=e.rotated,t.series=[],t.updateOptions(e),t.type){case"bar":t.adjustSeriesDimensions=p,t.updateSeriesValues=v;break;case"rangebar":t.adjustSeriesDimensions=p;break;case"fullstackedbar":t.fullStacked=!0,t.adjustSeriesDimensions=f,t.adjustSeriesValues=m,t.updateSeriesValues=g;break;case"stackedbar":t.adjustSeriesDimensions=f,t.adjustSeriesValues=m,t.updateSeriesValues=g;break;case"fullstackedarea":case"fullstackedline":case"fullstackedspline":case"fullstackedsplinearea":t.fullStacked=!0,t.adjustSeriesValues=m;break;case"stackedarea":case"stackedsplinearea":case"stackedline":case"stackedspline":t.adjustSeriesValues=m;break;case"candlestick":case"stock":t.adjustSeriesDimensions=y;break;case"bubble":t.adjustSeriesDimensions=x}}var w=t.viz,C=t.require("/utils/utils.common"),S=Math,k=S.round,D=S.abs,T=S.pow,E=e.each,I=e.noop,A=w.utils.normalizeEnum;w.series.helpers.SeriesFamily=b,b.prototype={constructor:b,adjustSeriesDimensions:I,adjustSeriesValues:I,updateSeriesValues:I,updateOptions:function(e){this._options=e},dispose:function(){this.series=this.translators=null},add:function(e){var t=this.type;this.series=w.utils.map(e,function(e){return e.type===t?e:null})},getStackPoints:function(){var t={};return e.each(this.series,function(e,n){var i=n.getPoints(),r=n.getStackName()||null;n.isVisible()&&E(i,function(e,n){var i=n.argument;t[i]||(t[i]={}),t[i][r]||(t[i][r]=[]),t[i][r].push(n)})}),t}}}(jQuery,DevExpress),function(e,t,n){function i(e,t,n){e&&e.trigger(t,n)}function r(e){return e===O||"allseriespoints"===e}function o(t,i){var r=t||{},o=g({},r.font)||{},a=r.border||{},s=r.connector||{},l={fill:r.backgroundColor||i,"stroke-width":a.visible?a.width||0:0,stroke:a.visible&&a.width?a.color:"none",dashStyle:a.dashStyle},u={stroke:s.visible&&s.width?s.color||i:"none","stroke-width":s.visible?s.width||0:0};return o.color="none"===r.backgroundColor&&"#ffffff"===v(o.color)&&"inside"!==r.position?i:o.color,{alignment:r.alignment,format:r.format,argumentFormat:r.argumentFormat,precision:r.precision,argumentPrecision:r.argumentPrecision,percentPrecision:r.percentPrecision,customizeText:e.isFunction(r.customizeText)?r.customizeText:n,attributes:{font:o},visible:0!==o.size?r.visible:!1,showForZeroValues:r.showForZeroValues,horizontalOffset:r.horizontalOffset,verticalOffset:r.verticalOffset,radialOffset:r.radialOffset,background:l,position:r.position,connector:u,rotationAngle:r.rotationAngle}}function a(t,i,r,o){var a,s=i[r],l=i[r+1];return o=e.isNumeric(o)?o:d.dateToMilliseconds(o),a=h.isDate(s)?new Date(s.getTime()+o):s+o,t>=s&&a>t?!0:s>t||l===n?!1:"nextInterval"}function s(e,t){e.isSelected()||e.hasSelectedView||e.applyStyle(t)}function l(e,t){var n=this;n.fullState=0,n._extGroups=e,n._renderer=e.renderer,n._group=e.renderer.g().attr({"class":"dxc-series"}),n.updateOptions(t)}var u=t.viz,c=u.series,d=DevExpress.require("/utils/utils.date"),h=t.require("/utils/utils.common"),p=h.isDefined,f=u.utils.map,m=e.each,g=e.extend,_=e.isEmptyObject,v=u.utils.normalizeEnum,y=e.Event,x=e.noop,b=e.inArray,w=c.helpers.consts.states,C="discrete",S=w.selectedMark,k=w.hoverMark,D=w.hover,T=w.normal,E=w.selection,I=w.applySelected,A=w.applyHover,$=w.resetItem,B="none",O="includepoints",P="excludepoints",M="nearestpoint",R="symbolPoint",V="polarSymbolPoint",L="barPoint",F="polarBarPoint",z="piePoint",H=function(){return{arg:{},val:{}}};c.mixins={chart:{pointTypes:{scatter:R,line:R,spline:R,stepline:R,stackedline:R,fullstackedline:R,stackedspline:R,fullstackedspline:R,stackedsplinearea:R,fullstackedsplinearea:R,area:R,splinearea:R,steparea:R,stackedarea:R,fullstackedarea:R,rangearea:"rangeSymbolPoint",bar:L,stackedbar:L,fullstackedbar:L,rangebar:"rangeBarPoint",bubble:"bubblePoint",stock:"stockPoint",candlestick:"candlestickPoint"}},pie:{pointTypes:{pie:z,doughnut:z,donut:z}},polar:{pointTypes:{scatter:V,line:V,area:V,bar:F,stackedbar:F}}},c.Series=l,l.prototype={constructor:l,_createLegendState:x,getLegendStyles:function(){return this._styles.legendStyles},_createStyles:function(e){var t=this,n=e.mainSeriesColor,i=t._getSpecialColor(n);t._styles={normal:t._parseStyle(e,n,n),hover:t._parseStyle(e.hoverStyle||{},i,n),selection:t._parseStyle(e.selectionStyle||{},i,n),legendStyles:{normal:t._createLegendState(e,n),hover:t._createLegendState(e.hoverStyle||{},i),selection:t._createLegendState(e.selectionStyle||{},i)}}},setClippingParams:function(e,t,n){this._paneClipRectID=e,this._widePaneClipRectID=t,this._forceClipping=n},applyClip:function(){this._group.attr({clipId:this._paneClipRectID})},resetClip:function(){this._group.attr({clipId:null})},getTagField:function(){return this._options.tagField||"tag"},getValueFields:x,getSizeField:x,getArgumentField:x,getPoints:function(){return this._points},_createPoint:function(e,t,n){e.index=n;var i,r,o,a=this,s=t[n],l=a.pointsByArgument;return a._checkData(e)?(i=a._customizePoint(e)||a._getCreatingPointOptions(e),s?s.update(e,i):(s=u.CoreFactory.createPoint(a,e,i),t.push(s)),r=s.argument.valueOf(),o=l[r],o?o.push(s):l[r]=[s],!0):void 0},getRangeData:function(e,t){return this._visible?g(!0,{},this._getRangeData(e,t)):H()},_deleteGroup:function(e){var t=this[e];t&&(t.dispose(),this[e]=null)},_saveOldAnimationMethods:function(){var e=this;e._oldClearingAnimation=e._clearingAnimation,e._oldUpdateElement=e._updateElement,e._oldgetAffineCoordOptions=e._getAffineCoordOptions},_deleteOldAnimationMethods:function(){this._oldClearingAnimation=null,this._oldUpdateElement=null,this._oldgetAffineCoordOptions=null},updateOptions:function(e){var t=this,n=e.widgetType,i=t.type,r=e.type;return t.type=r&&v(r.toString()),!t._checkType(n)||t._checkPolarBarType(n,e)?(t.dispose(),void(t.isUpdated=!1)):(i!==t.type&&(t._firstDrawing=!0,t._saveOldAnimationMethods(),t._resetType(i,n),t._setType(t.type,n)),t._options=e,t._pointOptions=null,t._deletePatterns(),t.name=e.name,t.pane=e.pane,t.axis=e.axis,t.tag=e.tag,t._createStyles(e),t._updateOptions(e),t._visible=e.visible,t.isUpdated=!0,t._createGroups(),void 0)},_disposePoints:function(e){m(e||[],function(e,t){t.dispose()})},_correctPointsLength:function(e,t){this._disposePoints(this._oldPoints),this._oldPoints=t.splice(e,t.length)},_getTicksForAggregation:function(e,t,n,i){var r={axisType:"continuous",dataType:h.isDate(e)?"datetime":"numeric"},o={min:e,max:t,screenDelta:n},a={gridSpacingFactor:i,labelOptions:{},stick:!0},s=new u.tickManager.TickManager(r,o,a);return{ticks:s.getTicks(!0),tickInterval:s.getTickInterval()}},getErrorBarRangeCorrector:x,updateDataType:function(e){var t=this;return t.argumentType=e.argumentType,t.valueType=e.valueType,t.argumentAxisType=e.argumentAxisType,t.valueAxisType=e.valueAxisType,t.showZero=e.showZero,t},getOptions:function(){return this._options},_resetRangeData:function(){this._rangeData=H()},updateData:function(e){var t,n=this,i=n._originalPoints||[],r=0,o=n._options,a=0,s=e.length,l=null,u=n.getErrorBarRangeCorrector();for(n.pointsByArgument={},n._resetRangeData(),e&&e.length&&(n._canRenderCompleteHandle=!0),n._beginUpdateData(e);s>a;)n._createPoint(n._getPointData(e[a],o),i,r)&&(t=i[r],n._processRange(t,l,u),l=t,r++),a++;n._disposePoints(n._aggregatedPoints),n._aggregatedPoints=null,n._points=n._originalPoints=i,n._correctPointsLength(r,i),n._endUpdateData()},getTeamplatedFields:function(){var e=this,t=e.getValueFields(),n=[];return t.push(e.getTagField()),m(t,function(t,i){var r={};r.teamplateField=i+e.name,r.originalField=i,n.push(r)}),n},resamplePoints:function(e,t,n){var i,r,o,a,s,l,u=this,c=u.getAllPoints();if(c.length){if(m(c,function(e,o){i=o.argument-t<=0?e:i,r||(r=o.argument-n>0?e:null)}),i=i?i:1,r=p(r)?r:c.length-1,t=c[i-1].argument,n=c[r].argument,o=u._getPointSize(),u.argumentAxisType!==C&&u.valueAxisType!==C){if(a=u._getTicksForAggregation(t,n,e.canvasLength,o),s=a.ticks,l=a.tickInterval,1===s.length)return void(u._points=c)}else s=e.canvasLength/o;u._points=u._resample(s,l,e.getBusinessRange().categories,t,n)}},_removeOldSegments:function(e){var t=this;m(t._graphics.splice(e,t._graphics.length)||[],function(e,n){t._removeElement(n)}),t._trackers&&m(t._trackers.splice(e,t._trackers.length)||[],function(e,t){t.remove()})},draw:function(e,t,n,i){var r,o=this;o._oldClearingAnimation&&t&&o._firstDrawing?(r=function(){o._draw(e,!0,n)},o._oldClearingAnimation(e,r)):o._draw(e,t,n,i)},_draw:function(e,t,n,i){var r,o=this,a=o._points||[],s=[],l=0,u=o._firstDrawing,c=a[0]&&a[0].hasValue()&&o._options.closed;return o._graphics=o._graphics||[],o._prepareSeriesToDrawing(),o._visible?(o._group.append(o._extGroups.seriesGroup),o.translators=e,o._applyVisibleArea(),o._setGroupsSettings(t,u),o._segments=[],o._drawedPoints=[],o._firstDrawing=a.length?!1:!0,r={markers:o._markersGroup,errorBars:o._errorBarGroup},m(a,function(n,a){a.translate(e),a.hasValue()?(o._drawPoint({point:a,groups:r,hasAnimation:t,firstDrawing:u,legendCallback:i}),s.push(a)):s.length&&(o._drawSegment(s,t,l++),s=[])}),s.length&&o._drawSegment(s,t,l++,c),o._removeOldSegments(l),o._defaultSegments=o._generateDefaultSegments(),n&&o.hideLabels(),t&&o._animate(u),o.isSelected()?o._changeStyle(i,I):o.isHovered()&&o._changeStyle(i,A),void 0):(t=!1,void o._group.remove())},_setLabelGroupSettings:function(e){var t={"class":"dxc-labels"};this._applyElementsClipRect(t),this._applyClearingSettings(t),e&&(t.opacity=.001),this._labelsGroup.attr(t).append(this._extGroups.labelsGroup)},_checkType:function(e){return!!c.mixins[e][this.type]},_checkPolarBarType:function(e,t){return"polar"===e&&t.spiderWidget&&-1!==this.type.indexOf("bar")},_resetType:function(e,t){var n,i;if(e){i=c.mixins[t][e];for(n in i)delete this[n]}},_setType:function(e,t){var n,i=c.mixins[t][e];for(n in i)this[n]=i[n]},setSelectedState:function(e,t,n){var i=this;i.lastSelectionMode=v(t||i._options.selectionMode),e&&!i.isSelected()?(i.fullState=i.fullState|S,i._nearestPoint&&s(i._nearestPoint,T),i._nearestPoint=null,i._changeStyle(n,I)):!e&&i.isSelected()&&(i.fullState=i.fullState&~S,i.isHovered()?i._changeStyle(n,A,E):i._changeStyle(n,$))},setHoverState:function(e,t,n){var i=this;i.lastHoverMode=v(t||i._options.hoverMode),e&&!i.isHovered()?(i.fullState=i.fullState|k,i.isSelected()||i._changeStyle(n,A)):!e&&i.isHovered()&&(i._nearestPoint=null,i.fullState=i.fullState&~k,i.isSelected()||i._changeStyle(n,$))},setHoverView:function(){return this._canShangeView()?(this._applyStyle(this._styles.hover),this):null},releaseHoverView:function(){this._canShangeView()&&this._applyStyle(this._styles.normal)},isFullStackedSeries:function(){return 0===this.type.indexOf("fullstacked")},isStackedSeries:function(){return 0===this.type.indexOf("stacked")},isFinancialSeries:function(){return"stock"===this.type||"candlestick"===this.type},_canShangeView:function(){return!this.isSelected()&&v(this._options.hoverMode)!==B},_changeStyle:function(e,t,n){var i,o=this,a=o._calcStyle(n);a.mode!==B&&(e(t),r(a.mode)&&(i=a.pointStyle,m(o._points||[],function(e,t){s(t,i)})),o._applyStyle(a.series))},_calcStyle:function(e){var t,n=this,i=n._styles,o=!1;switch(n.fullState){case 0:t={pointStyle:T,mode:O,series:i.normal};break;case 1:o=e&&n.lastHoverMode===P||n.lastHoverMode===M&&r(n.lastSelectionMode),t={pointStyle:o?T:D,mode:o?O:n.lastHoverMode,series:i.hover};break;case 2:t={pointStyle:E,mode:n.lastSelectionMode,series:i.selection};break;case 3:o=n.lastSelectionMode===P&&r(n.lastHoverMode),t={pointStyle:o?T:E,mode:o?O:n.lastSelectionMode,series:i.selection}}return t},updateHover:function(e,t){var n=this,i=n._nearestPoint,r=n.isHovered()&&n.lastHoverMode===M&&n.getNeighborPoint(e,t);r===i||n.isSelected()||(i&&s(i,T),r&&(s(r,D),n._nearestPoint=r))},_getMainAxisName:function(){return this._options.rotated?"X":"Y"},areLabelsVisible:function(){return!p(this._options.maxLabelCount)||this._points.length<=this._options.maxLabelCount},getLabelVisibility:function(){return this.areLabelsVisible()&&this._options.label&&this._options.label.visible},_customizePoint:function(e){var t,n,i,r,o,a,s=this,l=s._options,u=l.customizePoint,c=l.customizeLabel;return c&&c.call&&(t=g({seriesName:s.name},e),t.series=s,i=c.call(t,t),o=i&&!_(i),i=o?g(!0,{},l.label,i):null),u&&u.call&&(t=t||g({seriesName:s.name},e),t.series=s,r=u.call(t,t),a=r&&!_(r)),(o||a)&&(n=s._parsePointOptions(s._preparePointOptions(r),i||l.label,e),n.styles.useLabelCustomOptions=o,n.styles.usePointCustomOptions=a),n},show:function(){this._visible||this._changeVisibility(!0)},hide:function(){this._visible&&this._changeVisibility(!1)},_changeVisibility:function(e){var t=this;t._visible=t._options.visible=e,t._updatePointsVisibility(),t.hidePointTooltip(),t._options.visibilityChanged()},_updatePointsVisibility:x,hideLabels:function(){m(this._points,function(e,t){t._label.hide()})},_parsePointOptions:function(e,t,n){var i=this,r=i._options,a=i._createPointStyles(e,n),s=g(!0,{},e,{type:r.type,tag:i.tag,rotated:r.rotated,styles:a,widgetType:r.widgetType,visibilityChanged:r.visibilityChanged});return s.label=o(t,a.normal.fill),i.areErrorBarsVisible()&&(s.errorBars=r.valueErrorBar),s},_preparePointOptions:function(e){var t=this._getOptionsForPoint();return e?g(!0,{},t,e):t},_getMarkerGroupOptions:function(){return g(!1,{},this._getOptionsForPoint(),{hoverStyle:{},selectionStyle:{}})},_resample:function(e,t,i,r,o){var s,l,u=this,c=[],d=0,h=0,p=u.getAllPoints(),g=r!==n?r:-(1/0),_=o!==n?o:1/0,v=u.argumentAxisType===C;return v||u.valueAxisType===C?(v&&(g=b(r,i),_=b(o,i),-1===g&&(g=0),-1===_&&(_=i.length-1)),p=f(p,function(e){var t=null,n=v?b(e.argument,i):e.argument;return n>=g&&_>=n?t=e:e.setInvisibility(),t}),t=p.length/e,s=f(p,function(e,n){return Math.floor(d)<=n?(d+=t,e):(e.setInvisibility(),null)})):(u._aggregatedPoints=u._aggregatedPoints||[],m(p,function(n,i){switch(i.setInvisibility(),a(i.argument,e,d,t)){case!0:c.push(i);break;case"nextInterval":for(var r=u._fusionPoints(c,e[d],d);"nextInterval"===a(i.argument,e,d,t);)d++;c=[],a(i.argument,e,d,t)===!0&&c.push(i),u._createPoint(r,u._aggregatedPoints,h)&&h++}}),c.length&&(l=u._fusionPoints(c,e[d],d),u._createPoint(l,u._aggregatedPoints,h)&&h++),u._correctPointsLength(h,u._aggregatedPoints),u._endUpdateData(),u._aggregatedPoints)},canRenderCompleteHandle:function(){var e=this._canRenderCompleteHandle;return delete this._canRenderCompleteHandle,!!e},isHovered:function(){return!!(1&this.fullState)},isSelected:function(){return!!(2&this.fullState)},isVisible:function(){return this._visible},getAllPoints:function(){return(this._originalPoints||[]).slice()},getPointByPos:function(e){return(this._points||[])[e]},getVisiblePoints:function(){return(this._drawedPoints||[]).slice()},setPointHoverState:function(e){var t=e.point;e.setState&&(t.fullState|=k),this.isSelected()&&r(this.lastSelectionMode)||t.isSelected()||t.hasSelectedView||t.applyStyle(D)},releasePointHoverState:function(e){var t=this,n=e.point;e.setState&&(n.fullState&=~k),t.isSelected()&&r(t.lastSelectionMode)||n.isSelected()||n.hasSelectedView||t.isHovered()&&r(t.lastHoverMode)&&(!t.isSelected()||t.lastSelectionMode!==P)||n.applyStyle(T),n.releaseHoverState()},setPointSelectedState:function(e){var t=e.point;e.setState?t.fullState|=S:t.hasSelectedView=!0,t.applyStyle(E)},releasePointSelectedState:function(e){var t,n=this,i=e.point;e.setState?i.fullState&=~S:i.hasSelectedView=!1,t=n.isHovered()&&r(n.lastHoverMode)||i.isHovered()?D:n.isSelected()&&r(n.lastSelectionMode)?E:T,i.applyStyle(t)},selectPoint:function(e){i(this._extGroups.seriesGroup,new y("selectpoint"),e)},deselectPoint:function(e){i(this._extGroups.seriesGroup,new y("deselectpoint"),e)},showPointTooltip:function(e){i(this._extGroups.seriesGroup,new y("showpointtooltip"),e)},hidePointTooltip:function(e){i(this._extGroups.seriesGroup,new y("hidepointtooltip"),e)},select:function(){var e=this;i(e._extGroups.seriesGroup,new y("selectseries",{target:e}),e._options.selectionMode),e._group.toForeground()},clearSelection:function(){var e=this;i(e._extGroups.seriesGroup,new y("deselectseries",{target:e}),e._options.selectionMode)},getPointsByArg:function(e){return this.pointsByArgument[e.valueOf()]||[]},_deletePoints:function(){var e=this;e._disposePoints(e._originalPoints),e._disposePoints(e._aggregatedPoints),e._disposePoints(e._oldPoints),e._points=e._oldPoints=e._aggregatedPoints=e._originalPoints=e._drawedPoints=null},_deletePatterns:function(){m(this._patterns||[],function(e,t){t&&t.dispose()}),this._patterns=[]},_deleteTrackers:function(){var e=this;m(e._trackers||[],function(e,t){t.remove()}),e._trackersGroup&&e._trackersGroup.dispose(),e._trackers=e._trackersGroup=null},dispose:function(){var e=this;e._deletePoints(),e._group.dispose(),e._labelsGroup&&e._labelsGroup.dispose(),e._errorBarGroup&&e._errorBarGroup.dispose(),e._deletePatterns(),e._deleteTrackers(),e._group=e._extGroups=e._markersGroup=e._elementsGroup=e._bordersGroup=e._labelsGroup=e._errorBarGroup=e._graphics=e._rangeData=e._renderer=e.translators=e._styles=e._options=e._pointOptions=e._drawedPoints=e._aggregatedPoints=e.pointsByArgument=e._segments=e._prevSeries=e._patterns=null},correctPosition:x,drawTrackers:x,getNeighborPoint:x,areErrorBarsVisible:x,getColor:function(){return this.getLegendStyles().normal.fill},getOpacity:function(){return this._options.opacity},getStackName:function(){return"stackedbar"===this.type||"fullstackedbar"===this.type?this._stackName:null},getPointByCoord:function(e,t){var n=this.getNeighborPoint(e,t);return n&&n.coordsIn(e,t)?n:null}}}(jQuery,DevExpress),function(e,t,n){function i(e,t){var n=e.min,i=e.max;e.min=n>t||!I(n)?t:n,e.max=t>i||!I(i)?t:i}function r(e,t,n,r,o){var a,s=("arg"===t?e.argumentAxisType:e.valueAxisType)===P,l=e._rangeData[t],u=l.interval;s?(l.categories=l.categories||[],l.categories.push(n)):(i(l,n),"arg"===t&&(a=(I(r)?C(o?o(n,r):n-r):a)||u,l.interval=I(a)&&(u>a||!I(u))?a:u))}function o(e,t){var n=e._rangeData.val,i=e.valueAxisType===P;i||((t<n.minVisible||!I(n.minVisible))&&(n.minVisible=t),(t>n.maxVisible||!I(n.maxVisible))&&(n.maxVisible=t))}function a(e,t,n){var r=e._rangeData.val;e.valueAxisType===P?(r.categories=r.categories||[],r.categories.push(t,n)):(i(r,t),i(r,n))}function s(e,t,n){var i,r,o=e._rangeData.arg;return n?(o.minVisible=t.minArg,void(o.maxVisible=t.maxArg)):(i=t.minArg<t.maxArg?t.minArg:t.maxArg,r=t.maxArg>t.minArg?t.maxArg:t.minArg,o.min=i<o.min?i:o.min,o.max=r>o.max?r:o.max,o.minVisible=i,o.maxVisible=r,void 0)}function l(e,t){var n,i;I(t.minVal)&&I(t.maxVal)&&(n=t.minVal<t.maxVal?t.minVal:t.maxVal,i=t.maxVal>t.minVal?t.maxVal:t.minVal),I(t.minVal)&&(e._rangeData.val.min=n<e._rangeData.val.min?n:e._rangeData.val.min,e._rangeData.val.minVisible=n),I(t.maxVal)&&(e._rangeData.val.max=i>e._rangeData.val.max?i:e._rangeData.val.max,e._rangeData.val.maxVisible=i)}function u(e,t){var n,i=t.adjustOnZoom,r=e._points||[],a=!1,s=e._rangeData,u=e.getErrorBarRangeCorrector();D(r,function(t,l){var c=l.argument,d=t>0?r[t-1]:null;i&&e.argumentAxisType!==P&&c>=s.arg.minVisible&&c<=s.arg.maxVisible&&(a||(d&&d.hasValue()&&(o(e,d.value),g(s.val,d,u,B,O)),a=!0),l.hasValue()&&(o(e,l.value),g(s.val,l,u,B,O)),n=t)}),I(n)&&n<r.length-1&&r[n+1].hasValue()&&o(e,r[n+1].value),l(e,t)}function c(e,t,n,i){var r,a=t.adjustOnZoom,s=e._points||[],u=e._rangeData.arg,c=!1;D(s,function(t,l){var d=l.argument,h=t>0?s[t-1]:null;a&&e.argumentAxisType!==P&&d>=u.minVisible&&d<=u.maxVisible&&(c||(h&&h.hasValue()&&(o(e,h[n]),o(e,h[i])),c=!0),l.hasValue()&&(o(e,l[n]),o(e,l[i])),r=t)}),I(r)&&r<s.length-1&&s[r+1].hasValue()&&o(e,s[r+1].value),l(e,t)}function d(e,t){var n=e._rangeData,i=e._points||[],o=e.argumentAxisType===P;delete n.arg.interval,D(i,function(n,a){var s=a.argument,l=n>0?i[n-1]:null,u=l&&l.argument;o||r(e,"arg",s,u,t)})}function h(e){var t=e._rangeData;t.arg.categories&&(t.arg.categories=$(t.arg.categories)),
t.val.categories&&(t.val.categories=$(t.val.categories)),t.arg.axisType=e.argumentAxisType,t.arg.dataType=e.argumentType,t.val.axisType=e.valueAxisType,t.val.dataType=e.valueType,t.val.isValueRange=!0}function p(e,t,n,i,o){var s=t[i],l=t[o],u=t.argument,c=n&&n[i],d=n&&n[o],h=n&&n.argument;t.hasValue()&&a(e,s,l,c,d),r(e,"arg",u,h)}function f(e,t){var n=e._rangeData.val,i=n[B],r=n[O];t=t||{},n&&"logarithmic"!==e.valueAxisType&&"datetime"!==e.valueType&&e.showZero!==!1&&(n[B]=i>(t.minVal||0)?t.minVal||0:i,n[O]=r<(t.maxVal||0)?t.maxVal||0:r,n.min=n.min>0?0:n.min,n.max=n.max<0?0:n.max)}function m(e){var t=e._rangeData.val,n=T(t);t.percentStick=!0,n||(t.min=t.min>0?0:t.min,t.max=t.max<0?0:t.max)}function g(e,t,i,r,o){if(i){var a=i(t),s=S.apply(n,a),l=k.apply(n,a);A(s)&&e[r]>s&&(e[r]=s),A(l)&&e[o]<l&&(e[o]=l)}}function _(e,t,n,i){var o=t.value,a=t.argument,s=n&&n.value,l=n&&n.argument;t.hasValue()&&r(e,"val",o,s),r(e,"arg",a,l),g(e._rangeData.val,t,i,"min","max")}function v(e){var t,n=e.getOptions().label;e.areLabelsVisible()&&n&&n.visible&&"inside"!==n.position&&(t=e._rangeData.val,t.min<0&&(t.minSpaceCorrection=!0),t.max>0&&(t.maxSpaceCorrection=!0))}function y(e){var t=e._rangeData.val;e.areLabelsVisible()&&e._options.label.visible&&"inside"!==e._options.label.position&&(t.minSpaceCorrection=t.maxSpaceCorrection=!0)}function x(e,t,n,i,r){var o=e._rangeData.val,a=!!i&&!!r,l=e.argumentAxisType===P;t&&I(t.minArg)&&I(t.maxArg)?(l||(o[B]=t.minVal,o[O]=t.maxVal),s(e,t,l),a?c(e,t,i,r):u(e,t)):!t&&n&&d(e,n),h(e)}var b=t.viz,w=Math,C=w.abs,S=w.min,k=w.max,D=e.each,T=e.isEmptyObject,E=t.require("/utils/utils.common"),I=E.isDefined,A=isFinite,$=b.utils.unique,B="minVisible",O="maxVisible",P="discrete";b.series.helpers.rangeDataCalculator={processRange:_,calculateRangeData:x,addLabelPaddings:v,addRangeSeriesLabelPaddings:y,processFullStackedRange:m,calculateRangeMinValue:f,processTwoValues:p}}(jQuery,DevExpress),function(e,t){function n(e){var t=0;return u(e,function(e,n){t+=n}),t}function i(t){return-1!==e.inArray(t,[O,B,I,A,$])}function r(e,t){return n(m(e,function(e){return(e-t)*(e-t)}))/e.length}var o=t.viz,a=o.series,s=a.helpers.rangeDataCalculator,l=a.mixins.chart,u=e.each,c=e.extend,d=e.noop,h=t.require("/utils/utils.common"),p=h.isDefined,f=h.isString,m=o.utils.map,g=o.utils.normalizeEnum,_=Math,v=_.floor,y=_.abs,x=_.sqrt,b=_.min,w=_.max,C=2,S=12,k=400,D="highError",T="lowError",E="original",I="variance",A="stddeviation",$="stderror",B="percent",O="fixed",P="undefined",M="discrete",R="logarithmic",V="datetime",L={_defaultDuration:k,_defaultTrackerWidth:S,_applyStyle:d,_updateOptions:d,_parseStyle:d,_prepareSegment:d,_drawSegment:d,_generateDefaultSegments:d,_prepareSeriesToDrawing:function(){var e=this;e._deleteOldAnimationMethods(),e._disposePoints(e._oldPoints),e._oldPoints=null},_createLegendState:function(e,t){return{fill:e.color||t,hatching:e.hatching}},updateTeamplateFieldNames:function(){var e=this,t=e._options;t.valueField=e.getValueFields()[0]+e.name,t.tagField=e.getTagField()+e.name},_applyElementsClipRect:function(e){e.clipId=this._paneClipRectID},_applyMarkerClipRect:function(e){e.clipId=this._forceClipping?this._paneClipRectID:null},_createGroup:function(e,t,n,i){var r=t[e]=t[e]||this._renderer.g();n&&r.append(n),i&&r.attr(i)},_applyClearingSettings:function(e){e.opacity=null,e.scale=null,this._options.rotated?e.translateX=null:e.translateY=null},_createGroups:function(){var e=this;e._createGroup("_markersGroup",e,e._group),e._createGroup("_labelsGroup",e)},_setMarkerGroupSettings:function(){var e=this,t=e._createPointStyles(e._getMarkerGroupOptions()).normal;t["class"]="dxc-markers",t.opacity=1,e._applyMarkerClipRect(t),e._markersGroup.attr(t)},_applyVisibleArea:function(){var e=this,t=e.translators.x.getCanvasVisibleArea(),n=e.translators.y.getCanvasVisibleArea();e._visibleArea={minX:t.min,maxX:t.max,minY:n.min,maxY:n.max}},areErrorBarsVisible:function(){var e=this._options.valueErrorBar;return e&&this._errorBarsEnabled()&&"none"!==e.displayMode&&(i(g(e.type))||p(e.lowValueField)||p(e.highValueField))},_createErrorBarGroup:function(e){var t,n=this,i=n._options.valueErrorBar;n.areErrorBarsVisible()&&(t={"class":"dxc-error-bars",stroke:i.color,"stroke-width":i.lineWidth,opacity:e?.001:i.opacity||1,"stroke-linecap":"square",sharp:!0,clipId:n._forceClipping?n._paneClipRectID:n._widePaneClipRectID},n._createGroup("_errorBarGroup",n,n._group,t))},_setGroupsSettings:function(e){var t=this;t._setMarkerGroupSettings(),t._setLabelGroupSettings(e),t._createErrorBarGroup(e)},_getCreatingPointOptions:function(){var e,t,n=this,i=n._predefinedPointOptions;return i||(e=n._getPointOptions(),n._predefinedPointOptions=i=c(!0,{styles:{}},e),t=e.styles&&e.styles.normal||{},i.styles=i.styles||{},i.styles.normal={"stroke-width":t["stroke-width"],r:t.r,opacity:t.opacity}),i},_getSpecialColor:function(e){return e},_getPointOptions:function(){return this._parsePointOptions(this._preparePointOptions(),this._options.label)},_getOptionsForPoint:function(){return this._options.point},_parsePointStyle:function(e,t,n){var i=e.border||{};return{fill:e.color||t,stroke:i.color||n,"stroke-width":i.visible?i.width:0,r:e.size/2+(i.visible&&0!==e.size?~~(i.width/2)||0:0)}},_createPointStyles:function(e){var t=this,n=e.color||t._options.mainSeriesColor,i=t._options.containerBackgroundColor,r=t._parsePointStyle(e,n,n);return r.visibility=e.visible?"visible":"hidden",{normal:r,hover:t._parsePointStyle(e.hoverStyle,i,n),selection:t._parsePointStyle(e.selectionStyle,i,n)}},_checkData:function(e){return p(e.argument)&&void 0!==e.value},getErrorBarRangeCorrector:function(){var e,t;return this.areErrorBarsVisible()&&(e=g(this._options.valueErrorBar.displayMode),t=function(t){var n=t.lowError,i=t.highError;switch(e){case"low":return[n];case"high":return[i];case"none":return[];default:return[n,i]}}),t},_processRange:function(e,t,n){s.processRange(this,e,t,n)},_getRangeData:function(e,t){return s.calculateRangeData(this,e,t),s.addLabelPaddings(this),this._rangeData},_getPointData:function(e,t){var n={value:e[t.valueField||"val"],argument:e[t.argumentField||"arg"],tag:e[t.tagField||"tag"]};return this._fillErrorBars(e,n,t),n},_errorBarsEnabled:function(){return this.valueAxisType!==M&&this.valueAxisType!==R&&this.valueType!==V},_fillErrorBars:function(e,t,n){var i=n.valueErrorBar;this.areErrorBarsVisible()&&(t.lowError=e[i.lowValueField||T],t.highError=e[i.highValueField||D])},_drawPoint:function(e){var t=e.point;t.isInVisibleArea()?(t.clearVisibility(),t.draw(this._renderer,e.groups,e.hasAnimation,e.firstDrawing),this._drawedPoints.push(t)):t.setInvisibility()},_clearingAnimation:function(e,t){var n=this,i={opacity:.001},r={duration:n._defaultDuration,partitionDuration:.5};n._labelsGroup&&n._labelsGroup.animate(i,r,function(){n._markersGroup&&n._markersGroup.animate(i,r,t)})},_animateComplete:function(){var e=this,t={duration:e._defaultDuration};e._labelsGroup&&e._labelsGroup.animate({opacity:1},t),e._errorBarGroup&&e._errorBarGroup.animate({opacity:e._options.valueErrorBar.opacity||1},t)},_animate:function(){var e=this,t=e._drawedPoints.length-1;u(e._drawedPoints||[],function(n,i){i.animate(n===t?function(){e._animateComplete()}:void 0,{translateX:i.x,translateY:i.y})})},_getPointSize:function(){return this._options.point.visible?this._options.point.size:C},_calcMedianValue:function(e,t){var n,i=m(e,function(e){return p(e[t])?e[t]:null});return i.sort(function(e,t){return e-t}),n=i[v(i.length/2)],p(n)?n:null},_calcErrorBarValues:function(e){if(!e.length)return{};var t,n,i=e[0].lowError,r=e[0].highError,o=1,a=e.length;for(o;a>o;o++)t=e[o].lowError,n=e[o].highError,p(t)&&p(n)&&(i=b(t,i),r=w(n,r));return{low:i,high:r}},_fusionPoints:function(e,t,n){var i=this._calcErrorBarValues(e);return{value:this._calcMedianValue(e,"value"),argument:t,tag:null,index:n,seriesName:this.name,lowError:i.low,highError:i.high}},_endUpdateData:function(){delete this._predefinedPointOptions},getArgumentField:function(){return this._options.argumentField||"arg"},getValueFields:function(){var e,t,n=this._options,i=n.valueErrorBar,r=[n.valueField||"val"];return i&&(e=i.lowValueField,t=i.highValueField,f(e)&&r.push(e),f(t)&&r.push(t)),r},_calculateErrorBars:function(e){if(this.areErrorBarsVisible()){var t,i,o,a,s,l=this,c=l._options,d=c.valueErrorBar,h=g(d.type),f=parseFloat(d.value),_=l.getValueFields()[0],v=d.lowValueField||T,y=d.highValueField||D,b=function(e,n){t=n[_],n[v]=t-f,n[y]=t+f};switch(h){case O:s=b;break;case B:s=function(e,n){t=n[_];var i=t*f/100;n[v]=t-i,n[y]=t+i};break;case P:s=function(e,t){t[v]=t[E+v],t[y]=t[E+y]};break;default:switch(i=m(e,function(e){return p(e[_])?e[_]:null}),o=i.length,f=f||1,h){case I:f=r(i,n(i)/o)*f,s=b;break;case A:a=n(i)/o,f=x(r(i,a))*f,s=function(e,t){t[v]=a-f,t[y]=a+f};break;case $:f=x(r(i,n(i)/o)/o)*f,s=b}}s&&u(e,s)}},_beginUpdateData:function(e){this._calculateErrorBars(e)}};l.scatter=c({},L,{drawTrackers:function(){var t,n,i=this,r=i._segments||[],o=i._options.rotated,a=[];i.isVisible()&&(r.length&&(t=i._trackers=i._trackers||[],n=i._trackersGroup=(i._trackersGroup||i._renderer.g().attr({fill:"gray",opacity:.001,stroke:"gray","class":"dxc-trackers"})).attr({clipId:this._paneClipRectID||null}).append(i._group),u(r,function(e,r){t[e]?i._updateTrackerElement(r,t[e]):t[e]=i._drawTrackerElement(r).data({"chart-data-series":i}).append(n)})),i._trackersTranslator=a,u(i.getVisiblePoints(),function(t,n){var i=parseInt(o?n.vy:n.vx);a[i]?e.isArray(a[i])?a[i].push(n):a[i]=[a[i],n]:a[i]=n}))},getNeighborPoint:function(t,n){var i,r=this._options.rotated?n:t,o=r,a=this._trackersTranslator,s=null,l=this._options.rotated?t:n,c=this._options.rotated?"vx":"vy";if(this.isVisible()&&a){s=a[r];do s=a[o]||a[r],r--,o++;while((r>=0||o<a.length)&&!s);e.isArray(s)&&(i=y(s[0][c]-l),u(s,function(e,t){var n=y(t[c]-l);i>=n&&(i=n,s=t)}))}return s}}),a.mixins.polar.scatter=c({},L,{drawTrackers:function(){l.scatter.drawTrackers.call(this);var e,t=this._trackersTranslator;this.isVisible()&&(u(t,function(t,n){return n?(e=t,!1):void 0}),t[e+360]=t[e])},getNeighborPoint:function(e,t){var n=this.translators.untranslate(e,t);return l.scatter.getNeighborPoint.call(this,n.phi,n.r)},_applyVisibleArea:function(){var e=this,t=e.translators.canvas;e._visibleArea={minX:t.left,maxX:t.width-t.right,minY:t.top,maxY:t.height-t.bottom}}})}(jQuery,DevExpress),function(e,t){function n(e,t,n,i){var r=l.clone(e);return r.x=t,r.y=n,r.angle=i,r}function i(e,t,i,r,o){var a=e.angle+o,s=c.getCosAndSin(a),l=i.x+(e.radius+r*o)*s.cos,u=i.y-(e.radius+r*o)*s.sin;return n(t,l,u,a)}var r=t.viz,o=r.series,a=o.mixins.chart,s=o.mixins.polar,l=t.require("/utils/utils.object"),u=a.scatter,c=t.require("/utils/utils.math"),d=c.normalizeAngle,h="canvas_position_start",p="canvas_position_top",f="discrete",m=r.utils.map,g=e.extend,_=e.each,v={_applyGroupSettings:function(e,t,n){var i=this;t=g(t,e),i._applyElementsClipRect(t),n.attr(t)},_setGroupsSettings:function(e){var t=this,n=t._styles.normal;t._applyGroupSettings(n.elements,{"class":"dxc-elements"},t._elementsGroup),t._bordersGroup&&t._applyGroupSettings(n.border,{"class":"dxc-borders"},t._bordersGroup),u._setGroupsSettings.call(t,e),e&&t._markersGroup&&t._markersGroup.attr({opacity:.001})},_createGroups:function(){var e=this;e._createGroup("_elementsGroup",e,e._group),e._areBordersVisible()&&e._createGroup("_bordersGroup",e,e._group),u._createGroups.call(e)},_areBordersVisible:function(){return!1},_getDefaultSegment:function(e){return{line:m(e.line||[],function(e){return e.getDefaultCoords()})}},_prepareSegment:function(e){return{line:e}},_parseLineOptions:function(e,t){return{stroke:e.color||t,"stroke-width":e.width,dashStyle:e.dashStyle||"solid"}},_parseStyle:function(e,t){return{elements:this._parseLineOptions(e,t)}},_applyStyle:function(e){var t=this;t._elementsGroup&&t._elementsGroup.attr(e.elements),_(t._graphics||[],function(t,n){n.line&&n.line.attr({"stroke-width":e.elements["stroke-width"]}).sharp()})},_drawElement:function(e,t){return{line:this._createMainElement(e.line,{"stroke-width":this._styles.normal.elements["stroke-width"]}).append(t)}},_removeElement:function(e){e.line.remove()},_generateDefaultSegments:function(){var e=this;return m(e._segments||[],function(t){return e._getDefaultSegment(t)})},_updateElement:function(e,t,n,i,r){var o={points:t.line},a=e.line;n?a.animate(o,i,r):a.attr(o)},_clearingAnimation:function(e,t){var n=this,i=n._graphics.length-1,r={opacity:.001},o={duration:n._defaultDuration,partitionDuration:.5};n._labelsGroup&&n._labelsGroup.animate(r,o,function(){n._markersGroup&&n._markersGroup.animate(r,o,function(){_(n._defaultSegments||[],function(e,r){n._oldUpdateElement(n._graphics[e],r,!0,{partitionDuration:.5},e===i?t:void 0)})})})},_animateComplete:function(){var e=this;u._animateComplete.call(this),e._markersGroup&&e._markersGroup.animate({opacity:1},{duration:e._defaultDuration})},_animate:function(){var e=this,t=e._graphics.length-1;_(e._graphics||[],function(n,i){e._updateElement(i,e._segments[n],!0,{complete:n===t?function(){e._animateComplete()}:void 0})})},_drawPoint:function(e){u._drawPoint.call(this,{point:e.point,groups:e.groups})},_createMainElement:function(e,t){return this._renderer.path(e,"line").attr(t).sharp()},_drawSegment:function(e,t,n,i){var r=this,o=r._prepareSegment(e,r._options.rotated,i);r._segments.push(o),r._graphics[n]?t||r._updateElement(r._graphics[n],o):r._graphics[n]=r._drawElement(t?r._getDefaultSegment(o):o,r._elementsGroup)},_getTrackerSettings:function(){var e=this,t=e._defaultTrackerWidth,n=e._styles.normal.elements["stroke-width"];return{"stroke-width":n>t?n:t,fill:"none"}},_getMainPointsFromSegment:function(e){return e.line},_drawTrackerElement:function(e){return this._createMainElement(this._getMainPointsFromSegment(e),this._getTrackerSettings(e))},_updateTrackerElement:function(e,t){var n=this._getTrackerSettings(e);n.points=this._getMainPointsFromSegment(e),t.attr(n)}};a.line=g({},u,v),a.stepline=g({},a.line,{_calculateStepLinePoints:function(e){var t=[];return _(e,function(e,n){var i,r;return e?(i=t[t.length-1].y,i!==n.y&&(r=l.clone(n),r.y=i,t.push(r)),t.push(n),void 0):void t.push(n)}),t},_prepareSegment:function(e){return a.line._prepareSegment(this._calculateStepLinePoints(e))}}),a.spline=g({},a.line,{_calculateBezierPoints:function(e,t){var i=[],r=e,o=function(e,t,n){return e>t&&n>e||t>e&&e>n?e:n};return 1!==r.length?_(r,function(e,a){var s,l,u,c,d,h,p,f,m,g,_,v,y,x,b,w,C,S,k,D,T,E=.5;return e?(d=r[e-1],e<r.length-1?(h=r[e+1],p=a.x,f=a.y,m=d.x,g=h.x,_=d.y,v=h.y,y=!!(!t&&(f<=d.y&&f<=h.y||f>=d.y&&f>=h.y)||t&&(p<=d.x&&p<=h.x||p>=d.x&&p>=h.x)),y?t?(u=s=p,c=(f+h.y)/2,l=(f+d.y)/2):(c=l=f,u=(p+h.x)/2,s=(p+d.x)/2):(w=v-_,C=m-g,S=_*g-m*v,t?(D=f,k=-1*(C*D+S)/w,T=k-p||0,m-=T,g-=T):(k=p,D=-1*(w*k+S)/C,T=D-f||0,_-=T,v-=T),u=(p+E*g)/(1+E),c=(f+E*v)/(1+E),s=(p+E*m)/(1+E),l=(f+E*_)/(1+E)),t?(s=o(d.x,p,s),u=o(h.x,p,u)):(l=o(d.y,f,l),c=o(h.y,f,c)),x=n(a,s,l),b=n(a,u,c),i.push(x,a,b),void 0):void i.push(a,a)):(i.push(a),void i.push(a))}):i.push(r[0]),i},_prepareSegment:function(e,t){return a.line._prepareSegment(this._calculateBezierPoints(e,t))},_createMainElement:function(e,t){return this._renderer.path(e,"bezier").attr(t).sharp()}}),s.line=g({},s.scatter,v,{_prepareSegment:function(e,t,n){var i,r=[],o=this.translators.translate(h,p);if(n&&this._closeSegment(e),this.argumentAxisType===f||this.valueAxisType===f)return a.line._prepareSegment.apply(this,arguments);for(i=1;i<e.length;i++)r=r.concat(this._getTangentPoints(e[i],e[i-1],o));return r.length||(r=e),{line:r}},_getRemainingAngle:function(e){var t=d(e);return e>=0?360-t:-t},_closeSegment:function(e){var t,i;t=this._segments.length?this._segments[0].line[0]:n(e[0],e[0].x,e[0].y,e[0].angle),e[e.length-1].angle!==t.angle&&(d(Math.round(e[e.length-1].angle))===d(Math.round(t.angle))?t.angle=e[e.length-1].angle:(i=e[e.length-1].angle-t.angle,t.angle=e[e.length-1].angle+this._getRemainingAngle(i)),e.push(t))},_getTangentPoints:function(e,t,n){var r,o=[],a=Math.round(t.angle-e.angle),s=(t.radius-e.radius)/a;if(0===a)o=[t,e];else if(a>0)for(r=a;r>=0;r--)o.push(i(e,t,n,s,r));else for(r=0;r>=a;r--)o.push(i(e,t,n,s,a-r));return o}})}(jQuery,DevExpress),function(e,t){var n=t.viz,i=t.require("/utils/utils.object"),r=t.require("/utils/utils.common"),o=t.require("/color"),a=n.series,s=a.mixins.chart,l=a.mixins.polar,u=s.line,c=n.series.helpers.rangeDataCalculator,d=n.utils.map,h=e.extend,p=20,f={_createBorderElement:u._createMainElement,_createLegendState:function(e,t){var n=s.scatter._createLegendState.call(this,e,t);return n.opacity=e.opacity,n},_getSpecialColor:function(e){return this._options._IE8?new o(e).highlight(p):e},_getRangeData:function(e,t){return c.calculateRangeData(this,e,t),c.addLabelPaddings(this),c.calculateRangeMinValue(this,e),this._rangeData},_getDefaultSegment:function(e){var t=u._getDefaultSegment(e);return t.area=t.line.concat(t.line.slice().reverse()),t},_updateElement:function(e,t,n,i,r){var o={points:t.line},a={points:t.area},s=e.line;n?(s&&s.animate(o,i),e.area.animate(a,i,r)):(s&&s.attr(o),e.area.attr(a))},_removeElement:function(e){e.line&&e.line.remove(),e.area.remove()},_drawElement:function(e){return{line:this._bordersGroup&&this._createBorderElement(e.line,{"stroke-width":this._styles.normal.border["stroke-width"]}).append(this._bordersGroup),area:this._createMainElement(e.area).append(this._elementsGroup)}},_applyStyle:function(t){var n=this;n._elementsGroup&&n._elementsGroup.attr(t.elements),n._bordersGroup&&n._bordersGroup.attr(t.border),e.each(n._graphics||[],function(e,n){n.line&&n.line.attr({"stroke-width":t.border["stroke-width"]}).sharp()})},_createPattern:function(e,t){if(t&&r.isObject(t)){var n=this._renderer.pattern(e,t);return this._patterns.push(n),n.id}return e},_parseStyle:function(e,t,n){var i=e.border||{},r=u._parseLineOptions(i,n);return r["stroke-width"]=i.visible?r["stroke-width"]:0,{border:r,elements:{stroke:"none",fill:this._createPattern(e.color||t,e.hatching),opacity:e.opacity}}},_areBordersVisible:function(){var e=this._options;return e.border.visible||e.hoverStyle.border.visible||e.selectionStyle.border.visible},_createMainElement:function(e,t){return this._renderer.path(e,"area").attr(t)},_getTrackerSettings:function(e){return{"stroke-width":e.singlePointSegment?this._defaultTrackerWidth:0}},_getMainPointsFromSegment:function(e){return e.area}};s.area=h({},u,f,{_prepareSegment:function(e,t){var n=this._processSinglePointsAreaSegment(e,t);return{line:n,area:d(n,function(e){return e.getCoords()}).concat(d(n.slice().reverse(),function(e){return e.getCoords(!0)})),singlePointSegment:n!==e}},_processSinglePointsAreaSegment:function(e,t){if(1===e.length){var n=e[0],r=i.clone(n);return r[t?"y":"x"]+=1,r.argument=null,[n,r]}return e}}),l.area=h({},l.line,f,{_prepareSegment:function(e,t,n){return n&&l.line._closeSegment.call(this,e),s.area._prepareSegment.call(this,e)},_processSinglePointsAreaSegment:function(e){return l.line._prepareSegment.call(this,e).line}}),s.steparea=h({},s.area,{_prepareSegment:function(e,t){return e=s.area._processSinglePointsAreaSegment(e,t),s.area._prepareSegment.call(this,s.stepline._calculateStepLinePoints(e))}}),s.splinearea=h({},s.area,{_areaPointsToSplineAreaPoints:function(e){var t=e[e.length/2-1],n=e[e.length/2];e.splice(e.length/2,0,{x:t.x,y:t.y},{x:n.x,y:n.y})},_prepareSegment:function(e,t){var n=s.area,i=n._processSinglePointsAreaSegment(e,t),r=n._prepareSegment.call(this,s.spline._calculateBezierPoints(i,t));return this._areaPointsToSplineAreaPoints(r.area),r.singlePointSegment=i!==e,r},_getDefaultSegment:function(e){var t=s.area._getDefaultSegment(e);return this._areaPointsToSplineAreaPoints(t.area),t},_createMainElement:function(e,t){return this._renderer.path(e,"bezierarea").attr(t)},_createBorderElement:s.spline._createMainElement})}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.series,r=i.mixins.chart,o=i.mixins.polar,a=r.scatter,s=r.area,l=e.extend,u=e.each,c=3,d={_getSpecialColor:s._getSpecialColor,_createPattern:s._createPattern,_updateOptions:function(e){this._stackName="axis_"+(e.axis||"default")+"_stack_"+(e.stack||"default")},_parsePointStyle:function(e,t,n){var i=this._createPattern(e.color||t,e.hatching),r=a._parsePointStyle.call(this,e,i,n);return r.fill=i,r.dashStyle=e.border&&e.border.dashStyle||"solid",delete r.r,r},_applyMarkerClipRect:function(e){e.clipId=null},_clearingAnimation:function(e,t){var n=this,i=n._oldgetAffineCoordOptions(e)||n._getAffineCoordOptions(e);n._labelsGroup&&n._labelsGroup.animate({opacity:.001},{duration:n._defaultDuration,partitionDuration:.5},function(){n._markersGroup.animate(i,{partitionDuration:.5},function(){n._markersGroup.attr({scaleX:null,scaleY:null,translateX:0,translateY:0}),t()})})},_setGroupsSettings:function(e,t){var n=this,i={};a._setGroupsSettings.apply(n,arguments),e&&t?i=this._getAffineCoordOptions(n.translators,!0):e||(i={scaleX:1,scaleY:1,translateX:0,translateY:0}),n._markersGroup.attr(i)},_drawPoint:function(e){e.hasAnimation=e.hasAnimation&&!e.firstDrawing,e.firstDrawing=!1,a._drawPoint.call(this,e)},_getMainColor:function(){return this._options.mainSeriesColor},_createPointStyles:function(e){var t=this,n=e.color||t._getMainColor(),i=t._getSpecialColor(n);return{normal:t._parsePointStyle(e,n,n),hover:t._parsePointStyle(e.hoverStyle||{},i,n),selection:t._parsePointStyle(e.selectionStyle||{},i,n)}},_updatePointsVisibility:function(){var t=this._options.visible;e.each(this._points,function(e,n){n._options.visible=t})},_getOptionsForPoint:function(){return this._options},_animate:function(e){var t=this,n=function(){t._animateComplete()},i=function(e,t){var n=e.length-1;u(e||[],function(e,i){i.animate(e===n?t:void 0,i.getMarkerCoords())})};t._animatePoints(e,n,i)},_getPointSize:function(){return c},_beginUpdateData:function(e){a._beginUpdateData.call(this,e),this._deletePatterns()}};r.bar=l({},a,d,{_getAffineCoordOptions:function(e){var t=this._options.rotated,n=t?"x":"y",i={scaleX:t?.001:1,scaleY:t?1:.001};return i["translate"+n.toUpperCase()]=e[n].translate("canvas_position_default"),i},_getRangeData:function(){var e=s._getRangeData.apply(this,arguments);return e.arg.stick=!1,e},_animatePoints:function(e,t,n){var i=this;i._markersGroup.animate({scaleX:1,scaleY:1,translateY:0,translateX:0},void 0,t),e||n(i._drawedPoints,t)}}),o.bar=l({},o.scatter,d,{_animatePoints:function(e,t,n){n(this._drawedPoints,t)},_setGroupsSettings:a._setGroupsSettings,_drawPoint:function(e,t,n){a._drawPoint.call(this,e,t,n)},_parsePointStyle:function(e){var t=d._parsePointStyle.apply(this,arguments);return t.opacity=e.opacity,t},_createGroups:a._createGroups,_setMarkerGroupSettings:function(){var e,t=this,n=t._createPointStyles(t._getMarkerGroupOptions()).normal;n["class"]="dxc-markers",t._applyMarkerClipRect(n),e=l({},n),delete e.opacity,t._markersGroup.attr(e)},_createLegendState:s._createLegendState,_getRangeData:s._getRangeData})}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.series.mixins.chart,r=t.require("/utils/utils.common"),o=e.extend,a=r.isDefined,s=n.utils.map,l=e.noop,u=n.series.helpers.rangeDataCalculator,c=i.area,d={_beginUpdateData:l,areErrorBarsVisible:l,_createErrorBarGroup:l,_checkData:function(e){return a(e.argument)&&void 0!==e.value&&void 0!==e.minValue},updateTeamplateFieldNames:function(){var e=this,t=e._options,n=e.getValueFields(),i=e.name;t.rangeValue1Field=n[0]+i,t.rangeValue2Field=n[1]+i,t.tagField=e.getTagField()+i},_processRange:function(e,t){u.processTwoValues(this,e,t,"value","minValue")},_getRangeData:function(e,t){return u.calculateRangeData(this,e,t,"value","minValue"),u.addRangeSeriesLabelPaddings(this),this._rangeData},_getPointData:function(e,t){return{tag:e[t.tagField||"tag"],minValue:e[t.rangeValue1Field||"val1"],value:e[t.rangeValue2Field||"val2"],argument:e[t.argumentField||"arg"]}},_fusionPoints:function(e,t){var n=i.scatter._calcMedianValue,r=n.call(this,e,"value"),o=n.call(this,e,"minValue");return(null===r||null===o)&&(r=o=null),{minValue:o,value:r,argument:t,tag:null}},getValueFields:function(){return[this._options.rangeValue1Field||"val1",this._options.rangeValue2Field||"val2"]}};i.rangebar=o({},i.bar,d),i.rangearea=o({},c,{_drawPoint:function(e){var t=e.point;t.isInVisibleArea()?(t.clearVisibility(),t.draw(this._renderer,e.groups),this._drawedPoints.push(t),t.visibleTopMarker||t.hideMarker("top"),t.visibleBottomMarker||t.hideMarker("bottom")):t.setInvisibility()},_prepareSegment:function(e,t){var n=this._processSinglePointsAreaSegment(e,t),i=s(n,function(e){return e.getCoords(!0)});return{line:n,bottomLine:i,area:s(n,function(e){return e.getCoords()}).concat(i.slice().reverse()),singlePointSegment:n!==e}},_getDefaultSegment:function(e){var t=c._getDefaultSegment.call(this,e);return t.bottomLine=t.line,t},_removeElement:function(e){c._removeElement.call(this,e),e.bottomLine&&e.bottomLine.remove()},_drawElement:function(e,t){var n=this,i=c._drawElement.call(n,e,t);return i.bottomLine=n._bordersGroup&&n._createBorderElement(e.bottomLine,{"stroke-width":n._styles.normal.border["stroke-width"]}).append(n._bordersGroup),i},_applyStyle:function(t){var n=this,i=n._elementsGroup,r=n._bordersGroup;i&&i.attr(t.elements),r&&r.attr(t.border),e.each(n._graphics||[],function(e,n){n.line&&n.line.attr({"stroke-width":t.border["stroke-width"]}),n.bottomLine&&n.bottomLine.attr({"stroke-width":t.border["stroke-width"]})})},_updateElement:function(e,t,n,i,r){c._updateElement.call(this,e,t,n,i,r);var o={points:t.bottomLine},a=e.bottomLine;a&&(n?a.animate(o,i):a.attr(o))}},d)}(jQuery,DevExpress),function(e,t){var n=t.viz.series.mixins,i=n.chart,r=i.scatter,o=i.bar,a=t.require("/utils/utils.common"),s=a.isDefined,l=e.extend,u=e.each,c=e.noop;i.bubble=l({},r,{_fillErrorBars:c,getErrorBarRangeCorrector:c,_calculateErrorBars:c,_getMainColor:o._getMainColor,_createPointStyles:o._createPointStyles,_createPattern:o._createPattern,_updatePointsVisibility:o._updatePointsVisibility,_getOptionsForPoint:o._getOptionsForPoint,_getSpecialColor:o._getSpecialColor,_applyMarkerClipRect:i.line._applyElementsClipRect,_parsePointStyle:n.polar.bar._parsePointStyle,_createLegendState:i.area._createLegendState,_setMarkerGroupSettings:n.polar.bar._setMarkerGroupSettings,areErrorBarsVisible:c,_createErrorBarGroup:c,_checkData:function(e){return s(e.argument)&&s(e.size)&&void 0!==e.value},_getPointData:function(e,t){var n=r._getPointData.call(this,e,t);return n.size=e[t.sizeField||"size"],n},_fusionPoints:function(e,t){var n=r._calcMedianValue;return{size:n.call(this,e,"size"),value:n.call(this,e,"value"),argument:t,tag:null}},getValueFields:function(){return[this._options.valueField||"val"]},getSizeField:function(){return this._options.sizeField||"size"},updateTeamplateFieldNames:function(){var e=this,t=e._options,n=e.name;t.valueField=e.getValueFields()[0]+n,t.sizeField=e.getSizeField()+n,t.tagField=e.getTagField()+n},_clearingAnimation:function(e,t){var n=this,i=.5,r=n._drawedPoints.length-1,o=n._labelsGroup;o&&o.animate({opacity:.001},{duration:n._defaultDuration,partitionDuration:i},function(){u(n._drawedPoints||[],function(e,n){n.animate(e===r?t:void 0,{r:0},i)})})},_animate:function(){var e=this,t=e._drawedPoints.length-1,n=e._labelsGroup,i=function(){n&&n.animate({opacity:1},{duration:e._defaultDuration})};u(e._drawedPoints||[],function(e,n){n.animate(e===t?i:void 0,{r:n.bubbleSize,translateX:n.x,translateY:n.y})})},_beginUpdateData:o._beginUpdateData})}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.series.mixins,r=i.pie,o=t.require("/utils/utils.math"),a=i.chart.scatter,s=i.chart.bar,l=e.extend,u=e.each,c=e.noop,d=n.utils.map,h=isFinite,p=Math.max,f="inside";r.pie=l({},s,{_setGroupsSettings:a._setGroupsSettings,_createErrorBarGroup:c,_drawPoint:function(e){var t=e.point,n=e.legendCallback;a._drawPoint.call(this,e),t.isVisible()||t.setInvisibility(),n&&t.isSelected()&&n(t)("applySelected")},adjustLabels:function(){var e,t=this,n=t._points||[],i=[];u(n,function(e,t){t._label.isVisible()&&(t.setLabelTrackerData(),t._label.getLayoutOptions().position!==f&&(t.setLabelEllipsis(),i.push(t._label.getBoundingRect().width)))}),i.length&&(e=p.apply(null,i)),u(n,function(t,n){n._label.isVisible()&&n._label.getLayoutOptions().position!==f&&(n.setMaxLabelLength(e),n.updateLabelCoord())})},_processRange:c,_applyElementsClipRect:c,getColor:c,areErrorBarsVisible:c,_prepareSeriesToDrawing:c,_endUpdateData:function(){this._arrayArguments={},a._prepareSeriesToDrawing.call(this)},drawLabelsWOPoints:function(e){var t=this,n=t._options,i=t._points||[];return n.label.position===f?!1:(t._labelsGroup.append(t._extGroups.labelsGroup),u(i,function(t,n){n.drawLabel(e)}),!0)},_getCreatingPointOptions:function(e){return this._getPointOptions(e)},_updateOptions:function(e){this.labelSpace=0,this.innerRadius="pie"===this.type?0:e.innerRadius},_checkData:function(e){var t=s._checkData(e);return this._options.paintNullPoints?t:t&&null!==e.value},_createGroups:a._createGroups,_setMarkerGroupSettings:function(){var e=this;e._markersGroup.attr({"class":"dxc-markers"})},_getMainColor:function(e){var t=this,n=t._arrayArguments||{},i=e.argument;return n[i]=++n[i]||0,t._arrayArguments=n,t._options.mainSeriesColor(i,n[i])},_getPointOptions:function(e){return this._parsePointOptions(this._preparePointOptions(),this._options.label,e)},_getRangeData:function(){return this._rangeData},_getArrangeTotal:function(e){var t=0;return u(e,function(e,n){n.isVisible()&&(t+=n.initialValue)}),t},_createPointStyles:function(e,t){var n=this,i=e.color||n._getMainColor(t),r=n._getSpecialColor(i);return{normal:n._parsePointStyle(e,i,i),hover:n._parsePointStyle(e.hoverStyle,r,i),selection:n._parsePointStyle(e.selectionStyle,r,i),legendStyles:{normal:n._createLegendState(e,i),hover:n._createLegendState(e.hoverStyle,r),selection:n._createLegendState(e.selectionStyle,r)}}},_getArrangeMinShownValue:function(e,t){var n=this._options.minSegmentSize,i=0,r=0;return t=t||e.length,u(e,function(e,o){o.isVisible()&&(o.initialValue<n*t/360?i+=n:r+=o.initialValue)}),360>i?n*r/(360-i):0},_applyArrangeCorrection:function(e,t,n){var i,r=this._options,a="anticlockwise"!==r.segmentsDirection,s=h(r.startAngle)?o.normalizeAngle(r.startAngle):0,l=r.minSegmentSize,c=0,d=0;0===n&&(n=e.length,d=1),u(a?e:e.concat([]).reverse(),function(e,r){var o,a=r.isVisible()?d||r.initialValue:0;l&&r.isVisible()&&t>a&&(o=t),i=a/n,r.correctValue(c,i,d+(o||0)),r.shiftedAngle=s,c+=o||a}),this._rangeData={val:{min:0,max:c}}},arrangePoints:function(){for(var e,t,n,i=this,r=i._originalPoints||[],o=i._options.minSegmentSize,a=!0,s=0,l=r.length;l>s&&a;)a=r[s].value<=0,s++;n=i._originalPoints=i._points=d(r,function(e){return null===e.value||!a&&e.value<0?(e.dispose(),null):e}),t=i._getArrangeTotal(n),o&&(e=this._getArrangeMinShownValue(n,t)),i._applyArrangeCorrection(n,e,t)},correctPosition:function(e){u(this._points,function(t,n){n.correctPosition(e)}),this.setVisibleArea(e.canvas)},correctRadius:function(e){u(this._points,function(t,n){n.correctRadius(e)})},correctLabelRadius:function(e){u(this._points,function(t,n){n.correctLabelRadius(e)})},setVisibleArea:function(e){this._visibleArea={minX:e.left,maxX:e.width-e.right,minY:e.top,maxY:e.height-e.bottom}},_applyVisibleArea:c,_animate:function(t){var n=this,i=0,r=.2,o=n._points,a=o&&o.length,s=1/(r*(a-1)+1),l=function(){n._animateComplete()},u=function(){o[i]&&o[i].animate(i===a-1?l:void 0,s,c),i++},c=function(e,t){t>=r&&(this.step=null,u())};t?u():e.each(o,function(e,t){t.animate(e===a-1?l:void 0)})},getVisiblePoints:function(){return d(this._points,function(e){return e.isVisible()?e:null})},_beginUpdateData:function(){this._deletePatterns()}}),r.doughnut=r.donut=r.pie}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.series,r=i.mixins.chart,o=r.scatter,a=r.bar,s=i.helpers.rangeDataCalculator,l=t.require("/utils/utils.common"),u=l.isDefined,c=t.viz.utils.normalizeEnum,d=e.extend,h=e.each,p=e.noop,f=10;r.stock=d({},o,{_animate:p,
_applyMarkerClipRect:function(e){e.clipId=this._forceClipping?this._paneClipRectID:this._widePaneClipRectID},_updatePointsVisibility:a._updatePointsVisibility,_getOptionsForPoint:a._getOptionsForPoint,getErrorBarRangeCorrector:p,_createErrorBarGroup:p,areErrorBarsVisible:p,_createGroups:o._createGroups,_setMarkerGroupSettings:function(){var e=this,t=e._markersGroup,n=e._createPointStyles(e._getMarkerGroupOptions()),i=d(n.normal,{"class":"default-markers"}),r=d(n.positive.normal,{"class":"default-positive-markers"}),o=d(n.reduction.normal,{"class":"reduction-markers"}),a=d(n.reductionPositive.normal,{"class":"reduction-positive-markers"}),s={"class":"dxc-markers"};e._applyMarkerClipRect(s),t.attr(s),e._createGroup("defaultMarkersGroup",t,t,i),e._createGroup("reductionMarkersGroup",t,t,o),e._createGroup("defaultPositiveMarkersGroup",t,t,r),e._createGroup("reductionPositiveMarkersGroup",t,t,a)},_setGroupsSettings:function(){o._setGroupsSettings.call(this,!1)},_clearingAnimation:function(e,t){t()},_getCreatingPointOptions:function(){var e,t=this,n=t._predefinedPointOptions;return n||(e=this._getPointOptions(),t._predefinedPointOptions=n=d(!0,{styles:{}},e),n.styles.normal=n.styles.positive.normal=n.styles.reduction.normal=n.styles.reductionPositive.normal={"stroke-width":e.styles&&e.styles.normal&&e.styles.normal["stroke-width"]}),n},_checkData:function(e){return u(e.argument)&&void 0!==e.highValue&&void 0!==e.lowValue&&void 0!==e.openValue&&void 0!==e.closeValue},_processRange:function(e,t){s.processTwoValues(this,e,t,"highValue","lowValue")},_getRangeData:function(e,t){return s.calculateRangeData(this,e,t,"highValue","lowValue"),s.addRangeSeriesLabelPaddings(this),this._rangeData},_getPointData:function(e,t){var n,i,r=this,o=t.openValueField||"open",a=t.closeValueField||"close",s=t.highValueField||"high",l=t.lowValueField||"low";switch(r.level=t.reduction.level,c(r.level)){case"open":n=o;break;case"high":n=s;break;case"low":n=l;break;default:n=a,r.level="close"}return i=e[n],{argument:e[t.argumentField||"date"],highValue:e[s],lowValue:e[l],closeValue:e[a],openValue:e[o],reductionValue:i,tag:e[t.tagField||"tag"],isReduction:r._checkReduction(i)}},_parsePointStyle:function(e,t,n){return{stroke:e.color||t,"stroke-width":e.width,fill:e.color||n}},updateTeamplateFieldNames:function(){var e=this,t=e._options,n=e.getValueFields(),i=e.name;t.openValueField=n[0]+i,t.highValueField=n[1]+i,t.lowValueField=n[2]+i,t.closeValueField=n[3]+i,t.tagField=e.getTagField()+i},_getDefaultStyle:function(e){var t=this,n=e.color||t._options.mainSeriesColor;return{normal:t._parsePointStyle(e,n,n),hover:t._parsePointStyle(e.hoverStyle,n,n),selection:t._parsePointStyle(e.selectionStyle,n,n)}},_getReductionStyle:function(e){var t=this,n=e.reduction.color;return{normal:t._parsePointStyle({color:n,width:e.width,hatching:e.hatching},n,n),hover:t._parsePointStyle(e.hoverStyle,n,n),selection:t._parsePointStyle(e.selectionStyle,n,n)}},_createPointStyles:function(e){var t,n,i,r=this,o=r._options.innerColor,a=r._getDefaultStyle(e);return t=d(!0,{},a),n=r._getReductionStyle(e),i=d(!0,{},n),t.normal.fill=t.hover.fill=t.selection.fill=o,i.normal.fill=i.hover.fill=i.selection.fill=o,a.positive=t,a.reduction=n,a.reductionPositive=i,a},_endUpdateData:function(){delete this.prevLevelValue,delete this._predefinedPointOptions},_checkReduction:function(e){var t=this,n=!1;return null!==e&&(u(t.prevLevelValue)&&(n=e<t.prevLevelValue),t.prevLevelValue=e),n},_fusionPoints:function(e,t){var n,i,r,o={},a=-(1/0),s=+(1/0);if(!e.length)return{};switch(h(e,function(e,t){t.hasValue()&&(a=Math.max(a,t.highValue),s=Math.min(s,t.lowValue),i=void 0!==i?i:t.openValue,r=void 0!==t.closeValue?t.closeValue:r)}),o.argument=t,o.openValue=i,o.closeValue=r,o.highValue=a,o.lowValue=s,o.tag=null,c(this.level)){case"open":n=i;break;case"high":n=a;break;case"low":n=s;break;default:n=r}return o.reductionValue=n,o.isReduction=this._checkReduction(n),o},_getPointSize:function(){return f},getValueFields:function(){var e=this._options;return[e.openValueField||"open",e.highValueField||"high",e.lowValueField||"low",e.closeValueField||"close"]},getArgumentField:function(){return this._options.argumentField||"date"},_beginUpdateData:p}),r.candlestick=d({},r.stock,{_createPattern:a._createPattern,_beginUpdateData:a._beginUpdateData,_parsePointStyle:function(e,t,n){var i=this._createPattern(e.color||n,e.hatching),o=r.stock._parsePointStyle.call(this,e,t,i);return o.fill=i,o}})}(jQuery,DevExpress),function(e,t){function n(e,t,n,i){return e=f.clone(e),e.value=t,e.minValue=n,e.translate(),e.argument=e.argument+i,e}function i(e){for(var t,i,r=0,o=[],a=e.length;a>r;)t=e[r],i=[t],t.leftHole&&(i=[n(t,t.leftHole,t.minLeftHole,"left"),t]),t.rightHole&&i.push(n(t,t.rightHole,t.minRightHole,"right")),o.push(i),r++;return[].concat.apply([],o)}function r(e,t){for(var n;!n&&e;)n=e._segmentByArg&&e._segmentByArg[t],e=e._prevSeries;return n}var o=t.viz,a=o.series,s=a.mixins.chart,l=a.mixins.polar,u=s.area,c=s.bar,d=s.line,h=o.series.helpers.rangeDataCalculator,p=e.extend,f=t.require("/utils/utils.object"),m=e.noop,g={_processRange:m,getErrorBarRangeCorrector:m,_fillErrorBars:m,_calculateErrorBars:m,_processStackedRange:function(){var t,n=this;n._resetRangeData(),e.each(n.getAllPoints(),function(e,i){h.processRange(n,i,t),t=i})},_getRangeData:function(){return this._processStackedRange(),u._getRangeData.apply(this,arguments)}},_=p({},g,{_getRangeData:function(e,t){var n=this;return n._processStackedRange(),h.calculateRangeData(n,e,t),h.addLabelPaddings(n),h.processFullStackedRange(n),h.calculateRangeMinValue(n,e),n._rangeData},isFullStackedSeries:function(){return!0}});s.stackedline=p({},d,g,{_getRangeData:function(){return this._processStackedRange(),d._getRangeData.apply(this,arguments)}}),s.stackedspline=p({},s.spline,g,{_getRangeData:s.stackedline._getRangeData}),s.fullstackedline=p({},d,_,{_getRangeData:function(e,t){var n=this;return n._processStackedRange(),h.calculateRangeData(n,e,t),h.addLabelPaddings(n),h.processFullStackedRange(n),n._rangeData}}),s.fullstackedspline=p({},s.spline,_,{_getRangeData:s.fullstackedline._getRangeData}),s.stackedbar=p({},c,g,{_getRangeData:function(){return this._processStackedRange(),c._getRangeData.apply(this,arguments)}}),s.fullstackedbar=p({},c,_,{_getRangeData:function(){var e=_._getRangeData.apply(this,arguments);return e.arg.stick=!1,e}}),s.stackedarea=p({},u,g,{_prepareSegment:function(e,t){return u._prepareSegment.call(this,i(e,this._prevSeries),t)}}),s.stackedsplinearea=p({},s.splinearea,g,{_prepareSegment:function(t,n){var a,l=this;if(t=i(t,l._prevSeries),this._prevSeries&&1!==t.length){for(var u=s.spline._calculateBezierPoints(t,n),c=o.utils.map(t,function(e){var t=e.getCoords(!0);return t.argument=e.argument,t}),d=[],h={},p=0,f=l._prevSeries._segments.length;f>p;)d=d.concat(l._prevSeries._segments[p].line),p++;e.each(d,function(e,t){if(null!==t.argument){var n=t.argument.valueOf();h[n]?h[n].push(t):h[n]=[t]}}),l._prevSeries._segmentByArg=h,c=s.spline._calculateBezierPoints(c,n),e.each(c,function(e,t){var n,i=t.argument.valueOf();e%3==0&&(n=h[i]||r(l._prevSeries,i),n&&(c[e-1]&&n[0]&&(c[e-1]=n[0]),c[e+1]&&(c[e+1]=n[2]||t)))}),a={line:u,area:u.concat(c.reverse())},l._areaPointsToSplineAreaPoints(a.area)}else a=s.splinearea._prepareSegment.call(this,t,n);return a}}),s.fullstackedarea=p({},u,_,{_prepareSegment:s.stackedarea._prepareSegment}),s.fullstackedsplinearea=p({},s.splinearea,_,{_prepareSegment:s.stackedsplinearea._prepareSegment}),l.stackedbar=p({},l.bar,g,{_getRangeData:function(){return this._processStackedRange(),l.bar._getRangeData.apply(this,arguments)}})}(jQuery,DevExpress),function(e,t){function n(e,t,n){this.fullState=o.normalMark,this.series=e,this.update(t,n),this._emptySettings={fill:null,stroke:null,dashStyle:null}}t.viz.series.points={};var i=t.viz.series,r=i.points,o=i.helpers.consts.states,a=e.each,s=e.extend,l=t.require("/utils/utils.common"),u=l.isDefined,c=i.mixins,d=e.noop;i.points.Point=n,n.prototype={constructor:n,getColor:function(){return this._styles.normal.fill||this.series.getColor()},_getStyle:function(){return this._styles[this._currentStyle||"normal"]},update:function(e,t){this.updateOptions(t),this.updateData(e)},updateData:function(e){var t=this;t.argument=t.initialArgument=t.originalArgument=e.argument,t.tag=e.tag,t.index=e.index,t.lowError=e.lowError,t.highError=e.highError,t._updateData(e),t.hasValue()||t.setInvisibility(),t._fillStyle(),t._updateLabelData()},deleteMarker:function(){var e=this;e.graphic&&e.graphic.dispose(),e.graphic=null},_drawErrorBar:d,draw:function(e,t,n,i){var r=this;return r._needDeletingOnDraw&&(r.deleteMarker(),r._needDeletingOnDraw=!1),r._needClearingOnDraw&&(r.clearMarker(),r._needClearingOnDraw=!1),r._hasGraphic()?r._updateMarker(n,void 0,t.markers):r._getMarkerVisibility()&&r._drawMarker(e,t.markers,n,i),r._drawLabel(),r._drawErrorBar(e,t.errorBars,n),r},applyStyle:function(e){var t=this;if(t._currentStyle=e,t.graphic){if("normal"===e){if(t.isHovered())return void t.applyStyle("hover");t.clearMarker()}else t.graphic.toForeground();t._updateMarker(!0,t._styles[e])}return t},releaseHoverState:function(){var e=this;e.graphic&&!e.isSelected()&&e.graphic.toBackground()},select:function(){this.series.selectPoint(this)},clearSelection:function(){this.series.deselectPoint(this)},showTooltip:function(){this.series.showPointTooltip(this)},hideTooltip:function(){this.series.hidePointTooltip(this)},_checkLabelsChanging:function(e,t){var n=~t.indexOf("range"),i=~e.indexOf("range");return i&&!n||!i&&n},updateOptions:function(e){if(e){var t=this,n=t._options,i=e.widgetType,o=n&&n.type,a=e.type,s=c[i].pointTypes,l=s[a];o!==a?(t._needDeletingOnDraw=!0,t._needClearingOnDraw=!1,o&&(t._checkLabelsChanging(o,a)&&t.deleteLabel(),t._resetType(r.mixins[s[o]])),t._setType(r.mixins[l])):(t._needDeletingOnDraw=t._checkSymbol(n,e),t._needClearingOnDraw=t._checkCustomize(n,e)),t._options=e,t._fillStyle(),t._updateLabelOptions(l)}},translate:function(e){var t=this;t.translators=e||t.translators,t.translators&&t.hasValue()&&t._translate(t.translators)},_checkCustomize:function(e,t){return e.styles.usePointCustomOptions&&!t.styles.usePointCustomOptions},_getCustomLabelVisibility:function(){return this._styles.useLabelCustomOptions?!!this._options.label.visible:null},getBoundingRect:function(){return this._getGraphicBbox()},_resetType:function(e){for(var t in e)delete this[t]},_setType:function(e){for(var t in e)this[t]=e[t]},isInVisibleArea:function(){return this.inVisibleArea},isSelected:function(){return!!(this.fullState&o.selectedMark)},isHovered:function(){return!!(this.fullState&o.hoverMark)},getOptions:function(){return this._options},animate:function(e,t,n){return this.graphic?void this.graphic.animate(t,{partitionDuration:n},e):void(e&&e())},getCoords:function(e){var t=this;return e?t._options.rotated?{x:t.minX,y:t.y}:{x:t.x,y:t.minY}:{x:t.x,y:t.y}},getDefaultCoords:function(){var e=this;return e._options.rotated?{x:e.defaultX,y:e.y}:{x:e.x,y:e.defaultY}},_getVisibleArea:function(){return this.series._visibleArea},_calculateVisibility:function(e,t,n,i){var r,o,a=this,s=a._options.rotated;a.translators&&(r=a.translators.x.getCanvasVisibleArea(),o=a.translators.y.getCanvasVisibleArea(),a.inVisibleArea=r.min>e+(n||0)||r.max<e||o.min>t+(i||0)||o.max<t||s&&u(n)&&0!==n&&(r.min===e+n||r.max===e)||!s&&u(i)&&0!==i&&(o.min===t+i||o.max===t)?!1:!0)},hasValue:function(){return null!==this.value&&null!==this.minValue},getBoundaryCoords:function(){return this.getBoundingRect()},correctPosition:d,correctRadius:d,correctLabelRadius:d,getCrosshairData:d,getPointRadius:d,_populatePointShape:d,_checkSymbol:d,getMarkerCoords:d,hide:d,show:d,hideMarker:d,setInvisibility:d,clearVisibility:d,isVisible:d,resetCorrection:d,correctValue:d,resetValue:d,setPercentValue:d,correctCoordinates:d,coordsIn:d,getTooltipParams:d,setLabelEllipsis:d,setLabelTrackerData:d,updateLabelCoord:d,drawLabel:d,correctLabelPosition:d,setMaxLabelLength:d,dispose:function(){var e=this;e.deleteMarker(),e.deleteLabel(),e._errorBar&&this._errorBar.dispose(),e._options=e._styles=e.series=e.translators=e._errorBar=null},getTooltipFormatObject:function(e){var t=this,n=t._getFormatObject(e),i=[],r=[];return t.stackPoints&&(a(t.stackPoints,function(t,n){if(n.isVisible()){var o=n._getFormatObject(e);r.push(o),i.push(o.seriesName+": "+o.valueText)}}),s(n,{points:r,valueText:i.join("\n"),stackName:t.stackPoints.stackName})),n},setHole:function(e,t){var n=this,i=isFinite(n.minValue)?n.minValue:0;u(e)&&("left"===t?(n.leftHole=n.value-e,n.minLeftHole=i-e):(n.rightHole=n.value-e,n.minRightHole=i-e))},resetHoles:function(){this.leftHole=null,this.minLeftHole=null,this.rightHole=null,this.minRightHole=null},getLabel:function(){return this._label}}}(jQuery,DevExpress),function(e,t,n){function i(e,n){var i,r=1/0;return t.each(n,function(t,n){var o=e[0]-n[0],a=e[1]-n[1],s=o*o+a*a;r>s&&(r=s,i=n)}),i}function r(e){return e.angle!==n&&w||e.r!==n&&b||x}function o(e,t){e[t]&&e[t].dispose(),e[t]=null}function a(e){return e&&(e.fill&&"none"!==e.fill||e["stroke-width"]>0&&e.stroke&&"none"!==e.stroke)}function s(e){return e&&e["stroke-width"]>0&&e.stroke&&"none"!==e.stroke}function l(e,t,n){return d.format(e,t,n)}function u(e,t){var i=t.format,r=t.precision;return e.valueText=l(e.value,i,r),e.argumentText=l(e.argument,t.argumentFormat,t.argumentPrecision),e.percent!==n&&(e.percentText=l(e.percent,"percent",t.percentPrecision)),e.total!==n&&(e.totalText=l(e.total,i,r)),e.openValue!==n&&(e.openValueText=l(e.openValue,i,r)),e.closeValue!==n&&(e.closeValueText=l(e.closeValue,i,r)),e.lowValue!==n&&(e.lowValueText=l(e.lowValue,i,r)),e.highValue!==n&&(e.highValueText=l(e.highValue,i,r)),e.reductionValue!==n&&(e.reductionValueText=l(e.reductionValue,i,r)),t.customizeText?t.customizeText.call(e,e):e.valueText}function c(e){this._renderer=e.renderer,this._container=e.labelsGroup,this._point=e.point}var d=e.require("/utils/utils.formatHelper"),h=e.require("/utils/utils.math"),p=h.degreesToRadians,f=e.viz.utils.patchFontOptions,m=Math.round,g=h.getCosAndSin,_=e.viz.renderers.rotateBBox,v=8,y=4,x={isLabelInside:function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},prepareLabelPoints:function(e){return e},getFigureCenter:function(e){return[e.x+e.width/2,e.y+e.height/2]},findFigurePoint:function(e,t){var n=x.getFigureCenter(e),r=i(t,[[e.x,n[1]],[n[0],e.y+e.height],[e.x+e.width,n[1]],[n[0],e.y]]);return[m(r[0]),m(r[1])]}},b={isLabelInside:function(){return!1},prepareLabelPoints:x.prepareLabelPoints,getFigureCenter:function(e){return[e.x,e.y]},findFigurePoint:function(e,t){var n=Math.atan2(e.y-t[1],t[0]-e.x);return[m(e.x+e.r*Math.cos(n)),m(e.y-e.r*Math.sin(n))]}},w={isLabelInside:function(e,t,n){return!n},prepareLabelPoints:function(e,n,i){var r=[],o=n[0],a=n[1],s=g(i||0);return t.each(e,function(e,t){r.push([m((t[0]-o)*s.cos+(t[1]-a)*s.sin+o),m(-(t[0]-o)*s.sin+(t[1]-a)*s.cos+a)])}),r},getFigureCenter:b.getFigureCenter,findFigurePoint:function(e,t){var n=e.x+(e.y-t[1])/Math.tan(p(e.angle)),i=[e.x,e.y];return(e.x<=n&&n<=t[0]||e.x>=n&&n>=t[0])&&i.push(m(n),t[1]),i}};c.prototype={constructor:c,_setVisibility:function(e,t){this._group&&this._group.attr({visibility:e}),this._visible=t},clearVisibility:function(){this._setVisibility(null,!0)},hide:function(){this._setVisibility("hidden",!1)},show:function(){var e=this;e._point.hasValue()&&(e._draw(),e._point.correctLabelPosition(e))},isVisible:function(){return this._visible},setColor:function(e){this._color=e},setOptions:function(e){this._options=e},setData:function(e){this._data=e},setDataField:function(e,t){this._data=this._data||{},this._data[e]=t},getData:function(){return this._data},setFigureToDrawConnector:function(e){this._figure=e},dispose:function(){var e=this;o(e,"_group"),e._data=e._options=e._textContent=e._visible=e._insideGroup=e._text=e._background=e._connector=e._figure=null},_draw:function(){var e=this,t=e._renderer,n=e._container,i=e._options||{},r=e._textContent=u(e._data,e._options)||null;return e.clearVisibility(),r?(e._group||(e._group=t.g().append(n),e._insideGroup=t.g().append(e._group),e._text=t.text("",0,0).append(e._insideGroup)),e._text.css(i.attributes?f(i.attributes.font):{}),a(i.background)?(e._background=e._background||t.rect().append(e._insideGroup).toBackground(),e._background.attr(i.background),e._color&&e._background.attr({fill:e._color})):o(e,"_background"),s(i.connector)?(e._connector=e._connector||t.path([],"line").sharp().append(e._group).toBackground(),e._connector.attr(i.connector),e._color&&e._connector.attr({stroke:e._color})):o(e,"_connector"),e._text.attr({text:r}),e._updateBackground(e._text.getBBox()),e._setVisibility("visible",!0)):e.hide(),e},_updateBackground:function(e){var t=this;t._textSize=[e.width,e.height],t._background&&(e.x-=v,e.y-=y,e.width+=2*v,e.height+=2*y,t._background.attr(e)),t._options.rotationAngle&&(t._insideGroup.rotate(t._options.rotationAngle,e.x+e.width/2,e.y+e.height/2),e=_(e,[e.x+e.width/2,e.y+e.height/2],-t._options.rotationAngle)),t._bbox=e},_getConnectorPoints:function(){var e,t,n,o,a=this,s=a._figure,l=r(s),u=a.getBoundingRect(),c=[];return l.isLabelInside(u,s,"inside"!==a._options.position)||(n=u.x+u.width/2,o=u.y+u.height/2,c=l.prepareLabelPoints([[n,o-a._textSize[1]/2],[n+a._textSize[0]/2,o],[n,o+a._textSize[1]/2],[n-a._textSize[0]/2,o]],[n,o],-a._options.rotationAngle||0),e=i(l.getFigureCenter(s),c),e=[m(e[0]),m(e[1])],t=l.findFigurePoint(s,e),c=t.concat(e)),c},fit:function(e){this._text&&this._text.applyEllipsis(e),this._updateBackground(this._text.getBBox())},setTrackerData:function(e){this._text.data({"chart-data-point":e}),this._background&&this._background.data({"chart-data-point":e})},shift:function(e,t){var n=this;return n._textContent&&(n._insideGroup.attr({translateX:n._x=m(e-n._bbox.x),translateY:n._y=m(t-n._bbox.y)}),n._connector&&n._connector.attr({points:n._getConnectorPoints()})),n},getBoundingRect:function(){var e=this._bbox;return this._textContent?{x:e.x+this._x,y:e.y+this._y,width:e.width,height:e.height}:{}},getLayoutOptions:function(){var e=this._options;return{alignment:e.alignment,background:a(e.background),horizontalOffset:e.horizontalOffset,verticalOffset:e.verticalOffset,radialOffset:e.radialOffset,position:e.position}}},e.viz.series.points.Label=c}(DevExpress,jQuery),function(e,t){function n(e){return[-e,-e,e,-e,e,e,-e,e,-e,-e]}function i(e){var t=g(e);return[-t,0,0,-t,t,0,0,t,-t,0]}function r(e){var t=g(e),n=m(t/2),i=g(t/2);return[-t,-n,-n,-t,0,-i,n,-t,t,-n,i,0,t,n,n,t,0,i,-n,t,-t,n,-i,0]}function o(e){return[-e,-e,e,-e,0,e,-e,-e]}function a(e){return[-e,e,e,e,0,-e,-e,e]}var s=t.viz,l=s.series,u=t.require("/utils/utils.common"),c=e.extend,d=u.isDefined,h=t.viz.utils.normalizeEnum,p=Math,f=p.round,m=p.floor,g=p.ceil,_=20,v=20,y=10,x="canvas_position_default";l.points.mixins=l.points.mixins||{},l.points.mixins.symbolPoint={deleteLabel:function(){this._label.dispose(),this._label=null},_hasGraphic:function(){return this.graphic},clearVisibility:function(){var e=this,t=e.graphic;t&&t.attr("visibility")&&t.attr({visibility:null}),e._label.clearVisibility()},isVisible:function(){return this.inVisibleArea&&this.series.isVisible()},setInvisibility:function(){var e=this,t=e.graphic;t&&"hidden"!==t.attr("visibility")&&t.attr({visibility:"hidden"}),e._errorBar&&e._errorBar.attr({visibility:"hidden"}),e._label.hide()},clearMarker:function(){var e=this.graphic;e&&e.attr(this._emptySettings)},_createLabel:function(){this._label=s.CoreFactory.createLabel({renderer:this.series._renderer,labelsGroup:this.series._labelsGroup,point:this})},_updateLabelData:function(){this._label.setData(this._getLabelFormatObject())},_updateLabelOptions:function(){this._label||this._createLabel(),this._label.setOptions(this._options.label)},_checkImage:function(e){return d(e)&&("string"==typeof e||d(e.url))},_fillStyle:function(){this._styles=this._options.styles},_checkSymbol:function(e,t){var n=e.symbol,i=t.symbol,r="circle"===n&&"circle"!==i||"circle"!==n&&"circle"===i,o=this._checkImage(e.image)!==this._checkImage(t.image);return!(!r&&!o)},_populatePointShape:function(e,t){switch(e){case"square":return n(t);case"polygon":return i(t);case"triangle":case"triangleDown":return o(t);case"triangleUp":return a(t);case"cross":return r(t)}},correctValue:function(e){var t=this;t.hasValue()&&(t.value=t.initialValue+e,t.minValue=e,t.translate())},resetCorrection:function(){this.value=this.initialValue,this.minValue=x},resetValue:function(){var e=this;e.hasValue()&&(e.value=e.initialValue=0,e.minValue=0,e.translate(),e._label.setDataField("value",e.value))},_getTranslates:function(e){var t=this.x,n=this.y;return e&&(this._options.rotated?t=this.defaultX:n=this.defaultY),{x:t,y:n}},_createImageMarker:function(e,t,n){var i=n.width||_,r=n.height||v;return e.image(-f(.5*i),-f(.5*r),i,r,n.url?n.url.toString():n.toString(),"center").attr({translateX:t.translateX,translateY:t.translateY,visibility:t.visibility})},_createSymbolMarker:function(e,t){var n,i=this._options.symbol;return"circle"===i?(delete t.points,n=e.circle().attr(t)):("square"===i||"polygon"===i||"triangle"===i||"triangleDown"===i||"triangleUp"===i||"cross"===i)&&(n=e.path([],"area").attr(t).sharp()),n},_createMarker:function(e,t,n,i){var r=this,o=r._checkImage(n)?r._createImageMarker(e,i,n):r._createSymbolMarker(e,i);return o&&o.data({"chart-data-point":r}).append(t),o},_getSymbolBbox:function(e,t,n){return{x:e-n,y:t-n,width:2*n,height:2*n}},_getImageBbox:function(e,t){var n=this._options.image,i=n.width||_,r=n.height||v;return{x:e-f(i/2),y:t-f(r/2),width:i,height:r}},_getGraphicBbox:function(){var e,t=this,n=t._options,i=t.x,r=t.y;return e=n.visible?t._checkImage(n.image)?t._getImageBbox(i,r):t._getSymbolBbox(i,r,n.styles.normal.r):{x:i,y:r,width:0,height:0}},_isLabelInsidePoint:e.noop,_getShiftLabelCoords:function(e){var t=this._addLabelAlignmentAndOffset(e,this._getLabelCoords(e));return this._checkLabelPosition(e,t)},_drawLabel:function(){var e=this,t=e._getCustomLabelVisibility(),n=e._label;(e.series.getLabelVisibility()||t)&&e._showForZeroValues()&&e.hasValue()?n.show():n.hide()},correctLabelPosition:function(e){var t,n=this;n._isLabelInsidePoint(e)||(t=n._getShiftLabelCoords(e),e.setFigureToDrawConnector(n._getLabelConnector(e.pointPosition)),e.shift(f(t.x),f(t.y)))},_showForZeroValues:function(){return!0},_getLabelConnector:function(e){var t=this._getGraphicBbox(e),n=t.width/2,i=t.height/2;return{x:t.x+n,y:t.y+i,r:this._options.visible?Math.max(n,i):0}},_getPositionFromLocation:function(){return{x:this.x,y:this.y}},_isPointInVisibleArea:function(e,t){return e.minX<=t.x+t.width&&e.maxX>=t.x&&e.minY<=t.y+t.height&&e.maxY>=t.y},_checkLabelPosition:function(e,t){var n=this,i=n._getVisibleArea(),r=e.getBoundingRect(),o=n._getGraphicBbox(e.pointPosition),a=y;return n._isPointInVisibleArea(i,o)&&(n._options.rotated?(i.minX>t.x&&(t.x=o.x+o.width+a),i.maxX<t.x+r.width&&(t.x=o.x-a-r.width),i.minY>t.y&&(t.y=i.minY),i.maxY<t.y+r.height&&(t.y=i.maxY-r.height)):(i.minX>t.x&&(t.x=i.minX),i.maxX<t.x+r.width&&(t.x=i.maxX-r.width),i.minY>t.y&&(t.y=o.y+o.height+a),i.maxY<t.y+r.height&&(t.y=o.y-r.height-a))),t},_addLabelAlignmentAndOffset:function(e,t){var n=e.getBoundingRect(),i=e.getLayoutOptions();return this._options.rotated||("left"===i.alignment?t.x+=n.width/2:"right"===i.alignment&&(t.x-=n.width/2)),t.x+=i.horizontalOffset,t.y+=i.verticalOffset,t},_getLabelCoords:function(e){return this._getLabelCoordOfPosition(e,this._getLabelPosition(e.pointPosition))},_getLabelCoordOfPosition:function(e,t){var n=this,i=e.getBoundingRect(),r=n._getGraphicBbox(e.pointPosition),o=y,a=r.height/2-i.height/2,s=r.width/2-i.width/2,l=r.x,u=r.y;switch(t){case"left":l-=i.width+o,u+=a;break;case"right":l+=r.width+o,u+=a;break;case"top":l+=s,u-=i.height+o;break;case"bottom":l+=s,u+=r.height+o;break;case"inside":l+=s,u+=a}return{x:l,y:u}},_drawMarker:function(e,t,n){var i=this,r=i._options,o=i._getTranslates(n),a=i._getStyle();i.graphic=i._createMarker(e,t,r.image,c({translateX:o.x,translateY:o.y,points:i._populatePointShape(r.symbol,a.r)},a),n)},_getErrorBarSettings:function(){return{visibility:"visible"}},_drawErrorBar:function(t,n){if(this._options.errorBars){var i,r=this,o=r._options,a=o.errorBars,s=[],l=r._errorBarPos,u=r._highErrorCoord,c=r._lowErrorCoord,p=h(a.displayMode),f="high"===p,g="low"===p,_=m(parseInt(a.edgeLength)/2),v=(f||!d(c))&&d(u)&&!g,y=(g||!d(u))&&d(c)&&!f;v&&(c=r._baseErrorBarPos),y&&(u=r._baseErrorBarPos),"none"!==p&&d(u)&&d(c)&&d(l)?(y||s.push([l-_,u,l+_,u]),s.push([l,u,l,c]),v||s.push([l+_,c,l-_,c]),o.rotated&&e.each(s,function(e,t){t.reverse()}),i=r._getErrorBarSettings(a),r._errorBar?(i.points=s,r._errorBar.attr(i)):r._errorBar=t.path(s,"line").attr(i).append(n)):r._errorBar&&r._errorBar.attr({visibility:"hidden"})}},getTooltipParams:function(){var e=this,t=e.graphic;return{x:e.x,y:e.y,offset:t?t.getBBox().height/2:0}},setPercentValue:function(e,t,n,i){var r=this,o=r.value/e||0,a=r.minValue/e||0,s=o-a;r._label.setDataField("percent",s),r._label.setDataField("total",e),r.series.isFullStackedSeries()&&r.hasValue()&&(r.leftHole&&(r.leftHole/=e-n,r.minLeftHole/=e-n),r.rightHole&&(r.rightHole/=e-i,r.minRightHole/=e-i),r.value=o,r.minValue=a?a:r.minValue,r.translate())},_storeTrackerR:function(){var e,t=this,n=window.navigator,i=t._options.styles.normal.r;return e="ontouchstart"in window||n.msPointerEnabled&&n.msMaxTouchPoints||n.pointerEnabled&&n.maxTouchPoints?20:6,t._options.trackerR=e>i?e:i},_translateErrorBars:function(e){var t=this,n=t._options,i=n.rotated,r=n.errorBars;r&&(d(t.lowError)&&(t._lowErrorCoord=e.translate(t.lowError)),d(t.highError)&&(t._highErrorCoord=e.translate(t.highError)),t._errorBarPos=m(i?t.vy:t.vx),t._baseErrorBarPos="stdDeviation"===r.type?t._lowErrorCoord+(t._highErrorCoord-t._lowErrorCoord)/2:i?t.vx:t.vy)},_translate:function(e){var t,n=this;n._options.rotated?(t=e.x,n.vx=n.x=t.translate(n.value),n.vy=n.y=e.y.translate(n.argument),n.minX=t.translate(n.minValue),n.defaultX=t.translate(x),n._translateErrorBars(t)):(t=e.y,n.vy=n.y=t.translate(n.value),n.vx=n.x=e.x.translate(n.argument),n.minY=t.translate(n.minValue),n.defaultY=t.translate(x),n._translateErrorBars(t)),n._calculateVisibility(n.x,n.y)},_updateData:function(e){var t=this;t.value=t.initialValue=t.originalValue=e.value,t.minValue=t.initialMinValue=t.originalMinValue=d(e.minValue)?e.minValue:x},_getImageSettings:function(e){return{href:e.url||e.toString(),width:e.width||_,height:e.height||v}},getCrosshairData:function(){var e=this,t=e._options.rotated,n=e.value,i=e.argument;return{x:e.vx,y:e.vy,xValue:t?n:i,yValue:t?i:n,axis:e.series.axis}},getPointRadius:function(){var e,t=this._getStyle(),n=this._options,i=t.r,r=n.symbol,o="square"===r,a="triangle"===r||"triangleDown"===r||"triangleUp"===r;return n.visible&&!n.image&&i?(e=t["stroke-width"]/2,(o||a?1.4*i:i)+e):0},_updateMarker:function(e,t){var n,i=this,r=i._options,o=r.image,a=i.isVisible()?{}:{visibility:"hidden"};t=t||i._getStyle(),n=i._checkImage(o)?c({},{visibility:t.visibility},a,i._getImageSettings(o)):c({},t,a,{points:i._populatePointShape(r.symbol,t.r)}),e||(n.translateX=i.x,n.translateY=i.y),i.graphic.attr(n).sharp()},_getLabelFormatObject:function(){var e=this;return{argument:e.initialArgument,value:e.initialValue,originalArgument:e.originalArgument,originalValue:e.originalValue,seriesName:e.series.name,lowErrorValue:e.lowError,highErrorValue:e.highError,point:e}},_getLabelPosition:function(){var e=this._options.rotated;return this.initialValue>0?e?"right":"top":e?"left":"bottom"},_getFormatObject:function(e){var t=this,n=t._label.getData();return c({},n,{argumentText:e.formatValue(t.initialArgument,"argument"),valueText:e.formatValue(t.initialValue)},d(n.percent)?{percentText:e.formatValue(n.percent,"percent")}:{},d(n.total)?{totalText:e.formatValue(n.total)}:{})},_getMarkerVisibility:function(){return this._options.visible},coordsIn:function(e,t){var n=this._storeTrackerR();return e>=this.x-n&&e<=this.x+n&&t>=this.y-n&&t<=this.y+n}}}(jQuery,DevExpress),function(e,t){var n=t.viz.series.points.mixins,i=e.extend,r=Math,o=r.floor,a=r.abs,s=r.min,l="canvas_position_default",u=9,c=4,d="right",h="left",p="top",f="bottom";n.barPoint=i({},n.symbolPoint,{correctCoordinates:function(e){var t=o(e.offset-e.width/2),n=this._options.rotated,i=n?"height":"width",r=(n?"y":"x")+"Correction";this[i]=e.width,this[r]=t},_getGraphicBbox:function(){var e=this,t={};return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},_getLabelConnector:function(e){return this._getGraphicBbox(e)},_getLabelPosition:function(){var e,t=this,n=t.translators,i=t.initialValue,r=n.x.getBusinessRange().invert,o=n.y.getBusinessRange().invert,a="discrete"===t.series.valueAxisType,s=t.series.isFullStackedSeries(),l=!a&&(i>=0&&!o||0>i&&o)||a&&!o||s,u=!a&&(i>=0&&!r||0>i&&r)||a&&!r||s;return e=t._options.rotated?u?d:h:l?p:f},_getLabelCoords:function(e){var t,i=this;return t=0===i.initialValue&&i.series.isFullStackedSeries()?this._options.rotated?i._getLabelCoordOfPosition(e,d):i._getLabelCoordOfPosition(e,p):"inside"===e.getLayoutOptions().position?i._getLabelCoordOfPosition(e,"inside"):n.symbolPoint._getLabelCoords.call(this,e)},_checkLabelPosition:function(e,t){var n=this,i=n._getVisibleArea();return n._isPointInVisibleArea(i,n._getGraphicBbox())?n._moveLabelOnCanvas(t,i,e.getBoundingRect()):t},_isLabelInsidePoint:function(e){var t=this,n=t._getGraphicBbox(),i=e.getBoundingRect();return t._options.resolveLabelsOverlapping&&"inside"===e.getLayoutOptions().position&&(i.width>n.width||i.height>n.height)?(e.hide(),!0):!1},_moveLabelOnCanvas:function(e,t,n){var i=e.x,r=e.y;return t.minX>i&&(i=t.minX),t.maxX<i+n.width&&(i=t.maxX-n.width),t.minY>r&&(r=t.minY),t.maxY<r+n.height&&(r=t.maxY-n.height),{x:i,y:r}},_showForZeroValues:function(){return this._options.label.showForZeroValues||this.initialValue},_drawMarker:function(e,t,n){var i=this,r=i._getStyle(),o=i.x,a=i.y,s=i.width,l=i.height,u=i._options.cornerRadius;n&&(i._options.rotated?(s=0,o=i.defaultX):(l=0,a=i.defaultY)),i.graphic=e.rect(o,a,s,l).attr({rx:u,ry:u}).attr(r).data({"chart-data-point":i}).append(t)},_getSettingsForTracker:function(){var e=this,t=e.y,n=e.height,i=e.x,r=e.width;return e._options.rotated?1===r&&(r=u,i-=c):1===n&&(n=u,t-=c),{x:i,y:t,width:r,height:n}},getGraphicSettings:function(){var e=this.graphic;return{x:e.attr("x"),y:e.attr("y"),height:e.attr("height"),width:e.attr("width")}},_getEdgeTooltipParams:function(e,t,n,i){var r,o,a=this.value>=0,s=this.translators.y.getBusinessRange().invert,l=this.translators.x.getBusinessRange().invert;return this._options.rotated?(o=t+i/2,r=l?a?e:e+n:a?e+n:e):(r=e+n/2,o=s?a?t+i:t:a?t:t+i),{x:r,y:o,offset:0}},getTooltipParams:function(e){var t=this.x,n=this.y,i=this.width,r=this.height;return"edge"===e?this._getEdgeTooltipParams(t,n,i,r):{x:t+i/2,y:n+r/2,offset:0}},_truncateCoord:function(e,t,n){return t>e?t:e>n?n:e},_translateErrorBars:function(e,t){n.symbolPoint._translateErrorBars.call(this,e),(this._errorBarPos<t.min||this._errorBarPos>t.max)&&(this._errorBarPos=void 0)},_translate:function(e){var t,n,i,r,o=this,u=o._options.rotated,c=u?"x":"y",d=u?"y":"x",h=u?"width":"height",p=u?"height":"width",f=e[d],m=e[c],g=f.getCanvasVisibleArea(),_=m.getCanvasVisibleArea();t=n=f.translate(o.argument)+(o[d+"Correction"]||0),i=m.translate(o.value),r=m.translate(o.minValue),o["v"+c]=i,o["v"+d]=t+o[p]/2,o[h]=a(i-r),o._calculateVisibility(u?s(i,r):s(t,n),u?s(t,n):s(i,r),o.width,o.height),i=o._truncateCoord(i,_.min,_.max),r=o._truncateCoord(r,_.min,_.max),o[d]=t,o["min"+d.toUpperCase()]=n,o[h]=a(i-r),o[c]=s(i,r)+(o[c+"Correction"]||0),o["min"+c.toUpperCase()]=r+(o[c+"Correction"]||0),o["default"+c.toUpperCase()]=m.translate(l),o._translateErrorBars(m,g),o.inVisibleArea&&(o[d]<g.min&&(o[p]=o[p]-(g.min-o[d]),o[d]=g.min,o["min"+d.toUpperCase()]=g.min),o[d]+o[p]>g.max&&(o[p]=g.max-o[d]))},_updateMarker:function(e,t){
this.graphic.attr(i({},t||this._getStyle(),e?{}:this.getMarkerCoords()))},getMarkerCoords:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},coordsIn:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height}})}(jQuery,DevExpress),function(e,t){var n=t.viz.series.points.mixins,i=e.extend,r=20;n.bubblePoint=i({},n.symbolPoint,{correctCoordinates:function(e){this.bubbleSize=e/2},_drawMarker:function(e,t,n){var r=this,o=i({translateX:r.x,translateY:r.y},r._getStyle());r.graphic=e.circle(0,0,n?0:r.bubbleSize).attr(o).data({"chart-data-point":r}).append(t)},getTooltipParams:function(e){var t,n=this,i=n.graphic;return i?(t=i.getBBox().height,{x:n.x,y:r>t||"edge"===e?this.y-t/2:this.y,offset:0}):void 0},_getLabelFormatObject:function(){var e=n.symbolPoint._getLabelFormatObject.call(this);return e.size=this.initialSize,e},_updateData:function(e){n.symbolPoint._updateData.call(this,e),this.size=this.initialSize=e.size},_getGraphicBbox:function(){var e=this;return e._getSymbolBbox(e.x,e.y,e.bubbleSize)},_updateMarker:function(t,n){var i=this;n=n||i._getStyle(),t||(n=e.extend({r:i.bubbleSize,translateX:i.x,translateY:i.y},n)),i.graphic.attr(n)},_getFormatObject:function(e){var t=n.symbolPoint._getFormatObject.call(this,e);return t.sizeText=e.formatValue(this.initialSize),t},_storeTrackerR:function(){return this.bubbleSize},_getLabelCoords:function(e){var t;return t="inside"===e.getLayoutOptions().position?this._getLabelCoordOfPosition(e,"inside"):n.symbolPoint._getLabelCoords.call(this,e)}})}(jQuery,DevExpress),function(e,t){function n(e,t,n){var i=e.x+e.width/2>=n.x,r=(i?e.x:e.x+e.width)-n.x,o=e.y-n.y,a=o+t,s=l(u(r*r+o*o-a*a)),c=(i?+s:-s)||r;return{x:n.x+(i?c:c-e.width),y:e.y+t}}var i=20,r=t.viz,o=r.series,a=o.points.mixins,s=e.extend,l=Math.round,u=Math.sqrt,c=Math.acos,d=180/Math.PI,h=Math.abs,p=t.require("/utils/utils.math"),f=p.normalizeAngle,m=p.getCosAndSin,g=t.require("/utils/utils.common"),_=g.isDefined,v=o.helpers.consts.pieLabelIndent;r.utils.getVerticallyShiftedAngularCoords=n,a.piePoint=s({},a.symbolPoint,{_updateData:function(e){var t=this;a.symbolPoint._updateData.call(this,e),t._visible=!0,t.minValue=t.initialMinValue=t.originalMinValue=_(e.minValue)?e.minValue:0},animate:function(e,t,n){var i=this;i.graphic.animate({x:i.centerX,y:i.centerY,outerRadius:i.radiusOuter,innerRadius:i.radiusInner,startAngle:i.toAngle,endAngle:i.fromAngle},{partitionDuration:t,step:n},e)},correctPosition:function(e){var t=this;t.correctRadius(e),t.correctLabelRadius(e.radiusOuter),t.centerX=e.centerX,t.centerY=e.centerY},correctRadius:function(e){this.radiusInner=e.radiusInner,this.radiusOuter=e.radiusOuter},correctLabelRadius:function(e){this.radiusLabels=e},correctValue:function(e,t,n){var i=this;i.value=(n||i.initialValue)+e,i.minValue=e,i.percent=t,i._label.setDataField("percent",t)},setMaxLabelLength:function(e){this._maxLabelLength=e},_updateLabelData:function(){this._label.setData(this._getLabelFormatObject())},_getShiftLabelCoords:function(){var e=this,t=e._label.getBoundingRect(),n=e._getLabelCoords(e._label),i=e._getVisibleArea();return e._isLabelDrawingWithoutPoints?e._checkLabelPosition(n,t,i):e._getLabelExtraCoord(n,e._checkVerticalLabelPosition(n,t,i),t)},_getLabelPosition:function(e){return e.position},_getLabelCoords:function(e){var t,n,i=this,r=e.getBoundingRect(),o=e.getLayoutOptions(),a=m(i.middleAngle),s=i._getLabelPosition(o),u=i.radiusInner,c=i.radiusOuter,d=i.radiusLabels;return"inside"===s?(t=u+(c-u)/2+o.radialOffset,n=i.centerX+t*a.cos-r.width/2):(t=d+o.radialOffset+v,n=a.cos>.1?i.centerX+t*a.cos:a.cos<-.1?i.centerX+t*a.cos-r.width:i.centerX+t*a.cos-r.width/2),{x:n,y:l(i.centerY-t*a.sin-r.height/2)}},_getColumnsCoord:function(e){var t,n=this,r=n._label,o=r.getBoundingRect(),a=r.getLayoutOptions(),s=n.radiusLabels+a.radialOffset,l=n._getVisibleArea(),u=l.maxX-o.width,c=l.minX,d=f(n.middleAngle);return"columns"!==a.position?e:(s+=i,90>d||d>=270?(t=n._maxLabelLength?n.centerX+s+n._maxLabelLength-o.width:u,t=t>u?u:t):(t=n._maxLabelLength?n.centerX-s-n._maxLabelLength:c,t=c>t?c:t),e.x=t,e)},drawLabel:function(e){this.translate(e),this._isLabelDrawingWithoutPoints=!0,this._drawLabel(),this._isLabelDrawingWithoutPoints=!1},updateLabelCoord:function(){var e=this,t=e._label.getBoundingRect(),n=e._getColumnsCoord(t);n=e._checkHorizontalLabelPosition(n,t,e._getVisibleArea()),e._label.shift(l(n.x),l(t.y))},_checkVerticalLabelPosition:function(e,t,n){var i=e.x,r=e.y;return e.y+t.height>n.maxY?r=n.maxY-t.height:e.y<n.minY&&(r=n.minY),{x:i,y:r}},_getLabelExtraCoord:function(e,t,i){return e.y!==t.y?n({x:e.x,y:e.y,width:i.width,height:i.height},t.y-e.y,{x:this.centerX,y:this.centerY}):e},_checkHorizontalLabelPosition:function(e,t,n){var i=e.x,r=e.y;return e.x+t.width>n.maxX?i=n.maxX-t.width:e.x<n.minX&&(i=n.minX),{x:i,y:r}},setLabelEllipsis:function(){var e=this,t=e._label.getBoundingRect(),n=e._checkHorizontalLabelPosition(t,t,e._getVisibleArea());e._label.fit(t.width-h(n.x-t.x))},setLabelTrackerData:function(){this._label.setTrackerData(this)},_checkLabelPosition:function(e,t,n){return e=this._checkHorizontalLabelPosition(e,t,n),this._checkVerticalLabelPosition(e,t,n)},getBoundaryCoords:function(){var e=this,t=e.radiusOuter,n=e._options.styles.normal,i=n["stroke-width"]/2,r=l(e.series.getOptions().containerBackgroundColor===n.stroke?i:-i),o=m(l(e.middleAngle));return{x:l(e.centerX+(t-r)*o.cos),y:l(e.centerY-(t-r)*o.sin)}},_getLabelConnector:function(){var e=this.getBoundaryCoords();return e.angle=this.middleAngle,e},_drawMarker:function(e,t,n,i){var r=this,o=r.radiusOuter,a=r.radiusInner,s=r.fromAngle,l=r.toAngle;n&&(a=o=0,i||(s=l=r.shiftedAngle)),r.graphic=e.arc(r.centerX,r.centerY,a,o,l,s).attr({"stroke-linejoin":"round"}).attr(r._getStyle()).data({"chart-data-point":r}).sharp().append(t)},getTooltipParams:function(){var e=this,t=m(e.middleAngle),n=e.radiusInner,i=e.radiusOuter;return{x:e.centerX+(n+(i-n)/2)*t.cos,y:e.centerY-(n+(i-n)/2)*t.sin,offset:0}},_translate:function(e){var t=this,n=t.shiftedAngle||0,i=t.value,r=t.minValue;t.fromAngle=e.translate(r)+n,t.toAngle=e.translate(i)+n,t.middleAngle=e.translate((i-r)/2+r)+n,t.isVisible()||(t.middleAngle=t.toAngle=t.fromAngle=t.fromAngle||n)},_getMarkerVisibility:function(){return!0},_updateMarker:function(e,t){var n=this;t=t||n._getStyle(),e||(t=s({x:n.centerX,y:n.centerY,outerRadius:n.radiusOuter,innerRadius:n.radiusInner,startAngle:n.toAngle,endAngle:n.fromAngle},t)),n.graphic.attr(t).sharp()},getLegendStyles:function(){return this._styles.legendStyles},isInVisibleArea:function(){return!0},hide:function(){var e=this;e._visible&&(e._visible=!1,e.hideTooltip(),e._options.visibilityChanged(e))},show:function(){var e=this;e._visible||(e._visible=!0,e._options.visibilityChanged(e))},setInvisibility:function(){this._label.hide()},isVisible:function(){return this._visible},_getFormatObject:function(e){var t=a.symbolPoint._getFormatObject.call(this,e),n=this.percent;return t.percent=n,t.percentText=e.formatValue(n,"percent"),t},getColor:function(){return this._styles.normal.fill},coordsIn:function(e,t){var n,i=this,r=e-i.centerX,o=t-i.centerY,a=u(r*r+o*o),s=i.fromAngle%360,l=i.toAngle%360;return a<i.radiusInner||a>i.radiusOuter||0===a?!1:(n=c(r/a)*d*(o>0?-1:1),0>n&&(n+=360),s===l&&h(i.toAngle-i.fromAngle)>1e-4?!0:s>=l?s>=n&&n>=l:!(n>=s&&l>=n))}})}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.series.points.mixins,r=t.require("/utils/utils.common"),o=e.extend,a=r.isDefined,s=Math,l=s.abs,u=s.min,c=s.max,d=s.round,h=20,p=20;i.rangeSymbolPoint=o({},i.symbolPoint,{deleteLabel:function(){var e=this;e._topLabel.dispose(),e._topLabel=null,e._bottomLabel.dispose(),e._bottomLabel=null},hideMarker:function(e){var t=this.graphic,n=t&&t[e+"Marker"],i=this["_"+e+"Label"];n&&"hidden"!==n.attr("visibility")&&n.attr({visibility:"hidden"}),i.hide()},setInvisibility:function(){this.hideMarker("top"),this.hideMarker("bottom")},clearVisibility:function(){var e=this,t=e.graphic,n=t&&t.topMarker,i=t&&t.bottomMarker;n&&n.attr("visibility")&&n.attr({visibility:null}),i&&i.attr("visibility")&&i.attr({visibility:null}),e._topLabel.clearVisibility(),e._bottomLabel.clearVisibility()},clearMarker:function(){var e=this,t=e.graphic,n=t&&t.topMarker,i=t&&t.bottomMarker,r=e._emptySettings;n&&n.attr(r),i&&i.attr(r)},_getLabelPosition:function(e){var t,n="inside"===this._options.label.position;return t=this._options.rotated?"top"===e^n?"right":"left":"top"===e^n?"top":"bottom"},_getLabelMinFormatObject:function(){var e=this;return{index:0,argument:e.initialArgument,value:e.initialMinValue,seriesName:e.series.name,originalValue:e.originalMinValue,originalArgument:e.originalArgument,point:e}},_updateLabelData:function(){var e=this._getLabelFormatObject();e.index=1,this._topLabel.setData(e),this._bottomLabel.setData(this._getLabelMinFormatObject())},_updateLabelOptions:function(){var e=this,t=this._options.label;e._topLabel&&e._bottomLabel||e._createLabel(),e._topLabel.setOptions(t),e._bottomLabel.setOptions(t)},_createLabel:function(){var e={renderer:this.series._renderer,labelsGroup:this.series._labelsGroup,point:this};this._topLabel=n.CoreFactory.createLabel(e),this._bottomLabel=n.CoreFactory.createLabel(e)},_getGraphicBbox:function(e){var t,n=this._options,i=this._getImage(n.image),r="top"===e?this._checkImage(i.top):this._checkImage(i.bottom),o=this._getPositionFromLocation(e);return t=n.visible?r?this._getImageBbox(o.x,o.y):this._getSymbolBbox(o.x,o.y,n.styles.normal.r):{x:o.x,y:o.y,width:0,height:0}},_getPositionFromLocation:function(e){var t,n,i="top"===e;return this._options.rotated?(t=i?c(this.x,this.minX):u(this.x,this.minX),n=this.y):(t=this.x,n=i?u(this.y,this.minY):c(this.y,this.minY)),{x:t,y:n}},_checkOverlay:function(e,t,n){return t+n>e},_getOverlayCorrections:function(e,t,n){var i="vertical"===e,r=i?"y":"x",o=i?"height":"width",a=this.translators[r].getCanvasVisibleArea(),s=a.min,l=a.max,u=d((t[r]+t[o]-n[r])/2),c=t[r]-u,h=n[r]+u;return s>c?(u=s-t[r],c+=u,h+=u):h+n[o]>l&&(u=-(n[r]+n[o]-l),c+=u,h+=u),{coord1:c,coord2:h}},_checkLabelsOverlay:function(e){var t=this,n=t._topLabel.getBoundingRect(),i=t._bottomLabel.getBoundingRect(),r={};t._options.rotated?"top"===e?this._checkOverlay(n.x,i.x,i.width)&&(r=this._getOverlayCorrections("horizontal",i,n),t._topLabel.shift(r.coord2,n.y),t._bottomLabel.shift(r.coord1,i.y)):this._checkOverlay(i.x,n.x,n.width)&&(r=this._getOverlayCorrections("horizontal",n,i),t._topLabel.shift(r.coord1,n.y),t._bottomLabel.shift(r.coord2,i.y)):"top"===e?this._checkOverlay(i.y,n.y,n.height)&&(r=this._getOverlayCorrections("vertical",n,i),t._topLabel.shift(n.x,r.coord1),t._bottomLabel.shift(i.x,r.coord2)):this._checkOverlay(n.y,i.y,i.height)&&(r=this._getOverlayCorrections("vertical",i,n),t._topLabel.shift(n.x,r.coord2),t._bottomLabel.shift(i.x,r.coord1))},_drawLabel:function(){var t=this,n=[],i=t._options.rotated?t.x>=t.minX:t.y<t.minY,r=t._getCustomLabelVisibility(),o=t._topLabel,a=t._bottomLabel;o.pointPosition=i?"top":"bottom",a.pointPosition=i?"bottom":"top",(t.series.getLabelVisibility()||r)&&t.hasValue()?(t.visibleTopMarker!==!1&&n.push(o),t.visibleBottomMarker!==!1&&n.push(a),e.each(n,function(e,t){t.show()}),t._checkLabelsOverlay(t._topLabel.pointPosition)):(o.hide(),a.hide())},_getImage:function(e){var t={};return a(e)&&("string"==typeof e?t.top=t.bottom=e:(t.top={url:"string"==typeof e.url?e.url:e.url&&e.url.rangeMaxPoint,width:"number"==typeof e.width?e.width:e.width&&e.width.rangeMaxPoint,height:"number"==typeof e.height?e.height:e.height&&e.height.rangeMaxPoint},t.bottom={url:"string"==typeof e.url?e.url:e.url&&e.url.rangeMinPoint,width:"number"==typeof e.width?e.width:e.width&&e.width.rangeMinPoint,height:"number"==typeof e.height?e.height:e.height&&e.height.rangeMinPoint})),t},_checkSymbol:function(e,t){var n=this,i=e.symbol,r=t.symbol,o="circle"===i&&"circle"!==r||"circle"!==i&&"circle"===r,a=n._getImage(e.image),s=n._getImage(t.image),l=n._checkImage(a.top)!==n._checkImage(s.top),u=n._checkImage(a.bottom)!==n._checkImage(s.bottom);return o||l||u},_getSettingsForTwoMarkers:function(e){var t=this,n=t._options,i={},r=n.rotated?u(t.x,t.minX):t.x,a=n.rotated?t.y:u(t.y,t.minY),s=e.r,l=t._populatePointShape(n.symbol,s);return i.top=o({translateX:r+t.width,translateY:a,r:s},e),i.bottom=o({translateX:r,translateY:a+t.height,r:s},e),l&&(i.top.points=i.bottom.points=l),i},_hasGraphic:function(){return this.graphic&&this.graphic.topMarker&&this.graphic.bottomMarker},_drawOneMarker:function(e,t,n,i){var r=this,o=r.graphic;o[t]?r._updateOneMarker(t,i):o[t]=r._createMarker(e,o,n,i)},_drawMarker:function(e,t,n,i,r){var o=this,a=o._getSettingsForTwoMarkers(r||o._getStyle()),s=o._getImage(o._options.image);o._checkImage(s.top)&&(a.top=o._getImageSettings(a.top,s.top)),o._checkImage(s.bottom)&&(a.bottom=o._getImageSettings(a.bottom,s.bottom)),o.graphic=o.graphic||e.g().append(t),o.visibleTopMarker&&o._drawOneMarker(e,"topMarker",s.top,a.top),o.visibleBottomMarker&&o._drawOneMarker(e,"bottomMarker",s.bottom,a.bottom)},_getSettingsForTracker:function(e){var t=this,n=t._options.rotated;return{translateX:n?u(t.x,t.minX)-e:t.x-e,translateY:n?t.y-e:u(t.y,t.minY)-e,width:t.width+2*e,height:t.height+2*e}},isInVisibleArea:function(){var e,t,n,i,r,o=this,a=o._options.rotated,s=a?o.y:o.x,l=a?c(o.minX,o.x):c(o.minY,o.y),d=a?u(o.minX,o.x):u(o.minY,o.y),h=o.translators,p=!0,f=!0,m=!0;return h&&(i=h[a?"y":"x"].getCanvasVisibleArea(),r=h[a?"x":"y"].getCanvasVisibleArea(),e=i.max<s||i.min>s,t=r.min>d&&r.min>l||r.max<d&&r.max<l,e||t?p=f=m=!1:(p=r.min<=d&&r.max>d,f=r.min<l&&r.max>=l,a&&(n=p,p=f,f=n))),o.visibleTopMarker=p,o.visibleBottomMarker=f,m},getTooltipParams:function(){var e,t,n,i,r,o=this,a=o.translators,s=a.x.getCanvasVisibleArea(),l=a.y.getCanvasVisibleArea();return o._options.rotated?(r=u(o.x,o.minX),t=o.y,n=s.min>r?s.min:r,i=s.max<r+o.width?s.max:r+o.width,e=n+(i-n)/2):(r=u(o.y,o.minY),e=o.x,n=l.min>r?l.min:r,i=l.max<r+o.height?l.max:r+o.height,t=n+(i-n)/2),{x:e,y:t,offset:0}},_translate:function(e){var t=this,n=t._options.rotated;t.minX=t.minY=e.y.translate(t.minValue),i.symbolPoint._translate.call(t,e),t.height=n?0:l(t.minY-t.y),t.width=n?l(t.x-t.minX):0},_updateData:function(e){var t=this;i.symbolPoint._updateData.call(t,e),t.minValue=t.initialMinValue=t.originalMinValue=e.minValue},_getImageSettings:function(e,t){return{href:t.url||t.toString(),width:t.width||h,height:t.height||p,translateX:e.translateX,translateY:e.translateY}},getCrosshairData:function(e,t){var n=this,i=n._options.rotated,r=n.minX,o=n.minY,a=n.vx,s=n.vy,u=n.value,c=n.minValue,d=n.argument,h={axis:n.series.axis,x:a,y:s,yValue:u,xValue:d};return i?(h.yValue=d,l(a-e)<l(r-e)?h.xValue=u:(h.x=r,h.xValue=c)):l(s-t)>=l(o-t)&&(h.y=o,h.yValue=c),h},_updateOneMarker:function(e,t){this.graphic&&this.graphic[e]&&this.graphic[e].attr(t)},_updateMarker:function(e,t){this._drawMarker(void 0,void 0,!1,!1,t)},_getFormatObject:function(e){var t=this,n=t.initialMinValue,i=t.initialValue,r=t.initialArgument,o=e.formatValue(n),a=e.formatValue(i);return{argument:r,argumentText:e.formatValue(r,"argument"),valueText:o+" - "+a,rangeValue1Text:o,rangeValue2Text:a,rangeValue1:n,rangeValue2:i,seriesName:t.series.name,point:t,originalMinValue:t.originalMinValue,originalValue:t.originalValue,originalArgument:t.originalArgument}},getLabel:function(){return[this._topLabel,this._bottomLabel]},getBoundingRect:e.noop,coordsIn:function(e,t){var n=this._storeTrackerR(),i=e>=this.x-n&&e<=this.x+n,r=t>=this.y-n&&t<=this.y+n;return this._options.rotated?r&&(i||e>=this.minX-n&&e<=this.minX+n):i&&(r||t>=this.minY-n&&t<=this.minY+n)}})}(jQuery,DevExpress),function(e,t){var n=t.viz.series.points.mixins,i=n.rangeSymbolPoint,r=e.extend;n.rangeBarPoint=r({},n.barPoint,{deleteLabel:i.deleteLabel,_getFormatObject:i._getFormatObject,clearVisibility:function(){var e=this.graphic;e&&e.attr("visibility")&&e.attr({visibility:null}),this._topLabel.clearVisibility(),this._bottomLabel.clearVisibility()},setInvisibility:function(){var e=this.graphic;e&&"hidden"!==e.attr("visibility")&&e.attr({visibility:"hidden"}),this._topLabel.hide(),this._bottomLabel.hide()},getTooltipParams:function(e){var t,n,i=this,r="edge"===e;return i._options.rotated?(t=r?i.x+i.width:i.x+i.width/2,n=i.y+i.height/2):(t=i.x+i.width/2,n=r?i.y:i.y+i.height/2),{x:t,y:n,offset:0}},_translate:function(e){var t=this,i=n.barPoint;i._translate.call(t,e),t._options.rotated?t.width=t.width||1:t.height=t.height||1},_updateData:i._updateData,_getLabelPosition:i._getLabelPosition,_getLabelMinFormatObject:i._getLabelMinFormatObject,_updateLabelData:i._updateLabelData,_updateLabelOptions:i._updateLabelOptions,getCrosshairData:i.getCrosshairData,_createLabel:i._createLabel,_checkOverlay:i._checkOverlay,_checkLabelsOverlay:i._checkLabelsOverlay,_getOverlayCorrections:i._getOverlayCorrections,_drawLabel:i._drawLabel,_getLabelCoords:i._getLabelCoords,_getGraphicBbox:function(e){var t="top"===e,i=n.barPoint._getGraphicBbox.call(this);return this._options.rotated?(i.x=t?i.x+i.width:i.x,i.width=0):(i.y=t?i.y:i.y+i.height,i.height=0),i},getLabel:i.getLabel,getBoundingRect:e.noop})}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.series.points.mixins,r=e.isNumeric,o=e.extend,a=Math,s=a.abs,l=a.min,u=a.max,c=a.round,d=2;i.candlestickPoint=o({},i.barPoint,{_getContinuousPoints:function(e,t){var n,i=this,r=i.x,o=i._options.rotated?function(e,t){return[t,e]}:function(e,t){return[e,t]},a=i.width,s=i[e],l=i[t];return n=s===l?[].concat(o(r,i.highY)).concat(o(r,i.lowY)).concat(o(r,i.closeY)).concat(o(r-a/2,i.closeY)).concat(o(r+a/2,i.closeY)).concat(o(r,i.closeY)):[].concat(o(r,i.highY)).concat(o(r,l)).concat(o(r+a/2,l)).concat(o(r+a/2,s)).concat(o(r,s)).concat(o(r,i.lowY)).concat(o(r,s)).concat(o(r-a/2,s)).concat(o(r-a/2,l)).concat(o(r,l))},_getCategoryPoints:function(e){var t=this,n=t.x,i=t._options.rotated?function(e,t){return[t,e]}:function(e,t){return[e,t]};return[].concat(i(n,t.highY)).concat(i(n,t.lowY)).concat(i(n,e)).concat(i(n-t.width/2,e)).concat(i(n+t.width/2,e)).concat(i(n,e))},_getPoints:function(){var e,t,n,i=this,o=i.openValue,a=i.closeValue;return r(o)&&r(a)?(t=o>a?"closeY":"openY",n=o>a?"openY":"closeY",e=i._getContinuousPoints(t,n)):e=o===a?[i.x,i.highY,i.x,i.lowY]:i._getCategoryPoints(r(o)?i.openY:i.closeY),e},getColor:function(){var e=this;return e._isReduction?e._options.reduction.color:e._styles.normal.stroke||e.series.getColor()},_drawMarkerInGroup:function(e,t,n){var i=this;i.graphic=n.path(i._getPoints(),"area").attr({"stroke-linecap":"square"}).attr(t).data({"chart-data-point":i}).sharp().append(e)},_fillStyle:function(){var e=this,t=e._options.styles;e._styles=e._isReduction&&e._isPositive?t.reductionPositive:e._isReduction?t.reduction:e._isPositive?t.positive:t},_getMinTrackerWidth:function(){return 2+2*this._styles.normal["stroke-width"]},correctCoordinates:function(e){var t=this._getMinTrackerWidth(),n=10,i=e.width;i=t>i?t:i>n?n:i,this.width=i+i%2,this.xCorrection=e.offset},_getMarkerGroup:function(e){var t,n=this;return t=n._isReduction&&n._isPositive?e.reductionPositiveMarkersGroup:n._isReduction?e.reductionMarkersGroup:n._isPositive?e.defaultPositiveMarkersGroup:e.defaultMarkersGroup},_drawMarker:function(e,t){this._drawMarkerInGroup(this._getMarkerGroup(t),this._getStyle(),e)},_getSettingsForTracker:function(){var e,t,n,i,r=this,o=r.highY,a=r.lowY,u=r._options.rotated;return o===a&&(o=u?o+d:o-d,a=u?a-d:a+d),u?(e=l(a,o),t=r.x-r.width/2,n=s(a-o),i=r.width):(e=r.x-r.width/2,t=l(a,o),n=r.width,i=s(a-o)),{x:e,y:t,width:n,height:i}},_getGraphicBbox:function(){var e=this,t=e._options.rotated,n=e.x,i=e.width,r=e.lowY,o=e.highY;return{x:t?r:n-c(i/2),y:t?n-c(i/2):o,width:t?o-r:i,height:t?i:r-o}},getTooltipParams:function(e){var t=this;if(t.graphic){var n,i,r,o,a=l(t.lowY,t.highY),s=u(t.lowY,t.highY),c=t.translators.x.getCanvasVisibleArea(),d=t.translators.y.getCanvasVisibleArea(),h="edge"===e;return t._options.rotated?(r=u(c.min,a),o=l(c.max,s),i=t.x,n=h?o:r+(o-r)/2):(r=u(d.min,a),o=l(d.max,s),n=t.x,i=h?r:r+(o-r)/2),{x:n,y:i,offset:0}}},hasValue:function(){return null!==this.highValue&&null!==this.lowValue},_translate:function(){var e,t,n=this,i=n._options.rotated,r=n.translators,o=i?r.y:r.x,a=i?r.x:r.y;n.vx=n.vy=n.x=o.translate(n.argument)+(n.xCorrection||0),n.openY=null!==n.openValue?a.translate(n.openValue):null,n.highY=a.translate(n.highValue),n.lowY=a.translate(n.lowValue),n.closeY=null!==n.closeValue?a.translate(n.closeValue):null,t=s(n.lowY-n.highY),e=l(n.lowY,n.highY)+s(n.lowY-n.highY)/2,n._calculateVisibility(i?e:n.x,i?n.x:e)},getCrosshairData:function(e,t){var n,i,r=this,o=r._options.rotated,a=o?e:t,l=r.argument,u="low";return s(r.lowY-a)<s(r.closeY-a)?n=r.lowY:(n=r.closeY,u="close"),s(n-a)>=s(r.openY-a)&&(n=r.openY,u="open"),s(n-a)>=s(r.highY-a)&&(n=r.highY,u="high"),i=o?{y:r.vy,x:n,xValue:r[u+"Value"],yValue:l}:{x:r.vx,y:n,xValue:l,yValue:r[u+"Value"]},i.axis=r.series.axis,i},_updateData:function(e){var t=this,n=t._label,i=this._options.reduction.color;t.value=t.initialValue=e.reductionValue,t.originalValue=e.value,t.lowValue=t.originalLowValue=e.lowValue,t.highValue=t.originalHighValue=e.highValue,t.openValue=t.originalOpenValue=e.openValue,t.closeValue=t.originalCloseValue=e.closeValue,t._isPositive=e.openValue<e.closeValue,t._isReduction=e.isReduction,t._isReduction&&n.setColor(i)},_updateMarker:function(e,t,n){var i=this,r=i.graphic;r.attr({points:i._getPoints()}).attr(t||i._getStyle()).sharp(),n&&r.append(i._getMarkerGroup(n))},_getLabelFormatObject:function(){var e=this;return{openValue:e.openValue,highValue:e.highValue,lowValue:e.lowValue,closeValue:e.closeValue,reductionValue:e.initialValue,argument:e.initialArgument,value:e.initialValue,seriesName:e.series.name,originalOpenValue:e.originalOpenValue,originalCloseValue:e.originalCloseValue,originalLowValue:e.originalLowValue,originalHighValue:e.originalHighValue,originalArgument:e.originalArgument,point:e}},_getFormatObject:function(e){var t=this,n=e.formatValue(t.highValue),r=e.formatValue(t.openValue),a=e.formatValue(t.closeValue),s=e.formatValue(t.lowValue),l=i.symbolPoint,u=l._getFormatObject.call(t,e);return o({},u,{valueText:"h: "+n+(""!==r?" o: "+r:"")+(""!==a?" c: "+a:"")+" l: "+s,highValueText:n,openValueText:r,closeValueText:a,lowValueText:s})}})}(jQuery,DevExpress),function(e,t){var n=t.viz.series.points.mixins,i=e.extend,r=e.isNumeric;n.stockPoint=i({},n.candlestickPoint,{_getPoints:function(){var e,t=this,n=t._options.rotated?function(e,t){return[t,e]}:function(e,t){return[e,t]},i=r(t.openY),o=r(t.closeY),a=t.x,s=t.width;return e=[].concat(n(a,t.highY)),i&&(e=e.concat(n(a,t.openY))),i&&(e=e.concat(n(a-s/2,t.openY))),i&&(e=e.concat(n(a,t.openY))),o&&(e=e.concat(n(a,t.closeY))),o&&(e=e.concat(n(a+s/2,t.closeY))),o&&(e=e.concat(n(a,t.closeY))),e=e.concat(n(a,t.lowY))},_drawMarkerInGroup:function(e,t,n){this.graphic=n.path(this._getPoints(),"line").attr({"stroke-linecap":"square"}).attr(t).data({"chart-data-point":this}).sharp().append(e)},_getMinTrackerWidth:function(){var e=2+this._styles.normal["stroke-width"];return e+e%2}})}(jQuery,DevExpress),function(e,t){var n=e.extend,i=t.viz,r=i.series.points.mixins,o=t.require("/utils/utils.common"),a=o.isDefined,s=t.require("/utils/utils.math"),l=s.normalizeAngle,u=Math,c=u.max,d=90,h="canvas_position_start",p="canvas_position_top",f="canvas_position_end",m="canvas_position_default";r.polarSymbolPoint=n({},r.symbolPoint,{_getLabelCoords:r.piePoint._getLabelCoords,_moveLabelOnCanvas:r.barPoint._moveLabelOnCanvas,_getLabelPosition:function(){return"outside"},_translate:function(e){var t=this,n=e.translate(t.argument,t.value),i=e.translate(h,p);t.vx=l(n.angle),t.vy=t.radiusOuter=t.radiusLabels=n.radius,t.radius=n.radius,t.middleAngle=-n.angle,t.angle=-n.angle,t.x=n.x,t.y=n.y,t.defaultX=t.centerX=i.x,t.defaultY=t.centerY=i.y,t._translateErrorBars(e),t.inVisibleArea=!0},_translateErrorBars:function(e){var t=this,n=t._options.errorBars;n&&(a(t.lowError)&&(t._lowErrorCoord=t.centerY-e.translate(t.argument,t.lowError).radius),a(t.highError)&&(t._highErrorCoord=t.centerY-e.translate(t.argument,t.highError).radius),t._errorBarPos=t.centerX,t._baseErrorBarPos="stdDeviation"===n.type?t._lowErrorCoord+(t._highErrorCoord-t._lowErrorCoord)/2:t.centerY-t.radius)},_getTranslates:function(e){return e?this.getDefaultCoords():{x:this.x,y:this.y}},getDefaultCoords:function(){var e=s.getCosAndSin(-this.angle),t=this.translators.translate(h,m).radius,n=this.defaultX+t*e.cos,i=this.defaultY+t*e.sin;return{x:n,y:i}},_addLabelAlignmentAndOffset:function(e,t){return t},_checkLabelPosition:function(e,t){var n=this,i=n._getVisibleArea(),r=n._getGraphicBbox();return n._isPointInVisibleArea(i,r)&&(t=n._moveLabelOnCanvas(t,i,e.getBoundingRect())),t},_getErrorBarSettings:function(e,t){var n=r.symbolPoint._getErrorBarSettings.call(this,e,t);return n.rotate=d-this.angle,n.rotateX=this.centerX,n.rotateY=this.centerY,n},getCoords:function(e){return e?this.getDefaultCoords():{x:this.x,y:this.y}}}),r.polarBarPoint=n({},r.barPoint,{_translateErrorBars:r.polarSymbolPoint._translateErrorBars,_getErrorBarSettings:r.polarSymbolPoint._getErrorBarSettings,_moveLabelOnCanvas:r.barPoint._moveLabelOnCanvas,_getLabelCoords:r.piePoint._getLabelCoords,_getLabelConnector:r.piePoint._getLabelConnector,getBoundaryCoords:r.piePoint.getBoundaryCoords,getTooltipParams:r.piePoint.getTooltipParams,_getLabelPosition:r.piePoint._getLabelPosition,_translate:function(e){var t=this,n=e.translate(p,f).radius;t.radiusInner=e.translate(t.argument,t.minValue).radius,r.polarSymbolPoint._translate.call(t,e),null===t.radiusInner?t.radiusInner=t.radius=n:null===t.radius&&(this.radius=this.value>=0?n:0),t.radiusOuter=t.radiusLabels=c(t.radiusInner,t.radius),t.radiusInner=t.defaultRadius=u.min(t.radiusInner,t.radius),t.middleAngle=t.angle=-l(t.middleAngleCorrection-t.angle)},_checkVisibility:function(e){return e.checkVisibility(this.radius,this.radiusInner)},getMarkerCoords:function(){return{x:this.centerX,y:this.centerY,outerRadius:this.radiusOuter,innerRadius:this.defaultRadius,startAngle:this.middleAngle-this.interval/2,endAngle:this.middleAngle+this.interval/2}},_drawMarker:function(e,t,n){var i=this,r=i._getStyle(),o=i.getMarkerCoords(),a=o.innerRadius,s=o.outerRadius,l=i.translators.translate(i.argument,m),u=o.x,c=o.y;n&&(a=0,s=0,u=l.x,c=l.y),i.graphic=e.arc(u,c,a,s,o.startAngle,o.endAngle).attr(r).data({"chart-data-point":i}).append(t)},_checkLabelPosition:function(e,t){var n=this,i=n._getVisibleArea(),r=s.getCosAndSin(n.middleAngle),o=n.centerX+n.defaultRadius*r.cos,a=n.centerY-n.defaultRadius*r.sin;return o>i.minX&&o<i.maxX&&a>i.minY&&a<i.maxY&&(t=n._moveLabelOnCanvas(t,i,e.getBoundingRect())),t},_addLabelAlignmentAndOffset:function(e,t){return t},correctCoordinates:function(e){this.middleAngleCorrection=e.offset,this.interval=e.width},coordsIn:function(e,t){var n=this.translators.untranslate(e,t),i=this.getMarkerCoords(),r=i.startAngle<i.endAngle?-n.phi>=i.startAngle&&-n.phi<=i.endAngle:-n.phi<=i.startAngle&&-n.phi>=i.endAngle;return n.r>=i.innerRadius&&n.r<=i.outerRadius&&r}})}(jQuery,DevExpress),function(e,t,n){function i(e,t,i,r){r>=0&&K(e.slice(r),function(e,r){N(r[i])&&(t[i]+=r[i],r[i]=r["original"+i]=n)})}function r(e,t){function n(e,t,i,r){if(i>t){var a=Math.floor((t+i)/2);n(e,t,a,r),n(e,a+1,i,r),o(e,t,a,i,r)}}var i=e.length;return n(e,0,i-1,t),e}function o(e,t,n,i,r){for(var o,a=new Array(i-t+1),s=t,l=n+1,u=0;n>=s&&i>=l;)e[s][r]<=e[l][r]||!N(e[l][r])?(a[u]=e[s],s++):(a[u]=e[l],l++),u++;if(s>n)for(o=l;i>=o;o++,u++)a[u]=e[o];else for(o=s;n>=o;o++,u++)a[u]=e[o];for(o=0;i-t>=o;o++)e[o+t]=a[o];return e}function a(e,t){t.valueType=t.valueAxisType=null,K(t,u),t.valueAxis&&t.valueAxis.resetTypes(L)}function s(e,t){var i=[];return K(e,function(e,r){var o=t(r);o!==n&&i.push(o)}),i}function l(e,t){var n=e.argumentOptions&&e.argumentOptions.categories,i=t[1];K(e,function(e,t){var n=t.valueOptions&&t.valueOptions.categories;n&&(t.valueOptions.categories=s(n,i))}),n&&(e.argumentOptions.categories=s(n,t[0]))}function u(e,t){t.updateDataType({})}function c(e,t){t.resetTypes(F)}function d(e,t,n){return 0>=e&&(n("E2004",[t]),e=null),e}function h(e){return e}function p(e,t){var n=t;return t===B||G(e)?n=B:t===P||q(e)?n=P:U(e)&&(n=O),n}function f(e,t,n,i){return e===B&&(t===R||t===V)&&i("E2002"),t===V?V:n||t===M||e===B?M:R}function m(e,t,n){e&&n(U(e)||q(e)||G(e)?"E2004":"E2003",[t])}function g(e,t,i,r,o){var a=e?H(e):h,s=t===V?d:h;return function(e,t){var l=s(a(e),t,o);return null===l&&i&&(l=n),l===n&&(r[t]=(r[t]||0)+1,m(e,t,o)),l}}function _(e,t,n){var i,r,o,a=g(e.argumentType,e.argumentAxisType,!1,t,n),s=[a],u={},c=[];return K(e,function(e,l){K(l,function(e,c){o=c.getOptions().ignoreEmptyPoints,r=g(l.valueType,l.valueAxisType,o,t,n),i=g(O,R,o,t,n),u[c.getArgumentField()]=a,K(c.getValueFields(),function(e,t){s[1]||(s[1]=r),u[t]=r}),c.getSizeField()&&(u[c.getSizeField()]=i),c.getTagField()&&(u[c.getTagField()]=h)})}),K(u,function(e,t){c.push([e,t])}),c.length&&l(e,s),c}function v(e,t){for(var n,i,r=t.length,o={},a=0;r>a;++a)n=t[a][0],i=e[n],o[n]=t[a][1](i,n),o["original"+n]=i;return o}function y(e,t){var n,i=[],r=e.length;for(i.length=r,n=0;r>n;++n)i[n]=v(e[n],t);return i}function x(e,t,n){for(var i,r=e.length,o=0;r>o&&(i=e[o][t],!(N(i)&&n>i));++o);return o}function b(e,t,n,r){r=r||{};var o,a=r.mode,s={};a&&"none"!==a&&(s[t]=String(r.groupName||"others"),s[n]=0,o=e.slice(),o.sort(function(e,t){var i=N(e[n])?1:0,r=N(t[n])?1:0;return i&&r?t[n]-e[n]:r-i}),i(o,s,n,"smallValueThreshold"===a?x(o,n,r.threshold):r.topCount),s[n]&&e.push(s))}function w(e,t){var n=t[0]&&t[0][0]&&("pie"===t[0][0].type||"doughnut"===t[0][0].type||"donut"===t[0][0].type);n&&K(t,function(t,n){K(n,function(t,n){b(e,n.getArgumentField(),n.getValueFields()[0],n.getOptions().smallValuesGrouping)})})}function C(e,t,n,i){var o={},a=t.length&&t[0].length&&t[0][0].getArgumentField();j(n)?e.sort(n):i.length?(K(i,function(e,t){o[t]=e}),e.sort(function(e,t){return e=e[a],t=t[a],o[e]-o[t]})):n===!0&&t.argumentType!==B&&r(e,a)}function S(e,t){return K(e,function(n,i){K(i.getValueFields(),function(n,i){e.valueType=p(t[i],e.valueType)})}),e.valueType}function k(e,t,n){return K(e,function(e,i){n.argumentType=p(t[i.getArgumentField()],n.argumentType)}),n.argumentType}function D(e,t,n){var i=[],r=[],o=t.argumentOptions&&z(t.argumentOptions.argumentType);K(t,function(e,n){if(!n.length)return null;var a=n.valueOptions&&z(n.valueOptions.valueType);n.valueType=a,t.argumentType=o,a||i.push(n),o||r.push(n)}),(i.length||r.length)&&K(e,function(e,o){var a,s;return K(i,function(e,t){a=S(t,o)}),K(r,function(e,n){s=k(n,o,t)}),!n&&a&&s?!1:void 0})}function T(e,t,n){var i=e.argumentOptions||{},r=f(e.argumentType,i.type,!!t.length,n);K(e,function(t,i){var o=i.valueOptions||{},a=o.categories||[],s=f(i.valueType,o.type,!!a.length,n);K(i,function(t,n){var a={};a.argumentAxisType=r,a.valueAxisType=s,e.argumentAxisType=e.argumentAxisType||a.argumentAxisType,i.valueAxisType=i.valueAxisType||a.valueAxisType,a.argumentType=e.argumentType,a.valueType=i.valueType,a.showZero=o.showZero,n.updateDataType(a)}),i.valueAxisType=i.valueAxisType||s,i.valueAxis&&(i.valueAxis.setTypes(i.valueAxisType,i.valueType,L),i.valueAxis.validate(!1))}),e.argumentAxisType=e.argumentAxisType||r,e.argumentAxes&&K(e.argumentAxes,function(t,n){n.setTypes(e.argumentAxisType,e.argumentType,F),n.validate(!0)})}function E(e,t){var n,i,r,o,a=[],s=!W(e);if(!s)for(n=0,i=e.length,r=0;i>n;++n)o=e[n],Y(o)?a[r++]=o:o&&(s=!0);return s&&t("E2001"),a}function I(e,t,n,i){var r,o,s={},l=t.argumentOptions&&t.argumentOptions.categories||[];return e=E(e,n),t.argumentType=t.argumentAxisType=null,K(t,a),t.argumentAxes&&K(t.argumentAxes,c),D(e,t,i.checkTypeForAllData),T(t,l,n),i.convertToAxisDataType&&(r=_(t,s,n),e=y(e,r)),w(e,t),C(e,t,i.sortingMethod,l),o=e.length,K(s,function(e,t){t===o&&n("W2002",[e])}),e}var A=e.viz,$=e.require("/utils/utils.common"),B="string",O="numeric",P="datetime",M="discrete",R="continuous",V="logarithmic",L="valueType",F="argumentType",z=A.utils.enumParser([B,O,P]),H=A.parseUtils.getParser,N=$.isDefined,j=$.isFunction,W=$.isArray,G=$.isString,q=$.isDate,U=$.isNumber,Y=$.isObject,K=t.each;
A.validateData=I}(DevExpress,jQuery),function(e,t){var n="#ffffff",i="#000000",r="#d3d3d3",o="#303030",a="#2b2b2b",s="#ff0000",l="#232323",u="#767676",c="#cf00da",d="#f8ca00",h="#8e8e8e",p="#b8b8b8",f="#c7c7c7",m="#686868",g="#b5b5b5",_="none",v="solid",y="top",x="right",b="bottom",w="left",C="center",S="inside",k="outside",D=e.viz,T=D.registerTheme,E=D.registerThemeAlias;T({name:"generic.light",font:{color:u,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",weight:400,size:12,cursor:"default"},redrawOnResize:!0,backgroundColor:n,primaryTitleColor:l,secondaryTitleColor:u,axisColor:r,axisLabelColor:u,title:{font:{size:28,family:"'Segoe UI Light', 'Helvetica Neue Light', 'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",weight:200},subtitle:{font:{size:16}}},loadingIndicator:{text:"Loading..."},tooltip:{enabled:!1,border:{width:1,color:r,dashStyle:v,visible:!0},font:{color:l},color:n,arrowLength:10,paddingLeftRight:18,paddingTopBottom:15,shared:!1,location:C,format:"",argumentFormat:"",precision:0,argumentPrecision:0,percentPrecision:0,shadow:{opacity:.4,offsetX:0,offsetY:4,blur:2,color:i}},legend:{hoverMode:"includePoints",verticalAlignment:y,horizontalAlignment:x,position:k,visible:!0,margin:10,markerSize:12,border:{visible:!1,width:1,cornerRadius:0,dashStyle:v},paddingLeftRight:20,paddingTopBottom:15,columnCount:0,rowCount:0,columnItemSpacing:20,rowItemSpacing:8},"chart:common":{animation:{enabled:!0,duration:1e3,easing:"easeOutCubic",maxPointCountSupported:300},commonSeriesSettings:{border:{visible:!1,width:2},showInLegend:!0,visible:!0,hoverMode:"nearestPoint",selectionMode:"includePoints",hoverStyle:{hatching:{direction:x,width:2,step:6,opacity:.75},border:{visible:!1,width:3}},selectionStyle:{hatching:{direction:x,width:2,step:6,opacity:.5},border:{visible:!1,width:3}},valueErrorBar:{displayMode:"auto",value:1,color:i,lineWidth:2,edgeLength:8},label:{visible:!1,alignment:C,rotationAngle:0,horizontalOffset:0,verticalOffset:0,radialOffset:0,format:"",argumentFormat:"",precision:0,argumentPrecision:0,percentPrecision:0,showForZeroValues:!0,customizeText:t,maxLabelCount:t,position:k,font:{color:n},border:{visible:!1,width:1,color:r,dashStyle:v},connector:{visible:!1,width:1}}},seriesSelectionMode:"single",pointSelectionMode:"single",equalRowHeight:!0,dataPrepareSettings:{checkTypeForAllData:!1,convertToAxisDataType:!0,sortingMethod:!0},title:{margin:10},adaptiveLayout:{width:80,height:80,keepLabels:!0},_rtl:{legend:{itemTextPosition:w}},resolveLabelOverlapping:_},"chart:common:axis":{visible:!1,setTicksAtUnitBeginning:!0,valueMarginsEnabled:!0,placeholderSize:null,logarithmBase:10,discreteAxisDivisionMode:"betweenLabels",width:1,label:{visible:!0,precision:0,format:""},grid:{visible:!1,width:1},minorGrid:{visible:!1,width:1,opacity:.3},tick:{visible:!1,width:1,length:8},minorTick:{visible:!1,width:1,opacity:.3,length:8},stripStyle:{paddingLeftRight:10,paddingTopBottom:5},constantLineStyle:{width:1,color:i,dashStyle:v,label:{visible:!0,position:S}},marker:{label:{}}},chart:{commonSeriesSettings:{type:"line",stack:"default",point:{visible:!0,symbol:"circle",size:12,border:{visible:!1,width:1},hoverMode:"onlyPoint",selectionMode:"onlyPoint",hoverStyle:{border:{visible:!0,width:4},size:12},selectionStyle:{border:{visible:!0,width:4},size:12}},scatter:{},line:{width:2,dashStyle:v,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},stackedline:{width:2,dashStyle:v,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},stackedspline:{width:2,dashStyle:v,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},fullstackedline:{width:2,dashStyle:v,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},fullstackedspline:{width:2,dashStyle:v,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},stepline:{width:2,dashStyle:v,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},area:{point:{visible:!1},opacity:.5},stackedarea:{point:{visible:!1},opacity:.5},fullstackedarea:{point:{visible:!1},opacity:.5},fullstackedsplinearea:{point:{visible:!1},opacity:.5},steparea:{border:{visible:!0,width:2},point:{visible:!1},hoverStyle:{border:{visible:!0,width:3}},selectionStyle:{border:{visible:!0,width:3}},opacity:.5},spline:{width:2,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},splinearea:{point:{visible:!1},opacity:.5},stackedsplinearea:{point:{visible:!1},opacity:.5},bar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}}},stackedbar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}},label:{position:S}},fullstackedbar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}},label:{position:S}},rangebar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}}},rangearea:{point:{visible:!1},opacity:.5},rangesplinearea:{point:{visible:!1},opacity:.5},bubble:{opacity:.5,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}}},candlestick:{width:1,reduction:{color:s},hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3},point:{border:{visible:!0}}},stock:{width:1,reduction:{color:s},hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3},point:{border:{visible:!0}}}},crosshair:{enabled:!1,color:"#f05b41",width:1,dashStyle:v,label:{visible:!1,font:{color:n,size:12}},verticalLine:{visible:!0},horizontalLine:{visible:!0}},commonAxisSettings:{multipleAxesSpacing:5,label:{overlappingBehavior:{mode:"enlargeTickInterval",rotationAngle:90,staggeringSpacing:5},indentFromAxis:10},title:{font:{size:16},margin:6},constantLineStyle:{paddingLeftRight:10,paddingTopBottom:10}},horizontalAxis:{position:b,axisDivisionFactor:50,label:{alignment:C},stripStyle:{label:{horizontalAlignment:C,verticalAlignment:y}},constantLineStyle:{label:{horizontalAlignment:x,verticalAlignment:y}},constantLines:{}},verticalAxis:{position:w,axisDivisionFactor:30,label:{alignment:x,overlappingBehavior:{mode:"enlargeTickInterval"}},stripStyle:{label:{horizontalAlignment:w,verticalAlignment:C}},constantLineStyle:{label:{horizontalAlignment:w,verticalAlignment:y}},constantLines:{}},argumentAxis:{},valueAxis:{grid:{visible:!0}},commonPaneSettings:{backgroundColor:_,border:{color:r,width:1,visible:!1,top:!0,bottom:!0,left:!0,right:!0,dashStyle:v}},scrollBar:{visible:!1,offset:5,color:"gray",width:10},useAggregation:!1,adjustOnZoom:!0,rotated:!1,zoomingMode:_,scrollingMode:_,synchronizeMultiAxes:!0,equalBarWidth:!0,minBubbleSize:12,maxBubbleSize:.2},pie:{innerRadius:.5,type:"pie",commonSeriesSettings:{pie:{border:{visible:!1,width:2,color:n},hoverStyle:{hatching:{direction:x,width:4,step:10,opacity:.75},border:{visible:!1,width:2}},selectionStyle:{hatching:{direction:x,width:4,step:10,opacity:.5},border:{visible:!1,width:2}}},doughnut:{border:{visible:!1,width:2,color:n},hoverStyle:{hatching:{direction:x,width:4,step:10,opacity:.75},border:{visible:!1,width:2}},selectionStyle:{hatching:{direction:x,width:4,step:10,opacity:.5},border:{visible:!1,width:2}}},donut:{border:{visible:!1,width:2,color:n},hoverStyle:{hatching:{direction:x,width:4,step:10,opacity:.75},border:{visible:!1,width:2}},selectionStyle:{hatching:{direction:x,width:4,step:10,opacity:.5},border:{visible:!1,width:2}}}},legend:{hoverMode:"allArgumentPoints",backgroundColor:_},adaptiveLayout:{keepLabels:!1}},pieIE8:{commonSeriesSettings:{pie:{hoverStyle:{border:{visible:!0,color:n}},selectionStyle:{border:{visible:!0,color:n}}},donut:{hoverStyle:{border:{visible:!0,color:n}},selectionStyle:{border:{visible:!0,color:n}}},doughnut:{hoverStyle:{border:{visible:!0,color:n}},selectionStyle:{border:{visible:!0,color:n}}}}},gauge:{scale:{tick:{visible:!0,length:5,width:2,opacity:1},minorTick:{visible:!1,length:3,width:1,opacity:1},label:{visible:!0,alignment:C,overlappingBehavior:{hideFirstOrLast:"last",useAutoArrangement:!0}},position:y},rangeContainer:{offset:0,width:5,backgroundColor:"#808080"},valueIndicators:{_default:{color:"#c2c2c2"},rangebar:{space:2,size:10,color:"#cbc5cf",backgroundColor:_,text:{indent:0,font:{size:14,color:null}}},twocolorneedle:{secondColor:"#e18e92"},trianglemarker:{space:2,length:14,width:13,color:"#8798a5"},textcloud:{arrowLength:5,horizontalOffset:6,verticalOffset:3,color:"#679ec5",text:{font:{color:n,size:18}}}},indicator:{hasPositiveMeaning:!0,layout:{horizontalAlignment:C,verticalAlignment:b},text:{font:{size:18}}},_circular:{scale:{orientation:k,label:{indentFromTick:10}},rangeContainer:{orientation:k},valueIndicatorType:"rectangleneedle",subvalueIndicatorType:"trianglemarker",valueIndicators:{_type:"rectangleneedle",_default:{offset:20,indentFromCenter:0,width:2,spindleSize:14,spindleGapSize:10},triangleneedle:{width:4},twocolorneedle:{space:2,secondFraction:.4},rangebar:{offset:30},trianglemarker:{offset:6},textcloud:{offset:-6}}},_linear:{scale:{horizontalOrientation:x,verticalOrientation:b,label:{indentFromTick:-10}},rangeContainer:{horizontalOrientation:x,verticalOrientation:b},valueIndicatorType:"rangebar",subvalueIndicatorType:"trianglemarker",valueIndicators:{_type:"rectangle",_default:{offset:2.5,length:15,width:15},rectangle:{width:10},rangebar:{offset:10,horizontalOrientation:x,verticalOrientation:b},trianglemarker:{offset:10,horizontalOrientation:w,verticalOrientation:y},textcloud:{offset:-1,horizontalOrientation:w,verticalOrientation:y}}}},barGauge:{backgroundColor:"#e0e0e0",relativeInnerRadius:.3,barSpacing:4,label:{indent:20,connectorWidth:2,font:{size:16}},indicator:{hasPositiveMeaning:!0,layout:{horizontalAlignment:C,verticalAlignment:b},text:{font:{size:18}}}},rangeSelector:{scale:{width:1,color:i,opacity:.1,showCustomBoundaryTicks:!0,showMinorTicks:!0,useTicksAutoArrangement:!0,setTicksAtUnitBeginning:!0,label:{alignment:"center",visible:!0,topIndent:7,font:{size:11}},tick:{width:1,color:i,opacity:.17,visible:!0,length:12},minorTick:{width:1,color:i,opacity:.05,visible:!0,length:12},marker:{width:1,color:"#000000",opacity:.1,visible:!0,separatorHeight:33,topIndent:10,textLeftIndent:7,textTopIndent:11,label:{}},logarithmBase:10},selectedRangeColor:"#606060",sliderMarker:{visible:!0,paddingTopBottom:2,paddingLeftRight:4,color:"#606060",invalidRangeColor:s,font:{color:n,size:11}},sliderHandle:{width:1,color:i,opacity:.2},shutter:{opacity:.75},background:{color:"#c0bae1",visible:!0,image:{location:"full"}},behavior:{snapToTicks:!0,animationEnabled:!0,moveSelectedRangeByClick:!0,manualRangeSelectionEnabled:!0,allowSlidersSwap:!0,callSelectedRangeChanged:"onMovingComplete"},redrawOnResize:!0,chart:{useAggregation:!1,equalBarWidth:!0,minBubbleSize:12,maxBubbleSize:.2,topIndent:.1,bottomIndent:0,valueAxis:{inverted:!1,logarithmBase:10},commonSeriesSettings:{type:"area",point:{visible:!1},scatter:{point:{visible:!0}}}}},map:{title:{margin:10},background:{borderWidth:1,borderColor:"#cacaca"},layer:{label:{enabled:!1,stroke:n,"stroke-width":1,"stroke-opacity":.7,font:{color:a,size:12}}},"layer:area":{borderWidth:1,borderColor:n,color:"#d2d2d2",hoveredBorderColor:o,selectedBorderWidth:2,selectedBorderColor:o,label:{"stroke-width":2,font:{size:16}}},"layer:line":{borderWidth:2,color:"#ba8365",hoveredColor:"#a94813",selectedBorderWidth:3,selectedColor:"#e55100",label:{"stroke-width":2,font:{size:16}}},"layer:marker":{label:{enabled:!0,"stroke-width":1,font:{size:12}}},"layer:marker:dot":{borderWidth:2,borderColor:n,color:"#ba4d51",size:8,selectedStep:2,backStep:18,backColor:n,backOpacity:.32,shadow:!0},"layer:marker:bubble":{minSize:20,maxSize:50,color:"#ba4d51",hoveredBorderWidth:1,hoveredBorderColor:o,selectedBorderWidth:2,selectedBorderColor:o},"layer:marker:pie":{size:50,hoveredBorderWidth:1,hoveredBorderColor:o,selectedBorderWidth:2,selectedBorderColor:o},"layer:marker:image":{size:20},legend:{verticalAlignment:b,horizontalAlignment:x,position:S,backgroundOpacity:.65,border:{visible:!0},paddingLeftRight:16,paddingTopBottom:12,markerColor:"#ba4d51"},controlBar:{borderColor:"#5d5d5d",borderWidth:3,color:n,margin:20,opacity:.3},_rtl:{legend:{itemTextPosition:w}}},sparkline:{lineColor:"#666666",lineWidth:2,areaOpacity:.2,minColor:"#e8c267",maxColor:"#e55253",barPositiveColor:"#a9a9a9",barNegativeColor:"#d7d7d7",winColor:"#a9a9a9",lossColor:"#d7d7d7",firstLastColor:"#666666",pointSymbol:"circle",pointColor:n,pointSize:4,type:"line",argumentField:"arg",valueField:"val",winlossThreshold:0,showFirstLast:!0,showMinMax:!1,tooltip:{enabled:!0}},bullet:{color:"#e8c267",targetColor:"#666666",targetWidth:4,showTarget:!0,showZeroLevel:!0,tooltip:{enabled:!0}},polar:{commonSeriesSettings:{type:"scatter",closed:!0,point:{visible:!0,symbol:"circle",size:12,border:{visible:!1,width:1},hoverMode:"onlyPoint",selectionMode:"onlyPoint",hoverStyle:{border:{visible:!0,width:4},size:12},selectionStyle:{border:{visible:!0,width:4},size:12}},scatter:{},line:{width:2,dashStyle:v,hoverStyle:{width:3,hatching:{direction:_}},selectionStyle:{width:3}},area:{point:{visible:!1},opacity:.5},stackedline:{width:2},bar:{opacity:.8},stackedbar:{opacity:.8}},adaptiveLayout:{width:170,height:170,keepLabels:!0},equalBarWidth:!0,commonAxisSettings:{visible:!0,label:{overlappingBehavior:{mode:"enlargeTickInterval"},indentFromAxis:5},grid:{visible:!0},minorGrid:{visible:!0},tick:{visible:!0},title:{font:{size:16},margin:10}},argumentAxis:{startAngle:0,firstPointOnStartAngle:!1,period:t},valueAxis:{tick:{visible:!1}},horizontalAxis:{position:y,axisDivisionFactor:50,label:{alignment:C}},verticalAxis:{position:y,axisDivisionFactor:30,label:{alignment:x}}}}),T({name:"generic.dark",font:{color:"#808080"},backgroundColor:o,primaryTitleColor:"#dbdbdb",secondaryTitleColor:"#a3a3a3",axisColor:"#555555",axisLabelColor:"#a3a3a3",tooltip:{color:a,border:{color:"#494949"},font:{color:"#929292"}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#494949"}},valueErrorBar:{color:n}}},"chart:common:axis":{constantLineStyle:{color:n}},chart:{commonPaneSettings:{border:{color:"#494949"}}},pieIE8:{commonSeriesSettings:{pie:{hoverStyle:{border:{color:a}},selectionStyle:{border:{color:a}}},donut:{hoverStyle:{border:{color:a}},selectionStyle:{border:{color:a}}},doughnut:{hoverStyle:{border:{color:a}},selectionStyle:{border:{color:a}}}}},gauge:{rangeContainer:{backgroundColor:g},valueIndicators:{_default:{color:g},rangebar:{color:"#84788b"},twocolorneedle:{secondColor:"#ba544d"},trianglemarker:{color:"#b7918f"},textcloud:{color:"#ba544d"}}},barGauge:{backgroundColor:"#3c3c3c"},rangeSelector:{scale:{tick:{color:n,opacity:.32},minorTick:{color:n,opacity:.1}},selectedRangeColor:g,sliderMarker:{color:g,font:{color:o}},sliderHandle:{color:n,opacity:.2},shutter:{color:a,opacity:.9}},map:{background:{borderColor:"#3f3f3f"},layer:{label:{stroke:i,font:{color:n}}},"layer:area":{borderColor:o,color:m,hoveredBorderColor:n,selectedBorderColor:n},"layer:line":{color:"#c77244",hoveredColor:"#ff5d04",selectedColor:"#ff784f"},"layer:marker:bubble":{hoveredBorderColor:n,selectedBorderColor:n},"layer:marker:pie":{hoveredBorderColor:n,selectedBorderColor:n},legend:{border:{color:"#3f3f3f"},font:{color:n}},controlBar:{borderColor:f,color:o}},sparkline:{lineColor:f,firstLastColor:f,barPositiveColor:p,barNegativeColor:h,winColor:p,lossColor:h,pointColor:o},bullet:{targetColor:h}},"generic.light"),T({name:"generic.contrast",defaultPalette:"Bright",font:{color:n},backgroundColor:i,primaryTitleColor:n,secondaryTitleColor:n,axisColor:n,axisLabelColor:n,tooltip:{border:{color:n},font:{color:n},color:i},"chart:common":{commonSeriesSettings:{valueErrorBar:{color:n},hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}},label:{font:{color:n},border:{color:n}}}},"chart:common:axis":{constantLineStyle:{color:n}},chart:{commonSeriesSettings:{},commonPaneSettings:{backgroundColor:i,border:{color:n}},scrollBar:{color:n}},pie:{commonSeriesSettings:{pie:{hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}}},doughnut:{hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}}},donut:{hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}}}},legend:{backgroundColor:i}},gauge:{rangeContainer:{backgroundColor:n},valueIndicators:{_default:{color:n},rangebar:{color:n,backgroundColor:i},twocolorneedle:{secondColor:n},trianglemarker:{color:n},textcloud:{color:n,text:{font:{color:i}}}}},barGauge:{backgroundColor:"#3c3c3c"},rangeSelector:{scale:{tick:{opacity:.4},minorTick:{opacity:.12}},selectedRangeColor:c,sliderMarker:{color:c},sliderHandle:{color:c,opacity:1},shutter:{opacity:.75},background:{color:i}},map:{background:{borderColor:n},layer:{label:{stroke:i,font:{color:n}}},"layer:area":{borderColor:i,color:m,hoveredBorderColor:n,selectedBorderColor:n,label:{font:{opacity:1}}},"layer:line":{color:"#267cff",hoveredColor:"#f613ff",selectedColor:n},"layer:marker:dot":{borderColor:i,color:d,backColor:i,backOpacity:.32},"layer:marker:bubble":{color:d,hoveredBorderColor:n,selectedBorderColor:n},"layer:marker:pie":{hoveredBorderColor:n,selectedBorderColor:n},legend:{markerColor:d},controlBar:{borderColor:n,color:i,opacity:.3}},sparkline:{pointColor:i},bullet:{},polar:{commonSeriesSettings:{}}},"generic.light"),e.viz.currentTheme("generic.light"),E("desktop.light","generic.light"),E("desktop.dark","generic.dark")}(DevExpress),function(e){var t="android5.light",n=e.viz.registerThemeAlias,i="#767676",r="#e8e8e8",o="#000000";e.viz.registerTheme({name:t,backgroundColor:"#ffffff",primaryTitleColor:"#232323",secondaryTitleColor:i,axisColor:"#d3d3d3",axisLabelColor:i,tooltip:{color:r,font:{color:i}},legend:{font:{color:o}},pieIE8:{commonSeriesSettings:{pie:{hoverStyle:{border:{color:r}},selectionStyle:{border:{color:r}}},donut:{hoverStyle:{border:{color:r}},selectionStyle:{border:{color:r}}},doughnut:{hoverStyle:{border:{color:r}},selectionStyle:{border:{color:r}}}}},rangeSelector:{scale:{tick:{color:o,opacity:.17},minorTick:{color:o,opacity:.05}}}},"generic.light"),n("android",t),n("android.holo-dark",t),n("android.holo-light",t),n("android.dark",t),n("android.light",t)}(DevExpress),function(e){var t="ios7.default",n=e.viz,i="#767676",r="#d3d3d3",o="#000000";n.registerTheme({name:t,backgroundColor:"#ffffff",primaryTitleColor:o,secondaryTitleColor:i,axisColor:"#ececec",axisLabelColor:i,legend:{font:{color:o}},tooltip:{font:{color:i}},"chart:common":{commonSeriesSettings:{label:{border:{color:r}}}},chart:{commonPaneSettings:{border:{color:r}}},rangeSelector:{scale:{tick:{color:o,opacity:.1},minorTick:{color:o,opacity:.03}}}},"generic.light"),n.registerThemeAlias("ios",t)}(DevExpress),function(e){var t=e.viz,n=t.registerTheme,i=t.registerThemeSchemeAlias,r="#000000",o="#ffffff",a="win10.white",s="win10.black",l="win8.white",u="win8.black";n({name:s,backgroundColor:r,primaryTitleColor:o,secondaryTitleColor:"#d8d8d8",axisColor:"#4c4c4c",axisLabelColor:o,title:{font:{color:o}},legend:{font:{color:o}},tooltip:{color:r,font:{color:o}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#454545"}}}},chart:{commonPaneSettings:{border:{color:"#454545"}}},pieIE8:{commonSeriesSettings:{pie:{hoverStyle:{border:{color:r}},selectionStyle:{border:{color:r}}},donut:{hoverStyle:{border:{color:r}},selectionStyle:{border:{color:r}}},doughnut:{hoverStyle:{border:{color:r}},selectionStyle:{border:{color:r}}}}},barGauge:{backgroundColor:"#2b3036"},rangeSelector:{scale:{tick:{color:o,opacity:.23},minorTick:{color:o,opacity:.07}}}},"generic.dark"),n({name:a,backgroundColor:o,primaryTitleColor:r,secondaryTitleColor:"#767676",axisColor:"#ececec",axisLabelColor:r,title:{font:{color:r}},legend:{font:{color:r}},tooltip:{font:{color:r}},rangeSelector:{scale:{tick:{color:r,opacity:.1},minorTick:{color:r,opacity:.03}}}},"generic.light"),i("win10.dark",s),i("win10.light",a),n({name:u},s),n({name:l},a),i("win8.dark",u),i("win8.light",l)}(DevExpress),function(e,t,n){var i=t.viz,r=!i.renderers.isSvg(),o=t.require("/utils/utils.common"),a=o.isString,s=o.isDefined,l=i.utils.normalizeEnum,u="font",c="commonAxisSettings",d=["legend."+u,"title."+u,"title.subtitle."+u,"tooltip."+u,"loadingIndicator."+u,"commonSeriesSettings.label."+u],h=d.concat([c+".label."+u,c+".title."+u]),p=h.concat(["crosshair.label."+u]),f={pie:d,chart:p,polar:h};i.charts=i.charts||{},i.charts.ThemeManager=i.BaseThemeManager.inherit(function(){var t=function(t,n){var i=this;i.callBase.apply(i,arguments),t=t||{},i._userOptions=t,i._mergeAxisTitleOptions=[],i._multiPieColors={},i._themeSection=n,i._fontFields=f[n],i._IE8=r,i._callback=e.noop},i=function(){var e=this;return e.palette&&e.palette.dispose(),e.palette=e._userOptions=e._mergedSettings=e._multiPieColors=null,e.callBase.apply(e,arguments)},o=function(){this.palette.reset(),this._multiPieColors={}},u=function(e){this.palette=this.createPalette(e,{useHighlight:!0})},c=function(e){return a(e)?{text:e}:e},d=function(t){return t?(t=e.extend(!0,{},t),t.title=c(t.title),("logarithmic"===t.type&&t.logarithmBase<=0||t.logarithmBase&&!e.isNumeric(t.logarithmBase))&&(t.logarithmBase=n,t.logarithmBaseError=!0),t.label&&(t.label.alignment&&(t.label.userAlignment=!0),a(t.label.overlappingBehavior)&&(t.label.overlappingBehavior={mode:t.label.overlappingBehavior}),t.label.overlappingBehavior&&t.label.overlappingBehavior.mode||(t.label.overlappingBehavior=t.label.overlappingBehavior||{})),t):void 0},h=function(t,n,i){var r=this._theme,o=i^"valueAxis"===t?"verticalAxis":"horizontalAxis",a=d(this._userOptions.commonAxisSettings,t);return e.extend(!0,{},r.commonAxisSettings,r[o],r[t],a,d(n,t))},p=function(t,n){n=n||this._userOptions[t];var i=this._theme[t],r=this._mergedSettings[t];return r?r:(r=e.isPlainObject(i)&&e.isPlainObject(n)?e.extend(!0,{},i,n):s(n)?n:i,this._mergedSettings[t]=r,r)},m={base:p,argumentAxis:h,valueAxisRangeSelector:function(){return p.call(this,"valueAxis")},valueAxis:h,series:function(t,n){var i,o,a,s=this,u=s._theme,c=s._userOptions.commonSeriesSettings||{},d=u.commonSeriesSettings,h=s._themeSection.split(".").slice(-1)[0],p=l(n.type||c.type||d.type||"pie"===h&&u.type),f=s.palette,m=~p.indexOf("bar"),g=~p.indexOf("line"),_=~p.indexOf("area"),v="bubble"===p,y=s.getOptions("resolveLabelsOverlapping"),x=s.getOptions("resolveLabelOverlapping"),b=s.getOptions("containerBackgroundColor");return(m||v)&&(n=e.extend(!0,{},c,c[p],n),a=n.visible,c={type:{}},e.extend(!0,n,n.point),n.visible=a),i=e.extend(!0,{},d,d[p],c,c[p],n),i.type=p,i.widgetType=h,i.containerBackgroundColor=b,o="pie"!==h?i.color||f.getNextColor():function(e,t){var n=e+t;return s._multiPieColors[n]||(s._multiPieColors[n]=f.getNextColor()),s._multiPieColors[n]},i.mainSeriesColor=o,i._IE8=r,i.resolveLabelOverlapping=x,i.resolveLabelsOverlapping=y,i.label&&(g||_&&"rangearea"!==p||"scatter"===p)&&(i.label.position="outside"),i},animation:function(t){var n=this._userOptions[t];return n=e.isPlainObject(n)?n:s(n)?{enabled:!!n}:{},p.call(this,t,n)}};return{_themeSection:"chart",ctor:t,dispose:i,resetPalette:o,getOptions:function(e){return(m[e]||m.base).apply(this,arguments)},refresh:function(){return this._mergedSettings={},this.callBase.apply(this,arguments)},_initializeTheme:function(){var e=this;e.callBase.apply(e,arguments),e.updatePalette(e.getOptions("palette"))},resetOptions:function(e){this._mergedSettings[e]=null},update:function(e){this._userOptions=e},updatePalette:u}}())}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.charts;i.factory=function(){var e=function(e,t){return new i.ThemeManager(e,t)},t=function(e,t,n,r){return new i.Crosshair(e,t,n,r)};return{createThemeManager:e,createCrosshair:t,createScrollBar:function(e,t){return new DevExpress.viz.charts.ScrollBar(e,t)}}}()}(jQuery,DevExpress),function(e,t,n){function i(){return!0}function r(){return!1}function o(e,t){return!(e.width===t.width&&e.height===t.height&&e.left===t.left&&e.top===t.top&&e.right===t.right&&e.bottom===t.bottom)}function a(e){var t,n=function(){clearTimeout(t),t=setTimeout(e,100)};return n.dispose=function(){return clearTimeout(t),this},n}function s(e){w.apply(null,[e.target.id].concat(e.target.args||[]))}function l(e){var t=v(e)?{text:e}:e||{};return t.subtitle=v(t.subtitle)?{text:t.subtitle}:t.subtitle||{},t}function u(e,t){return m(e>0?e:t||0)}function c(){return{_has:d,_num:0}}function d(e){for(var t=e.length,n=0;!(e[n]in this)&&t>n;++n);return t>n}function h(e,n){function i(t){var i=e[t];o[i.name]=n(t)}function r(e,t,n){o[e](t),n&&n()}var o={};return t.each(e,function(e,t){t.name&&i(e)}),r.update=function(t){var n=e[t];return n&&i(n.newName||t),!!n},r.dispose=function(){e=n=o=null},r}var p=e.viz,f=e.require("/utils/utils.window").resizeCallbacks,m=Number,g=e.require("/domComponent"),_=e.require("/utils/utils.common"),v=_.isString,y=e.require("/utils/utils.string").format,x=p.utils.parseScalar,b=e.require("/vis/core/errorWarnings"),w=b.log,C="rtlEnabled",S="loadingIndicator",k=function(t,n){function i(i,r){n("incidentOccurred",{target:{id:i,type:"E"===i[0]?"error":"warning",args:r,text:y.apply(null,[b.ERROR_MESSAGES[i]].concat(r||[])),widget:t,version:e.VERSION}})}return i};p.BaseWidget=g.inherit({_eventsMap:{onIncidentOccurred:{name:"incidentOccurred"},onDrawn:{name:"drawn"},onTooltipShown:{name:"tooltipShown"},onTooltipHidden:{name:"tooltipHidden"},onLoadingIndicatorReady:{name:"loadingIndicatorReady"}},_getDefaultOptions:function(){return t.extend(this.callBase(),{onIncidentOccurred:s})},_useLinks:!0,_init:function(){var e,t=this;t.callBase.apply(t,arguments),t._themeManager=t._createThemeManager(),t._themeManager.setCallback(function(){t._handleThemeOptions()}),t._initRenderer(),e=t._useLinks&&t._renderer.root,e&&e.enableLinks().virtualLink("core").virtualLink("peripheral"),t._renderVisibilityChange(),t._initEventTrigger(),t._incidentOccured=k(t.NAME,t._eventTrigger),t._initTooltip(),t._initTitle(),e&&e.linkAfter("core"),t._initDataSource(),t._initCore(),e&&e.linkAfter(),t._initLoadingIndicator(),t._setThemeAndRtl(),t._setContentSize(),t._setupResizeHandler()},_initRenderer:function(){var e=this;e._canvas=e._calculateCanvas(),e._renderer=new p.renderers.Renderer({cssClass:e._rootClassPrefix+" "+e._rootClass,pathModified:e.option("pathModified"),container:e._$element[0]}),e._renderer.resize(e._canvas.width,e._canvas.height)},_disposeRenderer:function(){this._renderer.dispose()},_initTitle:function(){this._title=new p.Title({renderer:this._renderer,cssClass:this._rootClassPrefix+"-title",incidentOccured:this._incidentOccured})},_disposeTitle:function(){this._title&&this._title.dispose()},_initTooltip:function(){var e=this;e._tooltip=new p.Tooltip({cssClass:e._rootClassPrefix+"-tooltip",eventTrigger:e._eventTrigger,pathModified:e.option("pathModified")})},_disposeTooltip:function(){this._tooltip&&this._tooltip.dispose()},_initDataSource:function(){var e=this;e._dataSource=new p.DataSource(function(){e._dataSourceChangedHandler()})},_disposeDataSource:function(){this._dataSource.dispose()},_updateDataSource:function(){this._dataSource.update(this.option("dataSource"))},_getAnimationOptions:t.noop,render:function(){this._updateSize(),this._$element.is(":visible")||this._hideTooltip()},_dispose:function(){var e=this;e.callBase.apply(e,arguments),e._removeResizeHandler(),e._eventTrigger.dispose(),e._disposeCore(),e._disposeDataSource(),e._disposeLoadingIndicator(),e._disposeTooltip(),e._disposeTitle(),e._disposeRenderer(),e._themeManager.dispose(),e._themeManager=e._renderer=e._eventTrigger=e._tooltip=e._title=e._dataSource=null},_initEventTrigger:function(){var e=this;e._eventTrigger=h(e._eventsMap,function(t){return e._createActionByOption(t)})},_calculateCanvas:function(){var e=this,t=e.option("size")||{},n=e.option("margin")||{},i=e._getDefaultSize()||{},r={width:t.width<=0?0:u(t.width,e._$element.width()||i.width),height:t.height<=0?0:u(t.height,e._$element.height()||i.height),left:u(n.left,i.left||0),top:u(n.top,i.top||0),right:u(n.right,i.right||0),bottom:u(n.bottom,i.bottom||0)};return(r.width-r.left-r.right<=0||r.height-r.top-r.bottom<=0)&&(r={width:0,height:0}),r},_updateSize:function(){var e=this,t=e._calculateCanvas();(o(e._canvas,t)||e.__forceRender)&&(e._canvas=t,e._renderer.resize(t.width,t.height),e._setContentSize())},_setContentSize:function(){this._applySize(),this._updateLoadingIndicatorSize()},_getOption:function(e,i){var r=this._themeManager.theme(e),o=this.option(e);return i?o!==n?o:r:t.extend(!0,{},r,o)},_setupResizeHandler:function(){x(this._getOption("redrawOnResize",!0),!0)?this._addResizeHandler():this._removeResizeHandler()},_addResizeHandler:function(){var e=this;e._resizeHandler||(e._resizeHandler=a(function(){e._updateSize()}),f.add(e._resizeHandler))},_removeResizeHandler:function(){this._resizeHandler&&(f.remove(this._resizeHandler),this._resizeHandler.dispose(),this._resizeHandler=null)},beginUpdate:function(){var e=this;return e.callBase.apply(e,arguments),e._initialized&&1===e._updateLockCount&&(e._changedOptions=c()),e},endUpdate:function(){var e,t=this;return t._initialized&&1===t._updateLockCount&&(e=t._changedOptions,t._changedOptions=null,e._num&&(t._renderer.lock(),t._changedOptions=c(),t._handleChangedOptions(e),t._changedOptions._num||1!==t._updateLockCount||(t._changedOptions=null),t._renderer.unlock())),t.callBase.apply(t,arguments),t},_clean:t.noop,_render:t.noop,_optionChanged:function(e){++this._changedOptions._num,this._changedOptions[e.name]=e.value,this.callBase.apply(this,arguments)},_handleChangedOptions:function(e){var n=this;n._scheduleLoadingIndicatorHiding(),t.each(e,function(e){n._eventTrigger.update(e)}),"redrawOnResize"in e&&n._setupResizeHandler(),("theme"in e||C in e)&&n._setThemeAndRtl(),"encodeHtml"in e&&n._handleThemeOptions(),"tooltip"in e&&n._setTooltipOptions(),"title"in e&&n._updateTitle(),S in e&&n._updateLoadingIndicatorOptions(),("size"in e||"margin"in e)&&n._updateSize(),e._has(n._invalidatingOptions||[])&&n._invalidate()},_handleThemeOptions:function(){var e=this,t={rtl:e.option(C),encodeHtml:e.option("encodeHtml"),animation:e._getAnimationOptions()};e._renderer.setOptions(t),e._setTooltipRendererOptions(t),e._setTooltipOptions(),e._renderer.lock(),e._updateTitle(),e._updateLoadingIndicatorOptions(),e._handleThemeOptionsCore(),e._renderer.unlock()},_handleThemeOptionsCore:function(){this._initialized&&this._refresh()},_visibilityChanged:function(){this.render()},_setThemeAndRtl:function(){this._themeManager.setTheme(this.option("theme"),this.option(C))},_setTooltipRendererOptions:function(e){this._tooltip.setRendererOptions(e)},_setTooltipOptions:function(){this._tooltip.update(this._getOption("tooltip"))},_updateTitle:function(){this._title.update(t.extend(!0,{},this._themeManager.theme("title"),l(this.option("title"))))},_hideTooltip:function(){this._tooltip.hide()},_normalizeHtml:function(e){var t=/xmlns="[\s\S]*?"/gi,n=!0;return e=e.replace(t,function(e){return n?(n=!1,e):""}),e.replace(/xmlns:NS1="[\s\S]*?"/gi,"").replace(/NS1:xmlns:xlink="([\s\S]*?)"/gi,'xmlns:xlink="$1"')},svg:function(){return this._normalizeHtml(this._renderer.svg())},isReady:r,_dataIsReady:i,_resetIsReady:function(){this.isReady=r},_drawn:function(){var e=this;e.isReady=r,e._dataIsReady()&&e._renderer.onEndAnimation(function(){e.isReady=i}),e._eventTrigger("drawn",{})},_initLoadingIndicator:function(){function e(e){t._skipLoadingIndicatorOptions=!0,t.option(S,{show:e}),t._skipLoadingIndicatorOptions=!1,e&&t._hideTooltip()}var t=this;t._loadingIndicator=new p.LoadingIndicator({eventTrigger:t._eventTrigger,renderer:t._renderer,notify:e})},_disposeLoadingIndicator:function(){this._loadingIndicator.dispose(),this._loadingIndicator=null},_updateLoadingIndicatorSize:function(){this._loadingIndicator.setSize(this._canvas)},_updateLoadingIndicatorOptions:function(){this._skipLoadingIndicatorOptions||this._loadingIndicator.setOptions(this._getOption(S))},_scheduleLoadingIndicatorHiding:function(){this._loadingIndicator.scheduleHiding()},_fulfillLoadingIndicatorHiding:function(){
this._loadingIndicator.fulfillHiding()},showLoadingIndicator:function(){this._loadingIndicator.show()},hideLoadingIndicator:function(){this._loadingIndicator.hide()}})}(DevExpress,jQuery),function(e){var t=e.viz,n=t.series,i=n.points;t.CoreFactory={createSeries:function(e,t){return new n.Series(e,t)},createPoint:function(e,t,n){return new i.Point(e,t,n)},createLabel:function(e){return new i.Label(e)},createTranslator1D:function(e,n,i,r){return(new t.Translator1D).setDomain(e,n).setCodomain(i,r)},createTranslator2D:function(e,n,i){return new t.Translator2D(e,n,i)},createTickManager:function(e,n,i){return new t.tickManager.TickManager(e,n,i)},createSeriesFamily:function(e){return new n.helpers.SeriesFamily(e)}}}(DevExpress),DevExpress.MOD_VIZ_CORE=!0}if(!window.DevExpress||!DevExpress.MOD_VIZ_CHARTS){if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");!function(e,t,n){function i(e,t,n,i){var r=0;return"right"===t?r=e.width-e.right+n:"left"===t&&(r=e.left-n-i),r}function r(e,t,n,i){var r=0;return"top"===t?r=e.top-n:"bottom"===t&&(r=e.height-e.bottom+i+n),r}var o,a=2,s=t.require("/utils/utils.common"),l=t.require("/ui/events/pointer/ui.events.pointer"),u=s.isDefined,c=n.min,d=n.max;o=t.viz.charts.ScrollBar=function(e,n){this._translator=t.viz.CoreFactory.createTranslator2D({},{},{}),this._scroll=e.rect().append(n),this._addEvents()},o.prototype={_addEvents:function(){var t=this,n=e(t._scroll.element),i=0,r=0,o=function(o){var a=(i-o.pageX)*t._scale,s=(r-o.pageY)*t._scale;n.trigger(new e.Event("dxc-scroll-move",e.extend(o,{type:"dxc-scroll-move",pointers:[{pageX:i+a,pageY:r+s}]})))};n.on(l.down,function(t){i=t.pageX,r=t.pageY,n.trigger(new e.Event("dxc-scroll-start",{pointers:[{pageX:i,pageY:r}]})),e(document).on(l.move,o)}),e(document).on(l.up,function(){e(document).off(l.move,o)})},update:function(e){var t=this,n=e.position,i=e.rotated,r=i?"right":"top",o=i?"left":"bottom";return n!==r&&n!==o&&(n=r),t._scroll.attr({rotate:e.rotated?0:-90,rotateX:0,rotateY:0,fill:e.color,width:e.width,opacity:e.opacity}),t._layoutOptions={width:e.width,offset:e.offset,vertical:i,position:n},t},init:function(t,n){var i=this;return i._translateWithOffset="discrete"===t.axisType&&!t.stick&&1||0,i._translator.update(e.extend({},t,{minVisible:null,maxVisible:null,visibleCategories:null}),e.extend({},n),{isHorizontal:!i._layoutOptions.vertical}),i},getOptions:function(){return this._layoutOptions},shift:function(e,t){this._scroll.attr({translateX:e,translateY:t})},setPane:function(e){var t,n=this._layoutOptions.position;return t="left"===n||"top"===n?e[0]:e[e.length-1],this.pane=t.name,this._canvas=t.canvas,this},getMultipleAxesSpacing:function(){return 0},getBoundingRect:function(){var e=this._layoutOptions,t=e.vertical,n=e.offset,o=e.width,a=e.position,s=o+n,l=this._canvas;return t?{x:i(l,a,n,o),y:l.top,width:s,height:l.height-l.top-l.bottom}:{x:l.left,y:r(l,a,n,o),width:l.width-l.left-l.right,height:s}},applyLayout:function(){var e=this._canvas,t=this._layoutOptions,n=t.position,o=t.offset,a=t.width;this.shift(i(e,n,o,a),r(e,n,o,a))},setPosition:function(e,t){var n=this,i=n._translator,r=u(e)?i.translate(e,-n._translateWithOffset):i.translate("canvas_position_start"),o=u(t)?i.translate(t,n._translateWithOffset):i.translate("canvas_position_end");n._offset=c(r,o),n._scale=i.getScale(e,t),n._applyPosition(c(r,o),d(r,o))},transform:function(e,t){var n=this._translator,i=n.getCanvasVisibleArea().min,r=i-(i*t-e),o=this._offset+r/(this._scale*t);this._applyPosition(o,o+n.canvasLength/(this._scale*t))},dispose:function(){this._scroll.dispose(),this._scroll=this._translator=null},_applyPosition:function(e,t){var i,r=this,o=r._translator.getCanvasVisibleArea();e=d(e,o.min),e=c(e,o.max),t=c(t,o.max),t=d(t,o.min),i=n.abs(t-e),r._scroll.attr({y:e,height:a>i?a:i})}}}(jQuery,DevExpress,Math),function(e,t,n){function i(e,t,n){for(var i,o,a=0,s=t.end-t.start,l=0;l<e.length;l++)i=e[l].getLabel(),i.isVisible()?(o=i.getBoundingRect(),a+=n?o.width:o.height):e[l]=null;if(s>0)for(;a>s;)a-=r(e,n)}function r(e,t){var n,i,r,o={originalValue:1/0};return E(e,function(e,t){t&&o.originalValue>=t.originalValue&&(o=t,r=e)}),null!==r?(n=e[r].getLabel(),i=n.getBoundingRect(),n.hide(),e[r]=null,t?i.width:i.height):0}function o(e,t,n,r){var o,a={start:n?t.left:t.top,end:n?t.width-t.right:t.height-t.bottom};i(e,a,n),o=T(e,function(e){return e?new c(e,n,r):null}),o.sort(function(e,t){return e.getPointPosition()-t.getPointPosition()}),s(o)&&(o.reverse(),l(o,a))}function a(e,t){return e&&t?e.getBoundingRect().end>t.getBoundingRect().start:void 0}function s(e){for(var t,n,i,r,o=0;o<e.length;o++)for(n=e[o],t=o+1;t<e.length;t++)i=e[t],a(n,i)&&(n.toChain(i),r=!0,e[t]=null);return r}function l(e,t){for(var n,i,r,o,a,s=0;s<e.length;s++){if(i=e[s],u(i,t))for(o=i.getBoundingRect(),n=s+1;n<e.length;n++)if((r=e[n])&&(a=r.getBoundingRect(),a.end>o.start-(o.end-t.end))){r.toChain(i),e[s]=i=null;break}i&&i.setRollingStockInCanvas(t)}}function u(e,t){return e&&e.getBoundingRect().end>t.end}function c(e,t,n){var i=e.getLabel(),r=i.getBoundingRect();return this.labels=[i],this.points=[e],this.shiftFunction=n,this._bbox={start:t?r.x:r.y,width:t?r.width:r.height,end:t?r.x+r.width:r.y+r.height},this._pointPositionInitialize=t?e.getBoundaryCoords().x:e.getBoundaryCoords().y,this}function d(e){return{nameField:e+"Name",colorField:e+"Color",indexField:e+"Index"}}function h(e){var t=d(e);return{getFormatObject:function(e){var n={};return n[t.indexField]=e.id,n[t.colorField]=e.states.normal.fill,n[t.nameField]=e.text,n},textField:t.nameField}}function p(e,t,n){E(e,function(e,i){E(n.getTeamplatedFields(),function(e,t){i[t.teamplateField]=i[t.originalField]}),t.push(i)}),n.updateTeamplateFieldNames()}function f(e,t){return(e.x<=t.x&&t.x<=e.x+e.width||e.x>=t.x&&e.x<=t.x+t.width)&&(e.y<=t.y&&t.y<=e.y+e.height||e.y>=t.y&&e.y<=t.y+t.height)}var m=t.viz,g=m.charts,_=t.require("/utils/utils.common"),v=t.require("/ui/events/ui.events.utils"),y="_reinit",x="_updateDataSource",b="_dataInit",w="_forceRender",C="_resize",S=[y,x,b,w,C],k=m.utils,D=e.noop,T=k.map,E=e.each,I=e.extend,A=_.isArray,$=_.isDefined,B=t.viz.utils.setCanvasValues,O=.3,P=["adaptiveLayout","crosshair","equalBarWidth","minBubbleSize","maxBubbleSize","barWidth","negativesAsZeroes","negativesAsZeros","resolveLabelOverlapping","seriesSelectionMode","pointSelectionMode","adjustOnZoom","synchronizeMultiAxes","zoomingMode","scrollingMode","useAggregation"];c.prototype={toChain:function(e){var t=e.getBoundingRect();e.shift(t.start-this._bbox.end),this._changeBoxWidth(t.width),this.labels=this.labels.concat(e.labels),this.points=this.points.concat(e.points)},getBoundingRect:function(){return this._bbox},shift:function(e){var t=this.shiftFunction;E(this.labels,function(n,i){var r=i.getBoundingRect(),o=t(r,e,i);i.shift(o.x,o.y)}),this._bbox.end-=e,this._bbox.start-=e},setRollingStockInCanvas:function(e){this._bbox.end>e.end&&this.shift(this._bbox.end-e.end)},getPointPosition:function(){return this._pointPositionInitialize},_changeBoxWidth:function(e){this._bbox.end+=e,this._bbox.width+=e}},g.overlapping={resolveLabelOverlappingInOneDirection:o},g.BaseChart=m.BaseWidget.inherit({_eventsMap:e.extend({},m.BaseWidget.prototype._eventsMap,{onSeriesClick:{name:"seriesClick"},onPointClick:{name:"pointClick"},onArgumentAxisClick:{name:"argumentAxisClick"},onLegendClick:{name:"legendClick"},onSeriesSelectionChanged:{name:"seriesSelectionChanged"},onPointSelectionChanged:{name:"pointSelectionChanged"},onSeriesHoverChanged:{name:"seriesHoverChanged"},onPointHoverChanged:{name:"pointHoverChanged"},onTooltipShown:{name:"tooltipShown"},onTooltipHidden:{name:"tooltipHidden"},onDone:{name:"done"}}),_rootClassPrefix:"dxc",_rootClass:"dxc-chart",_init:function(){var e=this;e.callBase.apply(e,arguments),e._savedBusinessRange={},e._reinit(!0)},_createThemeManager:function(){var e=this.option(),t=g.factory.createThemeManager(e,this._chartType);return t.setTheme(e.theme,e.rtlEnabled),t},_initCore:function(){var e=this;e._canvasClipRect=e._renderer.clipRect(),e._createHtmlStructure(),e._createLegend(),e._createTracker(),e._needHandleRenderComplete=!0,e.layoutManager=new g.LayoutManager,e._createScrollBar(),e._$element.on("contextmenu",function(e){(v.isTouchEvent(e)||v.isPointerEvent(e))&&e.preventDefault()}).on("MSHoldVisual",function(e){e.preventDefault()})},_layoutManagerOptions:function(){return this._themeManager.getOptions("adaptiveLayout")},_reinit:function(e){var t=this;B(t._canvas),t._reinitAxes(),e||(t._skipRender=!0),t._updateDataSource(),t.series||t._dataSpecificInit(!1),e||(t._skipRender=!1),t._correctAxes(),e||t._forceRender()},_correctAxes:D,_createHtmlStructure:function(){var e=this,t=e._renderer,n=t.root;e._backgroundRect=t.rect().attr({fill:"gray",opacity:1e-4}).append(n),e._panesBackgroundGroup=t.g().attr({"class":"dxc-background"}).append(n),e._stripsGroup=t.g().attr({"class":"dxc-strips-group"}).linkOn(n,"strips"),e._gridGroup=t.g().attr({"class":"dxc-grids-group"}).linkOn(n,"grids"),e._axesGroup=t.g().attr({"class":"dxc-axes-group"}).linkOn(n,"axes"),e._constantLinesGroup=t.g().attr({"class":"dxc-constant-lines-group"}).linkOn(n,"constant-lines"),e._labelAxesGroup=t.g().attr({"class":"dxc-strips-labels-group"}).linkOn(n,"strips-labels"),e._panesBorderGroup=t.g().attr({"class":"dxc-border"}).linkOn(n,"border"),e._seriesGroup=t.g().attr({"class":"dxc-series-group"}).linkOn(n,"series"),e._labelsGroup=t.g().attr({"class":"dxc-labels-group"}).linkOn(n,"labels"),e._crosshairCursorGroup=t.g().attr({"class":"dxc-crosshair-cursor"}).linkOn(n,"crosshair"),e._legendGroup=t.g().attr({"class":"dxc-legend",clipId:e._getCanvasClipRectID()}).linkOn(n,"legend"),e._scrollBarGroup=t.g().attr({"class":"dxc-scroll-bar"}).linkOn(n,"scroll-bar")},_disposeObjectsInArray:function(e,t){E(this[e]||[],function(e,n){t&&n?E(t,function(e,t){n[t]&&n[t].dispose()}):n&&n.dispose()}),this[e]=null},_disposeCore:function(){var e=this,t=function(t){e[t]&&(e[t].dispose(),e[t]=null)},n=function(t){e[t].linkOff()},i=this._disposeObjectsInArray;clearTimeout(e._delayedRedraw),e._renderer.stopAllAnimations(),i.call(e,"businessRanges",["arg","val"]),e.translators=null,i.call(e,"series"),t("_tracker"),t("_crosshair"),e.layoutManager=null,e.paneAxis=null,e._userOptions=null,e._canvas=null,n("_stripsGroup"),n("_gridGroup"),n("_axesGroup"),n("_constantLinesGroup"),n("_labelAxesGroup"),n("_panesBorderGroup"),n("_seriesGroup"),n("_labelsGroup"),n("_crosshairCursorGroup"),n("_legendGroup"),n("_scrollBarGroup"),t("_canvasClipRect"),t("_panesBackgroundGroup"),t("_stripsGroup"),t("_gridGroup"),t("_axesGroup"),t("_constantLinesGroup"),t("_labelAxesGroup"),t("_panesBorderGroup"),t("_seriesGroup"),t("_labelsGroup"),t("_crosshairCursorGroup"),t("_legendGroup"),t("_scrollBarGroup")},_getAnimationOptions:function(){return this._themeManager.getOptions("animation")},_getDefaultSize:function(){return{width:400,height:400}},_getOption:function(e){return this._themeManager.getOptions(e)},_applySize:function(){this._initialized&&this._resize()},_resize:function(){this._updateLockCount?this._processRefreshData(C):this._render(this.__renderOptions||{animate:!1,isResize:!0})},_trackerType:"ChartTracker",_createTracker:function(){var e=this;e._tracker=new g[e._trackerType]({seriesGroup:e._seriesGroup,renderer:e._renderer,tooltip:e._tooltip,legend:e._legend,eventTrigger:e._eventTrigger})},_getTrackerSettings:function(){return{seriesSelectionMode:this._themeManager.getOptions("seriesSelectionMode"),pointSelectionMode:this._themeManager.getOptions("pointSelectionMode")}},_updateTracker:function(e){var t=this;t._tracker.update(t._getTrackerSettings()),t._tracker.setCanvases({left:0,right:t._canvas.width,top:0,bottom:t._canvas.height},e)},_render:function(t){var n,i,r=this;r._initialized&&!r._skipRender&&(0!==r._canvas.width||0!==r._canvas.height)&&(r._resetIsReady(),n=r._prepareDrawOptions(t),i=n.recreateCanvas,clearTimeout(r._delayedRedraw),r.__originalCanvas=r._canvas,r._canvas=e.extend({},r._canvas),i?r.__currentCanvas=r._canvas:r._canvas=r.__currentCanvas,i&&r._updateCanvasClipRect(r._canvas),r._renderer.stopAllAnimations(!0),B(r._canvas),r._cleanGroups(n),r._renderElements(n))},_saveBusinessRange:D,_renderElements:function(t){var i,r,o,a=this,s=a._prepareToRender(t),l=a._isRotated(),u=a._isLegendInside(),c=[],d=a._getLayoutTargets(),h=e.extend({},a._canvas),p=[],f=t.drawTitle&&t.drawLegend&&t.adjustAxes;t.isResize||a._scheduleLoadingIndicatorHiding(),f&&(p=a._getDrawElements(t,u)),a._renderer.lock(),a._saveBusinessRange(),a.layoutManager.setOptions(a._layoutManagerOptions()),a.layoutManager.layoutElements(p,a._canvas,a._getAxisDrawingMethods(t,s,l),d,l,a._getAxesForTransform(l)),f&&a._updateCanvasClipRect(h),a._applyClipRects(s),a._appendSeriesGroups(),a._createCrosshairCursor(),E(d,function(){var e=this.canvas;c.push({left:e.left,right:e.width-e.right,top:e.top,bottom:e.height-e.bottom})}),a._scrollBar&&(i=a.businessRanges[0].arg,"discrete"===i.axisType&&i.categories&&i.categories.length<=1?r=o=n:(r=i.minVisible,o=i.maxVisible),a._scrollBar.init(i,d[0].canvas).setPosition(r,o)),a._updateTracker(c),a._updateLegendPosition(t,u),a._renderSeries(t,l,u),a._renderer.unlock()},_createCrosshairCursor:D,_appendSeriesGroups:function(){this._seriesGroup.linkAppend(),this._labelsGroup.linkAppend(),this._appendAdditionalSeriesGroups()},_renderSeries:function(e,t,n){var i=this,r=i._themeManager,o=r.getOptions("resolveLabelOverlapping");e.hideLayoutLabels=i.layoutManager.needMoreSpaceForPanesCanvas(i._getLayoutTargets(),t)&&!r.getOptions("adaptiveLayout").keepLabels,i._drawSeries(e,t),"none"!==o&&i._resolveLabelOverlapping(o),i._adjustSeries(),i._renderTrackers(n),i._tracker.repairTooltip(),i._dataIsReady()&&i._fulfillLoadingIndicatorHiding(),i._canvas=i.__originalCanvas,i._drawn(),i._renderCompleteHandler()},_drawSeries:function(e,t){var n,i,r=this,o=r.series,a=o.length;for(r._updateSeriesDimensions(e),n=0;a>n;n++)i=o[n],r._applyExtraSettings(i,e),i.draw(r._prepareTranslators(i,n,t),e.animate&&i.getPoints().length<=e.animationPointsLimit&&r._renderer.animationEnabled(),e.hideLayoutLabels,r._getLegendCallBack(i))},_resolveLabelOverlapping:function(t){var n;switch(t){case"stack":n=this._resolveLabelOverlappingStack;break;case"hide":n=this._resolveLabelOverlappingHide;break;case"shift":n=this._resolveLabelOverlappingShift}e.isFunction(n)&&n.call(this)},_getVisibleSeries:function(){return e.grep(this.getAllSeries(),function(e){return e.isVisible()})},_resolveLabelOverlappingHide:function(){for(var e,t,n,i,r,o,a=[],s=this._getVisibleSeries(),l=0;l<s.length;l++)for(o=s[l].getVisiblePoints(),r=0;r<o.length;r++)a.push(o[r].getLabel());for(a=[].concat.apply([],a),l=0;l<a.length;l++)if(e=a[l],n=e.getBoundingRect(),e.isVisible())for(r=l+1;r<a.length;r++)t=a[r],i=t.getBoundingRect(),f(n,i)&&t.hide()},_cleanGroups:function(){var e=this;e._stripsGroup.linkRemove().clear(),e._gridGroup.linkRemove().clear(),e._axesGroup.linkRemove().clear(),e._constantLinesGroup.linkRemove().clear(),e._labelAxesGroup.linkRemove().clear(),e._labelsGroup.linkRemove().clear(),e._crosshairCursorGroup.linkRemove().clear()},_createLegend:function(){var e=this,t=h(e._legendDataField);e._legend=new m.Legend({renderer:e._renderer,group:e._legendGroup,backgroundClass:"dxc-border",itemGroupClass:"dxc-item",textField:t.textField,getFormatObject:t.getFormatObject})},_updateLegend:function(){var e=this,t=e._themeManager,n=t.getOptions("legend"),i=e._getLegendData();n.containerBackgroundColor=t.getOptions("containerBackgroundColor"),n._incidentOccured=e._incidentOccured,e._legend.update(i,n)},_prepareDrawOptions:function(t){var n,i=this._getAnimationOptions();return n=e.extend({},{force:!1,adjustAxes:!0,drawLegend:!0,drawTitle:!0,animate:i.enabled,animationPointsLimit:i.maxPointCountSupported},t,this.__renderOptions),$(n.recreateCanvas)||(n.recreateCanvas=n.adjustAxes&&n.drawLegend&&n.drawTitle),n},_processRefreshData:function(t){var n=e.inArray(this._currentRefreshData,S),i=e.inArray(t,S);(!this._currentRefreshData||n>=0&&n>i)&&(this._currentRefreshData=t,this._invalidate())},_getLegendData:function(){return T(this._getLegendTargets(),function(e){var t=e.legendData,n=e.getLegendStyles,i=n.normal.opacity;return e.visible||((!$(i)||i>O)&&(i=O),t.textOpacity=O),t.states={hover:n.hover,selection:n.selection,normal:I({},n.normal,{opacity:i})},t})},_getLegendOptions:function(e){return{legendData:{text:e[this._legendItemTextField],argument:e.argument,id:e.index},getLegendStyles:e.getLegendStyles(),visible:e.isVisible()}},_disposeSeries:function(){var e=this;E(e.series||[],function(e,t){t.dispose()}),e.series=null,E(e.seriesFamilies||[],function(e,t){t.dispose()}),e.seriesFamilies=null,e._needHandleRenderComplete=!0},_handleChangedOptions:function(e){var t=this,n=t._themeManager;E(e,function(e){n.resetOptions(e)}),n.update(t._options),t.callBase.apply(t,arguments),"animation"in e&&t._renderer.updateAnimationOptions(t._getAnimationOptions()),"dataSource"in e&&(t._needHandleRenderComplete=!0,t._processRefreshData(x)),"palette"in e&&(n.updatePalette(e.palette),t._refreshSeries(b)),e._has(["series","commonSeriesSettings","containerBackgroundColor","dataPrepareSettings"])&&t._refreshSeries(b),("legend"in e||"seriesTemplate"in e)&&t._processRefreshData(b),"title"in e&&t._processRefreshData(w),e._has(["valueAxis","argumentAxis","commonAxisSettings","panes","defaultPane"])&&(t._refreshSeries(y),t.paneAxis={}),"rotated"in e&&(t._createScrollBar(),t._refreshSeries(y)),("customizePoint"in e||"customizeLabel"in e)&&t._refreshSeries(y),"scrollBar"in e&&(t._createScrollBar(),t._processRefreshData(w)),"tooltip"in e&&t._organizeStackPoints(),e._has(P)&&t._processRefreshData(y),("size"in e||"margin"in e||t._currentRefreshData)&&t._invalidate()},_handleThemeOptionsCore:function(){var e=this;e._initialized&&(e._scheduleLoadingIndicatorHiding(),e.beginUpdate(),e._refreshSeries(y),e.endUpdate())},_refreshSeries:function(e){this._disposeSeries(),this._processRefreshData(e)},_refresh:function(){var e=this._currentRefreshData||w;this._currentRefreshData=null,this._renderer.stopAllAnimations(!0),this[e]()},_updateCanvasClipRect:function(e){var t,n,i=this;t=Math.max(e.width-e.left-e.right,0),n=Math.max(e.height-e.top-e.bottom,0),i._canvasClipRect.attr({x:e.left,y:e.top,width:t,height:n}),i._backgroundRect.attr({x:e.left,y:e.top,width:t,height:n})},_getCanvasClipRectID:function(){return this._canvasClipRect.id},_dataSourceChangedHandler:function(){this._scheduleLoadingIndicatorHiding(),this._resetZoom(),this._dataInit()},_dataInit:function(){clearTimeout(this._delayedRedraw),this._dataSpecificInit(!0)},_dataSpecificInit:function(e){var t=this;t.series=t.series||t._populateSeries(),t._repopulateSeries(),t._seriesPopulatedHandlerCore(),t._populateBusinessRange(),t._collectPointsByArg(),t._tracker.updateSeries(t._getStoredSeries()),t._updateLegend(),e&&t._forceRender()},_forceRender:function(){this._render({force:!0})},_repopulateSeries:function(){var e,t=this,n=t._themeManager,i=t._dataSource.items(),r=n.getOptions("dataPrepareSettings"),o=n.getOptions("seriesTemplate");o&&(t._templatedSeries=k.processSeriesTemplate(o,i),t._populateSeries(),delete t._templatedSeries,i=t.teamplateData||i),t._groupSeries(),e=m.validateData(i,t._groupedSeries,t._incidentOccured,r),n.resetPalette(),E(t.series,function(n,i){i.updateData(e),t._processSingleSeries(i)}),t._organizeStackPoints()},_organizeStackPoints:function(){var e=this,t=e._themeManager,n=t.getOptions("tooltip").shared,i={};E(e.series||[],function(t,r){e._resetStackPoints(r),n&&e._prepareStackPoints(r,i)})},_renderCompleteHandler:function(){var e=this,t=!0;e._needHandleRenderComplete&&(E(e.series,function(e,n){t=t&&n.canRenderCompleteHandle()}),t&&(e._needHandleRenderComplete=!1,e._eventTrigger("done",{target:e})))},_getDrawElements:function(e,t){var n=this,i=[];return e.drawTitle&&i.push(n._title),e.drawLegend&&n._legend&&(n._legendGroup.linkAppend(),t||i.push(n._legend)),i},_resetZoom:D,_dataIsReady:function(){return $(this.option("dataSource"))&&this._dataSource.isLoaded()},_populateSeries:function(){var e,t,n,i,r,o=this,a=o._themeManager,s=!!a.getOptions("seriesTemplate"),l=s?o._templatedSeries:o.option("series"),u=A(l)?l:l?[l]:[],c=o._getExtraOptions(),d=function(){o._specialProcessSeries(),o._populateBusinessRange(),o._renderer.stopAllAnimations(!0),o._updateLegend(),o._render({force:!0})};for(o._disposeSeries(),o.series=[],o.teamplateData=[],a.resetPalette(),r=0;r<u.length;r++)e=I(!0,{},u[r],c),e.name||(e.name="Series "+(r+1).toString()),i=e.data,e.data=null,e.rotated=o._isRotated(),e.customizePoint=a.getOptions("customizePoint"),e.customizeLabel=a.getOptions("customizeLabel"),e.visibilityChanged=d,e.incidentOccured=o._incidentOccured,n=a.getOptions("series",e),o._checkPaneName(n)&&(t=m.CoreFactory.createSeries({renderer:o._renderer,seriesGroup:o._seriesGroup,labelsGroup:o._labelsGroup},n),t.isUpdated?(t.index=o.series.length,o._processSingleSeries(t),o.series.push(t),s&&p(i,o.teamplateData,t)):o._incidentOccured("E2101",[n.type]));return o.series},getAllSeries:function(){return this.series.slice()},getSeriesByName:function(e){var t=null;return E(this.series,function(n,i){return i.name===e?(t=i,!1):void 0}),t},getSeriesByPos:function(e){return this.series[e]},clearSelection:function(){this._tracker.clearSelection()},hideTooltip:function(){this._tracker._hideTooltip()},render:function(e){var t=this;return t.__renderOptions=e,t.__forceRender=e&&e.force,t.callBase.apply(t,arguments),t.__renderOptions=t.__forceRender=null,t},getSize:function(){var e=this._canvas||{};return{width:e.width,height:e.height}}})}(jQuery,DevExpress),function(e,t,n){function i(e){return c(e)?0===e.length?[{}]:e:[e]}function r(e,t,i,r){e.minVal=t.min,e.maxVal=t.max,i&&(e.minArg=e.minArg===n?r.arg.min:e.minArg,e.maxArg=e.maxArg===n?r.arg.max:e.maxArg)}var o=t.viz,a=o.charts,s=t.require("/utils/utils.common"),l=t.require("/utils/utils.date"),u="defaultAxisName",c=s.isArray,d=s.isDefined,h=e.each,p=e.noop,f=e.extend,m=o.utils.map,g="min",_="max";a.AdvancedChart=a.BaseChart.inherit({_dispose:function(){var e=this,t=this._disposeObjectsInArray;e.callBase(),e.panes=null,e._legend&&(e._legend.dispose(),e._legend=null),t.call(e,"panesBackground"),t.call(e,"seriesFamilies"),e._disposeAxes()},_reinitAxes:function(){this.translators={},this.panes=this._createPanes(),this._populateAxes()},_populateAxes:function(){function t(){return u+y++}var r,a,s=this,l=[],c=s.panes,d=s._isRotated(),p=s.option("valueAxis")||{},f=s.option("argumentAxis")||{},g=i(f)[0],_=i(p),v=[],y=0,x=s._getCrosshairOptions()||{},b=x.enabled,w=b&&x.horizontalLine.visible,C=b&&x.verticalLine.visible;s._disposeAxes(),a=d?"right"===g.position?c[c.length-1].name:c[0].name:"top"===g.position?c[0].name:c[c.length-1].name,r=m(c,function(e,t){return s._createAxis("argumentAxis",g,{pane:e.name,crosshairEnabled:d?w:C},d,e.name!==a,t)}),h(_,function(i,r){var a=[],u=r.name;return u&&-1!==e.inArray(u,v)?void s._incidentOccured("E2102"):(u&&v.push(u),r.pane&&a.push(r.pane),r.panes&&r.panes.length&&(a=a.concat(r.panes.slice(0))),a=o.utils.unique(a),a.length||a.push(n),h(a,function(e,n){l.push(s._createAxis("valueAxis",r,{name:u||t(),pane:n,priority:i,crosshairEnabled:d?C:w},d))}),void 0)}),s._valueAxes=l,s._argumentAxes=r},_prepareStackPoints:function(e,t){var n=e.getPoints(),i=e.getStackName();h(n,function(e,n){var r=n.argument;t[r]||(t[r]={},t[r][null]=[]),i&&!c(t[r][i])&&(t[r][i]=[],h(t[r][null],function(e,n){n.stackName||t[r][i].push(n)})),i?(t[r][i].push(n),t[r][null].push(n)):h(t[r],function(e,t){t.push(n)}),n.stackPoints=t[r][i],n.stackName=i})},_resetStackPoints:function(e){h(e.getPoints(),function(e,t){t.stackPoints=null,t.stackName=null})},_disposeAxes:function(){var e=this,t=e._disposeObjectsInArray;t.call(e,"_argumentAxes"),t.call(e,"_valueAxes")},_drawAxes:function(e,t,n){var i=this,r=function(e){h(e,function(e,t){t.draw(n)})},o=function(t){h(t,function(t,n){n.drawGrids(e[n.pane])})};i._restoreOriginalBusinessRange(),i._reinitTranslators(),i._prepareAxesAndDraw(r,o,t)},_restoreOriginalBusinessRange:p,_appendAdditionalSeriesGroups:function(){this._crosshairCursorGroup.linkAppend(),this._scrollBar&&this._scrollBarGroup.linkAppend()},_getLegendTargets:function(){var e=this;return m(e.series,function(t){return t.getOptions().showInLegend?e._getLegendOptions(t):null})},_legendItemTextField:"name",_seriesPopulatedHandlerCore:function(){this._processSeriesFamilies(),this._processValueAxisFormat()},_renderTrackers:function(){for(var e=this,t=0;t<e.series.length;++t)e.series[t].drawTrackers()},_specialProcessSeries:function(){this._processSeriesFamilies()},_processSeriesFamilies:function(){var t,n=this,i=[],r=[],a=n._themeManager,s=a.getOptions("negativesAsZeroes"),l=a.getOptions("negativesAsZeros"),u={equalBarWidth:a.getOptions("equalBarWidth"),minBubbleSize:a.getOptions("minBubbleSize"),maxBubbleSize:a.getOptions("maxBubbleSize"),barWidth:a.getOptions("barWidth"),negativesAsZeroes:d(s)?s:l};return n.seriesFamilies&&n.seriesFamilies.length?void h(n.seriesFamilies,function(e,t){t.updateOptions(u),t.adjustSeriesValues()}):(h(n.series,function(t,n){-1===e.inArray(n.type,i)&&i.push(n.type)}),h(n._getLayoutTargets(),function(e,a){t=n._getSeriesForPane(a.name),h(i,function(e,i){var s=o.CoreFactory.createSeriesFamily({type:i,pane:a.name,equalBarWidth:u.equalBarWidth,minBubbleSize:u.minBubbleSize,maxBubbleSize:u.maxBubbleSize,barWidth:u.barWidth,negativesAsZeroes:u.negativesAsZeroes,rotated:n._isRotated()});s.add(t),s.adjustSeriesValues(),r.push(s)})}),n.seriesFamilies=r,void 0)},_updateSeriesDimensions:function(){for(var e,t,n=this,i=n.seriesFamilies||[],r=0;r<i.length;r++)e=i[r],t=n._getTranslator(e.pane)||{},e.updateSeriesValues(t),e.adjustSeriesDimensions(t)},_getLegendCallBack:function(e){return this._legend&&this._legend.getActionCallback(e)},_appendAxesGroups:function(){var e=this;e._stripsGroup.linkAppend(),e._gridGroup.linkAppend(),e._axesGroup.linkAppend(),e._constantLinesGroup.linkAppend(),e._labelAxesGroup.linkAppend()},_populateBusinessRange:function(e){var t,i=this,a=[],s=i._themeManager,l=i._isRotated(),u=s.getOptions("useAggregation"),c=i._argumentAxes,d=c[c.length-1],p=d.calcInterval,f=new o.Range({rotated:!!l});i._disposeObjectsInArray("businessRanges",["arg","val"]),h(c,function(e,t){f.addRange(t.getRangeData())}),h(i._groupedSeries,function(t,i){var s=new o.Range({rotated:!!l,isValueRange:!0,pane:i.valueAxis.pane,axis:i.valueAxis.name}),c=i.valueAxis.getRangeData();s.addRange(c),h(i,function(t,n){e&&r(e,c,u,n.getRangeData());var i=n.getRangeData(e,p);s.addRange(i.val),f.addRange(i.arg)}),s.isDefined()||s.setStubData("datetime"===i.valueAxis.getOptions().valueType?"datetime":n),i.valueAxis.getOptions().showZero&&s.correctValueZeroLevel(),s.checkZeroStick(),a.push({val:s,arg:f})}),f.isDefined()||f.setStubData(c[0].getOptions().argumentType),e&&e.notApplyMargins&&"discrete"!==f.axisType&&(t=c[0].getTranslator().getBusinessRange(),f.addRange({min:t.min,max:t.max,stick:!0})),i._correctBusinessRange(f,d),i.businessRanges=a},_correctBusinessRange:function(t,n){var i=n.getOptions().setTicksAtUnitBeginning,r={},o=n.getOptions().tickInterval,a=o;o=e.isNumeric(o)?o:l.dateToMilliseconds(o),o&&d(t[g])&&d(t[_])&&o>=Math.abs(t[_]-t[g])&&(s.isDate(t[g])?(e.isNumeric(a)?(r[g]=new Date(t[g].valueOf()-o),r[_]=new Date(t[_].valueOf()+o)):(r[g]=l.addInterval(t[g],a,!0),r[_]=l.addInterval(t[_],a,!1)),i&&(l.correctDateWithUnitBeginning(r[_],a),l.correctDateWithUnitBeginning(r[g],a))):(r[g]=t[g]-o,r[_]=t[_]+o),t.addRange(r))},_getArgumentAxes:function(){return this._argumentAxes},_getValueAxes:function(){return this._valueAxes},_processValueAxisFormat:function(){var t=this,n=t._valueAxes,i=[];h(t.series,function(){this.isFullStackedSeries()&&-1===e.inArray(this.axis,i)&&i.push(this.axis)}),h(n,function(){-1!==e.inArray(this.name,i)?this.setPercentLabelFormat():this.resetAutoLabelFormat()})},_createAxis:function(e,t,n,i,r,a){var s,l=this,u=f({renderer:l._renderer,incidentOccured:l._incidentOccured,axisClass:"argumentAxis"===e?"arg":"val",widgetClass:"dxc",stripsGroup:l._stripsGroup,labelAxesGroup:l._labelAxesGroup,constantLinesGroup:l._constantLinesGroup,axesContainerGroup:l._axesGroup,gridGroup:l._gridGroup},l._getAxisRenderingOptions(e)),c=l._prepareStripsAndConstantLines(e,t,i),h=f(!0,{},c,n,l._prepareAxisOptions(e,c,i));return r&&(h.visible=h.tick.visible=h.minorTick.visible=h.label.visible=!1,h.title={}),s=new o.axes.Axis(u),s.updateOptions(h),!r&&d(a)&&(l._displayedArgumentAxisIndex=a),s},_getTrackerSettings:function(){return f(this.callBase(),{argumentAxis:this._argumentAxes[this._displayedArgumentAxisIndex]})},_prepareStripsAndConstantLines:function(e,t,n){return t=this._themeManager.getOptions(e,t,n),t.strips&&h(t.strips,function(e){t.strips[e]=f(!0,{},t.stripStyle,t.strips[e])}),t.constantLines&&h(t.constantLines,function(e,n){t.constantLines[e]=f(!0,{},t.constantLineStyle,n)}),t},_legendDataField:"series",_getStoredSeries:function(){return this.series},_adjustSeries:p,_collectPointsByArg:p})}(jQuery,DevExpress),function(e,t,n){function i(e,t){for(var n,i=0;i<e.length;i++)if(e[i].pane===t){n=e[i].name;break}return n||(n=e[0].name),n}function r(e,t,n){var i,r=[];w(e,function(e,n){n.pane===t&&r.push(n)}),r.length>1&&n&&w(r,function(e,t){var n=t.getOptions().grid,r=t.getOptions().minorGrid;i&&n&&n.visible?(n.visible=!1,r&&(r.visible=!1)):i=i?i:n&&n.visible})}function o(e,t){var n;return w(e,function(e,i){w(i,function(i){return t===i?(n=e,!1):void 0})}),n}function a(e,t,n){for(var i,r=0;r<t.length;r++)if(t[r].name===n){i=t[r],i.priority=r;break}if(!i)for(r=0;r<e.length;r++)if(e[r].name===n){i=e[r].getOptions(),i.priority=e[r].priority;break}return i}function s(e,t,n){for(var i,r=0;r<n.length;r++)if(i=n[r],i.name===t&&i.pane===e)return i}function l(e,t,n,i,r){var o=~~((i>n?n:i)/2),a=r.width||0,s=o>a?a:o;e+=s/2,t+=s/2,n-=s,i-=s;var l,u=e+n,c=t+i,d=[],h=[],p=0,f=0,m={top:[[e,t],[u,t]],right:[[u,t],[u,c]],bottom:[[u,c],[e,c]],left:[[e,c],[e,t]]};switch(w(m,function(e){var t=!!r[e];p=2*p+~~t}),p){case 13:case 9:l=["left","top","right","bottom"];break;case 11:l=["bottom","left","top","right"];break;default:l=["top","right","bottom","left"]}return w(l,function(e,t){var n=!!r[t];!f&&h.length&&(d.push(h),h=[]),n&&w(m[t].slice(f),function(e,t){h=h.concat(t)}),f=~~n}),h.length&&d.push(h),1===d.length&&(d=d[0]),{points:d,pathType:15===p?"area":"line"}}function u(e,t){w(e||[],function(e,n){n&&n.attr(t)})}function c(e){w(e,function(e,t){w(t,function(e,t){t.arg.reinit(),t.val.reinit()})})}function d(e,t){return e.priority-t.priority}function h(e,t){var n=!1;return w(e,function(e,i){return i.name===t?(n=!0,!1):void 0}),n}var p=t.viz,f=p.charts,m=t.require("/utils/utils.common"),g=t.require("/componentRegistrator"),_=t.viz.utils,v=5,y="default",x=[{name:y,border:{}}],b=p.utils.map,w=e.each,C=e.extend,S=m.isArray,k=m.isDefined;g("dxChart",p.charts,f.AdvancedChart.inherit({_chartType:"chart",_initCore:function(){this.paneAxis={},this._panesClipRects={},this.callBase()},_disposeCore:function(){var e=this,t=this._disposeObjectsInArray,n=e._panesClipRects;e.callBase(),t.call(n,"fixed"),t.call(n,"base"),t.call(n,"wide"),e._panesClipRects=null},_correctAxes:function(){this._correctValueAxes()},_getExtraOptions:e.noop,_processSingleSeries:e.noop,_groupSeries:function(){var t=this,n=t.panes,o=t._valueAxes,a=b(n,function(e){return e.name}),l=t.series,u=t.paneAxis,c=t._themeManager.getOptions("synchronizeMultiAxes"),d=t._groupedSeries=[];w(l,function(e,t){t.axis=t.axis||i(o,t.pane),t.axis&&(u[t.pane]=u[t.pane]||{},u[t.pane][t.axis]=!0)}),w(o,function(t,n){n.name&&n.pane&&-1!==e.inArray(n.pane,a)&&(u[n.pane]=u[n.pane]||{},u[n.pane][n.name]=!0)}),t._correctValueAxes(),w(u,function(e,t){r(o,e,c),w(t,function(t){var n=[];w(l,function(i,r){r.pane===e&&r.axis===t&&n.push(r)}),d.push(n),n.valueAxis=s(e,t,o),
n.valueOptions=n.valueAxis.getOptions()})}),d.argumentAxes=t._argumentAxes,d.argumentOptions=d.argumentAxes[0].getOptions()},_cleanPanesClipRects:function(e){var t=this,n=t._panesClipRects[e];w(n||[],function(e,t){t&&t.dispose()}),t._panesClipRects[e]=[]},_createPanes:function(){var e,t=this,n=t.option("panes"),i=0;return n&&(!S(n)||n.length)||(n=x),t._cleanPanesClipRects("fixed"),t._cleanPanesClipRects("base"),t._cleanPanesClipRects("wide"),e=t.option("defaultPane"),n=C(!0,[],S(n)?n:[n]),w(n,function(e,t){t.name=k(t.name)?t.name:y+i++}),k(e)?h(n,e)||(t._incidentOccured("W2101",[e]),e=n[n.length-1].name):e=h(n,y)?y:n[n.length-1].name,t.defaultPane=e,n=t._isRotated()?n.reverse():n},_getAxisRenderingOptions:function(){return{axisType:"xyAxes",drawingType:"linear"}},_prepareAxisOptions:function(e,t,n){return{isHorizontal:"argumentAxis"===e!==n}},_checkPaneName:function(t){var n=b(this.panes,function(e){return e.name});return t.pane=t.pane||this.defaultPane,-1!==e.inArray(t.pane,n)},_correctValueAxes:function(){var t=this,n=t._isRotated(),i=t.option("valueAxis")||{},r=S(i)?i:[i],l=t._valueAxes||[],u=l[0].name,c=t.paneAxis,h={};w(l,function(e,n){var i;n.pane||(i=o(c,n.name),i||(i=t.defaultPane,(c[i]=c[i]||{})[n.name]=!0),n.setPane(i))}),w(t.panes,function(e,t){var n=t.name;c[n]||(c[n]={},c[n][u]=!0)}),w(c,function(e,i){w(i,function(i){var o;h[i+"-"+e]=!0,s(e,i,l)||(o=a(l,r,i),o||(t._incidentOccured("W2102",[i]),o={name:i,priority:l.length}),l.push(t._createAxis("valueAxis",o,{pane:e,name:i},n)))})}),t._valueAxes=e.grep(l,function(e){return!!h[e.name+"-"+e.pane]}).sort(d)},_getSeriesForPane:function(e){var t=[];return w(this.series,function(n,i){i.pane===e&&t.push(i)}),t},_createTranslator:function(e,t,n){return p.CoreFactory.createTranslator2D(e,t,n)},_createPanesBorderOptions:function(){var e=this._themeManager.getOptions("commonPaneSettings").border,t={};return w(this.panes,function(n,i){t[i.name]=C(!0,{},e,i.border)}),t},_createScrollBar:function(){var e=this,t=e._themeManager.getOptions("scrollBar")||{},n=e._scrollBarGroup;t.visible?(t.rotated=e._isRotated(),e._scrollBar=(e._scrollBar||f.factory.createScrollBar(e._renderer,n)).update(t)):(n.linkRemove(),e._scrollBar&&e._scrollBar.dispose(),e._scrollBar=null)},_prepareToRender:function(e){var t=this,n=t._createPanesBorderOptions();return t._createPanesBackground(),t._appendAxesGroups(),t._transformed&&t._resetTransform(),t._createTranslators(e),t._options.useAggregation&&w(t.series,function(e,n){n.resamplePoints(t._getTranslator(n.pane,n.axis).arg,t._zoomMinArg,t._zoomMaxArg)}),(t._options.useAggregation||k(t._zoomMinArg)||k(t._zoomMaxArg))&&(t._populateBusinessRange({adjustOnZoom:t._themeManager.getOptions("adjustOnZoom"),minArg:t._zoomMinArg,maxArg:t._zoomMaxArg,notApplyMargins:t._notApplyMargins}),t._updateTranslators()),n},_isLegendInside:function(){return this._legend&&"inside"===this._legend.getPosition()},_renderAxes:function(e,t,n,i){e&&e.recreateCanvas&&_.updatePanesCanvases(this.panes,this._canvas,n),this._drawAxes(t,e,i)},_isRotated:function(){return this._themeManager.getOptions("rotated")},_getLayoutTargets:function(){return this.panes},_applyClipRects:function(e){var t,n=this,i=n._getCanvasClipRectID();for(n._drawPanesBorders(e),n._createClipRectsForPanes(),t=0;t<n._argumentAxes.length;t++)n._argumentAxes[t].applyClipRects(n._getElementsClipRectID(n._argumentAxes[t].pane),i);for(t=0;t<n._valueAxes.length;t++)n._valueAxes[t].applyClipRects(n._getElementsClipRectID(n._valueAxes[t].pane),i);n._fillPanesBackground()},_updateLegendPosition:function(t,i){var r=this;if(t.drawLegend&&r._legend&&i){var o=r.panes,a=C({},o[0].canvas),s=new f.LayoutManager;a.right=o[o.length-1].canvas.right,a.bottom=o[o.length-1].canvas.bottom,s.setOptions({width:0,height:0}),s.layoutElements([r._legend],a,e.noop,[{canvas:a}],n,{horizontalAxes:[],verticalAxes:[]})}},_prepareTranslators:function(e,t,n){var i=this._getTranslator(e.pane,e.axis),r={};return r[n?"x":"y"]=i.val,r[n?"y":"x"]=i.arg,r},_applyExtraSettings:function(e){var t=this,n=t._getPaneIndex(e.pane),i=t._panesClipRects,r=i.wide[n];e.setClippingParams(i.base[n].id,r&&r.id,t._getPaneBorderVisibility(n))},_createTranslators:function(e){var t,n=this,i=n._isRotated();e.recreateCanvas&&(n.translators=t={},_.updatePanesCanvases(n.panes,n._canvas,i),w(n.paneAxis,function(e,r){t[e]=t[e]||{},w(r,function(r){var o=n._createTranslator(new p.Range(n._getBusinessRange(e,r).val),n._getCanvasForPane(e),{isHorizontal:!!i});o.pane=e,o.axis=r,t[e][r]={val:o}})}),w(n._argumentAxes,function(e,r){var o=n._createTranslator(new p.Range(n._getBusinessRange(r.pane).arg),n._getCanvasForPane(r.pane),{isHorizontal:!i});w(t[r.pane],function(e,t){t.arg=o})}))},_updateTranslators:function(){var e=this;w(e.translators,function(t,n){w(n,function(n,i){i.arg.updateBusinessRange(new p.Range(e._getBusinessRange(t).arg)),delete i.arg._originalBusinessRange,i.val.updateBusinessRange(new p.Range(e._getBusinessRange(t,n).val)),delete i.val._originalBusinessRange})})},_getAxesForTransform:function(e){return{verticalAxes:e?this._getArgumentAxes():this._getValueAxes(),horizontalAxes:e?this._getValueAxes():this._getArgumentAxes()}},_getAxisDrawingMethods:function(e,t,n){var i=this;return function(r){i._renderAxes(e,t,n,r)}},_reinitTranslators:function(){var e=this;w(e._argumentAxes,function(t,n){var i=e._getTranslator(n.pane);i&&(i.arg.reinit(),n.setTranslator(i.arg,i.val))}),w(e._valueAxes,function(t,n){var i=e._getTranslator(n.pane,n.name);i&&(i.val.reinit(),n.setTranslator(i.val,i.arg))})},_saveBusinessRange:function(){var t=this._savedBusinessRange;e.each(this.translators,function(n,i){t[n]={},e.each(i,function(i,r){t[n][i]={},t[n][i].arg=e.extend(!0,{},r.arg.getBusinessRange()),t[n][i].val=e.extend(!0,{},r.val.getBusinessRange())})})},_restoreOriginalBusinessRange:function(){var t=this._savedBusinessRange;e.each(this.translators,function(n,i){e.each(i,function(i,r){r.arg.updateBusinessRange(e.extend(!0,{},t[n][i].arg)),r.val.updateBusinessRange(e.extend(!0,{},t[n][i].val))})})},_prepareAxesAndDraw:function(e,t,n){var i=this,r=0,o=i.layoutManager,a=i._isRotated(),s=0,l=i._themeManager.getOptions("synchronizeMultiAxes"),u=i._getLayoutTargets(),d=a?i._argumentAxes:i._valueAxes,h=a?i._valueAxes:i._argumentAxes,p=h,m=d;i._scrollBar&&(i._scrollBar.setPane(u),a?m=[i._scrollBar].concat(m):p=p.concat([i._scrollBar]));do{for(r=0;r<i._argumentAxes.length;r++)i._argumentAxes[r].resetTicks();for(r=0;r<i._valueAxes.length;r++)i._valueAxes[r].resetTicks();l&&f.multiAxesSynchronizer.synchronize(i._valueAxes),e(h),o.requireAxesRedraw=!1,n.adjustAxes&&(o.applyHorizontalAxesLayout(p,u,a),o.stopDrawAxes||c(i.translators)),e(d),n.adjustAxes&&!o.stopDrawAxes&&(o.applyVerticalAxesLayout(m,u,a),o.stopDrawAxes||c(i.translators)),s+=1}while(!o.stopDrawAxes&&o.requireAxesRedraw&&v>s);t(d),t(h),i._scrollBar&&i._scrollBar.applyLayout()},_getPanesParameters:function(){for(var e=this,t=e.panes,n=[],i=0;i<t.length;i++)e._getPaneBorderVisibility(i)&&n.push({coords:t[i].borderCoords,clipRect:e._panesClipRects.fixed[i]});return n},_createCrosshairCursor:function(){var e=this,t=e._themeManager.getOptions("crosshair")||{},n=e._displayedArgumentAxisIndex,i=e._isRotated()?[e._valueAxes,[e._argumentAxes[n]]]:[[e._argumentAxes[n]],e._valueAxes],r={canvas:e._getCommonCanvas(),panes:e._getPanesParameters(),axes:i};t&&t.enabled&&(e._crosshair?e._crosshair.update(t,r):e._crosshair=f.factory.createCrosshair(e._renderer,t,r,e._crosshairCursorGroup),e._crosshair.render())},_getCommonCanvas:function(){for(var e,t,n=this.panes,i=0;i<n.length;i++)e=n[i].canvas,t?(t.right=e.right,t.bottom=e.bottom):t=C({},e);return t},_createPanesBackground:function(){var e,t,n,i=this,r=i._themeManager.getOptions("commonPaneSettings").backgroundColor,o=i._renderer,a=[];for(i._panesBackgroundGroup.clear(),n=0;n<i.panes.length;n++)e=i.panes[n].backgroundColor||r,e&&"none"!==e?(t=o.rect(0,0,0,0).attr({fill:e,"stroke-width":0}).append(i._panesBackgroundGroup),a.push(t)):a.push(null);i.panesBackground=a},_fillPanesBackground:function(){var e,t=this;w(t.panes,function(n,i){e=i.borderCoords,null!==t.panesBackground[n]&&t.panesBackground[n].attr({x:e.left,y:e.top,width:e.width,height:e.height})})},_calcPaneBorderCoords:function(e){var t=e.canvas,n=e.borderCoords=e.borderCoords||{};n.left=t.left,n.top=t.top,n.right=t.width-t.right,n.bottom=t.height-t.bottom,n.width=Math.max(n.right-n.left,0),n.height=Math.max(n.bottom-n.top,0)},_drawPanesBorders:function(e){var t=this,n=t._isRotated();t._panesBorderGroup.linkRemove().clear(),w(t.panes,function(i,r){var o,a,s=e[r.name],u={fill:"none",stroke:s.color,"stroke-opacity":s.opacity,"stroke-width":s.width,dashStyle:s.dashStyle,"stroke-linecap":"square"};t._calcPaneBorderCoords(r,n),s.visible&&(o=r.borderCoords,a=l(o.left,o.top,o.width,o.height,s),t._renderer.path(a.points,a.pathType).attr(u).append(t._panesBorderGroup))}),t._panesBorderGroup.linkAppend()},_createClipRect:function(e,t,n,i,r,o){var a=this,s=e[t];s?s.attr({x:n,y:i,width:r,height:o}):(s=a._renderer.clipRect(n,i,r,o),e[t]=s)},_createClipRectsForPanes:function(){var e=this,t=e._canvas;w(e.panes,function(n,i){var r=!1,o=i.borderCoords,a=o.left,s=o.top,l=o.width,u=o.height,c=e._panesClipRects;e._createClipRect(c.fixed,n,a,s,l,u),e._createClipRect(c.base,n,a,s,l,u),w(e.series,function(e,t){t.pane===i.name&&(t.isFinancialSeries()||t.areErrorBarsVisible())&&(r=!0)}),r?(e._isRotated()?(s=0,u=t.height):(a=0,l=t.width),e._createClipRect(c.wide,n,a,s,l,u)):c.wide.push(null)})},_getPaneIndex:function(e){var t;return w(this.panes,function(n,i){return i.name===e?(t=n,!1):void 0}),t},_getPaneBorderVisibility:function(e){var t=this._themeManager.getOptions("commonPaneSettings").border.visible,n=this.panes[e]||{},i=n.border||{};return"visible"in i?i.visible:t},_getElementsClipRectID:function(e){return this._panesClipRects.fixed[this._getPaneIndex(e)].id},_getTranslator:function(e,t){var n=this.translators[e],i=null;return n?(i=n[t],i||w(n,function(e,t){return i=t,!1}),i):i},_getCanvasForPane:function(e){for(var t=this.panes,n=t.length,i=0;n>i;i++)if(t[i].name===e)return t[i].canvas},_getBusinessRange:function(e,t){for(var n,i=this.businessRanges||[],r=i.length,o=0;r>o;o++)if(i[o].val.pane===e&&i[o].val.axis===t){n=i[o];break}if(!n)for(o=0;r>o;o++)if(i[o].val.pane===e){n=i[o];break}return n},_transformArgument:function(e,t){var n,i,r=this,o=r._isRotated(),a=r._panesClipRects;r._transformed||(r._transformed=!0,r._labelsGroup.remove(),r._resetIsReady(),w(r.series||[],function(e,t){t.applyClip()})),o?(n={translateY:e,scaleY:t},i={translateY:-e/t,scaleY:1/t}):(n={translateX:e,scaleX:t},i={translateX:-e/t,scaleX:1/t}),u(a.base,i),u(a.wide,i),r._seriesGroup.attr(n),r._scrollBar&&r._scrollBar.transform(-e,t)},_resetTransform:function(){var e=this,t={translateX:0,translateY:0,scaleX:null,scaleY:null},n=e._panesClipRects;u(n.base,t),u(n.wide,t),e._seriesGroup.attr(t),w(e.series||[],function(e,t){t.resetClip()}),e._transformed=!1},_getTrackerSettings:function(){var e=this,t=e._themeManager;return C(this.callBase(),{chart:e,zoomingMode:t.getOptions("zoomingMode"),scrollingMode:t.getOptions("scrollingMode"),rotated:e._isRotated(),crosshair:e._getCrosshairOptions().enabled?e._crosshair:null})},_resolveLabelOverlappingStack:function(){var e=this,t=e._isRotated(),n=t?function(e,t){return{x:e.x-t,y:e.y}}:function(e,t){return{x:e.x,y:e.y-t}};w(e.seriesFamilies,function(i,r){w(r.getStackPoints(),function(i,r){w(r,function(i,r){f.overlapping.resolveLabelOverlappingInOneDirection(r,e._getCommonCanvas(),t,n)})})})},_getCrosshairOptions:function(){return this._getOption("crosshair")},zoomArgument:function(e,t,n){var i,r=this;(k(e)||k(t))&&(i=r._argumentAxes[0].zoom(e,t,n),r._zoomMinArg=i.min,r._zoomMaxArg=i.max,r._notApplyMargins=n,r._render({force:!0,drawTitle:!1,drawLegend:!1,adjustAxes:!1,animate:!1}))},_resetZoom:function(){var e=this;e._zoomMinArg=e._zoomMaxArg=n,e._argumentAxes[0]&&e._argumentAxes[0].resetZoom()},getVisibleArgumentBounds:function(){var e=this._argumentAxes[0].getTranslator().getBusinessRange(),t="discrete"===e.axisType,n=e.categories;return{minVisible:t?e.minVisible||n[0]:e.minVisible,maxVisible:t?e.maxVisible||n[n.length-1]:e.maxVisible}}}))}(jQuery,DevExpress),function(e,t,n){function i(e,t){var n=this;return n.index=e,n.fullState=0,n._points=t,n._selectedPointsCount=0,n}var r=t.viz,o=r.charts,a=t.require("/utils/utils.math"),s=t.require("/utils/utils.common"),l=t.require("/componentRegistrator"),u=r.series.helpers.consts.pieSeriesSpacing,c="_reinit",d="_dataInit",h=["startAngle","innerRadius","segmentsDirection","type"],p=e.extend,f=e.each,m=e.noop,g=r.utils.getVerticallyShiftedAngularCoords,_=r.series.helpers.consts.states,v=_.selectedMark,y=_.hoverMark,x=_.hover,b=_.normal,w=_.selection,C=_.applyHover,S=_.resetItem;i.prototype={isHovered:function(){return!!(1&this.fullState)},setHoverState:function(e,t,n){var i=this;e&&!i.isHovered()?(i._changeStyle(n,C,x),i.fullState|=y):!e&&i.isHovered()&&(i._changeStyle(n,S,b),i.fullState&=~y)},_changeStyle:function(e,t,n){var i=this;i._selectedPointsCount||e(t),f(i._points||[],function(e,t){t.isSelected()||t.applyStyle(n)})},setPointHoverState:function(e){var t=e.point;t.fullState|=y,t.isSelected()||(t.applyStyle(x),this._selectedPointsCount||e.legendCallback(C))},releasePointHoverState:function(e){var t=e.point;t.fullState&=~y,t.isSelected()||(t.applyStyle(b),this._selectedPointsCount||e.legendCallback(S))},setPointSelectedState:function(e){var t=this,n=e.point;n.fullState|=v,n.applyStyle(w),t._selectedPointsCount||e.legendCallback(_.applySelected),t._selectedPointsCount++},releasePointSelectedState:function(e){var t,n=this,i=e.point;i.fullState&=~v,i.isHovered()||n.isHovered()?(i.applyStyle(x),t=C):(i.applyStyle(b),t=S),n._selectedPointsCount--,n._selectedPointsCount||e.legendCallback(t)}},l("dxPieChart",r.charts,o.BaseChart.inherit({_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),p(this._deprecatedOptions,{"series.innerRadius":{since:"15.2",message:"Use the 'innerRadius' option instead"},"series.startAngle":{since:"15.2",message:"Use the 'startAngle' option instead"},"series.segmentsDirection":{since:"15.2",message:"Use the 'segmentsDirection' option instead"},"series.type":{since:"15.2",message:"Use the 'type' option instead"}})},_chartType:"pie",_layoutManagerOptions:function(){var e=this._themeManager.getOptions("diameter");return s.isNumber(e)?e>1?e=1:0>e&&(e=0):e=n,p(!0,{},this.callBase(),{piePercentage:e})},_handleChangedOptions:function(e){this.callBase.apply(this,arguments),"diameter"in e&&this._processRefreshData(c),e._has(h)&&this._refreshSeries(d)},_groupSeries:function(){this.series.valueOptions={valueType:"numeric"},this._groupedSeries=[this.series],this._groupedSeries.argumentOptions=this.series[0]&&this.series[0].getOptions()},_populateBusinessRange:function(){var e,t=[],n=this.series;this._disposeObjectsInArray("businessRanges"),f(n,function(n,i){var o=new r.Range;e=i.getRangeData(),o.addRange(e.val),o.isDefined()||o.setStubData(),t.push(o)}),this.businessRanges=t},_specialProcessSeries:function(){f(this.series,function(e,t){t.arrangePoints()})},_createTranslator:function(e){return r.CoreFactory.createTranslator1D(e.min,e.max,360,0)},_checkPaneName:function(){return!0},_processSingleSeries:function(e){e.arrangePoints()},_collectPointsByArg:function(){var e,t=this,i={},r={},o=0;f(t.series,function(t,a){var s,l={};f(a.getPoints(),function(t,a){var u=a.argument;l[u]=++l[u]||0,s=l[u],e=r[u+s],e===n?(a.index=r[u+s]=o,i[o]=[a],o++):(a.index=e,i[e].push(a))})}),t._collectionPointsArg=i},_getLegendTargets:function(){var e=this,t=[];return f(e._collectionPointsArg,function(n,i){f(i,function(n,i){0===n?t.push(e._getLegendOptions(i)):t[t.length-1].visible||(t[t.length-1].visible=i.isVisible())})}),t},_getAxisDrawingMethods:m,_getLayoutTargets:function(){return[{canvas:this._canvas}]},_getAxesForTransform:function(){return{verticalAxes:[],horizontalAxes:[]}},_getLayoutSeries:function(e,t){var n,i=this,r=i._canvas,o=!1;return n=i.layoutManager.applyPieChartSeriesLayout(r,e,!0),f(e,function(e,t){t.correctPosition(n),o=t.drawLabelsWOPoints(i._createTranslator(i.businessRanges[e]))||o}),o&&(n=i.layoutManager.applyPieChartSeriesLayout(r,e,t.hideLayoutLabels)),n},_updateSeriesDimensions:function(e){var t,n,i,r=this,o=r._getVisibleSeries(),a=o.length;a&&(i=r._getLayoutSeries(o,e),n=(i.radiusOuter-i.radiusInner-u*(a-1))/a,t=i.radiusInner,r._setCenter({x:i.centerX,y:i.centerY}),f(o,function(e,i){i.correctRadius({radiusInner:t,radiusOuter:t+n}),t+=n+u}))},_prepareTranslators:function(e,t){return this._createTranslator(this.businessRanges[t])},_getLegendCallBack:function(){var e=this._legend;return function(t){return e.getActionCallback(t)}},_adjustSeries:function(){f(this.series,function(e,t){t.adjustLabels()})},_prepareStackPoints:m,_resetStackPoints:m,_applyExtraSettings:m,_resolveLabelOverlappingShift:function(){function t(e,t){return g(e,-t,r)}var n=this,i=n.series,r=n._center;f(i,function(i,r){if("inside"!==r.getOptions().label.position){var s=r.getVisiblePoints(),l=[],u=[];e.each(s,function(e,t){var n=a.normalizeAngle(t.middleAngle);(90>=n||n>=270?u:l).push(t)}),o.overlapping.resolveLabelOverlappingInOneDirection(l,n._canvas,!1,t),o.overlapping.resolveLabelOverlappingInOneDirection(u,n._canvas,!1,t)}})},_setCenter:function(e){this._center=e},_getStoredSeries:function(){return e.map(this._collectionPointsArg,function(e,t){return new i(t,e)})},getSeries:function(){return t.require("/errors").log("W0002","dxPieChart","getSeries","15.2","Use the 'getAllSeries' method instead"),this.series[0]},_legendDataField:"point",_legendItemTextField:"argument",_updateLegendPosition:m,_renderTrackers:m,_trackerType:"PieTracker",_createScrollBar:m,_updateAxesLayout:m,_applyClipRects:m,_appendAdditionalSeriesGroups:m,_prepareToRender:m,_isLegendInside:m,_renderAxes:m,_isRotated:m,_seriesPopulatedHandlerCore:m,_reinitAxes:m,_correctAxes:m,_getExtraOptions:function(){var e=this;return{startAngle:e.option("startAngle"),innerRadius:e.option("innerRadius"),segmentsDirection:e.option("segmentsDirection"),type:e.option("type")}}}))}(jQuery,DevExpress),function(e,t){var n=t.viz.charts,i=t.require("/componentRegistrator"),r=t.require("/utils/utils.math"),o=t.viz,a=e.noop,s="default",l="_reinit",u=n.AdvancedChart.inherit({_chartType:"polar",_createPanes:function(){return[{name:s}]},_checkPaneName:function(){return!0},_getAxisRenderingOptions:function(e){var t="argumentAxis"===e,n=t?"circular":"linear",i=this.option("useSpiderWeb");return i&&(n+="Spider"),{axisType:"polarAxes",drawingType:n}},_prepareAxisOptions:function(e,t){var n="argumentAxis"===e;return{type:this.option("useSpiderWeb")&&n?"discrete":t.type,isHorizontal:!0,showCustomBoundaryTicks:n}},_handleChangedOptions:function(e){this.callBase.apply(this,arguments),"useSpiderWeb"in e&&this._processRefreshData(l)},_getExtraOptions:function(){return{spiderWidget:this.option("useSpiderWeb")}},_groupSeries:function(){this._groupedSeries=[this.series],this._groupedSeries[0].valueAxis=this._valueAxes[0],this._groupedSeries[0].valueOptions=this._valueAxes[0].getOptions(),this._groupedSeries.argumentAxes=this._argumentAxes,this._groupedSeries.argumentOptions=this._argumentAxes[0].getOptions()},_prepareToRender:function(){return this._appendAxesGroups(),{}},_renderAxes:function(e,t,n,i){this._drawAxes({},e,i)},_getAxisDrawingMethods:function(e,t,n,i){var r=this;return function(){r._renderAxes(e,t,n,i)}},_reinitTranslators:function(){var e=this,t=e._valueAxes,n=e._argumentAxes,i=e._createTranslator({arg:new o.Range(e.businessRanges[0].arg),val:new o.Range(e.businessRanges[0].val)}),r=i.getComponent("arg"),a=i.getComponent("val"),s=0;for(e.translator=i,n[0].setTranslator(r,a),s;s<t.length;s++)t[s].setTranslator(a,r)},_prepareAxesAndDraw:function(t,n){var i=this,r=i._valueAxes,o=i._argumentAxes,a=o[0];i._calcCanvas(a.measureLabels(!0)),i.translator.reinit(),t(o),e.each(r,function(e,t){t.setSpiderTicks(a.getSpiderTicks())}),t(r),n(o),n(r)},_calcCanvas:function(e){var t=this.translator.canvas;t.left+=e.width,t.right+=e.width,t.top+=e.height,t.bottom+=e.height},_getLayoutTargets:function(){return[{canvas:this._canvas}]},_getAxesForTransform:function(){var e=this._getArgumentAxes();return{verticalAxes:e,horizontalAxes:e}},_getTranslator:function(){var e=this.translator;return{val:e,arg:e}},_prepareTranslators:function(){return this.translator},_createTranslator:function(t){var n=this._themeManager,i=this.option("argumentAxis"),a=n.getOptions("argumentAxis",i)||{},s=isFinite(a.startAngle)?r.normalizeAngle(a.startAngle):0;return new o.PolarTranslator(t,e.extend(!0,{},this._canvas),{startAngle:s,endAngle:s+360})},_getSeriesForPane:function(){return this.series},_applyExtraSettings:a,_updateLegendPosition:a,_createScrollBar:a,_applyClipRects:a,_isRotated:a,_getCrosshairOptions:a,_isLegendInside:a,_processSingleSeries:a});i("dxPolarChart",n,u)}(jQuery,DevExpress),function(e,t,n){function i(e,t,n){e&&n[t]>0&&(k(e,function(e,i){var r=i.getBoundingRect();i.updateSize(),n[t]-=r[t]-i.getBoundingRect()[t]}),n[t]>0&&k(e,function(e,t){t.updateSize(!0)}))}function r(e,t,n){var i;return i=e>n?e:n>t?t:n}function o(e){return e._label.isVisible()&&"inside"!==e._label.getLayoutOptions().position?e._label.getBoundingRect():void 0}function a(e,t,n,i,a){var s=!1;return k(e,function(e,l){return s?!1:void k(l.getVisiblePoints(),function(e,l){var c,d,h=o(l);h&&(c=r(h.x,h.x+h.width,t),d=r(h.y,h.y+h.height,n),i=b(w(u(c,d,t,n)-E,a),i),s=!0)})}),i}function s(e){var t=[],n=0;return k(e,function(e,i){var r=0;k(i.getVisiblePoints(),function(e,t){var n=o(t);n&&(r=w(n.width+I,r))}),t.push(r),n+=r}),{sizes:t,common:n}}function l(e,t,n,i,r){for(var o,a=(i.width-i.left-i.right)/2,s=0;s<n.length;s++)0!==e[s]?(o=C(o?o+e[s-1]:t),n[s].correctLabelRadius(o),r&&s!==n.length-1&&(e[s]=r,n[s].setVisibleArea({left:a-t-r*(s+1),right:i.width-(a+t+r*(s+1)),top:i.top,bottom:i.bottom,width:i.width,height:i.height}))):o&&(o+=e[s-1])}function u(e,t,n,i){return S((e-n)*(e-n)+(t-i)*(t-i))}function c(e){var t;return"pie"===e.type?t=0:(t=x(e.innerRadius)?Number(e.innerRadius):.5,t=.2>t?.2:t,t=t>.8?.8:t),t}function d(e){return!!(e.x||e.y||e.width||e.height)}function h(e,t){var n,i,r=!1;return k(e,function(e,o){n=o.canvas,k(t,function(e,t){i="delta"+t,n[i]=w(n[i]-(n[t.toLowerCase()]-n["original"+t]),0),n[i]>0&&(r=!0)})}),r}function p(e,t){var n=t[0];return k(t,function(t,i){e===i.name&&(n=i)}),n}function f(e,t){var n=!1,i=0,r=0,o=0,a=0;return k(e,function(e,t){i=w(i,t.canvas.deltaLeft),r=w(r,t.canvas.deltaRight),o=w(o,t.canvas.deltaTop),a=w(a,t.canvas.deltaBottom)}),t?k(e,function(e,t){t.canvas.top+=o,t.canvas.bottom+=a,t.canvas.right+=t.canvas.deltaRight,t.canvas.left+=t.canvas.deltaLeft}):k(e,function(e,t){t.canvas.top+=t.canvas.deltaTop,t.canvas.bottom+=t.canvas.deltaBottom,t.canvas.right+=r,t.canvas.left+=i}),k(e,function(e,t){t.canvas.top+t.canvas.bottom>t.canvas.height&&(n=!0),t.canvas.left+t.canvas.right>t.canvas.width&&(n=!0)}),n}function m(e,t){e[t.cutLayoutSide]+="horizontal"===t.cutSide?t.width:t.height}function g(e,t){var n=e.cutLayoutSide,i={horizontal:0,vertical:0};switch(n){case"top":case"left":i[e.cutSide]=-t[n];break;case"bottom":case"right":i[e.cutSide]=t[n]}return i}function _(){}function v(e){return new t.viz.WrapperLayoutElement(null,{x:e.left,y:e.top,width:e.width-e.left-e.right,height:e.height-e.top-e.bottom})}var y=t.require("/utils/utils.common"),x=y.isNumber,b=Math.min,w=Math.max,C=Math.floor,S=Math.sqrt,k=e.each,D=e.extend,T=t.viz.series.helpers.consts,E=T.pieLabelIndent,I=T.pieLabelSpacing,A={left:"right",right:"left",top:"bottom",bottom:"top",center:"center"};_.prototype={constructor:_,setOptions:function(e){this._options=e},applyVerticalAxesLayout:function(e,t,n){this._applyAxesLayout(e,t,n)},applyHorizontalAxesLayout:function(e,t,n){e.reverse(),this._applyAxesLayout(e,t,n),e.reverse()},_applyAxesLayout:function(e,t,n){var i,r,o,a,s,l,u,c,m,g,_=this,v=[];for(k(t,function(e,t){D(t.canvas,{deltaLeft:0,deltaRight:0,deltaTop:0,deltaBottom:0})}),g=0;g<e.length;g++)if(s=e[g],r=s.getOptions().position||"left",s.delta={},o=s.getBoundingRect(),m=p(s.pane,t),i=m.canvas,d(o)){switch(u="delta"+r.slice(0,1).toUpperCase()+r.slice(1),r){case"right":c=1,i.deltaLeft+=s.padding?s.padding.left:0;break;case"left":c=-1,i.deltaRight+=s.padding?s.padding.right:0;break;case"top":c=-1,i.deltaBottom+=s.padding?s.padding.bottom:0;break;case"bottom":c=1,i.deltaTop+=s.padding?s.padding.top:0}switch(r){case"right":case"left":o.isEmpty||(a=o.y+o.height-(i.height-i.originalBottom),a>0&&(_.requireAxesRedraw=!0,i.deltaBottom+=a),a=i.originalTop-o.y,a>0&&(_.requireAxesRedraw=!0,i.deltaTop+=a)),l=o.width,v=["Left","Right"];break;case"top":case"bottom":o.isEmpty||(a=o.x+o.width-(i.width-i.originalRight),a>0&&(_.requireAxesRedraw=!0,i.deltaRight+=a),a=i.originalLeft-o.x,a>0&&(_.requireAxesRedraw=!0,i.deltaLeft+=a)),v=["Bottom","Top"],l=o.height}!s.delta[r]&&i[u]>0&&(i[u]+=s.getMultipleAxesSpacing()),s.delta[r]=s.delta[r]||0,s.delta[r]+=i[u]*c,i[u]+=l}_.requireAxesRedraw=h(t,v)||_.requireAxesRedraw,_.stopDrawAxes=f(t,n)},applyPieChartSeriesLayout:function(e,t,n){var i,r,o,u=e.height-e.top-e.bottom,d=e.width-e.left-e.right,h=d/2+e.left,p=u/2+e.top,f=this._options.piePercentage,m=x(f)?f*b(e.height,e.width)/2:b(d,u)/2,g=.7*m,_=0,v=c(t[0]);return n||x(f)||(i=s(t),o=h-i.common+e.left,g>o?(m=g,k(i.sizes,function(e,t){0!==t&&_++}),r=(h-m-e.left)/_):m=b(a(t,h,p,m,g),o),l(i.sizes,m,t,e,r)),{centerX:C(h),centerY:C(p),radiusInner:C(m*v),radiusOuter:C(m),canvas:e}},needMoreSpaceForPanesCanvas:function(e,t){var i=this._options,r=i.width,o=i.height,a=i.piePercentage,s=x(a),l=0,u=0;return k(e,function(e,i){var c=i.canvas,d=s?b(c.width,c.height)*a:n,h=(s?d:r)-(c.width-c.left-c.right),p=(s?d:o)-(c.height-c.top-c.bottom);t?(l+=h>0?h:0,u=w(p>0?p:0,u)):(l=w(h>0?h:0,l),u+=p>0?p:0)}),l>0||u>0?{width:l,height:u}:!1},layoutElements:function(e,t,n,i,r,o){this._elements=e,this._probeDrawing(t),this._drawElements(t),n&&n(),this._processAdaptiveLayout(i,r,t,o,n),this._positionElements(t)},_processAdaptiveLayout:function(t,n,r,o,a){function s(e,t,n){e.getLayoutOptions()[n]||(r[t.cutLayoutSide]-=t[n],u[n]=Math.max(u[n]-t[n],0))}var l=this,u=l.needMoreSpaceForPanesCanvas(t,n),c=this._elements;u&&(e.each(c.slice().reverse(),function(t,n){var i,r=D({},n.getLayoutOptions());r&&(i=e.extend({},r),"vertical"===r.cutSide&&u.height&&(n.draw(i.width,i.height-u.height),s(n,r,"height")),"horizontal"===r.cutSide&&u.width&&(n.draw(i.width-u.width,i.height),s(n,r,"width")))}),i(o.verticalAxes,"width",u),i(o.horizontalAxes,"height",u),a&&a(!0))},_probeDrawing:function(t){var n=this;e.each(this._elements,function(e,i){var r,o=i.getLayoutOptions();o&&(r={width:t.width-t.left-t.right,height:t.height-t.top-t.bottom},"vertical"===o.cutSide?r.height-=n._options.height:r.width-=n._options.width,i.probeDraw(r.width,r.height),m(t,i.getLayoutOptions()))})},_drawElements:function(t){e.each(this._elements.slice().reverse(),function(e,n){var i,r,o,a=n.getLayoutOptions();a&&(i={width:t.width-t.left-t.right,height:t.height-t.top-t.bottom},r=a.cutSide,o="horizontal"===r?"width":"height",i[o]=a[o],n.draw(i.width,i.height))})},_positionElements:function(t){var n={left:0,right:0,top:0,bottom:0};e.each(this._elements.slice().reverse(),function(e,i){var r,o,a,s=i.getLayoutOptions();s&&(r=s.position,o=s.cutSide,a={horizontal:r.horizontal,vertical:r.vertical},a[o]=A[a[o]],i.position({of:v(t),my:a,at:r,offset:g(s,n)}),n[s.cutLayoutSide]+=s["horizontal"===s.cutSide?"width":"height"])})}},t.viz.charts.LayoutManager=_}(jQuery,DevExpress),function(e,t){var n=t.viz,i=n.Range,r=t.require("/utils/utils.common"),o=t.require("/utils/utils.math"),a=o.adjustValue,s=o.applyPrecisionByMinDelta,l=r.isDefined,u=(t.require("/utils/utils.console").debug,Math),c=u.floor,d=u.max,h=u.abs,p=e.each,f=.1,m=function(e){var t={};return p(e,function(e,n){var i=n.pane;t[i]||(t[i]=[]),t[i].push(n)}),t},g=function(e){var t,n=e.getTranslator();n._originalBusinessRange?(t=new i(n._originalBusinessRange),n.updateBusinessRange(t)):n._originalBusinessRange=new i(n.getBusinessRange())},_={transform:function(e,t){return o.getLog(e,t)},addInterval:function(e,t){return e+t},getInterval:function(e,t){return t},adjustValue:c},v={transform:function(e,t){return o.raiseTo(e,t)},addInterval:function(e,t){return e*t},getInterval:function(e,t){return u.pow(e,t)},adjustValue:a},y=function(e,t){if(e.isLogarithmic){var n,i,r,o=e.logarithmicBase,a=e.tickValues,s=[];for(e.minValue=t.transform(e.minValue,o),e.oldMinValue=t.transform(e.oldMinValue,o),e.maxValue=t.transform(e.maxValue,o),e.oldMaxValue=t.transform(e.oldMaxValue,o),e.tickInterval=u.round(e.tickInterval),e.tickInterval<1&&(e.tickInterval=1),i=t.getInterval(o,e.tickInterval),n=t.transform(a[0],o),r=0;r<a.length;r++)s.push(t.adjustValue(n)),n=t.addInterval(n,i);s.tickInterval=e.tickInterval,e.tickValues=s}},x=function(e){return n.utils.map(e,function(e){g(e);var t,n,i,o,a,s=e.getTicksValues(),u=s.majorTicksValues,c=e.getOptions(),d=null;return u&&u.length>0&&r.isNumber(u[0])&&"discrete"!==c.type&&(i=e.getTranslator().getBusinessRange(),o=e._tickManager.getTickInterval(),t=i.minVisible,n=i.maxVisible,a=c.synchronizedValue,t===n&&l(a)&&(o=h(u[0]-a)||1,t=u[0]-o,n=u[0]+o),d={axis:e,isLogarithmic:"logarithmic"===c.type,logarithmicBase:i.base,tickValues:u,minorValues:s.minorTicksValues,minValue:t,oldMinValue:t,maxValue:n,oldMaxValue:n,inverted:i.invert,tickInterval:o,synchronizedValue:a},i.stubData&&(d.stubData=!0,d.tickInterval=d.tickInterval||c.tickInterval,d.isLogarithmic=!1),y(d,_)),d})},b=function(e){var t=0;p(e,function(e,n){t=d(t,n.tickValues.length)}),p(e,function(e,n){var i,r,o=0,a=n.synchronizedValue,u=n.tickValues,d=n.tickInterval;if(l(a))n.baseTickValue=n.invertedBaseTickValue=a,n.tickValues=[n.baseTickValue];else{if(u.length>1&&d){for(i=c((t+1)/u.length),r=i>1?c((t+1)/i):t,o=c((r-u.length)/2);o>0&&0!==u[0];)u.unshift(s(u[0],d,u[0]-d)),o--;for(;u.length<r;)u.push(s(u[0],d,u[u.length-1]+d));n.tickInterval=d/i}n.baseTickValue=u[0],n.invertedBaseTickValue=u[u.length-1]}})},w=function(e){return e.maxValue-e.minValue||1},C=function(e){for(var t=0;t<e.length;t++)if(!e[t].stubData)return e[t];return null},S=function(e){var t=C(e),n=t.tickInterval;p(e,function(e,i){var r,o,a,s;i!==t&&(n&&i.tickInterval&&(i.stubData&&l(i.synchronizedValue)&&(i.oldMinValue=i.minValue=i.baseTickValue-(t.baseTickValue-t.minValue)/n*i.tickInterval,i.oldMaxValue=i.maxValue=i.baseTickValue-(t.baseTickValue-t.maxValue)/n*i.tickInterval),r=n/w(t)/i.tickInterval*w(i),i.maxValue=i.minValue+w(i)/r),a=t.inverted&&!i.inverted||!t.inverted&&i.inverted?t.maxValue-t.invertedBaseTickValue:t.baseTickValue-t.minValue,s=w(i),o=(a/w(t)-(i.baseTickValue-i.minValue)/s)*s,i.minValue-=o,i.maxValue-=o)})},k=function(e){var t,n,i=0,r=0;return p(e,function(e,o){var a=o.inverted;t=o.minValue>o.oldMinValue?(o.minValue-o.oldMinValue)/w(o):0,n=o.maxValue<o.oldMaxValue?(o.oldMaxValue-o.maxValue)/w(o):0,i=d(i,a?n:t),r=d(r,a?t:n)}),{start:i,end:r}},D=function(e,t){p(e,function(e,n){var i=w(n),r=n.inverted;n.minValue-=t[r?"end":"start"]*i,n.maxValue+=t[r?"start":"end"]*i,i>f&&(n.minValue=u.min(n.minValue,a(n.minValue)),n.maxValue=d(n.maxValue,a(n.maxValue)))})},T=function(e){var t=!1;p(e,function(e,n){t=t||l(n.synchronizedValue)}),p(e,function(e,n){var i,o=n.tickInterval,l=n.tickValues,u=n.maxValue,c=n.minValue;if(t&&o){for(;l[0]-o>=c;)l.unshift(a(l[0]-o));for(i=l[l.length-1];(i+=o)<=u;)l.push(r.isExponential(i)?a(i):s(c,o,i))}for(;l[0]<c;)l.shift();for(;l[l.length-1]>u;)l.pop()})},E=function(e){p(e,function(e,t){var n=t.axis,i=n.getTranslator().getBusinessRange();i.min===i.minVisible&&(i.min=t.minValue),i.max===i.maxVisible&&(i.max=t.maxValue),i.minVisible=t.minValue,i.maxVisible=t.maxValue,l(t.stubData)&&(i.stubData=t.stubData),i.min>i.minVisible&&(i.min=i.minVisible),i.max<i.maxVisible&&(i.max=i.maxVisible),i.isSynchronized=!0,
n.getTranslator().updateBusinessRange(i),n.setTicks({majorTicks:t.tickValues,minorTicks:t.minorValues})})},I=function(e){var t,n,i=[];p(e,function(e,r){r.oldMaxValue-r.oldMinValue==0?i.push(r):l(t)||l(r.synchronizedValue)||(t=h((r.maxValue-r.minValue)/(r.tickValues[c(r.tickValues.length/2)]||r.maxValue)),n=r)}),l(t)&&p(i,function(e,i){var r=i.tickValues[0],o=r*t,a=n.tickValues,s=a[c(a.length/2)];r>0?(i.maxValue=o,i.minValue=0):0>r?(i.minValue=o,i.maxValue=0):0===r&&(i.maxValue=n.maxValue-s,i.minValue=n.minValue-s)})};t.viz.charts.multiAxesSynchronizer={synchronize:function(e){p(m(e),function(e,t){var n,i;if(t.length>1){if(n=x(t),0===n.length||!C(n))return;b(n),S(n),i=k(n),D(n,i),I(n),T(n),p(n,function(){y(this,v)}),E(n)}})}}}(jQuery,DevExpress),function(e,t,n,i){function r(e,t){var n=e.target;return("tspan"===n.tagName?n.parentNode:n)[t]}function o(e,t){return e.cancel||!t.getOptions()}function a(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function s(e,t,n,i,r){y(e,function(e,o){var a=o.series;o===t?(a[n]({point:o,setState:!0}),i&&r(i,{target:o})):a[n]({point:o})})}function l(e,t,n){var i=[];return y(e,function(e,r){y(r.getPointsByArg(t),function(e,t){n===t.index&&i.push(t)})}),i}var u=t.viz.charts,c=t.viz.series.helpers.consts.events,d=t.require("/utils/utils.math"),h=t.require("/utils/utils.common"),p=t.require("/ui/events/pointer/ui.events.pointer"),f=t.require("/ui/events/ui.events.wheel"),m=t.require("/devices"),g=h.isDefined,_=t.viz.utils.normalizeEnum,v=n.floor,y=e.each,x=e.inArray,b=e.noop,w="multiple",C="allargumentpoints",S="allseriespoints",k="none",D=[p.down,p.move].join(" "),T="pointSelectionChanged",E="legendClick",I="seriesClick",A="pointClick",$="releasePointSelectedState",B="setPointSelectedState",O="setPointHoverState",P="seriesHoverChanged",M="pointHoverChanged",R="releasePointHoverState",V="seriesSelectionChanged",L="chart-data-point",F="chart-data-series",z="chart-data-argument",H=100,N={ctor:function(e){var t=this,n={tracker:t};t._renderer=e.renderer,t._legend=e.legend,t._tooltip=e.tooltip,t._eventTrigger=e.eventTrigger,e.seriesGroup.off().on(c.selectSeries,n,t._selectSeries).on(c.deselectSeries,n,t._deselectSeries).on(c.selectPoint,n,t._selectPoint).on(c.deselectPoint,n,t._deselectPoint).on(c.showPointTooltip,n,t._showPointTooltip).on(c.hidePointTooltip,n,t._hidePointTooltip),t._renderer.root.off(D).off("dxclick dxhold").on(D,n,t._pointerHandler).on("dxclick",n,t._clickHandler).on("dxhold",{timeout:300},b)},update:function(e){var t=this;_(e.pointSelectionMode)===w?(t._setSelectedPoint=t._selectPointMultipleMode,t._releaseSelectedPoint=t._releaseSelectedPointMultipleMode):(t._setSelectedPoint=t._selectPointSingleMode,t._releaseSelectedPoint=t._releaseSelectedPointSingleMode),_(e.seriesSelectionMode)===w?(t._releaseSelectedSeries=t._releaseSelectedSeriesMultipleMode,t._setSelectedSeries=t._setSelectedSeriesMultipleMode):(t._releaseSelectedSeries=t._releaseSelectedSeriesSingleMode,t._setSelectedSeries=t._setSelectedSeriesSingleMode),t._prepare()},updateSeries:function(e){var t=this;t._storedSeries!==e?(t._storedSeries=e||[],t._clean()):(t._hideTooltip(t.pointAtShownTooltip),t._clearHover(),t.clearSelection())},setCanvases:function(e,t){this._mainCanvas=e,this._canvases=t},repairTooltip:function(){var e=this.pointAtShownTooltip;e&&!e.isVisible()?this._hideTooltip(e,!0):this._showTooltip(e)},_prepare:function(){this._toggleParentsScrollSubscription(!0)},_toggleParentsScrollSubscription:function(t){var n=this,i=e(n._renderer.root.element).parents(),r="scroll.dxChartTracker";"generic"===m.real().platform&&(i=i.add(window)),e().add(n._$prevRootParents).off(r),t&&(i.on(r,function(){n._pointerOut()}),n._$prevRootParents=i)},_selectPointMultipleMode:function(e){var t=this;t._selectedPoint=t._selectedPoint||[],x(e,t._selectedPoint)<0&&(t._selectedPoint.push(e),t._setPointState(e,B,_(e.getOptions().selectionMode),T,t._legend.getActionCallback(e)))},_releaseSelectedPointMultipleMode:function(e){var t=this,n=t._selectedPoint||[],i=x(e,n);i>=0?(t._setPointState(e,$,_(e.getOptions().selectionMode),T,t._legend.getActionCallback(e)),n.splice(i,1)):e||y(n,function(e,n){t._releaseSelectedPoint(n)})},_selectPointSingleMode:function(e){var t=this;t._selectedPoint!==e&&(t._releaseSelectedPoint(),t._selectedPoint=e,t._setPointState(e,B,_(e.getOptions().selectionMode),T,t._legend.getActionCallback(e)))},_releaseSelectedPointSingleMode:function(){var e=this,t=e._selectedPoint;t&&(e._setPointState(t,$,_(t.getOptions().selectionMode),T,e._legend.getActionCallback(t)),e._selectedPoint=null)},_setHoveredPoint:function(e,t){var n=this;n.hoveredPoint!==e&&e.series&&(n._releaseHoveredPoint(),e&&e.getOptions()&&t!==k&&(n.hoveredPoint=e,n._setPointState(e,O,t||_(e.getOptions().hoverMode),M,n._legend.getActionCallback(e))))},_releaseHoveredPoint:function(){var e=this,t=e.hoveredPoint,n=e._eventTrigger;t&&t.getOptions()&&(e._releasePoint(t,n),e._tooltip.isEnabled()&&e._hideTooltip(t),e.hoveredPoint=null)},_setSelectedSeriesMultipleMode:function(e,t){var n=this;n._selectedSeries=n._selectedSeries||[],x(e,n._selectedSeries)<0&&(n._selectedSeries.push(e),e.setSelectedState(!0,t,n._legend.getActionCallback(e)),n._eventTrigger(V,{target:e}))},_setSelectedSeriesSingleMode:function(e,t){var n=this;(e!==n._selectedSeries||e.lastSelectionMode!==t)&&(n._releaseSelectedSeries(),n._selectedSeries=e,e.setSelectedState(!0,t,n._legend.getActionCallback(e)),n._eventTrigger(V,{target:e}))},_releaseSelectedSeriesMultipleMode:function(e){var t=this,n=t._selectedSeries||[],r=x(e,n);r>=0?(e.setSelectedState(!1,i,t._legend.getActionCallback(e)),t._eventTrigger(V,{target:e}),n.splice(r,1)):e||y(n,function(e,n){t._releaseSelectedSeries(n)})},_releaseSelectedSeriesSingleMode:function(e){var t=this,n=t._selectedSeries;n&&(!e||e===n)&&(n.setSelectedState(!1,i,t._legend.getActionCallback(n)),t._eventTrigger(V,{target:n}),t._selectedSeries=null)},_setHoveredSeries:function(e,t){var n=this;(t!==k&&n.hoveredSeries!==e||n._isModeChanged(e,t))&&(n._clearHover(),e.setHoverState(!0,t,n._legend.getActionCallback(e)),n._eventTrigger(P,{target:e}),n.hoveredSeries=e)},_releaseHoveredSeries:function(e,t){var n=this,r=n.hoveredSeries,o=n._seriesWithHoverView;r?(r.setHoverState(!1,i,n._legend.getActionCallback(r)),e&&t&&t.series===r&&(n._seriesWithHoverView=r.setHoverView()),n._eventTrigger(P,{target:r}),n.hoveredSeries=null):o&&!e&&(o.releaseHoverView(),n._seriesWithHoverView=null)},_selectSeries:function(e,t){e.data.tracker._setSelectedSeries(e.target,t)},_deselectSeries:function(e,t){e.data.tracker._releaseSelectedSeries(e.target,t)},_selectPoint:function(e,t){e.data.tracker._setSelectedPoint(t)},_deselectPoint:function(e,t){e.data.tracker._releaseSelectedPoint(t)},clearSelection:function(){this._releaseSelectedPoint(),this._releaseSelectedSeries()},_clean:function(){var e=this;e._selectedPoint=e._selectedSeries=e.hoveredPoint=e.hoveredSeries=e._hoveredArgumentPoints=e._seriesWithHoverView=null,e._hideTooltip(e.pointAtShownTooltip)},_clearHover:function(){this._releaseHoveredSeries(!1),this._releaseHoveredPoint()},_hideTooltip:function(e,t){var n=this;n._tooltip&&(!e||n.pointAtShownTooltip===e)&&(!t&&n.pointAtShownTooltip&&(n.pointAtShownTooltip=null),n._tooltip.hide())},_showTooltip:function(e){var t,n,i,r,o=this;if(e&&e.getOptions()){if(t=e.getTooltipFormatObject(o._tooltip),!g(t.valueText)&&!t.points||!e.isVisible())return;if(o.pointAtShownTooltip&&o.pointAtShownTooltip===e||(n={target:e}),i=e.getTooltipParams(o._tooltip.getLocation()),r=o._renderer.getRootOffset(),i.x+=r.left,i.y+=r.top,!o._tooltip.show(t,i,n))return;o.pointAtShownTooltip=e}},_showPointTooltip:function(e,t){var n=e.data.tracker,i=n.pointAtShownTooltip;i&&i!==t&&n._hideTooltip(i),n._showTooltip(t)},_hidePointTooltip:function(e,t){e.data.tracker._hideTooltip(t)},_enableOutHandler:function(){if(!this._outHandler){var t=this,n=function(e){var n=t._renderer.getRootOffset(),i=v(e.pageX-n.left),r=v(e.pageY-n.top);a(t._mainCanvas,i,r)||(t._pointerOut(),t._disableOutHandler())};e(document).on(D,n),this._outHandler=n}},_disableOutHandler:function(){this._outHandler&&e(document).off(D,this._outHandler),this._outHandler=null},_pointerOut:function(){this._clearHover(),this._tooltip.isEnabled()&&this._hideTooltip(this.pointAtShownTooltip)},_trigerLegendClick:function(e,t){var n=this._eventTrigger;n(E,e,function(){o(e.jQueryEvent,e.target)||n(t,e)})},_hoverLegendItem:function(e,t){var n,i=this,r=i._legend.getItemByCoord(e,t);r?(n=i._storedSeries[r.id],i._setHoveredSeries(n,i._legend._options.hoverMode),i._tooltip.isEnabled()&&i._hideTooltip(i.pointAtShownTooltip)):i._clearHover()},_pointerHandler:function(e){var t=e.data.tracker,n=t._renderer.getRootOffset(),i=v(e.pageX-n.left),o=v(e.pageY-n.top),a=t._getCanvas(i,o),s=r(e,F),l=r(e,L)||s&&s.getPointByCoord(i,o);if(t._enableOutHandler(),!t._checkGestureEvents(e,a,n)){if(t._legend.coordsIn(i,o))return void t._hoverLegendItem(i,o);if(t.hoveredSeries&&t.hoveredSeries!==t._stickedSeries&&t._releaseHoveredSeries(),!t._hoverArgumentAxis(i,o,e)&&(t._isPointerOut(a,l)&&t._pointerOut(),a||l)){if(s&&!l){if(l=s.getNeighborPoint(i,o),s!==t.hoveredSeries)return void t._setTimeout(function(){t._setHoveredSeries(s,s.getOptions().hoverMode),t._stickedSeries=s,t._pointerComplete(l,i,o)},s)}else{if(l)return void(t.hoveredSeries?t._setTimeout(function(){t._pointerOnPoint(l,i,o)},l):(t._pointerOnPoint(l,i,o),t._setSeriesWithHoverView(l)));t._setStickedSeries(i,o)&&(s=t._stickedSeries,l=s.getNeighborPoint(i,o),t._releaseHoveredSeries(),l&&t._setHoveredPoint(l))}t._pointerComplete(l,i,o)}}},_pointerOnPoint:function(e,t,n){this._setHoveredPoint(e),this._pointerComplete(e,t,n)},_pointerComplete:function(e){this.pointAtShownTooltip!==e&&this._tooltip.isEnabled()&&this._showTooltip(e)},_clickHandler:function(e){var t,n,i=e.data.tracker,o=i._renderer.getRootOffset(),a=v(e.pageX-o.left),s=v(e.pageY-o.top),l=r(e,L),u=i._stickedSeries||r(e,F)||l&&l.series,c=i._argumentAxis;i._legend.coordsIn(a,s)?(t=i._legend.getItemByCoord(a,s),t&&i._legendClick(t,e)):c&&c.coordsIn(a,s)?(n=r(e,z),g(n)&&i._eventTrigger("argumentAxisClick",{argument:n,jQueryEvent:e})):u&&(l=l||u.getPointByCoord(a,s),l?i._pointClick(l,e):r(e,F)&&i._eventTrigger(I,{target:u,jQueryEvent:e}))},dispose:function(){var e=this;e._disableOutHandler(),e._toggleParentsScrollSubscription(),y(e,function(t){e[t]=null})}};u.ChartTracker=function(e){this.ctor(e)},e.extend(u.ChartTracker.prototype,N,{_pointClick:function(e,t){var n=this,i=n._eventTrigger,r=e.series;i(A,{target:e,jQueryEvent:t},function(){o(t,r)||i(I,{target:r,jQueryEvent:t})})},update:function(e){var t=this;t._zoomingMode=_(e.zoomingMode),t._scrollingMode=_(e.scrollingMode),N.update.call(this,e),t._argumentAxis=e.argumentAxis||{},t._axisHoverEnabled=t._argumentAxis&&_(t._argumentAxis.getOptions().hoverMode)===C,t._chart=e.chart,t._rotated=e.rotated,t._crosshair=e.crosshair},_getCanvas:function(e,t){for(var n,i=this,r=i._canvases||[],o=0;o<r.length;o++)if(n=r[o],a(n,e,t))return n;return null},_getPointSeries:function(e){return e.series},_isModeChanged:function(e,t){return e.lastHoverMode!==t},_isPointerOut:function(e){return!e&&this._stickedSeries},_resetHoveredArgument:function(){g(this.hoveredArgument)&&(this._toAllArgumentPoints(this.hoveredArgument,R),this.hoveredArgument=null)},_toAllArgumentPoints:function(e,t,n,i){var r=this;y(r._storedSeries,function(o,a){s(a.getPointsByArg(e),i,t,n,r._eventTrigger)})},_hideCrosshair:function(){this._crosshair&&this._crosshair.hide()},_moveCrosshair:function(e,t,n){e&&this._crosshair&&e.isVisible()&&this._crosshair.show({point:e,x:t,y:n})},_releasePoint:function(e,t){var n=this,i=_(e.getOptions().hoverMode);i===S?s(e.series.getPoints(),e,R,M,t):i===C?n._toAllArgumentPoints(e.argument,R,M,e):"none"!==i&&(n._getPointSeries(e).releasePointHoverState({point:e,setState:!0,legendCallback:n._legend.getActionCallback(e)}),t(M,{target:e}))},_setPointState:function(e,t,n,i,r){var o,a=this,l=a._eventTrigger;switch(n){case C:a._toAllArgumentPoints(e.argument,t,i,e);break;case S:s(e.series.getPoints(),e,t,i,l);break;case k:break;default:o=a._getPointSeries(e),o[t]({point:e,legendCallback:r,setState:!0}),l(i,{target:e})}},_prepare:function(){var t=this,n=t._renderer.root,i="all"===t._scrollingMode||"touch"===t._scrollingMode,r="all"===t._zoomingMode||"touch"===t._zoomingMode,o=(i?"":"pan-x pan-y ")+(r?"":"pinch-zoom")||"none",a={"touch-action":o,"-ms-touch-action":o},s="all"===t._zoomingMode||"mouse"===t._zoomingMode;n.off(f.name+" dxc-scroll-start dxc-scroll-move"),N._prepare.call(t),t._gestureEndHandler||(t._gestureEndHandler=function(){t._gestureEnd&&t._gestureEnd()},e(document).on(p.up,t._gestureEndHandler)),s&&n.on(f.name,function(e){var n=t._renderer.getRootOffset(),i=t._rotated?e.pageY-n.top:e.pageX-n.left,r=t._argumentAxis.getTranslator().getMinScale(e.delta>0),o=i-i*r,a=t._argumentAxis.getTranslator().zoom(-o,r);t._pointerOut(),t._chart.zoomArgument(a.min,a.max,!0),e.preventDefault(),e.stopPropagation()}),n.on("dxc-scroll-start",function(e){t._gestureStart(t._getGestureParams(e,{left:0,top:0}))}).on("dxc-scroll-move",function(e){t._gestureChange(t._getGestureParams(e,{left:0,top:0}))&&e.preventDefault()}),n.css(a)},_getGestureParams:function(e,t){var i,r,o,a,s=this,l=e.pointers.length,u=s._rotated?"pageY":"pageX";return t=s._rotated?t.top:t.left,2===l?(i=e.pointers[0][u]-t,r=e.pointers[1][u]-t):1===l&&(i=r=e.pointers[0][u]-t),o=n.min(i,r),a=n.max(i,r),{center:o+(a-o)/2,distance:a-o,touches:l,scale:1,pointerType:e.pointerType}},_gestureStart:function(e){var t=this;t._startGesture=t._startGesture||e,t._startGesture.touches!==e.touches&&(t._startGesture=e)},_gestureChange:function(e){var t=this,i=t._startGesture,r=!1,o="all"===t._scrollingMode||"none"!==t._scrollingMode&&t._scrollingMode===e.pointerType,a="all"===t._zoomingMode||"touch"===t._zoomingMode;return i?1===i.touches&&n.abs(i.center-e.center)<3?(t._gestureStart(e),r):(2===i.touches&&a?(r=!0,i.scale=e.distance/i.distance,i.scroll=e.center-i.center+(i.center-i.center*i.scale)):1===i.touches&&o&&(r=!0,i.scroll=e.center-i.center),r&&(i.changed=r,t._chart._transformArgument(i.scroll,i.scale)),r):r},_gestureEnd:function(){function e(){r._chart.zoomArgument(t.min,t.max,!0)}var t,n,i,r=this,o=r._startGesture,a=r._renderer;r._startGesture=null,o&&o.changed&&(t=r._argumentAxis._translator.zoom(-o.scroll,o.scale),!a.animationEnabled()||-o.scroll===t.translate&&o.scale===t.scale?e():(n=-(o.scroll+t.translate),i=o.scale-t.scale,a.root.animate({_:0},{step:function(e){var t=-o.scroll-n*e,a=o.scale-i*e;r._chart._transformArgument(-t,a)},complete:e,duration:250})))},_clean:function(){var e=this;N._clean.call(e),e._resetTimer(),e._stickedSeries=null},_getSeriesForShared:function(e,t){var n=this,i=[],r=null,o=1/0;return n._tooltip.isShared()&&!n.hoveredSeries&&(y(n._storedSeries,function(n,r){var o=r.getNeighborPoint(e,t);o&&i.push(o)}),y(i,function(n,i){var a=i.getCrosshairData(e,t),s=d.getDistance(e,t,a.x,a.y);o>s&&(r=i,o=s)})),r&&r.series},_setTimeout:function(e,t){var n=this;n._timeoutKeeper!==t&&(n._resetTimer(),n._hoverTimeout=setTimeout(function(){e(),n._timeoutKeeper=null},H),n._timeoutKeeper=t)},_resetTimer:function(){clearTimeout(this._hoverTimeout),this._timeoutKeeper=this._hoverTimeout=null},_checkGestureEvents:function(e,t,n){var i=this;if(e.type===p.down)t&&i._gestureStart(i._getGestureParams(e,n));else if(i._startGesture&&t&&i._gestureChange(i._getGestureParams(e,n)))return i._pointerOut(),e.preventDefault(),!0},_setStickedSeries:function(e,t){return this._stickedSeries=this._stickedSeries||this._getSeriesForShared(e,t),!!this._stickedSeries},_setSeriesWithHoverView:function(e){this._seriesWithHoverView=e.series.setHoverView()},_pointerOut:function(){var e=this;e._stickedSeries=null,e._hideCrosshair(),e._resetHoveredArgument(),e._resetTimer(),N._pointerOut.call(e)},_hoverArgumentAxis:function(e,t,n){var i,o=this;return o._resetHoveredArgument(),o._axisHoverEnabled&&o._argumentAxis.coordsIn(e,t)?(i=r(n,z),g(i)&&o.hoveredArgument!==i&&(o._clearHover(),o._toAllArgumentPoints(i,O),o.hoveredArgument=i),!0):void 0},_pointerComplete:function(e,t,n){var i=this;i.hoveredSeries&&i.hoveredSeries.updateHover(t,n),i._resetTimer(),i._moveCrosshair(e,t,n),N._pointerComplete.call(i,e)},_legendClick:function(e,t){var n=this._storedSeries[e.id];this._trigerLegendClick({target:n,jQueryEvent:t},I)},_hoverLegendItem:function(e,t){this._stickedSeries=null,this._hideCrosshair(),N._hoverLegendItem.call(this,e,t)},_pointerOnPoint:function(e,t,n){var i=this,r=i._seriesWithHoverView,o=e.series;i._stickedSeries=o,i._releaseHoveredSeries(!r||r===o,e),N._pointerOnPoint.call(i,e,t,n)},dispose:function(){this._gestureEndHandler&&e(document).off(p.up,this._gestureEndHandler),this._resetTimer(),N.dispose.call(this)}}),u.PieTracker=function(e){this.ctor(e)},e.extend(u.PieTracker.prototype,N,{_getPointSeries:function(e){return this._storedSeries[e.index]},_isModeChanged:function(){return!1},_isPointerOut:function(e,t){return!t},_legendClick:function(e,t){var n,i=this,r=e.argument;1===i._storedSeries.length?(n=l(i._storedSeries,r,e.id),i._trigerLegendClick({target:n[0],jQueryEvent:t},A)):i._eventTrigger(E,{target:r,jQueryEvent:t})},_pointClick:function(e,t){this._eventTrigger(A,{target:e,jQueryEvent:t})},_releasePoint:function(e,t){var n=this,i=_(e.getOptions().hoverMode);"none"!==i&&(n._getPointSeries(e).releasePointHoverState({point:e,setState:!0,legendCallback:n._legend.getActionCallback(e)}),t(M,{target:e}))},_setPointState:function(e,t,n,i,r){var o,a=this,s=a._eventTrigger;"none"!==n&&(o=a._getPointSeries(e),o[t]({point:e,legendCallback:r,setState:!0}),s(i,{target:e}))},_hoverArgumentAxis:b,_setStickedSeries:b,_setSeriesWithHoverView:b,_getCanvas:b,_checkGestureEvents:b})}(jQuery,DevExpress,Math),function(e,t){function n(e,t,n,i){var r=this;r._renderer=e,r._crosshairGroup=i,r._options={},r.update(t,n)}var i=Math,r=i.abs,o=i.min,a=i.max,s=i.floor,l="horizontal",u="vertical",c=8,d=4,h="center",p="right",f="left",m="top",g="bottom";t.viz.charts.Crosshair=n,n.prototype={constructor:n,update:function(e,t){var n=this,i=t.canvas;n._canvas={top:i.top,bottom:i.height-i.bottom,left:i.left,right:i.width-i.right,width:i.width,height:i.height},n._axes=t.axes,n._panes=t.panes,n._prepareOptions(e,l),n._prepareOptions(e,u)},dispose:function(){var e=this;e._renderer=e._crosshairGroup=e._options=e._axes=e._canvas=e._horizontalGroup=e._verticalGroup=e._horizontal=e._vertical=e._circle=e._panes=null},_prepareOptions:function(t,n){var i=t[n+"Line"];this._options[n]={visible:i.visible,line:{stroke:i.color||t.color,"stroke-width":i.width||t.width,dashStyle:i.dashStyle||t.dashStyle,opacity:i.opacity||t.opacity,"stroke-linecap":"butt"},label:e.extend(!0,{},t.label,i.label)}},_createLines:function(e,t,n){for(var i=[],r=this._canvas,o=[r.left,r.top,r.left,r.top],a=0;2>a;a++)i.push(this._renderer.path(o,"line").attr(e).sharp(t).append(n));return i},render:function(){var e=this,t=e._renderer,n=e._options,i=n.vertical,r=n.horizontal,o=r.visible?r.line:i.line,a={stroke:o.stroke,"stroke-width":o["stroke-width"],dashStyle:o.dashStyle,opacity:o.opacity},s=e._canvas;e._horizontal={},e._vertical={},e._circle=t.circle(s.left,s.top,0).attr(a).append(e._crosshairGroup),e._horizontalGroup=t.g().append(e._crosshairGroup),e._verticalGroup=t.g().append(e._crosshairGroup),i.visible&&(e._vertical.lines=e._createLines(i.line,"h",e._verticalGroup),e._vertical.labels=e._createLabels(e._axes[0],i,!1,e._verticalGroup)),r.visible&&(e._horizontal.lines=e._createLines(r.line,"v",e._horizontalGroup),e._horizontal.labels=e._createLabels(e._axes[1],r,!0,e._horizontalGroup)),e.hide()},_createLabels:function(n,i,r,o){var a,s,l,u,c,d,_=this,v=_._canvas,y=_._renderer,x=[],b=i.label;return b&&b.visible?(e.each(n,function(e,n){var _,w=n.getOptions().position;n.getTranslator().getBusinessRange().stubData||(c=n.getLabelsParams().pos,r?(s=v.top,a=c):(a=v.left,s=c),_=w===m||w===g?h:w===p?f:p,u=y.rect(0,0,0,0).attr({fill:b.backgroundColor||i.line.stroke}).append(o),l=y.text("0",a,s).css(t.viz.utils.patchFontOptions(i.label.font)).attr({align:_}).append(o),d=l.getBBox(),l.attr({y:r?2*s-d.y-d.height/2:w===g?2*s-d.y:2*s-(d.y+d.height)}),x.push({text:l,background:u,axis:n,options:b,pos:{coord:c,side:w,align:_}}))}),x):void 0},_updateText:function(t,n,i,r,o){var a,s,l,u,h,p,m=this;n&&e.each(n,function(e,n){var g=n.axis;s="",l=n.text,u=n.background,l&&(g.name&&g.name!==i||(s=g.getFormattedValue(t,n.options,r)),s?(l.attr({text:s}),a=l.getBBox(),h=g.getLabelsParams(),p=n.pos.side,o&&(h.width<a.width?l.attr({align:p,x:h.pos+(p===f?-1:1)*h.width}):l.attr({align:n.pos.align,x:h.pos}),a=l.getBBox()),m._updateLinesCanvas(p,n.pos.coord),u.attr({x:a.x-c,y:a.y-d,width:a.width+2*c,height:a.height+2*d})):(l.attr({text:""}),u.attr({x:0,y:0,width:0,height:0})))})},hide:function(){this._crosshairGroup.attr({visibility:"hidden"})},_updateLinesCanvas:function(e,t){var n=this._linesCanvas,i=this._canvas;n[e]=n[e]!==i[e]&&r(n[e]-i[e])<r(t-i[e])?n[e]:t},_updateLines:function(e,t,n,i,r){for(var s=this._linesCanvas,l=this._canvas,u=r?[[o(t-i,s.left),l.top,t-i,l.top],[t+i,l.top,a(s.right,t+i),l.top]]:[[l.left,o(s.top,n-i),l.left,n-i],[l.left,n+i,l.left,a(s.bottom,n+i)]],c=0;2>c;c++)e[c].attr({points:u[c]})},_resetLinesCanvas:function(){var e=this._canvas;this._linesCanvas={left:e.left,right:e.right,top:e.top,bottom:e.bottom}},_getClipRectForPane:function(e,t){for(var n,i=this._panes,r=0;r<i.length;r++)if(n=i[r].coords,n.left<=e&&n.right>=e&&n.top<=t&&n.bottom>=t)return i[r].clipRect;return{id:null}},show:function(e){var t,n=this,i=e.point,r=i.getCrosshairData(e.x,e.y),o=i.getPointRadius(),a=n._horizontal,l=n._vertical,u=o?o+3:0,c=n._canvas,d=s(r.x),h=s(r.y);d>=c.left&&d<=c.right&&h>=c.top&&h<=c.bottom?(n._crosshairGroup.attr({visibility:"visible"}),n._resetLinesCanvas(),t=n._getClipRectForPane(d,h),n._circle.attr({cx:d,cy:h,r:u,clipId:t.id}),a.lines&&(n._updateText(r.yValue,a.labels,r.axis,i,!0),n._updateLines(a.lines,d,h,u,!0),n._horizontalGroup.attr({translateY:h-c.top})),l.lines&&(n._updateText(r.xValue,l.labels,r.axis,i,!1),n._updateLines(l.lines,d,h,u,!1),n._verticalGroup.attr({translateX:d-c.left}))):n.hide()}}}(jQuery,DevExpress),DevExpress.MOD_VIZ_CHARTS=!0}if(!window.DevExpress||!DevExpress.MOD_VIZ_GAUGES){if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");!function(e,t,n){function i(e){return d(e)?{text:e}:e||{}}var r;e.viz.gauges={};var o=Number,a=e.require("/utils/utils.math").getAppropriateFormat,s=t.extend,l=t.each,u=e.viz.utils.normalizeEnum,c=e.require("/utils/utils.common"),d=c.isString,h=e.viz.gauges.__internals={};e.viz.gauges.__tests={},e.viz.gauges.dxBaseGauge=e.viz.BaseWidget.inherit({_rootClassPrefix:"dxg",_invalidatingOptions:["title","subtitle","indicator","geometry","startValue","endValue","animation"],_createThemeManager:function(){return new this._factory.ThemeManager},_setDeprecatedOptions:function(){this.callBase(),s(this._deprecatedOptions,{subtitle:{since:"15.2",message:"Use the 'title.subtitle' option instead"},"title.position":{since:"15.2",message:"Use the 'verticalAlignment' and 'horizontalAlignment' options instead"},"scale.hideFirstTick":{since:"15.2",message:"The functionality is not more available"},"scale.hideLastTick":{since:"15.2",message:"The functionality is not more available"},"scale.hideFirstLabel":{since:"15.2",message:"The functionality is not more available"},"scale.hideLastLabel":{since:"15.2",message:"The functionality is not more available"},"scale.majorTick":{since:"15.2",message:"Use the 'tick' option instead"},"scale.minorTick.showCalculatedTicks":{since:"15.2",message:"The functionality is not more available"},"scale.minorTick.customTickValues":{since:"15.2",message:"Use the 'customMinorTicks' option instead"},"scale.minorTick.tickInterval":{since:"15.2",message:"Use the 'minorTickInterval' option instead"}})},_initCore:function(){var e=this,t=e._renderer.root;e._translator=e._factory.createTranslator(),e._initNotifiers(),e._layoutManager=e._factory.createLayoutManager(),e._deltaIndicator=e._factory.createDeltaIndicator({renderer:e._renderer,container:t}),e._tracker=e._factory.createTracker({renderer:e._renderer,container:t}),e._setupDomain(),e._setTrackerCallbacks()},_updateTitle:function(){var e,n,r=i(this.option("title"));this._suppressDeprecatedWarnings(),r.subtitle=t.extend(i(r.subtitle),i(this.option("subtitle"))),this._resumeDeprecatedWarnings(),e=s(!0,{},this._themeManager.theme("title"),r),e.position&&(n=u(e.position).split("-"),e.verticalAlignment=n[0],e.horizontalAlignment=n[1]),this._title.update(e)},_setTrackerCallbacks:function(){var e=this,t=e._renderer,n=e._tooltip;e._tracker.setCallbacks({"tooltip-show":function(e,i){var r=e.getTooltipParameters(),o=t.getRootOffset(),a=s({value:r.value,valueText:n.formatValue(r.value),color:r.color},i);return n.show(a,{x:r.x+o.left,y:r.y+o.top,offset:r.offset},{target:i})},"tooltip-hide":function(){return n.hide()}}),e._resetTrackerCallbacks=function(){e._resetTrackerCallbacks=e=t=n=null}},_initNotifiers:function(){var e=this,t=0;e._notifiers={dirty:function(){e._resetIsReady(),++t},ready:function(){0==--t&&e._drawn()},changed:function(){e._resizing||e.hideLoadingIndicator()}}},_disposeCore:function(){var e=this;e._themeManager.dispose(),e._tracker.dispose(),e._deltaIndicator&&e._deltaIndicator.dispose(),e._translator=e._notifiers=e._tracker=e._layoutManager=null},_clean:function(){this._cleanCore()},_render:function(){var e=this;e._scheduleLoadingIndicatorHiding(),e._setupCodomain(),e._setupAnimationSettings(),e._setupDefaultFormat(),e._renderCore()},_cleanCore:function(){var e=this;e._deltaIndicator&&e._deltaIndicator.clean(),e._tracker.deactivate(),e._cleanContent()},_renderCore:function(){var e,t=this;t._isValidDomain&&(e=t._themeManager.theme(),t._renderer.lock(),t._title.getLayoutOptions()&&t._title.draw(t._width,t._height),t._deltaIndicator&&t._deltaIndicator.draw(s(!0,{},e.indicator,t.option("indicator"))),t._layoutManager.beginLayout(t._rootRect),l([t._deltaIndicator,t._title],function(e,n){n&&t._layoutManager.applyLayout(n)}),t._mainRect=t._layoutManager.getRect(),t._renderContent(),t._layoutManager.endLayout(),t._tracker.setTooltipState(t._tooltip.isEnabled()),t._tracker.activate(),t._renderer.unlock(),t._noAnimation=null)},_setTooltipOptions:function(){var e=this;e.callBase.apply(e,arguments),e._tracker&&e._tracker.setTooltipState(e._tooltip.isEnabled())},_applySize:function(){var t=this,n=t._canvas;t._rootRect=new e.viz.Rectangle({left:n.left,top:n.top,right:n.width-n.right,bottom:n.height-n.bottom}),t._width=n.width,t._height=n.height,t._initialized&&(t._resizing=t._noAnimation=!0,t._cleanCore(),t._renderCore(),t._resizing=null)},_handleChangedOptions:function(e){this.callBase.apply(this,arguments),("startValue"in e||"endValue"in e)&&this._setupDomain()},_setupDomain:function(){var e=this;e._setupDomainCore(),e._isValidDomain=isFinite(1/(e._translator.getDomain()[1]-e._translator.getDomain()[0])),e._isValidDomain||e._incidentOccured("W2301")},_setupAnimationSettings:function(){var e=this,t=e.option("animation");e._animationSettings=null,(t===n||t)&&(t=s({enabled:!0,duration:1e3,easing:"easeOutCubic"},t),t.enabled&&t.duration>0&&(e._animationSettings={duration:o(t.duration),easing:t.easing})),e._containerBackgroundColor=e.option("containerBackgroundColor")||e._themeManager.theme().containerBackgroundColor},_setupDefaultFormat:function(){var e=this._translator.getDomain();this._defaultFormatOptions=a(e[0],e[1],this._getApproximateScreenRange())},_setupDomainCore:null,_calculateSize:null,_cleanContent:null,_renderContent:null,_setupCodomain:null,_getApproximateScreenRange:null,_factory:{createTranslator:function(){return new e.viz.Translator1D},createTracker:function(e){return new h.Tracker(e)},createLayoutManager:function(){return new h.LayoutManager},createDeltaIndicator:function(e){return h.DeltaIndicator?new h.DeltaIndicator(e):null}},_initDataSource:t.noop,_disposeDataSource:t.noop}),r=e.require("/utils/utils.formatHelper"),h.formatValue=function(e,t,n){t=t||{};var i,o=r.format(e,t.format,t.precision);return"function"==typeof t.customizeText?(i=s({value:e,valueText:o},n),String(t.customizeText.call(i,i))):o},h.getSampleText=function(e,t){var n=h.formatValue(e.getDomainStart(),t),i=h.formatValue(e.getDomainEnd(),t);return n.length>=i.length?n:i}}(DevExpress,jQuery),function(e,t,n){function i(e,t){return k(e)?D(e):t}function r(e){return b(e)?e:w(e)?[e]:null}function o(e){return e?e.value:null}function a(e,t,n){for(var r=e[t],a=b(n)?C(n,o):[],s=0,l=a.length,u=[];l>s;++s)u.push(i(a[s],r[s]));e[t]=u}function s(e){e.option(B)===n&&e.option(O)===n&&e.option("valueIndicators")!==n&&(l(e),u(e))}function l(e){e.value=e.subvalues=$,e._setupValue=e._setupSubvalues=e._updateValueIndicator=e._updateSubvalueIndicators=null}function u(e){e._indicatorValues=[],a(e,"_indicatorValues",e.option("valueIndicators")),e._valueIndicators=[],e._valueChangedHandler=c,e._updateActiveElements=d,e._prepareValueIndicators=h,e._disposeValueIndicators=p,e._cleanValueIndicators=f,e.indicatorValue=m}function c(e){"valueIndicators"in e&&(a(this,"_indicatorValues",e.valueIndicators),this._invalidate())}function d(){var e=this;A(e._valueIndicators,function(t,n){n.value(e._indicatorValues[n.index],e._noAnimation)})}function h(){for(var e,t=this,n=t._valueIndicators||[],i=t.option("valueIndicators"),r=[],o=0,a=b(i)?i.length:0;a>o;++o)r.push(i[o]);for(a=n.length;a>o;++o)r.push(null);return e=[],A(r,function(i,r){var o,a=n[i];return r?(o=t._prepareIndicatorSettings(r,"valueIndicatorType"),a&&a.type!==o.type&&(a.dispose(),a=null),a||(a=t._createIndicator(o.type,t._renderer.root,"dxg-value-indicator","value-indicator",i,!0)),a&&(a.index=i,a.render(o),e.push(a)),void 0):void(a&&a.dispose())}),t._valueIndicators=e}function p(){A(this._valueIndicators,function(e,t){t.dispose()}),this._valueIndicators=null}function f(){A(this._valueIndicators,function(e,t){t.clean()})}function m(e,t){return g(this,this._valueIndicators,this._indicatorValues,e,t)}function g(e,t,r,o,a){return a!==n?(r[o]!==n&&(r[o]=i(a,r[o]),t[o]&&t[o].value(r[o])),e):r[o]}function _(e){this._parameters=e,this._indicators=[]}var v=e.require("/utils/utils.common"),y=v.isDefined,x=e.viz,b=v.isArray,w=v.isNumber,C=x.utils.map,S=x.utils.normalizeEnum,k=isFinite,D=Number,T=Math.min,E=Math.max,I=t.extend,A=t.each,$=t.noop,B="value",O="subvalues",P=5,M=[1,2,5];x.gauges.dxGauge=x.gauges.dxBaseGauge.inherit({_invalidatingOptions:x.gauges.dxBaseGauge.prototype._invalidatingOptions.concat(["scale","rangeContainer","valueIndicator","subvalueIndicator","valueIndicators","containerBackgroundColor"]),_initCore:function(){var e=this,t=e._renderer;e._setupValue(e.option(B)),e.__subvalues=r(e.option(O)),e._setupSubvalues(e.__subvalues),s(e),e.callBase.apply(e,arguments),e._rangeContainer=new e._factory.RangeContainer({renderer:t,container:t.root,translator:e._translator,themeManager:e._themeManager}),e._initScale()},_initScale:function(){var e=this;e._scaleGroup=e._renderer.g().attr({"class":"dxg-scale"}).linkOn(e._renderer.root,"scale"),e._scale=new x.axes.Axis({incidentOccured:e._incidentOccured,renderer:e._renderer,axesContainerGroup:e._scaleGroup,axisType:e._scaleTypes.type,drawingType:e._scaleTypes.drawingType,widgetClass:"dxg"}),e._scaleTranslator=e._initScaleTranslator(new x.Range({axisType:"continuous",dataType:"numeric",stick:!0}))},_disposeCore:function(){var e=this;e.callBase.apply(e,arguments),e._scale.dispose(),e._scaleGroup.linkOff(),e._rangeContainer.dispose(),e._disposeValueIndicators(),e._scale=e._scaleGroup=e._scaleTranslators=e._rangeContainer=null},_disposeValueIndicators:function(){var e=this;e._valueIndicator&&e._valueIndicator.dispose(),e._subvalueIndicatorsSet&&e._subvalueIndicatorsSet.dispose(),e._valueIndicator=e._subvalueIndicatorsSet=null},_setupDomainCore:function(){
var e=this,t=e.option("scale")||{},n=e.option("startValue"),i=e.option("endValue");n=w(n)?D(n):w(t.startValue)?D(t.startValue):0,i=w(i)?D(i):w(t.endValue)?D(t.endValue):100,e._baseValue=i>n?n:i,e._translator.setDomain(n,i)},_cleanContent:function(){var e=this;e._rangeContainer.clean(),e._cleanValueIndicators()},_measureScale:function(e){var t,n,i,r,o,a,s=this,l=e.tick,u=l.visible&&l.length>0&&l.width>0,c=e.minorTick,d=c.visible&&c.length>0&&c.width>0,h=e.label,p=Number(h.indentFromTick);return u||d||h.visible?(t=s._scale.measureLabels(),n=s._getScaleLayoutValue(),i={min:n,max:n},r=s._getTicksCoefficients(e),o=r.inner,a=r.outer,u&&(i.min=T(i.min,n-o*l.length),i.max=E(i.max,n+a*l.length)),d&&(i.min=T(i.min,n-o*c.length),i.max=E(i.max,n+a*c.length)),h.visible&&s._correctScaleIndents(i,p,t),i):{}},_renderContent:function(){var e,t=this,n=t._prepareScaleSettings();t._rangeContainer.render(I(t._getOption("rangeContainer"),{vertical:t._area.vertical})),t._renderScale(n),e=C([t._rangeContainer].concat(t._prepareValueIndicators()),function(e){return e&&e.enabled?e:null}),t._applyMainLayout(e,t._measureScale(n)),A(e,function(e,n){n.resize(t._getElementLayout(n.getOffset()))}),t._shiftScale(t._getElementLayout(0),n),t._updateActiveElements()},_prepareScaleSettings:function(){var e=this,i=t.extend(!0,{},e._themeManager.theme("scale"),e.option("scale")),r=i.label.overlappingBehavior.useAutoArrangement,o=i.majorTick,a=i.minorTick,s=i.label.overlappingBehavior;return o&&(i.tick=I(i.tick,o),r=o.useTickAutoArrangement!==n?o.useTickAutoArrangement:!0,o.tickInterval!==n&&(i.tickInterval=o.tickInterval),o.customTickValues!==n&&(i.customTicks=o.customTickValues),i.tick.showCalculatedTicks=i.customTicks?o.showCalculatedTicks!==n?o.showCalculatedTicks:!0:!1),s.hideFirstTick=i.hideFirstTick,s.hideFirstLabel=i.hideFirstLabel,s.hideLastTick=i.hideLastTick,s.hideLastLabel=i.hideLastLabel,a.customTickValues!==n&&(i.customMinorTicks=i.minorTick.customTickValues),a.tickInterval!==n&&(i.minorTickInterval=i.minorTick.tickInterval),a.showCalculatedTicks=i.customMinorTicks?a.showCalculatedTicks!==n?a.showCalculatedTicks:!0:!1,i.label.indentFromAxis=0,i.isHorizontal=!e._area.vertical,s.mode=r?"enlargeTickInterval":"ignore",i.axisDivisionFactor=e._gridSpacingFactor,i.minorAxisDivisionFactor=P,i.numberMultipliers=M,i.tickOrientation=e._getTicksOrientation(i),i.label.useRangeColors&&(i.label.customizeColor=function(){return e._rangeContainer.getColorForValue(this.value)}),i},_renderScale:function(e){var t=this,n=t._translator.getDomain(),i=n[0],r=n[1];e.min=i,e.max=r,t._scale.updateOptions(e),t._updateScaleTranslator(i,r),t._updateScaleTickIndent(e),t._scaleGroup.linkAppend(),t._scale.draw()},_updateScaleTranslator:function(e,t){var n=this,i=n._getScaleTranslatorComponent("arg");n._updateScaleAngles(),i.updateBusinessRange(I(i.getBusinessRange(),{minVisible:e,maxVisible:t,invert:e>t})),n._scale.setTranslator(i,n._getScaleTranslatorComponent("val"))},_updateIndicatorSettings:function(e){var t=this;e.currentValue=e.baseValue=k(t._translator.translate(e.baseValue))?D(e.baseValue):t._baseValue,e.vertical=t._area.vertical,!e.text||e.text.format||e.text.precision||(e.text.format=t._defaultFormatOptions.format,e.text.precision=t._defaultFormatOptions.precision)},_prepareIndicatorSettings:function(e,t){var n=this,i=n._themeManager.theme("valueIndicators"),r=S(e.type||n._themeManager.theme(t)),o=I(!0,{},i._default,i[r],e);return o.type=r,o.animation=n._animationSettings,o.containerBackgroundColor=n._containerBackgroundColor,n._updateIndicatorSettings(o),o},_cleanValueIndicators:function(){this._valueIndicator&&this._valueIndicator.clean(),this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.clean()},_prepareValueIndicators:function(){var e=this;return e._prepareValueIndicator(),null!==e.__subvalues&&e._prepareSubvalueIndicators(),[e._valueIndicator,e._subvalueIndicatorsSet]},_updateActiveElements:function(){this._updateValueIndicator(),this._updateSubvalueIndicators()},_prepareValueIndicator:function(){var e=this,t=e._valueIndicator,n=e._prepareIndicatorSettings(e.option("valueIndicator")||{},"valueIndicatorType");t&&t.type!==n.type&&(t.dispose(),t=null),t||(t=e._valueIndicator=e._createIndicator(n.type,e._renderer.root,"dxg-value-indicator","value-indicator")),t.render(n)},_createSubvalueIndicatorsSet:function(){var e=this,t=e._renderer.root;return new _({createIndicator:function(n,i){return e._createIndicator(n,t,"dxg-subvalue-indicator","subvalue-indicator",i)},createPalette:function(t){return e._themeManager.createPalette(t)}})},_prepareSubvalueIndicators:function(){var e,t,n=this,i=n._subvalueIndicatorsSet,r=n._prepareIndicatorSettings(n.option("subvalueIndicator")||{},"subvalueIndicatorType");i||(i=n._subvalueIndicatorsSet=n._createSubvalueIndicatorsSet()),e=r.type!==i.type,i.type=r.type,t=n._createIndicator(r.type,n._renderer.root),t&&(t.dispose(),i.render(r,e))},_setupValue:function(e){this.__value=i(e,this.__value)},_setupSubvalues:function(e){var t,o,a,s=e===n?this.__subvalues:r(e);if(null!==s){for(t=0,o=s.length,a=[];o>t;++t)a.push(i(s[t],this.__subvalues[t]));this.__subvalues=a}},_updateValueIndicator:function(){var e=this;e._valueIndicator&&e._valueIndicator.value(e.__value,e._noAnimation)},_updateSubvalueIndicators:function(){var e=this;e._subvalueIndicatorsSet&&e._subvalueIndicatorsSet.values(e.__subvalues,e._noAnimation)},value:function(e){var t=this;return e!==n?(t._setupValue(e),t._updateValueIndicator(),t.option(B,t.__value),t):t.__value},subvalues:function(e){var t=this;return e!==n?(null!==t.__subvalues&&(t._setupSubvalues(e),t._updateSubvalueIndicators(),t.option(O,t.__subvalues)),t):null!==t.__subvalues?t.__subvalues.slice():n},_valueChangedHandler:function(e){var t=this;B in e&&(t._setupValue(e[B]),t._updateValueIndicator(),t.option(B,t.__value)),O in e&&null!==t.__subvalues&&(t._setupSubvalues(e[O]),t._updateSubvalueIndicators(),t.option(O,t.__subvalues))},_handleChangedOptions:function(e){this.callBase.apply(this,arguments),"scale"in e&&this._setupDomain(),this._valueChangedHandler(e)},_applyMainLayout:null,_getElementLayout:null,_createIndicator:function(e,t,n,i,r,o){var a=this,s=a._factory.createIndicator({renderer:a._renderer,translator:a._translator,notifiers:a._notifiers,owner:t,tracker:a._tracker,className:n},e,o);return s&&(s.type=e,s._trackerInfo={type:i,index:r}),s},_getApproximateScreenRange:null}),_.prototype={costructor:_,dispose:function(){var e=this;return A(e._indicators,function(e,t){t.dispose()}),e._parameters=e._options=e._indicators=e._colorPalette=e._palette=null,e},clean:function(){var e=this;return e._sample&&e._sample.clean().dispose(),A(e._indicators,function(e,t){t.clean()}),e._sample=e._options=e._palette=null,e},render:function(e,t){var n=this;return n._options=e,n._sample=n._parameters.createIndicator(n.type),n._sample.render(e),n.enabled=n._sample.enabled,n._palette=y(e.palette)?n._parameters.createPalette(e.palette):null,n.enabled&&(n._generatePalette(n._indicators.length),n._indicators=C(n._indicators,function(e,i){return t&&(e.dispose(),e=n._parameters.createIndicator(n.type,i)),e.render(n._getIndicatorOptions(i)),e})),n},getOffset:function(){return D(this._options.offset)||0},resize:function(e){var t=this;return t._layout=e,A(t._indicators,function(t,n){n.resize(e)}),t},measure:function(e){return this._sample.measure(e)},_getIndicatorOptions:function(e){var t=this._options;return this._colorPalette&&(t=I({},t,{color:this._colorPalette[e]})),t},_generatePalette:function(e){var t,n=this,i=null;if(n._palette)for(i=[],n._palette.reset(),t=0;e>t;++t)i.push(n._palette.getNextColor());n._colorPalette=i},_adjustIndicatorsCount:function(e){var t,n,i,r=this,o=r._indicators,a=o.length;if(a>e){for(t=e,n=a;n>t;++t)o[t].clean().dispose();r._indicators=o.slice(0,e),r._generatePalette(o.length)}else if(e>a)for(r._generatePalette(e),t=a,n=e;n>t;++t)i=r._parameters.createIndicator(r.type,t),i.render(r._getIndicatorOptions(t)).resize(r._layout),o.push(i)},values:function(e,t){var i=this;return i.enabled?e!==n?(b(e)||(e=k(e)?[Number(e)]:null),e&&(i._adjustIndicatorsCount(e.length),A(i._indicators,function(n,i){i.value(e[n],t)})),i):C(i._indicators,function(e){return e.value()}):void 0}},x.gauges.__internals.createIndicatorCreator=function(e){return function(t,n,i){var r=e[S(n)]||!i&&e._default;return r?new r(t):null}}}(DevExpress,jQuery),function(e,t){function n(e,t){var n=l(e),i=l(t),r=n.cos,o=n.sin,a=i.cos,s=i.sin;return{left:0>=o&&s>=0||0>=o&&0>=s&&a>=r||o>=0&&s>=0&&r>=a?-1:h(r,a,0),right:o>=0&&0>=s||o>=0&&s>=0&&r>=a||0>=o&&0>=s&&a>=r?1:d(r,a,0),up:0>=r&&a>=0||0>=r&&0>=a&&o>=s||r>=0&&a>=0&&s>=o?-1:-d(o,s,0),down:r>=0&&0>=a||r>=0&&a>=0&&s>=o||0>=r&&0>=a&&o>=s?1:-h(o,s,0)}}var i=e.viz,r=isFinite,o=e.require("/utils/utils.object"),a=e.require("/utils/utils.math"),s=a.normalizeAngle,l=a.getCosAndSin,u=e.require("/componentRegistrator"),c=Math.abs,d=Math.max,h=Math.min,p=Math.round,f=t.each,m=90,g=Math.PI;u("dxCircularGauge",i.gauges,i.gauges.dxGauge.inherit({_rootClass:"dxg-circular-gauge",_factoryMethods:{rangeContainer:"createCircularRangeContainer",indicator:"createCircularIndicator"},_gridSpacingFactor:17,_scaleTypes:{type:"polarAxes",drawingType:"circular"},_initScaleTranslator:function(e){return new i.PolarTranslator({arg:e,val:{}},this._canvas,{})},_getScaleTranslatorComponent:function(e){return this._scaleTranslator.getComponent(e)},_updateScaleTickIndent:function(e){var t=e.label.indentFromTick,n=e.tick.length,i=this._scale.measureLabels(),r=n;"inside"===e.orientation?r=0:"center"===e.orientation&&(r=.5*n),e.label.indentFromAxis=t>=0?t+r:t-r-d(i.width,i.height),this._scale.updateOptions(e)},_updateScaleAngles:function(){var e=this._translator.getCodomain();this._scaleTranslator.setAngles(m-e[0],m-e[1])},_setupCodomain:function(){var e,t=this,i=t.option("geometry")||{},o=i.startAngle,a=i.endAngle;o=r(o)?s(o):225,a=r(a)?s(a):-45,c(o-a)<1?(a-=360,e={left:-1,up:-1,right:1,down:1}):(a>o&&(a-=360),e=n(o,a)),t._area={x:0,y:0,radius:100,startCoord:o,endCoord:a,sides:e},t._translator.setCodomain(o,a)},_shiftScale:function(e){var t,n=this._scaleTranslator,i=this._scale;n.setCanvasDimension(2*e.radius),i.setTranslator(n.getComponent("arg"),n.getComponent("val")),i.draw(),t=n.getCenter(),i.shift(e.x-t.x,e.y-t.y)},_getScaleLayoutValue:function(){return this._area.radius},_getTicksOrientation:function(e){return e.orientation},_getTicksCoefficients:function(e){var t={inner:0,outer:1};return"inside"===e.orientation?(t.inner=1,t.outer=0):"center"===e.orientation&&(t.inner=t.outer=.5),t},_correctScaleIndents:function(e,t,n){t>=0?(e.horizontalOffset=t+n.width,e.verticalOffset=t+n.height):(e.horizontalOffset=e.verticalOffset=0,e.min-=-t+d(n.width,n.height)),e.inverseHorizontalOffset=n.width/2,e.inverseVerticalOffset=n.height/2},_measureMainElements:function(e,t){var n=this,i=n._area.radius,r=0,o=1/0,a=0,s=0,l=0,u=0,c=n._scale;return f(e.concat(c),function(e,n){var c=n.measure?n.measure({radius:i-n.getOffset()}):t;c.min>0&&(o=h(o,c.min)),c.max>0&&(r=d(r,c.max)),c.horizontalOffset>0&&(a=d(a,c.max+c.horizontalOffset)),c.verticalOffset>0&&(s=d(s,c.max+c.verticalOffset)),c.inverseHorizontalOffset>0&&(l=d(l,c.inverseHorizontalOffset)),c.inverseVerticalOffset>0&&(u=d(u,c.inverseVerticalOffset))}),a=d(a-r,0),s=d(s-r,0),{minRadius:o,maxRadius:r,horizontalMargin:a,verticalMargin:s,inverseHorizontalMargin:l,inverseVerticalMargin:u}},_applyMainLayout:function(e,t){var n,i,r=this,o=r._measureMainElements(e,t),a=r._area,s=a.sides,l={left:(s.left<-.1?o.horizontalMargin:o.inverseHorizontalMargin)||0,right:(s.right>.1?o.horizontalMargin:o.inverseHorizontalMargin)||0,top:(s.up<-.1?o.verticalMargin:o.inverseVerticalMargin)||0,bottom:(s.down>.1?o.verticalMargin:o.inverseVerticalMargin)||0},u=r._layoutManager.selectRectByAspectRatio((s.down-s.up)/(s.right-s.left),l),c=h(u.width()/(s.right-s.left),u.height()/(s.down-s.up));c=c-o.maxRadius+a.radius,n=u.left-u.width()*s.left/(s.right-s.left),i=u.top-u.height()*s.up/(s.down-s.up),a.x=p(n),a.y=p(i),a.radius=c,u.left-=l.left,u.right+=l.right,u.top-=l.top,u.bottom+=l.bottom,r._layoutManager.setRect(u)},_getElementLayout:function(e){return{x:this._area.x,y:this._area.y,radius:p(this._area.radius-e)}},_getApproximateScreenRange:function(){var e=this,t=e._area,n=h(e._canvas.width/(t.sides.right-t.sides.left),e._canvas.height/(t.sides.down-t.sides.up));return n>t.totalRadius&&(n=t.totalRadius),n=.8*n,-e._translator.getCodomainRange()*n*g/180},_getDefaultSize:function(){return{width:300,height:300}},_factory:o.clone(i.gauges.dxBaseGauge.prototype._factory)}))}(DevExpress,jQuery),function(e,t,n){var i=e.viz,r=Math.max,o=Math.min,a=Math.round,s=t.each,l=e.require("/utils/utils.object"),u=e.require("/componentRegistrator"),c=i.utils.normalizeEnum;u("dxLinearGauge",i.gauges,i.gauges.dxGauge.inherit({_rootClass:"dxg-linear-gauge",_factoryMethods:{rangeContainer:"createLinearRangeContainer",indicator:"createLinearIndicator"},_gridSpacingFactor:25,_scaleTypes:{type:"xyAxes",drawingType:"linear"},_initScaleTranslator:function(e){var n=t.extend({},this._canvas);return{val:new i.Translator2D(e,n),arg:new i.Translator2D(e,n,{isHorizontal:!0})}},_getScaleTranslatorComponent:function(e){return this._scaleTranslator["arg"===e!==this._area.vertical?"arg":"val"]},_updateScaleAngles:t.noop,_getTicksOrientation:function(e){return e.isHorizontal?e.verticalOrientation:e.horizontalOrientation},_updateScaleTickIndent:function(e){var t,n,i,r=e.label.indentFromTick,o=e.tick.length,a=this._scale.measureLabels(),s=e.isHorizontal?a.height+a.y:0,l=r>0;e.isHorizontal?(t=l?{center:.5,middle:.5,top:0,bottom:1}:{center:.5,middle:.5,top:1,bottom:0},i=o*t[e.verticalOrientation],n=a.y):(t=l?{center:.5,left:0,right:1}:{center:.5,left:1,right:0},i=o*t[e.horizontalOrientation],n=-a.width),e.label.indentFromAxis=-r+(l?-i+n:i-s),this._scale.updateOptions(e)},_shiftScale:function(e,n){var i=this,r=t.extend({},i._canvas),o=n.isHorizontal,a=i._getScaleTranslatorComponent("arg"),s=i._getScaleTranslatorComponent("val"),l=i._scale;r[o?"left":"top"]=i._area[o?"startCoord":"endCoord"],r[o?"right":"bottom"]=r[o?"width":"height"]-i._area[o?"endCoord":"startCoord"],a.updateCanvas(r),s.updateCanvas(r),l.setTranslator(a,s),l.draw(),l.shift(e.x,e.y)},_setupCodomain:function(){var e=this,t=e.option("geometry")||{},n="vertical"===c(t.orientation);e._area={vertical:n,x:0,y:0,startCoord:-100,endCoord:100},e._rangeContainer.vertical=n},_getScaleLayoutValue:function(){return this._area[this._area.vertical?"x":"y"]},_getTicksCoefficients:function(e){var t={inner:0,outer:1};return this._area.vertical?"left"===e.horizontalOrientation?(t.inner=1,t.outer=0):"center"===e.horizontalOrientation&&(t.inner=t.outer=.5):"top"===e.verticalOrientation?(t.inner=1,t.outer=0):"middle"===e.verticalOrientation&&(t.inner=t.outer=.5),t},_correctScaleIndents:function(e,t,n){var i=this._area.vertical;t>=0?e.max+=t+n[i?"width":"height"]:e.min-=-t+n[i?"width":"height"],e.indent=n[i?"height":"width"]/2},_measureMainElements:function(e,t){var i=this,a=i._area.x,l=i._area.y,u=1e3,c=0,d=0,h=i._scale;return s(e.concat(h),function(e,i){var s=i.measure?i.measure({x:a+i.getOffset(),y:l+i.getOffset()}):t;s.max!==n&&(c=r(c,s.max)),s.min!==n&&(u=o(u,s.min)),s.indent>0&&(d=r(d,s.indent))}),{minBound:u,maxBound:c,indent:d}},_applyMainLayout:function(e,t){var n,i,r=this,o=r._measureMainElements(e,t),s=r._area;s.vertical?(n=r._layoutManager.selectRectBySizes({width:o.maxBound-o.minBound}),i=n.horizontalMiddle()-(o.minBound+o.maxBound)/2,s.startCoord=n.bottom-o.indent,s.endCoord=n.top+o.indent,s.x=a(s.x+i)):(n=r._layoutManager.selectRectBySizes({height:o.maxBound-o.minBound}),i=n.verticalMiddle()-(o.minBound+o.maxBound)/2,s.startCoord=n.left+o.indent,s.endCoord=n.right-o.indent,s.y=a(s.y+i)),r._translator.setCodomain(s.startCoord,s.endCoord),r._layoutManager.setRect(n)},_getElementLayout:function(e){return{x:a(this._area.x+e),y:a(this._area.y+e)}},_getApproximateScreenRange:function(){var e=this,t=e._area,n=t.vertical?e._canvas.height:e._canvas.width;return n>t.totalSize&&(n=t.totalSize),n=.8*n},_getDefaultSize:function(){var e=this.option("geometry")||{};return"vertical"===e.orientation?{width:100,height:300}:{width:300,height:100}},_factory:l.clone(i.gauges.dxBaseGauge.prototype._factory)}))}(DevExpress,jQuery),function(e,t,n){function i(e,t,n){e.startAngle=n>t?t:n,e.endAngle=n>t?n:t}function r(e,t){return s(e-t)<1e-4}var o,a=Math.PI/180,s=Math.abs,l=Math.round,u=Math.floor,c=Math.min,d=Math.max,h=e.require("/utils/utils.object"),p=e.require("/utils/utils.common"),f=p.isArray,m=e.require("/utils/utils.math"),g=e.require("/componentRegistrator"),_=m.convertAngleToRendererSpace,v=m.getCosAndSin,y=e.viz.utils.patchFontOptions,x=Number,b=isFinite,w=t.noop,C=t.extend,S=e.viz.gauges.__internals.getSampleText,k=e.viz.gauges.__internals.formatValue,D="values";g("dxBarGauge",e.viz.gauges,e.viz.gauges.dxBaseGauge.inherit({_rootClass:"dxbg-bar-gauge",_invalidatingOptions:e.viz.gauges.dxBaseGauge.prototype._invalidatingOptions.concat(["backgroundColor","relativeInnerRadius","barSpacing","label","palette"]),_initCore:function(){var e=this;e.callBase.apply(e,arguments),e._barsGroup=e._renderer.g().attr({"class":"dxbg-bars"}).linkOn(e._renderer.root,"bars"),e._values=[],e._context={renderer:e._renderer,translator:e._translator,tracker:e._tracker,group:e._barsGroup},e._animateStep=function(t){for(var n=e._bars,i=0,r=n.length;r>i;++i)n[i].animate(t)},e._animateComplete=function(){for(var t=e._bars,n=0,i=t.length;i>n;++n)t[n].endAnimation();e._notifiers.ready()}},_disposeCore:function(){var e=this;e._barsGroup.linkOff(),e._barsGroup=e._values=e._context=e._animateStep=e._animateComplete=null,e.callBase.apply(e,arguments)},_setupDomainCore:function(){var e=this,t=e.option("startValue"),n=e.option("endValue");b(t)||(t=0),b(n)||(n=100),e._translator.setDomain(t,n),e._baseValue=e._translator.adjust(e.option("baseValue")),b(e._baseValue)||(e._baseValue=n>t?t:n)},_getDefaultSize:function(){return{width:300,height:300}},_setupCodomain:e.viz.gauges.dxCircularGauge.prototype._setupCodomain,_getApproximateScreenRange:function(){var e=this,t=e._area.sides,n=e._canvas.width/(t.right-t.left),i=e._canvas.height/(t.down-t.up),r=i>n?n:i;return-e._translator.getCodomainRange()*r*a},_setupAnimationSettings:function(){var e=this;e.callBase.apply(e,arguments),e._animationSettings&&(e._animationSettings.step=e._animateStep,e._animationSettings.complete=e._animateComplete)},_cleanContent:function(){var e,t,n=this;for(n._barsGroup.linkRemove(),n._animationSettings&&n._barsGroup.stopAnimation(),e=0,t=n._bars?n._bars.length:0;t>e;++e)n._bars[e].dispose();n._palette=n._bars=null},_renderContent:function(){var t,i,r=this,o=r.option("label"),a=r._context;r._barsGroup.linkAppend(),a.textEnabled=o===n||o&&(!("visible"in o)||o.visible),a.textEnabled&&(a.textColor=o&&o.font&&o.font.color||null,o=C(!0,{},r._themeManager.theme().label,o),a.formatOptions={format:o.format!==n||o.precision!==n?o.format:r._defaultFormatOptions.format,precision:o.format!==n||o.precision!==n?o.precision:r._defaultFormatOptions.precision,customizeText:o.customizeText},a.textOptions={align:"center"},a.fontStyles=y(C({},r._themeManager.theme().label.font,o.font,{color:null})),r._textIndent=o.indent>0?x(o.indent):0,a.lineWidth=o.connectorWidth>0?x(o.connectorWidth):0,a.lineColor=o.connectorColor||null,t=r._renderer.text(S(r._translator,a.formatOptions),0,0).attr(a.textOptions).css(a.fontStyles).append(r._barsGroup),i=t.getBBox(),t.remove(),a.textVerticalOffset=-i.y-i.height/2,a.textWidth=i.width,a.textHeight=i.height),e.viz.gauges.dxCircularGauge.prototype._applyMainLayout.call(r),r._renderBars()},_measureMainElements:function(){var e={maxRadius:this._area.radius};return this._context.textEnabled&&(e.horizontalMargin=this._context.textWidth,e.verticalMargin=this._context.textHeight),e},_renderBars:function(){var e,t,n=this,i=C({},n._themeManager.theme(),n.option()),r=n._area;n._palette=n._themeManager.createPalette(i.palette,{useHighlight:!0}),e=i.relativeInnerRadius>0&&i.relativeInnerRadius<1?x(i.relativeInnerRadius):.1,t=r.radius,n._context.textEnabled&&(n._textIndent=l(c(n._textIndent,t/2)),t-=n._textIndent),n._outerRadius=u(t),n._innerRadius=u(t*e),n._barSpacing=i.barSpacing>0?x(i.barSpacing):0,C(n._context,{backgroundColor:i.backgroundColor,x:r.x,y:r.y,startAngle:r.startCoord,endAngle:r.endCoord,baseAngle:n._translator.translate(n._baseValue)}),n._bars=[],n._updateValues(n.option(D))},_arrangeBars:function(e){var t,n,i,r,o=this,a=o._outerRadius-o._innerRadius,s=o._context;for(s.barSize=e>0?d((a-(e-1)*o._barSpacing)/e,1):0,t=e>1?d(c((a-e*s.barSize)/(e-1),o._barSpacing),0):0,n=c(u((a+t)/s.barSize),e),o._setBarsCount(n),a=o._outerRadius,s.textRadius=a+o._textIndent,o._palette.reset(),i=s.barSize+t,r=0;n>r;++r,a-=i)o._bars[r].arrange({radius:a,color:o._palette.getNextColor()})},_setBarsCount:function(e){var t,n,i=this;if(i._bars.length>e){for(t=e,n=i._bars.length;n>t;++t)i._bars[t].dispose();i._bars.splice(e,n-e)}else if(i._bars.length<e)for(t=i._bars.length,n=e;n>t;++t)i._bars.push(new o(t,i._context));i._bars.length>0?i._dummyBackground&&(i._dummyBackground.dispose(),i._dummyBackground=null):(i._dummyBackground||(i._dummyBackground=i._renderer.arc().attr({"stroke-linejoin":"round"}).append(i._barsGroup)),i._dummyBackground.attr({x:i._context.x,y:i._context.y,outerRadius:i._outerRadius,innerRadius:i._innerRadius,startAngle:i._context.endAngle,endAngle:i._context.startAngle,fill:i._context.backgroundColor}))},_updateBars:function(e){var t,n,i=this;for(i._notifiers.dirty(),t=0,n=i._bars.length;n>t;++t)i._bars[t].setValue(e[t]);i._notifiers.ready()},_animateBars:function(e){var t,n=this,i=n._bars.length;if(i>0){for(n._notifiers.dirty(),t=0;i>t;++t)n._bars[t].beginAnimation(e[t]);n._barsGroup.animate({_:0},n._animationSettings)}},_updateValues:function(e){var t,n,i=this,r=f(e)&&e||b(e)&&[e]||[],o=r.length,a=[];for(i._values.length=o,t=0;o>t;++t)n=r[t],i._values[t]=n=x(b(n)?n:i._values[t]),b(n)&&a.push(n);i._animationSettings&&i._barsGroup.stopAnimation(),i._bars&&(i._arrangeBars(a.length),i._animationSettings&&!i._noAnimation?i._animateBars(a):i._updateBars(a)),i._resizing||(i._skipOptionChanged=!0,i.option(D,i._values),i._skipOptionChanged=!1),i._notifiers.changed()},values:function(e){return e!==n?(this._updateValues(e),this):this._values.slice(0)},_handleChangedOptions:function(e){this.callBase.apply(this,arguments),D in e&&!this._skipOptionChanged&&this._updateValues(e[D])},_factory:h.clone(e.viz.gauges.dxBaseGauge.prototype._factory)})),o=function(e,t){var n=this;n._context=t,n._background=t.renderer.arc().attr({"stroke-linejoin":"round",fill:t.backgroundColor}).append(t.group),n._bar=t.renderer.arc().attr({"stroke-linejoin":"round"}).append(t.group),t.textEnabled&&(n._line=t.renderer.path([],"line").attr({"stroke-width":t.lineWidth}).append(t.group),n._text=t.renderer.text("",0,0).css(t.fontStyles).attr(t.textOptions).append(t.group)),n._tracker=t.renderer.arc().attr({"stroke-linejoin":"round"}),t.tracker.attach(n._tracker,n,{index:e}),n._index=e,n._angle=t.baseAngle,n._settings={x:t.x,y:t.y,startAngle:t.baseAngle,endAngle:t.baseAngle}},C(o.prototype,{dispose:function(){var e=this;return e._background.dispose(),e._bar.dispose(),e._context.textEnabled&&(e._line.dispose(),e._text.dispose()),e._context.tracker.detach(e._tracker),e._context=e._settings=e._background=e._bar=e._line=e._text=e._tracker=null,e},arrange:function(e){var t=this,n=t._context;return t._settings.outerRadius=e.radius,t._settings.innerRadius=e.radius-n.barSize,t._background.attr(C({},t._settings,{startAngle:n.endAngle,endAngle:n.startAngle})),t._bar.attr(t._settings),t._tracker.attr(t._settings),t._color=e.color,t._bar.attr({fill:e.color}),n.textEnabled&&(t._line.attr({points:[n.x,n.y-t._settings.innerRadius,n.x,n.y-n.textRadius],stroke:n.lineColor||e.color}).sharp(),t._text.css({fill:n.textColor||e.color})),t},getTooltipParameters:function(){var e=this,t=v((e._angle+e._context.baseAngle)/2);return{x:l(e._context.x+(e._settings.outerRadius+e._settings.innerRadius)/2*t.cos),y:l(e._context.y-(e._settings.outerRadius+e._settings.innerRadius)/2*t.sin),offset:0,color:e._color,value:e._value}},setAngle:function(e){var t,n=this;return n._angle=e,i(n._settings,n._context.baseAngle,n._angle),n._bar.attr(n._settings),n._tracker.attr(n._settings),n._context.textEnabled&&(n._line.rotate(_(n._angle),n._context.x,n._context.y),t=v(n._angle),n._text.attr({text:k(n._value,n._context.formatOptions,{index:n._index}),x:n._context.x+(n._context.textRadius+.6*n._context.textWidth)*t.cos,y:n._context.y-(n._context.textRadius+.6*n._context.textHeight)*t.sin+n._context.textVerticalOffset})),n},_processValue:function(e){return this._value=this._context.translator.adjust(e),this._context.translator.translate(this._value)},setValue:function(e){return this.setAngle(this._processValue(e))},beginAnimation:function(e){var t=this,n=this._processValue(e);r(t._angle,n)?(t.animate=w,t.setAngle(t._angle)):(t._start=t._angle,t._delta=n-t._angle,t._tracker.attr({visibility:"hidden"}),t._context.textEnabled&&(t._line.attr({visibility:"hidden"}),t._text.attr({visibility:"hidden"})))},animate:function(e){var t=this;t._angle=t._start+t._delta*e,i(t._settings,t._context.baseAngle,t._angle),t._bar.attr(t._settings)},endAnimation:function(){var e=this;e._delta!==n?r(e._angle,e._start+e._delta)&&(e._tracker.attr({visibility:null}),e._context.textEnabled&&(e._line.attr({visibility:null}),e._text.attr({visibility:null})),e.setAngle(e._angle)):delete e.animate,delete e._start,delete e._delta}})}(DevExpress,jQuery),function(e,t,n){function i(e){var t,n,i=e.x,r=e.y,a=o[e.type],s=e.textWidth+2*e.horMargin,l=e.textHeight+2*e.verMargin,c=i,d=r;return t=n=e.tailLength,1&a[0]?n=Math.min(n,l/3):t=Math.min(t,s/3),{cx:u(c+a[0]*t+(a[0]+a[2])*s/2),cy:u(d+a[1]*n+(a[1]+a[3])*l/2),points:[u(i),u(r),u(i+=a[0]*(s+t)),u(r+=a[1]*(l+n)),u(i+=a[2]*s),u(r+=a[3]*l),u(i+=a[4]*s),u(r+=a[5]*l),u(i+=a[6]*(s-t)),u(r+=a[7]*(l-n))]}}var r,o,a=e.viz.gauges.__internals,s=isFinite,l=Number,u=Math.round,c=a.formatValue,d=a.getSampleText,h=e.viz.utils.patchFontOptions,p=DevExpress.require("/class");a.BaseElement=p.inherit({ctor:function(e){var n=this;t.each(e,function(e,t){n["_"+e]=t}),n._init()},dispose:function(){var e=this;return e._dispose(),t.each(e,function(t){e[t]=null}),e},getOffset:function(){return l(this._options.offset)||0}}),r=a.BaseIndicator=a.BaseElement.inherit({_init:function(){var e=this;e._rootElement=e._createRoot().linkOn(e._owner,{name:"value-indicator",after:"core"}),e._trackerElement=e._createTracker()},_dispose:function(){this._rootElement.linkOff()},_setupAnimation:function(){var e=this;e._options.animation&&(e._animation={step:function(t){e._actualValue=e._animation.start+e._animation.delta*t,e._actualPosition=e._translator.translate(e._actualValue),e._move()},duration:e._options.animation.duration>0?l(e._options.animation.duration):0,easing:e._options.animation.easing})},_runAnimation:function(e,t){var n=this,i=n._animation;i.start=n._actualValue,i.delta=e-n._actualValue,n._rootElement.animate({_:0},{step:i.step,duration:i.duration,easing:i.easing,complete:t})},_createRoot:function(){return this._renderer.g().attr({"class":this._className})},_createTracker:function(){return this._renderer.path([],"area")},_getTrackerSettings:t.noop,clean:function(){var e=this;return e._animation&&e._rootElement.stopAnimation(),e._rootElement.linkRemove().clear(),e._clear(),e._tracker.detach(e._trackerElement),e._options=e.enabled=e._animation=null,e},render:function(e){var t=this;return t.type=e.type,t._options=e,t._actualValue=t._currentValue=t._translator.adjust(t._options.currentValue),t.enabled=t._isEnabled(),t.enabled&&(t._setupAnimation(),t._rootElement.attr({fill:t._options.color}).linkAppend(),t._tracker.attach(t._trackerElement,t,t._trackerInfo)),t},resize:function(e){var n=this;return n._rootElement.clear(),n._clear(),n.visible=n._isVisible(e),n.visible&&(t.extend(n._options,e),n._actualPosition=n._translator.translate(n._actualValue),n._render(),n._trackerElement.attr(n._getTrackerSettings()),n._move()),n},value:function(e,t){var i,r=this,o=!0;return e!==n?(i=r._translator.adjust(e),r._notifiers.dirty(),r._currentValue!==i&&s(i)&&(r._currentValue=i,r.visible&&(r._animation&&!t?(o=!1,r._runAnimation(i,r._notifiers.ready)):(r._actualValue=i,r._actualPosition=r._translator.translate(i),r._move()))),o&&r._notifiers.ready(),r._notifiers.changed(),r):r._currentValue},_isEnabled:null,_isVisible:null,_render:null,_clear:null,_move:null}),o={},o["right-bottom"]=o.rb=[0,-1,-1,0,0,1,1,0],o["bottom-right"]=o.br=[-1,0,0,-1,1,0,0,1],o["left-bottom"]=o.lb=[0,-1,1,0,0,1,-1,0],o["bottom-left"]=o.bl=[1,0,0,-1,-1,0,0,1],o["left-top"]=o.lt=[0,1,1,0,0,-1,-1,0],o["top-left"]=o.tl=[1,0,0,1,-1,0,0,-1],o["right-top"]=o.rt=[0,1,-1,0,0,-1,1,0],o["top-right"]=o.tr=[-1,0,0,1,1,0,0,-1],a.BaseTextCloudMarker=r.inherit({_move:function(){var e,t,n=this,r=n._getTextCloudOptions(),o=c(n._actualValue,n._options.text);n._text.attr({text:o}),e=n._text.getBBox(),t=i({x:r.x,y:r.y,textWidth:e.width||o.length*n._textUnitWidth,textHeight:e.height||n._textHeight,horMargin:n._options.horizontalOffset,verMargin:n._options.verticalOffset,tailLength:n._options.arrowLength,type:r.type}),n._text.attr({x:t.cx,y:t.cy+n._textVerticalOffset}),n._cloud.attr({points:t.points}),n._trackerElement&&n._trackerElement.attr({points:t.points})},_measureText:function(){var e,t,n,i,r=this;r._textVerticalOffset||(e=r._createRoot().append(r._owner),i=d(r._translator,r._options.text),t=r._renderer.text(i,0,0).attr({align:"center"}).css(h(r._options.text.font)).append(e),n=t.getBBox(),e.remove(),r._textVerticalOffset=-n.y-n.height/2,r._textWidth=n.width,r._textHeight=n.height,r._textUnitWidth=r._textWidth/i.length,r._textFullWidth=r._textWidth+2*r._options.horizontalOffset,r._textFullHeight=r._textHeight+2*r._options.verticalOffset)},_render:function(){var e=this;e._measureText(),e._cloud=e._cloud||e._renderer.path([],"area").append(e._rootElement),e._text=e._text||e._renderer.text().append(e._rootElement),e._text.attr({align:"center"}).css(h(e._options.text.font))},_clear:function(){delete this._cloud,delete this._text},getTooltipParameters:function(){var e=this._getTextCloudOptions();return{x:e.x,y:e.y,value:this._currentValue,color:this._options.color}}}),a.BaseRangeBar=r.inherit({_measureText:function(){var e,t,n,i=this;i._hasText=i._isTextVisible(),i._hasText&&!i._textVerticalOffset&&(e=i._createRoot().append(i._owner),t=i._renderer.text(d(i._translator,i._options.text),0,0).attr({"class":"dxg-text",align:"center"}).css(h(i._options.text.font)).append(e),n=t.getBBox(),e.remove(),i._textVerticalOffset=-n.y-n.height/2,i._textWidth=n.width,i._textHeight=n.height)},_move:function(){var e=this;e._updateBarItemsPositions(),e._hasText&&(e._text.attr({text:c(e._actualValue,e._options.text)}),e._updateTextPosition(),e._updateLinePosition())},_updateBarItems:function(){var e,t,n=this,i=n._options,r=n._translator;n._setBarSides(),n._startPosition=r.translate(r.getDomainStart()),n._endPosition=r.translate(r.getDomainEnd()),n._basePosition=r.translate(i.baseValue),n._space=n._getSpace(),e=i.backgroundColor||"none","none"!==e&&n._space>0?t=i.containerBackgroundColor||"none":(n._space=0,t="none"),n._backItem1.attr({fill:e}),n._backItem2.attr({fill:e}),n._spaceItem1.attr({fill:t}),n._spaceItem2.attr({fill:t})},_getSpace:function(){return 0},_updateTextItems:function(){var e=this;e._hasText?(e._line=e._line||e._renderer.path([],"line").attr({"class":"dxg-main-bar","stroke-linecap":"square"}).append(e._rootElement),e._text=e._text||e._renderer.text("",0,0).attr({"class":"dxg-text"}).append(e._rootElement),e._text.attr({align:e._getTextAlign()}).css(e._getFontOptions()),e._setTextItemsSides()):(e._line&&(e._line.remove(),delete e._line),e._text&&(e._text.remove(),delete e._text))},_isTextVisible:function(){return!1},_getTextAlign:function(){
return"center"},_getFontOptions:function(){var e=this._options,n=e.text.font;return n&&n.color||(n=t.extend({},n,{color:e.color})),h(n)},_updateBarItemsPositions:function(){var e=this,t=e._getPositions();e._backItem1.attr(e._buildItemSettings(t.start,t.back1)),e._backItem2.attr(e._buildItemSettings(t.back2,t.end)),e._spaceItem1.attr(e._buildItemSettings(t.back1,t.main1)),e._spaceItem2.attr(e._buildItemSettings(t.main2,t.back2)),e._mainItem.attr(e._buildItemSettings(t.main1,t.main2)),e._trackerElement&&e._trackerElement.attr(e._buildItemSettings(t.main1,t.main2))},_render:function(){var e=this;e._measureText(),e._backItem1||(e._backItem1=e._createBarItem(),e._backItem1.attr({"class":"dxg-back-bar"})),e._backItem2||(e._backItem2=e._createBarItem(),e._backItem2.attr({"class":"dxg-back-bar"})),e._spaceItem1||(e._spaceItem1=e._createBarItem(),e._spaceItem1.attr({"class":"dxg-space-bar"})),e._spaceItem2||(e._spaceItem2=e._createBarItem(),e._spaceItem2.attr({"class":"dxg-space-bar"})),e._mainItem||(e._mainItem=e._createBarItem(),e._mainItem.attr({"class":"dxg-main-bar"})),e._updateBarItems(),e._updateTextItems()},_clear:function(){var e=this;delete e._backItem1,delete e._backItem2,delete e._spaceItem1,delete e._spaceItem2,delete e._mainItem,delete e._hasText,delete e._line,delete e._text},getTooltipParameters:function(){var e=this._getTooltipPosition();return{x:e.x,y:e.y,value:this._currentValue,color:this._options.color,offset:0}}})}(DevExpress,jQuery),function(e){var t,n=e.viz.gauges.dxCircularGauge.prototype._factory.indicators={},i=e.viz.gauges.__internals,r=e.require("/utils/utils.math"),o=Number,a=r.getCosAndSin,s=r.convertAngleToRendererSpace;e.viz.gauges.dxCircularGauge.prototype._factory.createIndicator=i.createIndicatorCreator(n),t=i.BaseIndicator.inherit({_move:function(){var e=this,t=e._options,n=s(e._actualPosition);e._rootElement.rotate(n,t.x,t.y),e._trackerElement&&e._trackerElement.rotate(n,t.x,t.y)},_isEnabled:function(){return this._options.width>0},_isVisible:function(e){return e.radius-o(this._options.indentFromCenter)>0},_getTrackerSettings:function(){var e=this._options,t=e.x,n=e.y-(e.radius+o(e.indentFromCenter))/2,i=e.width/2,r=(e.radius-o(e.indentFromCenter))/2;return i>10||(i=10),r>10||(r=10),{points:[t-i,n-r,t-i,n+r,t+i,n+r,t+i,n-r]}},_renderSpindle:function(){var e,t=this,n=t._options;n.spindleSize>0&&(e=o(n.spindleGapSize)||0,e>0&&(e=e<=n.spindleSize?e:o(n.spindleSize)),t._spindleOuter=t._spindleOuter||t._renderer.circle().append(t._rootElement),t._spindleInner=t._spindleInner||t._renderer.circle().append(t._rootElement),t._spindleOuter.attr({"class":"dxg-spindle-border",cx:n.x,cy:n.y,r:n.spindleSize/2}),t._spindleInner.attr({"class":"dxg-spindle-hole",cx:n.x,cy:n.y,r:e/2,fill:n.containerBackgroundColor}))},_render:function(){var e=this;e._renderPointer(),e._renderSpindle()},_clearSpindle:function(){delete this._spindleOuter,delete this._spindleInner},_clearPointer:function(){delete this._element},_clear:function(){this._clearPointer(),this._clearSpindle()},measure:function(e){var t={max:e.radius};return this._options.indentFromCenter<0&&(t.inverseHorizontalOffset=t.inverseVerticalOffset=-o(this._options.indentFromCenter)),t},getTooltipParameters:function(){var e=this._options,t=a(this._actualPosition),n=(e.radius+o(e.indentFromCenter))/2;return{x:e.x+t.cos*n,y:e.y-t.sin*n,value:this._currentValue,color:e.color,offset:e.width/2}}}),n.rectangleneedle=t.inherit({_renderPointer:function(){var e=this,t=e._options,n=t.y-t.radius,i=t.y-o(t.indentFromCenter),r=t.x-t.width/2,a=r+o(t.width);e._element=e._element||e._renderer.path([],"area").append(e._rootElement),e._element.attr({points:[r,i,r,n,a,n,a,i]})}}),n.triangleneedle=t.inherit({_renderPointer:function(){var e=this,t=e._options,n=t.y-t.radius,i=t.y-o(t.indentFromCenter),r=t.x-t.width/2,a=t.x+t.width/2;e._element=e._element||e._renderer.path([],"area").append(e._rootElement),e._element.attr({points:[r,i,t.x,n,a,i]})}}),n.twocolorneedle=t.inherit({_renderPointer:function(){var e,t,n=this,i=n._options,r=i.x-i.width/2,a=i.x+i.width/2,s=i.y-i.radius,l=i.y-o(i.indentFromCenter),u=o(i.secondFraction)||0;u>=1?e=t=l:0>=u?e=t=s:(t=s+(l-s)*u,e=t+o(i.space)),n._firstElement=n._firstElement||n._renderer.path([],"area").append(n._rootElement),n._spaceElement=n._spaceElement||n._renderer.path([],"area").append(n._rootElement),n._secondElement=n._secondElement||n._renderer.path([],"area").append(n._rootElement),n._firstElement.attr({points:[r,l,r,e,a,e,a,l]}),n._spaceElement.attr({points:[r,e,r,t,a,t,a,e],"class":"dxg-hole",fill:i.containerBackgroundColor}),n._secondElement.attr({points:[r,t,r,s,a,s,a,t],"class":"dxg-part",fill:i.secondColor})},_clearPointer:function(){delete this._firstElement,delete this._secondElement,delete this._spaceElement}}),n.trianglemarker=t.inherit({_isEnabled:function(){return this._options.length>0&&this._options.width>0},_isVisible:function(e){return e.radius>0},_render:function(){var e,t=this,n=t._options,i=n.x,r=n.y-n.radius,a=n.width/2||0,s=r-o(n.length);t._element=t._element||t._renderer.path([],"area").append(t._rootElement),e={points:[i,r,i-a,s,i+a,s],stroke:"none","stroke-width":0,"stroke-linecap":"square"},n.space>0&&(e["stroke-width"]=Math.min(n.space,n.width/4)||0,e.stroke=e["stroke-width"]>0?n.containerBackgroundColor||"none":"none"),t._element.attr(e).sharp()},_clear:function(){delete this._element},_getTrackerSettings:function(){var e=this._options,t=e.x,n=e.y-e.radius-e.length/2,i=e.width/2,r=e.length/2;return i>10||(i=10),r>10||(r=10),{points:[t-i,n-r,t-i,n+r,t+i,n+r,t+i,n-r]}},measure:function(e){return{min:e.radius,max:e.radius+o(this._options.length)}},getTooltipParameters:function(){var e=this._options,t=a(this._actualPosition),n=e.radius+e.length/2,i=this.callBase();return i.x=e.x+t.cos*n,i.y=e.y-t.sin*n,i.offset=e.length/2,i}}),n.textcloud=i.BaseTextCloudMarker.inherit({_isEnabled:function(){return!0},_isVisible:function(e){return e.radius>0},_getTextCloudOptions:function(){var e=this,t=a(e._actualPosition),n=r.normalizeAngle(e._actualPosition);return{x:e._options.x+t.cos*e._options.radius,y:e._options.y-t.sin*e._options.radius,type:n>270?"left-top":n>180?"top-right":n>90?"right-bottom":"bottom-left"}},measure:function(e){var t,n,i=this,r=o(i._options.arrowLength)||0;return i._measureText(),t=i._textFullHeight+r,n=i._textFullWidth+r,{min:e.radius,max:e.radius,horizontalOffset:n,verticalOffset:t,inverseHorizontalOffset:n,inverseVerticalOffset:t}}}),n.rangebar=i.BaseRangeBar.inherit({_isEnabled:function(){return this._options.size>0},_isVisible:function(e){return e.radius-o(this._options.size)>0},_createBarItem:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"}).append(this._rootElement)},_createTracker:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"})},_setBarSides:function(){var e=this;e._maxSide=e._options.radius,e._minSide=e._maxSide-o(e._options.size)},_getSpace:function(){var e=this._options;return e.space>0?180*e.space/e.radius/Math.PI:0},_isTextVisible:function(){var e=this._options.text||{};return e.indent>0},_setTextItemsSides:function(){var e=this,t=e._options,n=o(t.text.indent);e._lineFrom=t.y-t.radius,e._lineTo=e._lineFrom-n,e._textRadius=t.radius+n},_getPositions:function(){var e,t,n=this,i=n._basePosition,r=n._actualPosition;return i>=r?(e=i,t=r):(e=r,t=i),{start:n._startPosition,end:n._endPosition,main1:e,main2:t,back1:Math.min(e+n._space,n._startPosition),back2:Math.max(t-n._space,n._endPosition)}},_buildItemSettings:function(e,t){var n=this;return{x:n._options.x,y:n._options.y,innerRadius:n._minSide,outerRadius:n._maxSide,startAngle:t,endAngle:e}},_updateTextPosition:function(){var e=this,t=a(e._actualPosition),n=e._options.x+e._textRadius*t.cos,i=e._options.y-e._textRadius*t.sin;n+=t.cos*e._textWidth*.6,i-=t.sin*e._textHeight*.6,e._text.attr({x:n,y:i+e._textVerticalOffset})},_updateLinePosition:function(){var e,t,n=this,i=n._options.x;n._basePosition>n._actualPosition?(e=i-2,t=i):n._basePosition<n._actualPosition?(e=i,t=i+2):(e=i-1,t=i+1),n._line.attr({points:[e,n._lineFrom,e,n._lineTo,t,n._lineTo,t,n._lineFrom]}).rotate(s(n._actualPosition),i,n._options.y).sharp()},_getTooltipPosition:function(){var e=this,t=a((e._basePosition+e._actualPosition)/2),n=(e._minSide+e._maxSide)/2;return{x:e._options.x+t.cos*n,y:e._options.y-t.sin*n}},measure:function(e){var t=this,n={min:e.radius-o(t._options.size),max:e.radius};return t._measureText(),t._hasText&&(n.max+=o(t._options.text.indent),n.horizontalOffset=t._textWidth,n.verticalOffset=t._textHeight),n}}),n._default=n.rectangleneedle}(DevExpress),function(e){var t,n=e.viz.gauges.dxLinearGauge.prototype._factory.indicators={},i=e.viz.gauges.__internals,r=Number,o=e.viz.utils.normalizeEnum;e.viz.gauges.dxLinearGauge.prototype._factory.createIndicator=i.createIndicatorCreator(n),t=i.BaseIndicator.inherit({_move:function(){var e=this,t=e._actualPosition-e._zeroPosition;e._rootElement.move(e.vertical?0:t,e.vertical?t:0),e._trackerElement&&e._trackerElement.move(e.vertical?0:t,e.vertical?t:0)},_isEnabled:function(){return this.vertical=this._options.vertical,this._options.length>0&&this._options.width>0},_isVisible:function(){return!0},_getTrackerSettings:function(){var e,t,n,i,r=this._options,o=r.width/2,a=r.length/2,s=this._zeroPosition;return o>10||(o=10),a>10||(a=10),this.vertical?(e=r.x-a,t=r.x+a,n=s+o,i=s-o):(e=s-o,t=s+o,n=r.y+a,i=r.y-a),{points:[e,n,e,i,t,i,t,n]}},_render:function(){var e=this;e._zeroPosition=e._translator.getCodomainStart()},_clear:function(){delete this._element},measure:function(e){var t=this.vertical?e.x:e.y;return{min:t-this._options.length/2,max:t+this._options.length/2}},getTooltipParameters:function(){var e=this,t=e._options,n=e._actualPosition,i={x:n,y:n,value:e._currentValue,color:t.color,offset:t.width/2};return e.vertical?i.x=t.x:i.y=t.y,i}}),n.rectangle=t.inherit({_render:function(){var e,t,n,i,r,o=this,a=o._options;o.callBase(),e=o._zeroPosition,o.vertical?(t=a.x-a.length/2,n=a.x+a.length/2,i=e+a.width/2,r=e-a.width/2):(t=e-a.width/2,n=e+a.width/2,i=a.y+a.length/2,r=a.y-a.length/2),o._element=o._element||o._renderer.path([],"area").append(o._rootElement),o._element.attr({points:[t,i,t,r,n,r,n,i]})}}),n.rhombus=t.inherit({_render:function(){var e,t,n,i,r=this,o=r._options;r.callBase(),r.vertical?(e=o.x,t=r._zeroPosition,n=o.length/2||0,i=o.width/2||0):(e=r._zeroPosition,t=o.y,n=o.width/2||0,i=o.length/2||0),r._element=r._element||r._renderer.path([],"area").append(r._rootElement),r._element.attr({points:[e-n,t,e,t-i,e+n,t,e,t+i]})}}),n.circle=t.inherit({_render:function(){var e,t,n,i=this,r=i._options;i.callBase(),i.vertical?(e=r.x,t=i._zeroPosition):(e=i._zeroPosition,t=r.y),n=r.length/2||0,i._element=i._element||i._renderer.circle().append(i._rootElement),i._element.attr({cx:e,cy:t,r:n})}}),n.trianglemarker=t.inherit({_isEnabled:function(){var e=this;return e.vertical=e._options.vertical,e._inverted=e.vertical?"right"===o(e._options.horizontalOrientation):"bottom"===o(e._options.verticalOrientation),e._options.length>0&&e._options.width>0},_isVisible:function(){return!0},_render:function(){var e,t,n,i,o=this,a=o._options,s={stroke:"none","stroke-width":0,"stroke-linecap":"square"};o.callBase(),o.vertical?(e=a.x,n=o._zeroPosition,t=e+r(o._inverted?a.length:-a.length),s.points=[e,n,t,n-a.width/2,t,n+a.width/2]):(n=a.y,e=o._zeroPosition,i=n+r(o._inverted?a.length:-a.length),s.points=[e,n,e-a.width/2,i,e+a.width/2,i]),a.space>0&&(s["stroke-width"]=Math.min(a.space,a.width/4)||0,s.stroke=s["stroke-width"]>0?a.containerBackgroundColor||"none":"none"),o._element=o._element||o._renderer.path([],"area").append(o._rootElement),o._element.attr(s).sharp()},_getTrackerSettings:function(){var e,t,n,i,o,a=this,s=a._options,l=s.width/2,u=r(s.length);return l>10||(l=10),u>20||(u=20),a.vertical?(e=t=s.x,t=e+(a._inverted?u:-u),n=a._zeroPosition+l,i=a._zeroPosition-l,o=[e,n,t,n,t,i,e,i]):(n=s.y,i=n+(a._inverted?u:-u),e=a._zeroPosition-l,t=a._zeroPosition+l,o=[e,n,e,i,t,i,t,n]),{points:o}},measure:function(e){var t,n,i=this,o=r(i._options.length);return i.vertical?(t=n=e.x,i._inverted?n=t+o:t=n-o):(t=n=e.y,i._inverted?n=t+o:t=n-o),{min:t,max:n,indent:i._options.width/2}},getTooltipParameters:function(){var e=this,t=e._options,n=(e._inverted?t.length:-t.length)/2,i=e.callBase();return e.vertical?i.x+=n:i.y+=n,i.offset=t.length/2,i}}),n.textcloud=i.BaseTextCloudMarker.inherit({_isEnabled:function(){var e=this;return e.vertical=e._options.vertical,e._inverted=e.vertical?"right"===o(e._options.horizontalOrientation):"bottom"===o(e._options.verticalOrientation),!0},_isVisible:function(){return!0},_getTextCloudOptions:function(){var e,t=this,n=t._actualPosition,i=t._actualPosition;return t.vertical?(n=t._options.x,e=t._inverted?"top-left":"top-right"):(i=t._options.y,e=t._inverted?"right-top":"right-bottom"),{x:n,y:i,type:e}},measure:function(e){var t,n,i,o=this,a=r(o._options.arrowLength)||0;return o._measureText(),o.vertical?(i=o._textFullHeight,o._inverted?(t=e.x,n=e.x+a+o._textFullWidth):(t=e.x-a-o._textFullWidth,n=e.x)):(i=o._textFullWidth,o._inverted?(t=e.y,n=e.y+a+o._textFullHeight):(t=e.y-a-o._textFullHeight,n=e.y)),{min:t,max:n,indent:i}}}),n.rangebar=i.BaseRangeBar.inherit({_isEnabled:function(){var e=this;return e.vertical=e._options.vertical,e._inverted=e.vertical?"right"===o(e._options.horizontalOrientation):"bottom"===o(e._options.verticalOrientation),e._options.size>0},_isVisible:function(){return!0},_createBarItem:function(){return this._renderer.path([],"area").append(this._rootElement)},_createTracker:function(){return this._renderer.path([],"area")},_setBarSides:function(){var e,t,n=this,i=n._options,o=r(i.size);n.vertical?n._inverted?(e=i.x,t=i.x+o):(e=i.x-o,t=i.x):n._inverted?(e=i.y,t=i.y+o):(e=i.y-o,t=i.y),n._minSide=e,n._maxSide=t,n._minBound=e,n._maxBound=t},_getSpace:function(){var e=this._options;return e.space>0?r(e.space):0},_isTextVisible:function(){var e=this._options.text||{};return e.indent>0||e.indent<0},_getTextAlign:function(){return this.vertical?this._options.text.indent>0?"left":"right":"center"},_setTextItemsSides:function(){var e=this,t=r(e._options.text.indent);t>0?(e._lineStart=e._maxSide,e._lineEnd=e._maxSide+t,e._textPosition=e._lineEnd+(e.vertical?2:e._textHeight/2),e._maxBound=e._textPosition+(e.vertical?e._textWidth:e._textHeight/2)):0>t&&(e._lineStart=e._minSide,e._lineEnd=e._minSide+t,e._textPosition=e._lineEnd-(e.vertical?2:e._textHeight/2),e._minBound=e._textPosition-(e.vertical?e._textWidth:e._textHeight/2))},_getPositions:function(){var e,t,n,i,r=this,o=r._startPosition,a=r._endPosition,s=r._space,l=r._basePosition,u=r._actualPosition;return a>o?(u>l?(e=l,t=u):(e=u,t=l),n=e-s,i=t+s):(l>u?(e=l,t=u):(e=u,t=l),n=e+s,i=t-s),{start:o,end:a,main1:e,main2:t,back1:n,back2:i}},_buildItemSettings:function(e,t){var n=this,i=n._minSide,r=n._maxSide,o=n.vertical?[i,e,i,t,r,t,r,e]:[e,i,e,r,t,r,t,i];return{points:o}},_updateTextPosition:function(){var e=this;e._text.attr(e.vertical?{x:e._textPosition,y:e._actualPosition+e._textVerticalOffset}:{x:e._actualPosition,y:e._textPosition+e._textVerticalOffset})},_updateLinePosition:function(){var e,t,n,i=this,r=i._actualPosition;i.vertical?(i._basePosition>=r?(e=r,t=r+2):(e=r-2,t=r),n=[i._lineStart,e,i._lineStart,t,i._lineEnd,t,i._lineEnd,e]):(i._basePosition<=r?(e=r-2,t=r):(e=r,t=r+2),n=[e,i._lineStart,e,i._lineEnd,t,i._lineEnd,t,i._lineStart]),i._line.attr({points:n}).sharp()},_getTooltipPosition:function(){var e=this,t=(e._minSide+e._maxSide)/2,n=(e._basePosition+e._actualPosition)/2;return e.vertical?{x:t,y:n}:{x:n,y:t}},measure:function(e){var t,n,i,o=this,a=r(o._options.size),s=r(o._options.text.indent);return o._measureText(),o.vertical?(t=n=e.x,o._inverted?n+=a:t-=a,o._hasText&&(i=o._textHeight/2,s>0&&(n+=s+o._textWidth),0>s&&(t+=s-o._textWidth))):(t=n=e.y,o._inverted?n+=a:t-=a,o._hasText&&(i=o._textWidth/2,s>0&&(n+=s+o._textHeight),0>s&&(t+=s-o._textHeight))),{min:t,max:n,indent:i}}}),n._default=n.rangebar}(DevExpress),function(e,t,n){function i(e,t,n,i){var r;return n>e&&t>i?r=[{start:e,end:n},{start:i,end:t}]:n>=t||e>=i?r=[{start:e,end:t}]:e>=n&&i>=t?r=[]:n>e?r=[{start:e,end:n}]:t>i&&(r=[{start:i,end:t}]),r}function r(e,t,n,i){var r;return e>n&&i>t?r=[{start:e,end:n},{start:i,end:t}]:t>=n||i>=e?r=[{start:e,end:t}]:n>=e&&t>=i?r=[]:e>n?r=[{start:e,end:n}]:i>t&&(r=[{start:i,end:t}]),r}function o(e,t,n){return t-e>=n}function a(e,t,n){return e-t>=n}var s,l,u=e.viz.gauges.__internals,c=Number,d=Math.max,h=Math.abs,p=e.require("/utils/utils.common"),f=p.isString,m=p.isArray,g=isFinite,_=t.each,v=t.map,y=e.viz.utils.normalizeEnum;u.BaseRangeContainer=u.BaseElement.inherit({_init:function(){this._root=this._renderer.g().attr({"class":"dxg-range-container"}).linkOn(this._container,"range-container")},_dispose:function(){this._root.linkOff()},clean:function(){return this._root.linkRemove().clear(),this._options=this.enabled=null,this},_getRanges:function(){var e=this,t=e._options,s=e._translator,l=s.getDomain()[0],u=s.getDomain()[1],d=u-l,p=d>=0?o:a,y=d>=0?i:r,x=[],b=[],w=[{start:l,end:u}],C=h(d)/1e4,S=e._themeManager.createPalette(t.palette,{type:"indicatingSet"}),k=f(t.backgroundColor)?t.backgroundColor:"none",D=t.width||{},T=c(D>0?D:D.start),E=c(D>0?D:D.end),I=E-T;return(t.ranges===n||m(t.ranges))&&T>=0&&E>=0&&T+E>0?(x=v(m(t.ranges)?t.ranges:[],function(e,t){e=e||{};var n=s.adjust(e.startValue),i=s.adjust(e.endValue);return g(n)&&g(i)&&p(n,i,C)?{start:n,end:i,color:e.color,classIndex:t}:null}),_(x,function(e,t){var n=S.getNextColor();t.color=f(t.color)&&t.color||n||"none",t.className="dxg-range dxg-range-"+t.classIndex,delete t.classIndex}),_(x,function(e,t){for(var n,i,r,o=[],a=[],s=0,l=b.length;l>s;++s)r=b[s],i=y(r.start,r.end,t.start,t.end),(n=i[0])&&(n.color=r.color)&&(n.className=r.className)&&o.push(n),(n=i[1])&&(n.color=r.color)&&(n.className=r.className)&&o.push(n);for(o.push(t),b=o,s=0,l=w.length;l>s;++s)r=w[s],i=y(r.start,r.end,t.start,t.end),(n=i[0])&&a.push(n),(n=i[1])&&a.push(n);w=a}),_(w,function(e,t){t.color=k,t.className="dxg-range dxg-background-range",b.push(t)}),_(b,function(e,t){t.startWidth=(t.start-l)/d*I+T,t.endWidth=(t.end-l)/d*I+T}),b):null},render:function(e){var t=this;return t._options=e,t._processOptions(),t._ranges=t._getRanges(),t._ranges&&(t.enabled=!0,t._root.linkAppend()),t},resize:function(e){var t=this;return t._root.clear(),t._isVisible(e)&&_(t._ranges,function(n,i){t._createRange(i,e).attr({fill:i.color,"class":i.className}).append(t._root)}),t},_processOptions:null,_isVisible:null,_createRange:null,getColorForValue:function(e){var t=null;return _(this._ranges,function(n,i){return i.start<=e&&e<=i.end||i.start>=e&&e>=i.end?(t=i.color,!1):void 0}),t}}),s=u.BaseRangeContainer.inherit({_processOptions:function(){var e=this;switch(e._inner=e._outer=0,y(e._options.orientation)){case"inside":e._inner=1;break;case"center":e._inner=e._outer=.5;break;default:e._outer=1}},_isVisible:function(e){var t=this._options.width;return t=c(t)||d(c(t.start),c(t.end)),e.radius-this._inner*t>0},_createRange:function(e,t){var n=this,i=(e.startWidth+e.endWidth)/2;return n._renderer.arc(t.x,t.y,t.radius-n._inner*i,t.radius+n._outer*i,n._translator.translate(e.end),n._translator.translate(e.start)).attr({"stroke-linejoin":"round"})},measure:function(e){var t=this._options.width;return t=c(t)||d(c(t.start),c(t.end)),{min:e.radius-this._inner*t,max:e.radius+this._outer*t}}}),l=u.BaseRangeContainer.inherit({_processOptions:function(){var e=this;if(e.vertical=e._options.vertical,e._inner=e._outer=0,e.vertical)switch(y(e._options.horizontalOrientation)){case"left":e._inner=1;break;case"center":e._inner=e._outer=.5;break;default:e._outer=1}else switch(y(e._options.verticalOrientation)){case"top":e._inner=1;break;case"center":case"middle":e._inner=e._outer=.5;break;default:e._outer=1}},_isVisible:function(){return!0},_createRange:function(e,t){var n,i=this,r=i._inner,o=i._outer,a=i._translator.translate(e.start),s=i._translator.translate(e.end),l=t.x,u=t.y,c=e.startWidth,d=e.endWidth;return n=i.vertical?[l-c*r,a,l-d*r,s,l+d*o,s,l+c*o,a]:[a,u+c*o,a,u-c*r,s,u-d*r,s,u+d*o],i._renderer.path(n,"area")},measure:function(e){var t,n={};return n.min=n.max=e[this.vertical?"x":"y"],t=this._options.width,t=c(t)||d(c(t.start),c(t.end)),n.min-=this._inner*t,n.max+=this._outer*t,n}}),e.viz.gauges.dxCircularGauge.prototype._factory.RangeContainer=s,e.viz.gauges.dxLinearGauge.prototype._factory.RangeContainer=l}(DevExpress,jQuery),function(e,t){var n=String,i=t.each,r=e.viz.utils.normalizeEnum,o=DevExpress.require("/class");e.viz.gauges.__internals.LayoutManager=o.inherit({setRect:function(e){return this._currentRect=e.clone(),this},getRect:function(){return this._currentRect.clone()},beginLayout:function(e){return this._rootRect=e.clone(),this._currentRect=e.clone(),this._cache=[],this},applyLayout:function(e){var t,i=e.getLayoutOptions();if(!i)return this;switch(t=this._currentRect,n(i.verticalAlignment).toLowerCase()){case"bottom":t.bottom-=i.height;break;default:t.top+=i.height}return this._cache.push({target:e,options:i}),this},endLayout:function(){var e=this,t=e._rootRect,n=e._currentRect;return i(e._cache,function(e,i){var o,a,s=i.options;switch(r(s.verticalAlignment)){case"bottom":a=n.bottom,n.bottom+=s.height;break;default:a=n.top-s.height,n.top-=s.height}switch(r(s.horizontalAlignment)){case"left":o=t.left;break;case"right":o=t.right-s.width;break;default:o=t.horizontalMiddle()-s.width/2}i.target.shift(o,a)}),e._cache=null,e},selectRectByAspectRatio:function(e,t){var n,i=this._currentRect.clone(),r=0,o=0;return t=t||{},e>0&&(i.left+=t.left||0,i.right-=t.right||0,i.top+=t.top||0,i.bottom-=t.bottom||0,i.width()>0&&i.height()>0?(n=i.height()/i.width(),n>1?n>e?r=i.width():o=i.height():e>n?o=i.height():r=i.width(),r>0||(r=o/e),o>0||(o=r*e),r=(i.width()-r)/2,o=(i.height()-o)/2,i.left+=r,i.right-=r,i.top+=o,i.bottom-=o):(i.left=i.right=i.horizontalMiddle(),i.top=i.bottom=i.verticalMiddle())),i},selectRectBySizes:function(e,t){var n,i=this._currentRect.clone();return t=t||{},e&&(i.left+=t.left||0,i.right-=t.right||0,i.top+=t.top||0,i.bottom-=t.bottom||0,e.width>0&&(n=(i.width()-e.width)/2,n>0&&(i.left+=n,i.right-=n)),e.height>0&&(n=(i.height()-e.height)/2,n>0&&(i.top+=n,i.bottom-=n))),i}})}(DevExpress,jQuery),function(e,t){var n=t.extend,i=e.viz.gauges.__internals.ThemeManager=e.viz.BaseThemeManager.inherit({_themeSection:"gauge",_fontFields:["scale.label.font","valueIndicators.rangebar.text.font","valueIndicators.textcloud.text.font","title.font","title.subtitle.font","tooltip.font","indicator.text.font","loadingIndicator.font"],_initializeTheme:function(){var e,t=this;t._subTheme&&(e=n(!0,{},t._theme[t._subTheme],t._theme),n(!0,t._theme,e)),t.callBase.apply(t,arguments)}});e.viz.gauges.dxCircularGauge.prototype._factory.ThemeManager=i.inherit({_subTheme:"_circular"}),e.viz.gauges.dxLinearGauge.prototype._factory.ThemeManager=i.inherit({_subTheme:"_linear"}),e.viz.gauges.dxBarGauge.prototype._factory.ThemeManager=e.viz.BaseThemeManager.inherit({_themeSection:"barGauge",_fontFields:["label.font","title.font","tooltip.font","loadingIndicator.font"]})}(DevExpress,jQuery),function(e,t){function n(e){var t=e.data.tracker;t._x=e.pageX,t._y=e.pageY,t._element.off(y).on(y,e.data),t._showTooltip(e,f)}function i(e){var t=e.data.tracker;(t._showTooltipTimeout&&d(e.pageX-t._x)>4||d(e.pageY-t._y)>4)&&(t._x=e.pageX,t._y=e.pageY,t._showTooltip(e,f))}function r(e){var t=e.data.tracker;t._element.off(y),t._hideTooltip(m)}function o(e){e.data.tracker._hideTooltip()}function a(e){e.preventDefault();var t=c;t&&t!==e.data.tracker&&t._hideTooltip(_),t=c=e.data.tracker,t._showTooltip(e,g),t._touch=!0}function s(){var e=c;e&&(e._touch||(e._hideTooltip(_),c=null),e._touch=null)}function l(){var e=c;e&&e._showTooltipTimeout&&(e._hideTooltip(_),c=null)}var u,c,d=Math.abs,h=DevExpress.require("/class"),p=e.require("/ui/events/ui.events.wheel"),f=300,m=300,g=400,_=300;e.viz.gauges.__internals.Tracker=h.inherit({ctor:function(e){var t=this;t._element=e.renderer.g().attr({"class":"dxg-tracker",stroke:"none","stroke-width":0,fill:"#000000",opacity:1e-4}).linkOn(e.container,{name:"tracker",after:"peripheral"}),t._showTooltipCallback=function(){t._showTooltipTimeout=null;var e=t._tooltipEvent.target,n=e["gauge-data-target"],i=e["gauge-data-info"];t._targetEvent=null,t._tooltipTarget!==e&&t._callbacks["tooltip-show"](n,i)&&(t._tooltipTarget=e)},t._hideTooltipCallback=function(){t._hideTooltipTimeout=null,t._targetEvent=null,t._tooltipTarget&&(t._callbacks["tooltip-hide"](),t._tooltipTarget=null)},t._dispose=function(){clearTimeout(t._showTooltipTimeout),clearTimeout(t._hideTooltipTimeout),t._showTooltipCallback=t._hideTooltipCallback=t._dispose=null}},dispose:function(){var e=this;return e._dispose(),e.deactivate(),e._element.linkOff(),e._element=e._context=e._callbacks=null,e},activate:function(){return this._element.linkAppend(),this},deactivate:function(){return this._element.linkRemove().clear(),this},attach:function(e,t,n){return e.data({"gauge-data-target":t,"gauge-data-info":n}).append(this._element),this},detach:function(e){return e.remove(),this},setTooltipState:function(e){var t,n=this;return n._element.off(v).off(u).off(x),e&&(t={tracker:n},n._element.on(v,t).on(u,t).on(x,t)),n},setCallbacks:function(e){return this._callbacks=e,this},_showTooltip:function(e,t){var n=this;clearTimeout(n._hideTooltipTimeout),n._hideTooltipTimeout=null,n._tooltipTarget!==e.target&&(clearTimeout(n._showTooltipTimeout),n._tooltipEvent=e,n._showTooltipTimeout=setTimeout(n._showTooltipCallback,t))},_hideTooltip:function(e){var t=this;clearTimeout(t._showTooltipTimeout),t._showTooltipTimeout=null,clearTimeout(t._hideTooltipTimeout),e?t._hideTooltipTimeout=setTimeout(t._hideTooltipCallback,e):t._hideTooltipCallback()}});var v={"mouseover.gauge-tooltip":n,"mouseout.gauge-tooltip":r},y={"mousemove.gauge-tooltip":i},x={};x[p.name+".gauge-tooltip"]=o,u={"touchstart.gauge-tooltip":a},c=null,t(window.document).on({"touchstart.gauge-tooltip":s,"touchend.gauge-tooltip":l})}(DevExpress,jQuery),DevExpress.MOD_VIZ_GAUGES=!0}if(!window.DevExpress||!DevExpress.MOD_VIZ_RANGESELECTOR){if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");!function(e,t,n){function i(){return new I.Translator2D({},{})}function r(e,t,n){e.update(t,{left:n[0],width:n[1]},{isHorizontal:!0})}function o(e,t,i){var r=t===n?V:S(t,i),o=_(e,r,i.font);return N(o.height)+2*i.paddingTopBottom+R}function a(e,t,n){var i=S(t,n.label),r=_(e,i,n.label.font);return N(r.width/2)}function s(e){var t,n,i;if(F(e))t=n=i=e;else{if(!e)return null;F(e.height)&&(i=e.height),F(e.width)?t=n=e.width:e.width&&(F(e.width.left)&&(t=e.width.left),F(e.width.right)&&(n=e.width.right))}return{widthLeft:t,widthRight:n,height:i}}function l(e,t,i,r){var l,u,c,d,h=0,p=0,f=0,m=0;return r=r||{},d=s(i.placeholderSize),d&&r.left===n&&r.right===n?(f=d.widthLeft,m=d.widthRight):(f=r.left,m=r.right),c=d&&i.placeholderHeight===n?d.height:i.placeholderHeight,i.visible&&(l=o(e,t.startValue,i),u=o(e,t.endValue,i),c===n&&(c=H(l,u))),t.label.visible&&(h=a(e,t.startValue,t),p=a(e,t.endValue,t)),f=f!==n?f:h,m=(m!==n?m:p)||1,{left:f,right:m,top:c||0,bottom:0}}function u(e,n){var i=t.type(e),r=t.type(n),o=function(e){return i===e||r===e};return o("date")?q:o("number")?"numeric":o(K)?K:""}function c(e){return e.valueType===q&&e.marker.visible}function d(e,t){var n=t.minorTickInterval||t.tickInterval;"datetime"===t.valueType&&(n=E.dateToMilliseconds(n)),e.addRange({interval:n})}function h(e,t,i){var r;e&&(r=e.logarithmBase,e.type===ee&&0>=r||r&&!F(r)?(e.logarithmBase=t,i("E2104")):e.type!==ee&&(e.logarithmBase=n))}function p(e,t,n){var i,r="0",o={value:0,valueText:r},a=t.label,s=t.marker,l=a.customizeText,u=t.placeholderHeight,c=D.isFunction(l)?l.call(o,o):r,d=a.visible;return u?u:(i=_(e,c,a.font),(d?a.topIndent+i.height:0)+(n?s.topIndent+s.separatorHeight:0))}function f(e,t,n,i,r,o){var a=e._categoriesInfo,s=I.CoreFactory.createTickManager({axisType:e.type,dataType:e.valueType},{min:r,max:o,screenDelta:t,customTicks:a&&a.categories},{labelOptions:{},boundCoef:1,minorTickInterval:e.minorTickInterval,tickInterval:e.tickInterval,incidentOccured:n,base:e.logarithmBase,showMinorTicks:!0,withMinorCorrection:!0,stick:i!==!1}),l=s.getTicks(!0);return{tickInterval:s.getTickInterval(),minorTickInterval:s.getMinorTickInterval(),bounds:s.getTickBounds(),ticks:l}}function m(e,t){var i,r,o,a,s,l,u=!1,c=t.startValue,d=t.endValue,h=e?e.getBoundRange().arg:new I.Range;return t.type===Y&&(l=new I.Range({categories:t.categories||(!e&&c&&d?[c,d]:n),minVisible:c,maxVisible:d}),l.addRange(h),h=l,a=l.categories||[],t._categoriesInfo=s=A.getCategoriesInfo(a,c||a[0],d||a[a.length-1])),L(c)&&L(d)?(u=s?s.inverted:c>d,i=s?s.start:u?d:c,r=s?s.end:u?c:d):L(c)||L(d)?(i=c,r=d):s&&(i=s.start,r=s.end),o=z(i)&&z(r)&&i.getTime()===r.getTime(),i===r||o||h.addRange({invert:u,min:i,max:r,minVisible:i,maxVisible:r,dataType:t.valueType}),h.addRange({base:t.logarithmBase,axisType:t.type}),h.isDefined()||(o&&(t.valueType="numeric"),h.setStubData(t.valueType)),h}function g(e,t){return!L(e)||!L(t)}function _(e,t,n){var i=e.text(t,te,te).css($(n)).append(e.root),r=i.getBBox();return i.remove(),r}function v(e,t,i,r){var o,a,s=e._categoriesInfo;!t||t.isEmpty()||i.stubData||(o=r.bounds,i.addRange(o),e.startValue=i.invert?o.maxVisible:o.minVisible,e.endValue=i.invert?o.minVisible:o.maxVisible),s&&(e.startValue=s.start,e.endValue=s.end),e.type!==Y&&(a=z(e.startValue)&&z(e.endValue)&&e.startValue.getTime()===e.endValue.getTime()||e.startValue===e.endValue),e.isEmpty=g(e.startValue,e.endValue)||a,e.isEmpty?e.startValue=e.endValue=n:(e.minorTickInterval=r.minorTickInterval,e.tickInterval=r.tickInterval,e.valueType!==q||L(e.label.format)||(e.label.format=e.type===Y?P.getDateFormatByTicks(r.ticks):e.marker.visible?E.getDateUnitInterval(e.tickInterval):P.getDateFormatByTickInterval(e.startValue,e.endValue,e.tickInterval)))}function y(e,t,i){var r,o=0,a=B.correctValueType(O(e.valueType)),s=function(t,r){var a=t===W?"start":"end";L(e[t])&&(o=r(e[t]),L(o)?e[t]=o:(e[t]=n,i("E2202",[a])))};return t&&(a=t.getCalculatedValueType()||a),a||(a=u(e.startValue,e.endValue)||"numeric"),(a===K||e.categories)&&(e.type=Y,a=K),e.valueType=a,r=B.getParser(a),s(W,r),s(G,r),h(e,ne,i),e.type||(e.type="continuous"),e.tickInterval===n&&(e.tickInterval=e.majorTickInterval),e.minorTick.visible&&(e.minorTick.visible=e.showMinorTicks),e.parser=r,e}function x(e,t){var n,i=t.getVerticalCuttedSize({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width-e.left-e.right,height:e.height-e.top-e.bottom}),r=t.getLayoutOptions();return r&&(n={x:i.left,y:i.top,width:i.width,height:i.height+r.height,getLayoutOptions:function(){return this}},"bottom"!==r.verticalAlignment&&(n.y-=r.height),t.position({at:r.position,my:r.position,of:n})),i}function b(e,t,n,i){return e.label.overlappingBehavior={mode:e.useTicksAutoArrangement?"enlargeTickInterval":"ignore"},e.marker.label.font=e.label.font,e.color=e.marker.color=e.tick.color,e.opacity=e.marker.opacity=e.tick.opacity,e.width=e.marker.width=e.tick.width,e.placeholderSize=(e.placeholderHeight||0)+i,e.argumentType=e.valueType,e.visible=t,e.minorTick.showCalculatedTicks=e.isHorizontal=e.withoutOverlappingBehavior=e.stick=!0,t||(e.minorTick.length=e.tick.length=n),e.label.indentFromAxis=e.label.topIndent+i,e}function w(e,i,r){function o(t){var i=t.target.range,o=e.minRange?E.addInterval(i.startValue,e.minRange):n,a=e.maxRange?E.addInterval(i.startValue,e.maxRange):n;o&&o>i.endValue||a&&a<i.endValue||r(i)}t.each(i,function(e,t){t.on("dxpointerdown",o)})}function C(t){this._axis=new e.viz.axes.Axis({renderer:t.renderer,axesContainerGroup:t.root,axisType:"xyAxes",drawingType:"linear",widgetClass:"dxrs",axisClass:"range-selector"}),this._updateSelectedRangeCallback=t.updateSelectedRange,this._translator=t.translator}var S,k=e.viz.rangeSelector={},D=e.require("/utils/utils.common"),T=e.require("/utils/utils.math"),E=e.require("/utils/utils.date"),I=e.viz,A=I.utils,$=A.patchFontOptions,B=I.parseUtils,O=A.normalizeEnum,P=e.require("/utils/utils.formatHelper"),M=24,R=4,V=". . .",L=D.isDefined,F=D.isNumber,z=D.isDate,H=Math.max,N=Math.ceil,j=t.noop,W="startValue",G="endValue",q="datetime",U="selectedRange",Y="discrete",K="string",Q=U+"Changed",X="containerBackgroundColor",Z="sliderMarker",J="background",ee="logarithmic",te=-1e3,ne=10;
k.utils={trackerSettings:{fill:"grey",stroke:"grey",opacity:1e-4},animationSettings:{duration:250}},k.consts={emptySliderMarkerText:V,pointerSize:R},S=k.formatValue=function(e,t){var n={value:e,valueText:P.format(e,t.format,t.precision)};return String(D.isFunction(t.customizeText)?t.customizeText.call(n,n):n.valueText)},e.require("/componentRegistrator")("dxRangeSelector",k,I.BaseWidget.inherit({_eventsMap:t.extend({},I.BaseWidget.prototype._eventsMap,{onSelectedRangeChanged:{name:Q}}),_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),t.extend(this._deprecatedOptions,{"sliderMarker.padding":{since:"15.1",message:"Use the 'paddingTopBottom' and 'paddingLeftRight' options instead"},"sliderMarker.placeholderSize":{since:"15.1",message:"Use the 'placeholderHeight' and 'indent' options instead"},"scale.majorTickInterval":{since:"15.2",message:"Use the 'tickInterval' options instead"},"scale.showMinorTicks":{since:"15.2",message:"Use the 'minorTick.visible' options instead"}})},_rootClassPrefix:"dxrs",_rootClass:"dxrs-range-selector",_invalidatingOptions:["scale","selectedRangeColor","containerBackgroundColor","sliderMarker","sliderHandle","shutter","title",J,"behavior","chart","indent"],_dataIsReady:function(){return this._dataSource.isLoaded()},_init:function(){this.callBase.apply(this,arguments),this._updateDataSource()},_initCore:function(){var e,t,n,r,o=this,a=o._renderer,s=a.root;s.css({"touch-action":"pan-y","-ms-touch-action":"pan-y"}),o._updateSelectedRangeCallback=function(e){o.option(U,e),o._eventTrigger(Q,{startValue:e.startValue,endValue:e.endValue})},o._clipRect=a.clipRect(),e=a.g().attr({"class":"dxrs-view"}).append(s),t=a.g().attr({"class":"dxrs-slidersContainer",clipId:o._clipRect.id}).append(s),n=a.g().attr({"class":"dxrs-scale",clipId:o._clipRect.id}).append(s),r=a.g().attr({"class":"dxrs-trackers"}).append(s),o._translator=i(),o._rangeView=new k.RangeView({renderer:a,root:e,translator:o._translator}),o._slidersController=new k.SlidersController({renderer:a,root:t,trackersGroup:r,updateSelectedRange:o._updateSelectedRangeCallback,translator:o._translator}),o._axis=new C({renderer:a,root:n,updateSelectedRange:o._updateSelectedRangeCallback,translator:o._translator}),o._tracker=new k.Tracker({renderer:a,controller:o._slidersController})},_getDefaultSize:function(){return{width:400,height:160}},_disposeCore:function(){this._axis.dispose(),this._slidersController.dispose(),this._tracker.dispose()},_createThemeManager:function(){return new k.ThemeManager},_render:function(){var e,t,n=this,i=n._renderer;i.lock(),n.__isResizing&&(e=i.animationEnabled(),i.updateAnimationOptions({enabled:!1})),t=x(n._canvas,n._title),n._clipRect.attr({x:t.left,y:t.top,width:t.width,height:t.height}),n._updateContent(t),n.__isResizing&&i.updateAnimationOptions({enabled:e}),i.unlock(),!n.__isResizing&&n._dataIsReady()&&n.hideLoadingIndicator(),n._drawn()},_handleChangedOptions:function(e){var n=this,i=n._options[U],r=t.extend({},e[U]);n.callBase.apply(n,arguments),"dataSource"in e&&(n._options[U]=null,n._updateDataSource()),U in e&&n.setSelectedRange(t.extend({},i,e[U],r))},_applySize:function(){this._initialized&&(this.__isResizing=!0,this._render(),this.__isResizing=!1)},_dataSourceChangedHandler:function(){this._initialized&&this._render()},_updateContent:function(e){var t,n,i,o,a=this,s=a.option("chart"),u=a._createSeriesDataSource(s),g=!(u&&u.isShowChart()||a.option("background.image.url")),_=y(a._getOption("scale"),u,a._incidentOccured),x=m(u,_),b=L(x.minVisible)?x.minVisible:x.min,w=L(x.maxVisible)?x.maxVisible:x.max,C=f(_,e.width,a._incidentOccured,x.stick,b,w),S=u&&u.isShowChart()&&u.getThemeManager();S&&h(s&&s.valueAxis,S.getOptions("valueAxis").logarithmBase,a._incidentOccured),v(_,u,x,C),d(x,_),t=a._prepareSliderMarkersOptions(_,e.width,C),n=l(a._renderer,_,t,a.option("indent")),i=p(a._renderer,_,c(_)),o={left:e.left+n.left,top:e.top+n.top,width:H(e.width-n.left-n.right,1),height:H(g?M:e.height-n.top-n.bottom-i,0)},r(a._translator,x,[o.left,o.left+o.width]),_.minorTickInterval=_.isEmpty?0:_.minorTickInterval,a._updateElements(_,t,g,o,u),S&&S.dispose()},_updateElements:function(e,t,n,i,r){var o=this,a=o._getOption("behavior"),s=o.option(U),l=o._getOption("shutter");s&&(o._translator.isValid(s[W])||o._incidentOccured("E2203",[W]),o._translator.isValid(s[G])||o._incidentOccured("E2203",[G])),l.color=l.color||o._getOption(X,!0),o._rangeView.update(o.option("background"),o._themeManager.theme("background"),i,n,a.animationEnabled&&o._renderer.animationEnabled(),r),o._axis.update(e,n,i),o._isUpdating=!0,o._slidersController.update([i.top,i.top+i.height],a,n,o._getOption("sliderHandle"),t,l,{minRange:o.option("scale.minRange"),maxRange:o.option("scale.maxRange")},o._axis.getFullTicks(),o._getOption("selectedRangeColor",!0)),o._slidersController.setSelectedRange(s),o._isUpdating=!1,o._tracker.update(!o._translator.isEmptyValueRange(),a)},_createSeriesDataSource:function(e){var n,i=this,r=i._dataSource.items(),o=i._getOption("scale"),a=o.valueType||u(o.startValue,o.endValue);return(r||e&&e.series)&&(e=t.extend({},e,{theme:i.option("theme")}),n=new k.SeriesDataSource({renderer:i._renderer,dataSource:r,valueType:O(a),axisType:o.type,chart:e,dataSourceField:i.option("dataSourceField"),incidentOccured:i._incidentOccured,categories:o.categories})),n},_prepareSliderMarkersOptions:function(e,t,i){var r,o=this,a=i.minorTickInterval,s=i.tickInterval,l=e.endValue,u=e.startValue,c=o._getOption(Z),d=o.option(Z)||{},h=e.type===Y,p=e.valueType===q;return c.borderColor=o._getOption(X,!0),c.format||(!o._getOption("behavior").snapToTicks&&F(e.startValue)&&(r=Math.abs(l-u),c.format="fixedPoint",c.precision=T.getSignificantDigitPosition(r/t)),p&&!h&&(e.marker.visible?c.format=E.getDateUnitInterval(L(a)&&0!==a?a:s):L(u)&&L(l)&&(c.format=P.getDateFormatByTickInterval(u,l,0!==a?a:s))),p&&h&&i.ticks.length&&(c.format=P.getDateFormatByTicks(i.ticks))),d.padding!==n&&d.paddingLeftRight===n&&d.paddingTopBottom===n&&(c.paddingLeftRight=c.paddingTopBottom=d.padding),c},getSelectedRange:function(){return this._slidersController.getSelectedRange()},setSelectedRange:function(e){var t;!this._isUpdating&&e&&(t=this._slidersController.getSelectedRange(),t&&t.startValue===e.startValue&&t.endValue===e.endValue||this._slidersController.setSelectedRange(e))},resetSelectedRange:function(){this.setSelectedRange({})},render:function(e){var t=this;return t.__isResizing=e,t.callBase.apply(t,arguments),t.__isResizing=!1,t},_initTooltip:j,_setTooltipRendererOptions:j,_setTooltipOptions:j,_hideTooltip:j})),C.prototype={constructor:C,dispose:function(){this._axis.dispose()},update:function(e,t,n){var i=this._axis;i.updateOptions(b(e,t,n.height,n.height/2-Math.ceil(e.width/2))),i.delta={bottom:-n.height/2},i.setTranslator(this._translator,{translateSpecialCase:function(){return n.top+n.height}}),i.draw(),i.getMarkerTrackers()&&w(e,i.getMarkerTrackers(),this._updateSelectedRangeCallback)},getFullTicks:function(){return this._axis.getFullTicks()}}}(DevExpress,jQuery),function(e,t,n){function i(e,t,n,i){return[e,t,n,t,n,i,e,i]}function r(e){return e&&e.valueOf()}function o(e,t){return t>e}function a(e,t){return e>t}function s(e,t){for(var n,i=0,r=t?t.length-1:0,o=e;r-i>1;){if(n=i+r>>1,o=t[n],o===e)return e;o>e?r=n:i=n}return t&&(o=t[e-t[i]<=t[r]-e?i:r]),o}function l(){this._lastSelectedRange=this.getSelectedRange(),delete this._processSelectionChanged}function u(e){e.setSelectedRange=t.noop,e._processSelectionChanged===l&&e._processSelectionChanged()}function c(e){delete e.setSelectedRange}function d(e){var t=this,n={renderer:e.renderer,root:e.root,trackersGroup:e.trackersGroup,translator:e.translator};t._params=e,t._areaTracker=e.renderer.path(null,"area").attr({"class":"area-tracker",fill:"#000000",opacity:1e-4}).append(e.trackersGroup),t._selectedAreaTracker=e.renderer.path(null,"area").attr({"class":"selected-area-tracker",fill:"#000000",opacity:1e-4}).append(e.trackersGroup),t._shutter=e.renderer.path(null,"area").append(e.root),t._sliders=[new h.Slider(n,0),new h.Slider(n,1)],t._processSelectionChanged=l}var h=e.viz.rangeSelector,p=e.viz.utils.normalizeEnum;d.prototype={constructor:d,dispose:function(){this._sliders[0].dispose(),this._sliders[1].dispose()},getTrackerTargets:function(){return{area:this._areaTracker,selectedArea:this._selectedAreaTracker,sliders:this._sliders}},_processSelectionChanged:function(){var e=this,t=e.getSelectedRange();(r(t.startValue)!==r(e._lastSelectedRange.startValue)||r(t.endValue)!==r(e._lastSelectedRange.endValue))&&(e._lastSelectedRange=t,e._params.updateSelectedRange(t))},update:function(e,t,n,r,o,a,s,l,u){var c=this,d=c._params.translator.getScreenRange();c._verticalRange=e,c._minRange=s.minRange,c._maxRange=s.maxRange,c._animationEnabled=t.animationEnabled&&c._params.renderer.animationEnabled(),c._allowSlidersSwap=t.allowSlidersSwap,c._sliders[0].update(e,r,o),c._sliders[1].update(e,r,o),c._sliders[0]._position=c._sliders[1]._position=d[0],c._values=!c._params.translator.isValueProlonged&&t.snapToTicks?l:null,c._areaTracker.attr({points:i(d[0],e[0],d[1],e[1])}),c._isCompactMode=n,c._shutterOffset=r.width/2,c._updateSelectedView(a,u),c._isOnMoving="onmoving"===p(t.callSelectedRangeChanged),c._updateSelectedRange(),c._applyTotalPosition(!1)},_updateSelectedView:function(e,t){var n={fill:null,"fill-opacity":null,stroke:null,"stroke-width":null};this._isCompactMode?(n.stroke=t,n["stroke-width"]=3,n.sharp="v"):(n.fill=e.color,n["fill-opacity"]=e.opacity),this._shutter.attr(n)},_updateSelectedRange:function(){var e=this,t=e._sliders;t[0].cancelAnimation(),t[1].cancelAnimation(),e._shutter.stopAnimation(),e._params.translator.isEmptyValueRange()?(t[0]._setText(h.consts.emptySliderMarkerText),t[1]._setText(h.consts.emptySliderMarkerText),t[0]._value=t[1]._value=n,t[0]._position=e._params.translator.getScreenRange()[0],t[1]._position=e._params.translator.getScreenRange()[1],e._applyTotalPosition(!1),u(e)):c(e)},_applyTotalPosition:function(e){var t,n=this._sliders;e=this._animationEnabled&&e,n[0].applyPosition(e),n[1].applyPosition(e),t=n[0].getCloudBorder()>n[1].getCloudBorder(),n[0].setOverlapped(t),n[1].setOverlapped(t),this._applyAreaTrackersPosition(),this._applySelectedRangePosition(e)},_applyAreaTrackersPosition:function(){var e=this,t=e._sliders[0].getPosition(),n=e._sliders[1].getPosition();e._selectedAreaTracker.attr({points:i(t,e._verticalRange[0],n,e._verticalRange[1])}).css({cursor:Math.abs(e._params.translator.getScreenRange()[1]-e._params.translator.getScreenRange()[0]-n+t)<.001?"default":"pointer"})},_applySelectedRangePosition:function(e){var t,n,r=this,o=r._verticalRange,a=r._sliders[0].getPosition(),s=r._sliders[1].getPosition();r._isCompactMode?n=[a+Math.ceil(r._shutterOffset),(o[0]+o[1])/2,s-Math.floor(r._shutterOffset),(o[0]+o[1])/2]:(t=r._params.translator.getScreenRange(),n=[i(t[0],o[0],Math.max(a-Math.floor(r._shutterOffset),t[0]),o[1]),i(t[1],o[0],Math.min(s+Math.ceil(r._shutterOffset),t[1]),o[1])]),e?r._shutter.animate({points:n},h.utils.animationSettings):r._shutter.attr({points:n})},getSelectedRange:function(){return{startValue:this._sliders[0].getValue(),endValue:this._sliders[1].getValue()}},setSelectedRange:function(e){e=e||{};var t=this,n=t._params.translator,i=n.isValid(e.startValue)?n.parse(e.startValue):n.getRange()[0],r=n.isValid(e.endValue)?n.parse(e.endValue):n.getRange()[1],o=n.to(i,-1)<n.to(r,1)?[i,r]:[r,i];t._sliders[0].setDisplayValue(o[0]),t._sliders[1].setDisplayValue(o[1]),t._sliders[0]._position=n.to(o[0],-1),t._sliders[1]._position=n.to(o[1],1),t._applyTotalPosition(!0),t._processSelectionChanged()},beginSelectedAreaMoving:function(e){function t(e){e!==o&&e>o==e>(i[0].getPosition()+i[1].getPosition())/2-r&&n._moveSelectedArea(e+r,!1),o=e}var n=this,i=n._sliders,r=(i[0].getPosition()+i[1].getPosition())/2-e,o=e;return t.complete=function(){n._dockSelectedArea()},t},_dockSelectedArea:function(){var e=this._params.translator,t=this._sliders;t[0]._position=e.to(t[0].getValue(),-1),t[1]._position=e.to(t[1].getValue(),1),this._applyTotalPosition(!0),this._processSelectionChanged()},moveSelectedArea:function(e){this._moveSelectedArea(e,!0),this._dockSelectedArea()},_moveSelectedArea:function(e,t){var n,i,r=this,o=r._params.translator,a=r._sliders,l=a[1].getPosition()-a[0].getPosition(),u=e-l/2,c=e+l/2;u<o.getScreenRange()[0]&&(u=o.getScreenRange()[0],c=u+l),c>o.getScreenRange()[1]&&(c=o.getScreenRange()[1],u=c-l),n=o.from(u,-1),i=o.from(c,1),a[0].setDisplayValue(s(n,r._values)),a[1].setDisplayValue(s(i,r._values)),a[0]._position=u,a[1]._position=c,r._applyTotalPosition(t),r._isOnMoving&&r._processSelectionChanged()},placeSliderAndBeginMoving:function(e,t){var n,i,r=this,l=r._params.translator,u=r._sliders,c=t>e?0:1,d=c>0?1:-1,h=c>0?a:o,p=c>0?o:a,f=[],m=[];return m[c]=l.from(e,d),m[1-c]=l.from(t,-d),f[1-c]=t,l.isValueProlonged&&(h(e,l.to(m[c],d))&&(m[c]=l.from(e,-d)),h(t,l.to(m[c],-d))&&(m[1-c]=m[c])),r._minRange&&(n=l.to(l.add(s(m[c],r._values),r._minRange,-d),-d),h(t,n)&&(m[1-c]=l.add(m[c],r._minRange,-d)),n=l.to(l.add(l.getRange()[1-c],r._minRange,d),-d),p(e,n)&&(m[1-c]=l.getRange()[1-c],m[c]=l.add(m[1-c],r._minRange,d),f[1-c]=e)),m[0]=s(m[0],r._values),m[1]=s(m[1],r._values),f[c]=l.to(m[c],d),u[0].setDisplayValue(m[0]),u[1].setDisplayValue(m[1]),u[0]._position=f[0],u[1]._position=f[1],r._applyTotalPosition(!0),r._isOnMoving&&r._processSelectionChanged(),i=r.beginSliderMoving(1-c,t),u[1-c]._sliderGroup.stopAnimation(),r._shutter.stopAnimation(),i(t),i},beginSliderMoving:function(e,t){function n(e){var t,n,o,a,y;e!==p&&(m(e+v,h)&&(t=i._allowSlidersSwap,t&&!r.isValueProlonged&&i._minRange&&(t=r.isValid(r.add(l[1-d].getValue(),i._minRange,-f))),t&&(i._changeMovingSlider(d),d=1-d,f=-f,n=m,m=g,g=n,_=-f*Math.abs(_),v=-_)),g(e+_,h)&&(t=!0,a=l[d],y=l[1-d].getValue(),o=Math.max(Math.min(e+_,c),u),t&&r.isValueProlonged&&(t=!m(o,r.to(y,f))),t&&i._minRange&&(t=!m(o,r.to(r.add(y,i._minRange,f),f))),t&&i._maxRange&&(t=!g(o,r.to(r.add(y,i._maxRange,f),f))),a._setValid(t),a.setDisplayValue(t?s(r.from(o,f),i._values):a.getValue()),a._position=o,i._applyTotalPosition(!1),a.toForeground(),i._isOnMoving&&i._processSelectionChanged())),p=e}var i=this,r=i._params.translator,l=i._sliders,u=r.getScreenRange()[0],c=r.getScreenRange()[1],d=e,h=l[1-d].getPosition(),p=t,f=d>0?1:-1,m=d>0?o:a,g=d>0?a:o,_=l[d].getPosition()-t,v=m(l[d].getPosition(),t)?-_:_;return n.complete=function(){l[d]._setValid(!0),i._dockSelectedArea()},n},_changeMovingSlider:function(e){var t,n=this,i=n._params.translator,r=n._sliders,o=r[1-e].getPosition(),a=e>0?1:-1;r[e].setDisplayValue(s(i.from(o,a),n._values)),t=i.from(o,-a),i.isValueProlonged?t=i.from(o,a):n._minRange&&(t=i.add(t,n._minRange,-a)),r[1-e].setDisplayValue(s(t,n._values)),r[e]._setValid(!0),r[e]._marker._update(),r[0]._position=r[1]._position=o},foregroundSlider:function(e){this._sliders[e].toForeground()}},h.SlidersController=d}(DevExpress,jQuery),function(e,t,n){function i(e){var t=e||window.event,i=t.originalEvent,r=t.touches,o=i?i.pointerType:!1,a=i?i.touches:!1,s=t.which===n&&1===t.button,l=i&&o!==n&&(o===(i.MSPOINTER_TYPE_TOUCH||"touch")||o===(i.MSPOINTER_TYPE_MOUSE||"mouse")&&1===i.buttons),u=s||1===t.which,c=r&&r.length>0||a&&a.length>0;return u||l||c}function r(e){var t=e.originalEvent,n=e.touches,i=t&&t.touches;return n&&n.length>1||i&&i.length>1||null}function o(e){r(e)||e.preventDefault()}function a(e){r(e)||(e.stopPropagation(),e.preventDefault())}function s(e){return e&&e.type&&0===e.type.indexOf("touch")}function l(e){var t=e.originalEvent,n=0;return e.pageX?n=e.pageX:t&&t.pageX&&(n=t.pageX),t&&t.touches&&(t.touches.length>0?n=t.touches[0].pageX:t.changedTouches.length>0&&(n=t.changedTouches[0].pageX)),n}function u(e,t,n,r){function o(){c&&(c=!1,d&&(d.complete(),d=null))}var a,u,c=!1,d=null,h={};return h[f.move]=function(t){var h,p;a===s(t)&&(i(t)||o(),c&&(h=l(t),p=r(),d?d(h-p):n.manualRangeSelectionEnabled&&Math.abs(u-h)>=g&&(d=e.placeSliderAndBeginMoving(u-p,h-p))))},h[f.up]=function(t){var i;c&&(i=l(t),!d&&n.moveSelectedRangeByClick&&Math.abs(u-i)<g&&e.moveSelectedArea(i-r()),o())},t.on(f.down,function(e){n.enabled&&i(e)&&!c&&(c=!0,a=s(e),u=l(e))}),h}function c(e,t,n,r){function u(){d&&(d=!1,h.complete(),h=null)}var c,d=!1,h=null,p={};return p[f.move]=function(e){c===s(e)&&(i(e)||u(),d&&(o(e),h(l(e)-r())))},p[f.up]=u,t.on(f.down,function(t){n.enabled&&i(t)&&!d&&(d=!0,c=s(t),h=e.beginSelectedAreaMoving(l(t)-r()),a(t))}),p}function d(t,n,r,u){function c(){h&&(h=!1,p.complete(),p=null)}var d,h=!1,p=null,m={};return m[f.move]=function(e){d===s(e)&&(i(e)||c(),h&&(o(e),p(l(e)-u())))},m[f.up]=c,e.each(n,function(e,n){var o={};o[f.down]=function(n){r.enabled&&i(n)&&!h&&(h=!0,d=s(n),p=t.beginSliderMoving(e,l(n)-u()),a(n))},o[f.move]=function(){p||t.foregroundSlider(e)},n.on(o)}),m}function h(t){function n(){return t.renderer.getRootOffset().left}var i=this._state={},r=t.controller.getTrackerTargets();m&&t.renderer.root.css({msTouchAction:"pinch-zoom"}),this._docEvents=[c(t.controller,r.selectedArea,i,n),u(t.controller,r.area,i,n),d(t.controller,r.sliders,i,n)],e.each(this._docEvents,function(t,n){e(document).on(n)})}var p=t.viz.rangeSelector,f=t.require("/ui/events/pointer/ui.events.pointer"),m=t.require("/utils/utils.support").pointer,g=10;h.prototype={constructor:h,dispose:function(){e.each(this._docEvents,function(t,n){e(document).off(n)})},update:function(e,t){var n=this._state;n.enabled=e,n.moveSelectedRangeByClick=t.moveSelectedRangeByClick,n.manualRangeSelectionEnabled=t.manualRangeSelectionEnabled}},p.Tracker=h}(jQuery,DevExpress),function(e){function t(e){return o.touchEvents||o.pointer?s:e>a?e:a}function n(e,t){var n=this;n._translator=e.translator,n._sliderGroup=e.renderer.g().attr({"class":"slider"}).append(e.root),n._line=e.renderer.path(null,"line").append(n._sliderGroup),n._marker=new i.SliderMarker(e.renderer,n._sliderGroup,1===t),n._tracker=e.renderer.rect().attr({"class":"slider-tracker",fill:"#000000",opacity:1e-4}).css({cursor:"w-resize"}).append(e.trackersGroup)}var i=e.viz.rangeSelector,r=i.utils,o=e.require("/utils/utils.support"),a=8,s=20;n.prototype={constructor:n,cancelAnimation:function(){this._sliderGroup.stopAnimation(),this._tracker.stopAnimation()},applyPosition:function(e){var t=this,n=t._sliderGroup,i=t._tracker,o={translateX:t._position};t._marker.setPosition(t._position),e?(n.animate(o,r.animationSettings),i.animate(o,r.animationSettings)):(n.attr(o),i.attr(o))},_setValid:function(e){this._marker.setValid(e),this._line.attr({stroke:this._colors[Number(e)]})},_setText:function(e){this._marker.setText(e)},update:function(e,n,i){var r,o=this;o._formatOptions={format:i.format,precision:i.precision,customizeText:i.customizeText},o._marker.applyOptions(i,o._translator.getScreenRange()),o._colors=[i.invalidRangeColor,n.color],o._sliderGroup.attr({translateY:e[0]}),o._line.attr({"stroke-width":n.width,stroke:n.color,"stroke-opacity":n.opacity,sharp:"h",points:[0,0,0,e[1]-e[0]]}),r=t(n.width),o._tracker.attr({x:-r/2,y:0,width:r,height:e[1]-e[0],translateY:e[0]})},toForeground:function(){this._sliderGroup.toForeground()},getSliderTracker:function(){return this._tracker},getPosition:function(){return this._position},setDisplayValue:function(e){this._value=e,this._setText(i.formatValue(e,this._formatOptions))},setOverlapped:function(e){this._marker.setOverlapped(e)},getValue:function(){return this._value},on:function(e,t){this._tracker.on(e,t),this._marker.getTracker().on(e,t)},getCloudBorder:function(){return this._marker.getBorderPosition()},dispose:function(){this._marker.dispose()}},i.Slider=n}(DevExpress),function(e){function t(e,t,n){var i=this;i._isLeftPointer=n,i._isOverlapped=!1,i._group=e.g().attr({"class":"slider-marker"}).append(t),i._area=e.path(null,"area").append(i._group),i._label=e.text().attr({align:"left"}).append(i._group),i._tracker=e.rect().attr({"class":"slider-marker-tracker",fill:"#000000",opacity:1e-4}).css({cursor:"pointer"}).append(i._group),i._border=e.rect(0,0,1,0)}var n=e.viz.rangeSelector,i=e.viz.utils.patchFontOptions,r=75,o=n.consts.pointerSize;t.prototype={constructor:t,_getRectSize:function(e){return{width:Math.round(2*this._paddingLeftRight+e.width),height:Math.round(2*this._paddingTopBottom+e.height)}},_getTextSize:function(){var e=this._label.getBBox();return!this._textHeight&&isFinite(e.height)&&(this._textHeight=e.height),{width:e.width,height:this._textHeight,y:e.y}},_getAreaPointsInfo:function(e){var t=this,n=t._getRectSize(e),i=n.width,r=n.height,a=-i,s=0,l=o,u=0,c=-o,d=t._position,h=t._isLeftPointer,p=function(){a++,s++,l++,u++,c++},f=function(){l>s?l=s:a>c&&(c=a),h&&p()},m=d;return h?d>t._range[1]-i?(s=-d+t._range[1],a=s-i,f(),m+=a):(a=c=0,s=i):d-t._range[0]<i?(a=-(d-t._range[0]),s=a+i,f(),m+=s):(l=0,p()),t._borderPosition=m,{offset:a,isCutted:(!h||u!==c)&&(h||u!==l),points:[a,0,s,0,s,r,l,r,u,r+o,c,r,a,r]}},_update:function(){function e(e,t){var n,i,r;t=t||a._getRectSize(e),a._group.attr({translateY:-(t.height+o)}),i=a._getAreaPointsInfo(e),n=i.points,r=i.offset,a._area.attr({points:n}),a._border.attr({x:a._isLeftPointer?n[0]-1:n[2],height:i.isCutted?t.height:t.height+o}),a._tracker.attr({translateX:r,width:t.width,height:t.height+o}),a._label.attr({translateX:a._paddingLeftRight+r,translateY:t.height/2-(e.y+e.height/2)})}var t,n,i,a=this;clearTimeout(a._timeout),a._label.attr({text:a._text||""}),n=a._getTextSize(),i=a._getRectSize(n),t=a._textSize||n,t=a._textSize=n.width>t.width||n.height>t.height?n:t,a._timeout=setTimeout(function(){e(n,i),a._textSize=n},r),e(t)},setText:function(e){this._text=e},setPosition:function(e){this._position=e,this._update()},applyOptions:function(e,t){var n=this;n._range=t,n._paddingLeftRight=e.paddingLeftRight,n._paddingTopBottom=e.paddingTopBottom,n._textHeight=null,n._colors=[e.invalidRangeColor,e.color],n._area.attr({fill:e.color}),n._border.attr({fill:e.borderColor}),n._label.css(i(e.font)),n._update()},getTracker:function(){return this._tracker},setValid:function(e){this._area.attr({fill:this._colors[Number(e)]})},setColor:function(e){this._area.attr({fill:e})},dispose:function(){clearTimeout(this._timeout)},setOverlapped:function(e){var t=this;t._isOverlapped!==e&&(e?t._border.append(t._group):t._isOverlapped&&t._border.remove(),t._isOverlapped=e)},getBorderPosition:function(){return this._borderPosition}},n.SliderMarker=t}(DevExpress),function(e,t){function n(t,n){return new e.viz.Translator2D(t,{top:n[0],height:n[1]})}function i(e,t,i,r,o){var a,s,l=t.getSeries(),u=l.length,c={x:i,y:n(t.getBoundRange().val,r)};for(t.adjustSeriesDimensions(c),s=0;u>s;++s)a=l[s],a._extGroups.seriesGroup=a._extGroups.labelsGroup=e,a.draw(c,o)}function r(e,n){return e!==t?e:n}function o(e){this._params=e,this._clipRect=e.renderer.clipRect(),e.root.attr({clipId:this._clipRect.id})}o.prototype={constructor:o,update:function(e,t,n,o,a,s){var l=this._params.renderer,u=this._params.root;e=e||{},u.clear(),this._clipRect.attr({x:n.left,y:n.top,width:n.width,height:n.height}),o||(r(e.visible,t.visible)&&(e.color&&l.rect(n.left,n.top,n.width+1,n.height).attr({fill:r(e.color,t.color),"class":"dx-range-selector-background"}).append(u),e.image&&e.image.url&&l.image(n.left,n.top,n.width+1,n.height,e.image.url,r(e.image.location,t.image.location)).append(u)),s&&s.isShowChart()&&i(u,s,this._params.translator,[n.top,n.top+n.height],a))}},e.viz.rangeSelector.RangeView=o}(DevExpress),function(e,t,n){function i(t,n,i){e.each(t,function(t,r){e.each(i.getTeamplatedFields(),function(e,t){r[t.teamplateField]=r[t.originalField]}),n.push(r)}),i.updateTeamplateFieldNames()}var r,o=t.viz.rangeSelector,a=t.viz.charts,s=t.viz,l=s.CoreFactory,u=t.require("/utils/utils.common"),c=function(e){return a.factory.createThemeManager(e,"rangeSelector.chart")},d=function(t){return e.isArray(t)&&t.length>0&&(u.isNumber(t[0])||u.isDate(t[0]))},h=function(e){return s.utils.map(e,function(e,t){return{arg:e,val:t}})},p=function(t,n,i,r,o,a){var s=[],u=[];return e.each(t,function(t,n){-1===e.inArray(n.type,u)&&u.push(n.type)}),e.each(u,function(e,u){var c=new l.createSeriesFamily({type:u,equalBarWidth:n,minBubbleSize:i,maxBubbleSize:r,barWidth:o,negativesAsZeroes:a});c.add(t),c.adjustSeriesValues(),s.push(c)}),s},f=function(t){var n=["bar","candlestick","stock","bubble"],i=!0;return t=s.utils.normalizeEnum(t),e.each(n,function(e,n){return-1!==t.indexOf(n)?(i=!1,!1):void 0}),i};r=o.SeriesDataSource=function(e){var t,n,i,r,o,a,l=this,d=l._themeManager=c(e.chart);d._fontFields=["commonSeriesSettings.label.font"],d.setTheme(e.chart.theme),i=d.getOptions("topIndent"),r=d.getOptions("bottomIndent"),l._indent={top:i>=0&&1>i?i:0,bottom:r>=0&&1>r?r:0},l._valueAxis=d.getOptions("valueAxisRangeSelector")||{},l._hideChart=!1,n=d.getOptions("seriesTemplate"),e.dataSource&&n&&(t=s.utils.processSeriesTemplate(n,e.dataSource)),l._useAggregation=e.chart.useAggregation,l._series=l._calculateSeries(e,t),o=d.getOptions("negativesAsZeroes"),a=d.getOptions("negativesAsZeros"),l._seriesFamilies=p(l._series,d.getOptions("equalBarWidth"),d.getOptions("minBubbleSize"),d.getOptions("maxBubbleSize"),d.getOptions("barWidth"),u.isDefined(o)?o:a)},r.prototype={constructor:r,_calculateSeries:function(t,n){var r,o,a,u,c,p,f,m,g=this,_=[],v=g._themeManager,y=!!v.getOptions("seriesTemplate"),x=y?n:t.chart.series,b=t.chart.valueAxis&&t.chart.valueAxis.valueType;for(g.teamplateData=[],t.dataSource&&!x&&(d(t.dataSource)&&(t.dataSource=h(t.dataSource)),p=t.dataSourceField||"arg",x={argumentField:p,valueField:p},g._hideChart=!0),x=e.isArray(x)?x:x?[x]:[],f=0;f<x.length;f++)r=e.extend(!0,{incidentOccured:t.incidentOccured},x[f]),r.rotated=!1,a=r.data||t.dataSource,o=v.getOptions("series",r),o.argumentField=o.argumentField||t.dataSourceField,a&&a.length>0&&(m=l.createSeries({renderer:t.renderer},o),_.push(m)),y&&i(a,g.teamplateData,m);if(a=y?g.teamplateData:a,u=[_],u.argumentOptions={categories:t.categories,argumentType:t.valueType,type:t.axisType},u[0].valueOptions={valueType:p?t.valueType:b},_.length)for(c=s.validateData(a,u,t.incidentOccured,v.getOptions("dataPrepareSettings")),f=0;f<_.length;f++)_[f].updateData(c);return _},adjustSeriesDimensions:function(t){this._useAggregation&&e.each(this._series,function(e,n){n.resamplePoints(t.x)}),e.each(this._seriesFamilies,function(e,n){n.adjustSeriesDimensions({arg:t.x,val:t.y})})},getBoundRange:function(){var t,i,r,o,a,l=this,c=l._valueAxis.min,d=l._valueAxis.max,h=new s.Range({isValueRange:!0,min:c,minVisible:c,max:d,maxVisible:d,axisType:l._valueAxis.type,base:l._valueAxis.logarithmBase}),p=new s.Range({});return e.each(l._series,function(e,n){t=n.getRangeData(),h.addRange(t.val),p.addRange(t.arg),f(n.type)||p.addRange({stick:!1})}),h.isDefined()&&p.isDefined()&&(o=l._valueAxis.inverted?l._indent.top:l._indent.bottom,a=l._valueAxis.inverted?l._indent.bottom:l._indent.top,i=h.max-h.min,r=(e.isNumeric(h.maxVisible)?h.maxVisible:h.max)-(e.isNumeric(h.minVisible)?h.minVisible:h.min),u.isDate(h.min)?h.min=new Date(h.min.valueOf()-i*o):h.min-=i*o,u.isDate(h.max)?h.max=new Date(h.max.valueOf()+i*a):h.max+=i*a,e.isNumeric(r)&&(h.maxVisible=h.maxVisible?h.maxVisible+r*a:n,h.minVisible=h.minVisible?h.minVisible-r*o:n),h.invert=l._valueAxis.inverted),{arg:p,val:h}},getSeries:function(){var e=this;return e._series},isEmpty:function(){var e=this;return 0===e.getSeries().length},isShowChart:function(){return!this._hideChart},getCalculatedValueType:function(){var e,t=this;return t._series.length&&(e=t._series[0].argumentType),e},getThemeManager:function(){return this._themeManager}}}(jQuery,DevExpress),function(e,t){t.viz.rangeSelector.ThemeManager=t.viz.BaseThemeManager.inherit({_themeSection:"rangeSelector",_fontFields:["scale.label.font","sliderMarker.font","loadingIndicator.font","title.font","title.subtitle.font"]})}(jQuery,DevExpress),DevExpress.MOD_VIZ_RANGESELECTOR=!0}if(!window.DevExpress||!DevExpress.MOD_VIZ_VECTORMAP){if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");!function(e,t,n){function i(){return"vectormap-data-"+m++}function r(e,n){function i(e){var t={};return a(e||{},t),t}n&&(e.__data=n.length?t.map(n,i):i(n))}function o(e,i,r){var o=e.__data;o&&(e.__data=n,o.length?t.each(o,function(e,t){a(t,i[e])}):a(o,i),r.lock(),e.setOptions(i),r.unlock())}function a(e,t){var i=!("dataSource"in e)&&"data"in e?"data":"dataSource";t[i]=e[i],e[i]=n}function s(t){var i=e.require("/errors").log,r=t._options.mapData,o=t._options.markers;t._options.mapData=t._options.markers=n,t._afterInit=function(){this._options.mapData=r,this._options.markers=o,this._renderer.lock(),this._setLayerCollectionOptions(),this._renderer.unlock(),r=o=n},t._setLayerCollectionOptions=function(){var e=this._options,t=e.mapData,n=e.markers;t=t&&t.features?h({},t):t,n=n&&n.features?h({},n):n,this._layerCollection.setOptions([h({},e.areaSettings,{name:"areas",_deprecated:!0,dataSource:t,type:"area"}),h({},e.markerSettings,{name:"markers",_deprecated:!0,dataSource:n,type:"marker",elementType:e.markerSettings&&e.markerSettings.type})])},t.getAreas=function(){return i("W0002",this.NAME,"getAreas","15.2","Use the 'getLayerByName('areas').getElements()' instead"),this.getLayerByName("areas").getElements()},t.getMarkers=function(){return i("W0002",this.NAME,"getMarkers","15.2","Use the 'getLayerByName('markers').getElements()' instead"),this.getLayerByName("markers").getElements()},t.clearAreaSelection=function(e){return i("W0002",this.NAME,"clearAreaSelection","15.2","Use the 'getLayerByName('areas').clearSelection()' instead"),this.getLayerByName("areas").clearSelection(e),this},t.clearMarkerSelection=function(e){return i("W0002",this.NAME,"clearMarkerSelection","15.2","Use the 'getLayerByName('markers').clearSelection()' instead"),this.getLayerByName("markers").clearSelection(e),this};var a={areas:"areaClick",markers:"markerClick"},s={areas:"areaHoverChanged",markers:"markerHoverChanged"},l={areas:"areaSelectionChanged",markers:"markerSelectionChanged"};t.on("click",function(e){e.target&&this._eventTrigger(a[e.target.layer.name],e)}),t.on("hoverChanged",function(e){e.target&&this._eventTrigger(s[e.target.layer.name],e)}),t.on("selectionChanged",function(e){e.target&&this._eventTrigger(l[e.target.layer.name],e)})}var l=e.viz.map={},u=e.viz.utils.parseScalar,c=e.require("/componentRegistrator"),d=t.noop,h=t.extend,p=800,f=400,m=1,g=/^layers/,_=/\.(dataSource|data)$/,v=e.viz.BaseWidget.inherit({_eventsMap:h({},e.viz.BaseWidget.prototype._eventsMap,{onClick:{name:"click"},onCenterChanged:{name:"centerChanged"},onZoomFactorChanged:{name:"zoomFactorChanged"},onAreaClick:{name:"areaClick"},onAreaHoverChanged:{name:"areaHoverChanged"},onAreaSelectionChanged:{name:"areaSelectionChanged"},onMarkerClick:{name:"markerClick"},onMarkerHoverChanged:{name:"markerHoverChanged"},onMarkerSelectionChanged:{name:"markerSelectionChanged"},onHoverChanged:{name:"hoverChanged"},onSelectionChanged:{name:"selectionChanged"}}),_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),h(this._deprecatedOptions,{areaSettings:{since:"15.2",message:"Use the 'layers' option instead"},markerSettings:{since:"15.2",message:"Use the 'layers' option instead"},mapData:{since:"15.2",message:"Use the 'layers' option instead"},markers:{since:"15.2",message:"Use the 'layers' option instead"},onAreaClick:{since:"15.2",message:"Use the 'onClick' option instead"},onMarkerClick:{since:"15.2",message:"Use the 'onClick' option instead"},onAreaHoverChanged:{since:"15.2",message:"Use the 'onHoverChanged' option instead"},onMarkerHoverChanged:{since:"15.2",message:"Use the 'onHoverChanged' option instead"},onAreaSelectionChanged:{since:"15.2",message:"Use the 'onSelectionChanged' option instead"},onMarkerSelectionChanged:{since:"15.2",message:"Use the 'onSelectionChanged' option instead"},"layers.data":{since:"15.2",message:"Use the 'layers.dataSource' option instead"}})},_rootClassPrefix:"dxm",_rootClass:"dxm-vector-map",
_createThemeManager:function(){return new l.ThemeManager},_initLayerCollection:function(e,t,i){var o=this;o._layerCollection=new l.MapLayerCollection({renderer:o._renderer,projection:o._projection,themeManager:o._themeManager,tracker:o._tracker,dataKey:e,eventTrigger:o._eventTrigger,dataExchanger:o._dataExchanger,tooltip:o._tooltip,notifyDirty:t,notifyReady:i}),o._options.layers===n&&(o._options.mapData||o._options.markers)?s(o):r(o._layerCollection,o._options.layers)},_initLegendsControl:function(e,t){var n=this;n._legendsControl=new l.LegendsControl({renderer:n._renderer,container:n._root,layoutControl:n._layoutControl,themeManager:n._themeManager,dataExchanger:n._dataExchanger,notifyDirty:e,notifyReady:t})},_initControlBar:function(e){var t=this;t._controlBar=new l.ControlBar({renderer:t._renderer,container:t._root,layoutControl:t._layoutControl,projection:t._projection,tracker:t._tracker,dataKey:e})},_initProjection:function(){var e=this,t=e._projection;t.setEngine(e.option("projection")),t.setBounds(e.option("bounds")),t.setMaxZoom(e.option("maxZoomFactor")),t.setZoom(e.option("zoomFactor")),t.setCenter(e.option("center"))},_initElements:function(){function e(){n._resetIsReady(),++o}function t(){0==--o&&(n._drawn(),n._fulfillLoadingIndicatorHiding())}var n=this,r=i(),o=0;n._dataExchanger=new l.DataExchanger,n._projection=new l.Projection({centerChanged:function(e){n._initialized&&n._eventTrigger("centerChanged",{center:e})},zoomChanged:function(e){n._initialized&&n._eventTrigger("zoomFactorChanged",{zoomFactor:e})}}),n._tracker=new l.Tracker({root:n._root,projection:n._projection,dataKey:r}),n._gestureHandler=new l.GestureHandler({projection:n._projection,renderer:n._renderer,tracker:n._tracker}),n._layoutControl=new l.LayoutControl,n._layoutControl.suspend(),n._initLayerCollection(r,e,t),n._initControlBar(r),n._initLegendsControl(e,t),n._tooltipViewer=new l.TooltipViewer({tracker:n._tracker,tooltip:n._tooltip,layerCollection:n._layerCollection})},_init:function(){this.callBase.apply(this,arguments),this._afterInit(),this._layoutControl.resume()},_afterInit:function(){o(this._layerCollection,this._options.layers,this._renderer)},_initCore:function(){this._root=this._renderer.root.attr({align:"center",cursor:"default"}),this._initElements(),this._initProjection()},_disposeCore:function(){var e=this;e._controlBar.dispose(),e._gestureHandler.dispose(),e._tracker.dispose(),e._legendsControl.dispose(),e._layerCollection.dispose(),e._layoutControl.dispose(),e._tooltipViewer.dispose(),e._dataExchanger.dispose(),e._projection.dispose(),e._dataExchanger=e._gestureHandler=e._projection=e._tracker=e._layoutControl=e._root=e._layerCollection=e._controlBar=e._legendsControl=null},_setupInteraction:function(){var e={centeringEnabled:!!u(this._getOption("panningEnabled",!0),!0),zoomingEnabled:!!u(this._getOption("zoomingEnabled",!0),!0)};this._gestureHandler.setInteraction(e),this._controlBar.setInteraction(e)},_getDefaultSize:function(){return{width:p,height:f}},_getTitleLayoutSize:function(){var e=this._canvas,t=this._title,n=t.getVerticalCuttedSize(e),i=t.getLayoutOptions();return i&&t.position({at:i.position,my:i.position,of:{getLayoutOptions:function(){return{width:e.width,height:e.height,x:0,y:0}}}}),n},_applySize:function(){var e,t=this;t._renderer.lock(),e=t._getTitleLayoutSize(),t._projection.setSize(e),t._layoutControl.setSize(e),t._renderer.unlock(),t._layerCollection.setRect([e.left,e.top,e.width,e.height])},_initDataSource:d,_disposeDataSource:d,_optionChanging:function(e,t,n){t&&n&&(g.test(e)&&(t.dataSource&&n.dataSource&&t!==n?t.dataSource=null:t.data&&n.data&&t!==n?t.data=null:_.test(e)&&this.option(e,null)),"mapData"===e&&(this._options.mapData=null),"markers"===e&&(this._options.markers=null))},_handleChangedOptions:function(e){var t=this;t.callBase.apply(t,arguments),"background"in e&&t._setBackgroundOptions(),("layers"in e||"areaSettings"in e||"markerSettings"in e||"mapData"in e||"markers"in e)&&t._setLayerCollectionOptions(),"controlBar"in e&&t._setControlBarOptions(),"legends"in e&&t._setLegendsOptions(),("touchEnabled"in e||"wheelEnabled"in e)&&t._setTrackerOptions(),("panningEnabled"in e||"zoomingEnabled"in e)&&t._setupInteraction(),"projection"in e&&t._projection.setEngine(e.projection),"bounds"in e&&t._projection.setBounds(e.bounds),"maxZoomFactor"in e&&t._projection.setMaxZoom(e.maxZoomFactor),"zoomFactor"in e&&t._projection.setZoom(e.zoomFactor),"center"in e&&t._projection.setCenter(e.center)},_handleThemeOptionsCore:function(){var e=this;e._scheduleLoadingIndicatorHiding(),e._setBackgroundOptions(),e._setLayerCollectionOptions(),e._layoutControl.suspend(),e._setControlBarOptions(),e._setLegendsOptions(),e._setTrackerOptions(),e._setupInteraction(),e._layoutControl.resume()},_setBackgroundOptions:function(){this._layerCollection.setBackgroundOptions(this._getOption("background"))},_setLayerCollectionOptions:function(){this._layerCollection.setOptions(this.option("layers"))},_setControlBarOptions:function(){this._controlBar.setOptions(this._getOption("controlBar"))},_setLegendsOptions:function(){this._legendsControl.setOptions(this.option("legends"))},_setTrackerOptions:function(){this._tracker.setOptions({touchEnabled:this._getOption("touchEnabled",!0),wheelEnabled:this._getOption("wheelEnabled",!0)})},getLayers:function(){for(var e=this._layerCollection.items(),t=[],n=t.length=e.length,i=0;n>i;++i)t[i]=e[i].proxy;return t},getLayerByIndex:function(e){var t=this._layerCollection.byIndex(e);return t?t.proxy:null},getLayerByName:function(e){var t=this._layerCollection.byName(e);return t?t.proxy:null},clearSelection:function(e){for(var t=this._layerCollection.items(),n=t.length,i=0;n>i;++i)t[i].clearSelection(e);return this},getAreas:d,getMarkers:d,clearAreaSelection:d,clearMarkerSelection:d,center:function(e){var t=this;return e===n?t._projection.getCenter():(t._projection.setCenter(e),t)},zoomFactor:function(e){var t=this;return e===n?t._projection.getZoom():(t._projection.setZoom(e),t)},viewport:function(e){var t=this;return e===n?t._projection.getViewport():(t._projection.setViewport(e),t)},convertCoordinates:function(e){return e=e&&e.length?e:[arguments[0],arguments[1]],this._projection.fromScreenPoint(e)}});c("dxVectorMap",e.viz.map,v),e.viz.map.sources={}}(DevExpress,jQuery),function(e,t){var n={_initEvents:function(){for(var e=this._eventNames,n=e.length,i=this._events={},r=0;n>r;++r)i[e[r]]=t.Callbacks()},_disposeEvents:function(){var e,t=this._events;for(e in t)t[e].empty();this._events=null},on:function(e){function t(){for(n in e)i[n].remove(e[n])}var n,i=this._events;for(n in e)i[n].add(e[n]);return t},_fire:function(e,t){this._events[e].fire(t)}};e.viz.map.makeEventEmitter=function(e){var t,i=e.prototype;for(t in n)i[t]=n[t]}}(DevExpress,jQuery),function(e,t,n){function i(e,t){return D(e-t)<1e-8}function r(e,t){return i(e[0],t[0])&&i(e[1],t[1])}function o(e,t,n,i){var r=C(e);return isFinite(r)?S(k(r,t),n):i}function a(e,t,n,i){return[o(e[0],t[0],n[0],i[0]),o(e[1],t[1],n[1],i[1])]}function s(e){return e instanceof h&&e||y.get(e)||y.get(M)}function l(e){var t=this;t._initEvents(),t._params=e,t._engine=s(),t._center=t._engine.center(),t._adjustCenter()}function u(e,t,n,i){var r=(n+i)/2;return D(e-r)>D(t-r)?e:t}function c(e,t,n,i){var r=(n+i)/2;return D(e-r)<D(t-r)?e:t}function d(e,t,n){var i=e([n[0],n[3]]),r=e([n[0],n[1]]),o=e([n[2],n[3]]),a=e([n[2],n[1]]),s=c(i[0],r[0],o[0],a[0]),l=c(o[0],a[0],i[0],r[0]),u=c(i[1],o[1],r[1],a[1]),d=c(r[1],a[1],i[1],o[1]);return[2/k(D(s-l),D(u-d)),t([(s+l)/2,(u+d)/2])]}function h(e,n){var i=this,r=e.aspectRatio>0?C(e.aspectRatio):1,o=m(e.to),a=e.from?g(e.from):_(P),s=a([0,0]),l=x([a([-1,0])[0],a([0,1])[1]],[a([1,0])[0],a([0,-1])[1]]);i.project=o,i.unproject=a,i.original=_(n||i),i.source=function(){return t.extend({},e)},i.isinv=_(!!e.from),i.ar=_(r),i.center=v(s),i.min=v(l.min),i.max=v(l.max)}function p(e){return e instanceof h}function f(e){return[e[0],-e[1]]}function m(e){return function(t){return f(e(t))}}function g(e){return function(t){return e(f(t))}}function _(e){return function(){return e}}function v(e){return function(){return e.slice()}}function y(e){return e&&e.to?new h(e):null}function x(e,t){return{min:[S(e[0],t[0]),S(e[1],t[1])],max:[k(e[0],t[0]),k(e[1],t[1])]}}function b(e,t,n,i,r){var o=(n[0]+i[0])/2-r/2,a=(n[1]+i[1])/2-r/2,s=2/r;return{to:function(t){var n=e(t);return[-1+(n[0]-o)*s,-1+(n[1]-a)*s]},from:function(e){var n=[o+(e[0]+1)/s,a+(e[1]+1)/s];return t(n)}}}var w,C=Number,S=Math.min,k=Math.max,D=Math.abs,T=Math.round,E=Math.log,I=Math.pow,A=2/Math.LN2,$=1/648e4,B=1,O=256,P=[NaN,NaN],M="mercator";l.prototype={constructor:l,_minZoom:B,_maxZoom:O,_zoom:B,_center:P,_canvas:{},_scale:[],dispose:function(){this._disposeEvents()},setEngine:function(e){var t=this,n=s(e);t._engine!==n&&(t._engine=n,t._fire("engine"),t._changeCenter(n.center())&&t._triggerCenterChanged(),t._changeZoom(t._minZoom)&&t._triggerZoomChanged(),t._adjustCenter(),t._setupScreen())},setBounds:function(e){e!==n&&this.setEngine(this._engine.original().bounds(e))},_setupScreen:function(){var e=this,t=e._canvas,n=t.width,i=t.height,r=e._engine.ar();e._x0=t.left+n/2,e._y0=t.top+i/2,r>=n/i?(e._xradius=n/2,e._yradius=n/2/r):(e._xradius=i/2*r,e._yradius=i/2),e._fire("screen")},setSize:function(e){var t=this;t._canvas=e,t._setupScreen()},_toScreen:function(e){return[this._x0+this._xradius*e[0],this._y0+this._yradius*e[1]]},_fromScreen:function(e){return[(e[0]-this._x0)/this._xradius,(e[1]-this._y0)/this._yradius]},_toTransformed:function(e){return[e[0]*this._zoom+this._dxcenter,e[1]*this._zoom+this._dycenter]},_toTransformedFast:function(e){return[e[0]*this._zoom,e[1]*this._zoom]},_fromTransformed:function(e){return[(e[0]-this._dxcenter)/this._zoom,(e[1]-this._dycenter)/this._zoom]},_adjustCenter:function(){var e=this,t=e._engine.project(e._center);e._dxcenter=-t[0]*e._zoom||0,e._dycenter=-t[1]*e._zoom||0},project:function(e){return this._engine.project(e)},transform:function(e){return this._toScreen(this._toTransformedFast(e))},isInvertible:function(){return this._engine.isinv()},getSquareSize:function(e){return[e[0]*this._zoom*this._xradius,e[1]*this._zoom*this._yradius]},getZoom:function(){return this._zoom},_changeZoom:function(e){var t=this,n=t._zoom,r=t._zoom=o(e,t._minZoom,t._maxZoom,t._minZoom),a=!i(n,r);return a&&(t._adjustCenter(),t._fire("zoom")),a},setZoom:function(e){this._engine.isinv()&&this._changeZoom(e)&&this._triggerZoomChanged()},getScaledZoom:function(){return T((this._scale.length-1)*E(this._zoom)/E(this._maxZoom))},setScaledZoom:function(e){this.setZoom(this._scale[T(e)])},changeScaledZoom:function(e){this.setZoom(this._scale[k(S(T(this.getScaledZoom()+e),this._scale.length-1),0)])},getZoomScalePartition:function(){return this._scale.length-1},_setupScaling:function(){var e,t,n=this,i=T(A*E(n._maxZoom)),r=1;for(i=i>4?i:4,e=I(n._maxZoom,1/i),t=n._minZoom,n._scale=[t];i>=r;++r)n._scale.push(t*=e)},setMaxZoom:function(e){var t=this;t._minZoom=B,t._maxZoom=o(e,t._minZoom,C.MAX_VALUE,O),t._setupScaling(),t._zoom>t._maxZoom&&t.setZoom(t._maxZoom),t._fire("max-zoom")},getCenter:function(){return this._center.slice()},setCenter:function(e){this._engine.isinv()&&this._changeCenter(e||[])&&this._triggerCenterChanged()},_changeCenter:function(e){var t=this,n=t._engine,i=t._center,o=t._center=a(e,n.min(),n.max(),n.center()),s=!r(i,o);return s&&(t._adjustCenter(),t._fire("center")),s},_triggerCenterChanged:function(){this._params.centerChanged(this.getCenter())},_triggerZoomChanged:function(){this._params.zoomChanged(this.getZoom())},setCenterByPoint:function(e,t){var n=this,i=n._engine.project(e),r=n._fromScreen(t);n.setCenter(n._engine.unproject([-r[0]/n._zoom+i[0],-r[1]/n._zoom+i[1]]))},beginMoveCenter:function(){this._engine.isinv()&&(this._moveCenter=this._center)},endMoveCenter:function(){var e=this;e._moveCenter&&(r(e._moveCenter,e._center)||e._triggerCenterChanged(),e._moveCenter=null)},moveCenter:function(e){var t,n,i=this;i._moveCenter&&(t=i._toScreen(i._toTransformed(i._engine.project(i._center))),n=i._engine.unproject(i._fromTransformed(i._fromScreen([t[0]+e[0],t[1]+e[1]]))),i._changeCenter(n))},getViewport:function(){var e=this,t=e._engine.unproject,n=t(e._fromTransformed([-1,-1])),i=t(e._fromTransformed([-1,1])),r=t(e._fromTransformed([1,-1])),o=t(e._fromTransformed([1,1])),a=x([u(n[0],i[0],r[0],o[0]),u(n[1],r[1],i[1],o[1])],[u(r[0],o[0],n[0],i[0]),u(i[1],o[1],n[1],r[1])]);return[].concat(a.min,a.max)},setViewport:function(e){var t=this._engine,n=e?d(t.project,t.unproject,e):[this._minZoom,t.center()];this.setZoom(n[0]),this.setCenter(n[1])},getTransform:function(){return{translateX:this._dxcenter*this._xradius,translateY:this._dycenter*this._yradius}},fromScreenPoint:function(e){return this._engine.unproject(this._fromTransformed(this._fromScreen(e)))},_eventNames:["engine","screen","center","zoom","max-zoom"]},e.viz.map.makeEventEmitter(l),h.prototype.aspectRatio=function(e){var t=this.source();return t.aspectRatio=e,new h(t,this)},h.prototype.bounds=function(e){e=e||[];var n=this.source(),i=this.min(),r=this.max(),o=n.to(a([e[0],e[1]],i,r,i)),s=n.to(a([e[2],e[3]],i,r,r)),l=S(D(s[0]-o[0])>$?D(s[0]-o[0]):2,D(s[1]-o[1])>$?D(s[1]-o[1]):2);return 2>l&&t.extend(n,b(n.to,n.from,o,s,l)),new h(n,this)},w={},y.get=function(e){return w[e]||null},y.add=function(e,t){return!w[e]&&p(t)&&(w[e]=t),y},e.viz.map.Projection=l,e.viz.map.projection=y}(DevExpress,jQuery),function(e){function t(e,t){return r(i(e,+t),-t)}var n=e.viz.map.projection,i=Math.min,r=Math.max,o=Math.sin,a=Math.asin,s=Math.tan,l=Math.atan,u=Math.exp,c=Math.log,d=Math.PI,h=d/4,p=180,f=90,m=d/180,g=(2*l(u(d))-d/2)/m,_=(2.5*l(u(.8*d))-.625*d)/m;n.add("mercator",n({aspectRatio:1,to:function(e){return[e[0]/p,c(s(h+t(e[1],g)*m/2))/d]},from:function(e){return[e[0]*p,(2*l(u(e[1]*d))-d/2)/m]}})),n.add("equirectangular",n({aspectRatio:2,to:function(e){return[e[0]/p,e[1]/f]},from:function(e){return[e[0]*p,e[1]*f]}})),n.add("lambert",n({aspectRatio:2,to:function(e){return[e[0]/p,o(t(e[1],f)*m)]},from:function(e){return[e[0]*p,a(t(e[1],1))/m]}})),n.add("miller",n({aspectRatio:1,to:function(e){return[e[0]/p,1.25*c(s(h+t(e[1],_)*m*.4))/d]},from:function(e){return[e[0]*p,(2.5*l(u(.8*e[1]*d))-.625*d)/m]}}))}(DevExpress),function(e){function t(e){var t=this;t._params=e,t._createElements(e.renderer,e.container,e.dataKey),e.layoutControl.addItem(t),t._subscribeToProjection(e.projection),t._subscribeToTracker(e.tracker),t._createCallbacks(e.projection,e.renderer)}function n(e){delete e._owner,e.update=function(){},e.finish=function(){}}function i(e,t){this._owner=e,this._command=t}function r(e,t,n){function i(){e._callbacks.move([a,s]),r=setTimeout(i,o)}this._command=t;var r=null,o=100,a=0,s=0;switch(this._command){case _:s=-10;break;case v:a=10;break;case y:s=10;break;case x:a=-10}this._stop=function(){return clearTimeout(r),e._callbacks.endMove(),this._stop=e=null,this},n=null,e._callbacks.beginMove(),i()}function o(e,t){function n(){e._adjustZoom(e._zoomFactor+o),i=setTimeout(n,r)}this._owner=e,this._command=t;var i=null,r=150,o=this._command===b?1:-1;this._stop=function(){return clearTimeout(i),this._stop=e=null,this},n()}function a(e,t,n){this._owner=e,this._zoomFactor=e._zoomFactor,this._pos=n.y}var s=Math,l=s.min,u=s.max,c=s.round,d=s.floor,h=s.sqrt,p=e.viz.utils.parseScalar,f=e.viz.utils.enumParser(["left","center","right"]),m=e.viz.utils.enumParser(["top","bottom"]),g="command-reset",_="command-move-up",v="command-move-right",y="command-move-down",x="command-move-left",b="command-zoom-in",w="command-zoom-out",C="command-zoom-drag-line",S="command-zoom-drag",k="control-bar",D=1,T=2,E={bigCircleSize:58,smallCircleSize:28,buttonSize:10,arrowButtonOffset:20,incdecButtonSize:11,incButtonOffset:66,decButtonOffset:227,sliderLineStartOffset:88.5,sliderLineEndOffset:205.5,sliderLength:20,sliderWidth:8,trackerGap:4},I=30.5,A=30.5,$=61,B=274,O={};O[g]=i,O[_]=O[v]=O[y]=O[x]=r,O[b]=O[w]=o,O[S]=a,t.prototype={constructor:t,_flags:0,dispose:function(){var e=this;e._params.layoutControl.removeItem(e),e._root.linkRemove().linkOff(),e._offProjection(),e._offTracker(),e._params=e._root=e._offProjection=e._offTracker=e._callbacks=null},_subscribeToProjection:function(e){function t(){n._adjustZoom(e.getScaledZoom())}var n=this;n._offProjection=e.on({engine:function(){n._update()},zoom:t,"max-zoom":function(){n._zoomPartition=e.getZoomScalePartition(),n._sliderUnitLength=n._sliderLineLength/n._zoomPartition,t()}})},_subscribeToTracker:function(e){var t=this,n=!1;t._offTracker=e.on({start:function(e){n=e.data.name===k,n&&t._processStart(e.data.index,e)},move:function(e){n&&t._processMove(e.data.index,e)},end:function(){n&&(t._processEnd(),n=!1)}})},_createCallbacks:function(e){var t=this;t._callbacks={reset:function(t,n){t&&e.setCenter(null),n&&e.setZoom(null)},beginMove:function(){e.beginMoveCenter()},endMove:function(){e.endMoveCenter()},move:function(t){e.moveCenter(t)},zoom:function(t){e.setScaledZoom(t)}}},_createElements:function(e,t,n){var i,r,o=this;o._root=e.g().attr({"class":"dxm-control-bar"}).linkOn(t,"control-bar"),i=o._buttonsGroup=e.g().attr({"class":"dxm-control-buttons"}).append(o._root),r=e.g().attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:1e-4}).css({cursor:"pointer"}).append(o._root),o._createButtons(e,n,i),o._createTrackers(e,n,r)},_createButtons:function(e,t,n){var i=this,r=E,o=r.buttonSize/2,a=r.arrowButtonOffset-o,s=r.arrowButtonOffset,l=r.incdecButtonSize/2,u={"stroke-linecap":"square",fill:"none"},c="line";e.circle(0,0,r.bigCircleSize/2).append(n),e.circle(0,0,o).attr({fill:"none"}).append(n),e.path([-o,-a,0,-s,o,-a],c).attr(u).append(n),e.path([a,-o,s,0,a,o],c).attr(u).append(n),e.path([o,a,0,s,-o,a],c).attr(u).append(n),e.path([-a,o,-s,0,-a,-o],c).attr(u).append(n),e.circle(0,r.incButtonOffset,r.smallCircleSize/2).append(n),e.path([[-l,r.incButtonOffset,l,r.incButtonOffset],[0,r.incButtonOffset-l,0,r.incButtonOffset+l]],"area").append(n),e.circle(0,r.decButtonOffset,r.smallCircleSize/2).append(n),e.path([-l,r.decButtonOffset,l,r.decButtonOffset],"area").append(n),i._zoomLine=e.path([],"line").append(n),i._zoomDrag=e.rect(d(-r.sliderLength/2),d(r.sliderLineEndOffset-r.sliderWidth/2),r.sliderLength,r.sliderWidth).append(n),i._sliderLineLength=r.sliderLineEndOffset-r.sliderLineStartOffset},_createTrackers:function(e,t,n){var i=E,r=c((i.arrowButtonOffset-i.trackerGap)/2),o=i.arrowButtonOffset-r,a=c(h(i.bigCircleSize*i.bigCircleSize/4-r*r)),s=a-o;e.rect(-r,-r,2*r,2*r).data(t,{index:g,name:k}).append(n),e.rect(-r,-a,2*r,s).data(t,{index:_,name:k}).append(n),e.rect(o,-r,s,2*r).data(t,{index:v,name:k}).append(n),e.rect(-r,o,2*r,s).data(t,{index:y,name:k}).append(n),e.rect(-a,-r,s,2*r).data(t,{index:x,name:k}).append(n),e.circle(0,i.incButtonOffset,i.smallCircleSize/2).data(t,{index:b,name:k}).append(n),e.circle(0,i.decButtonOffset,i.smallCircleSize/2).data(t,{index:w,name:k}).append(n),e.rect(-2,i.sliderLineStartOffset-2,4,i.sliderLineEndOffset-i.sliderLineStartOffset+4).css({cursor:"default"}).data(t,{index:C,name:k}).append(n),this._zoomDragTracker=e.rect(-i.sliderLength/2,i.sliderLineEndOffset-i.sliderWidth/2,i.sliderLength,i.sliderWidth).data(t,{index:S,name:k}).append(n)},resize:function(e){this._isActive&&this._root.attr({visibility:null!==e?null:"hidden"})},getLayoutOptions:function(){return this._isActive?this._layoutOptions:null},locate:function(e,t){this._root.attr({translateX:e+this._margin+I,translateY:t+this._margin+A})},_update:function(){var e=this;e._isActive=e._isEnabled&&e._flags&&e._params.projection.isInvertible(),e._isActive?e._root.linkAppend():e._root.linkRemove(),e._processEnd(),e.updateLayout()},setInteraction:function(e){var t=this;p(e.centeringEnabled,!0)?t._flags|=D:t._flags&=~D,p(e.zoomingEnabled,!0)?t._flags|=T:t._flags&=~T,t._update()},setOptions:function(e){var t=this;t._isEnabled=!!p(e.enabled,!0),t._margin=e.margin||0,t._layoutOptions={width:2*t._margin+$,height:2*t._margin+B,horizontalAlignment:f(e.horizontalAlignment,"left"),verticalAlignment:m(e.verticalAlignment,"top")},t._buttonsGroup.attr({"stroke-width":e.borderWidth,stroke:e.borderColor,fill:e.color,"fill-opacity":e.opacity}),t._update()},_adjustZoom:function(e){var t,n,i=this,r=E.sliderLineStartOffset,o=E.sliderLineEndOffset,a=E.sliderWidth;i._zoomFactor=u(l(c(e),i._zoomPartition),0),t={translateY:-c(i._zoomFactor*i._sliderUnitLength)},n=o-a/2+t.translateY,i._zoomLine.attr({points:[[0,r,0,u(r,n)],[0,l(o,n+a),0,o]]}),i._zoomDrag.attr(t),i._zoomDragTracker.attr(t)},_applyZoom:function(){this._callbacks.zoom(this._zoomFactor)},_processStart:function(e,t){var n;this._isActive&&(n=O[e],this._command=n&&n.flags&this._flags?new n(this,e,t):null)},_processMove:function(e,t){this._command&&this._command.update(e,t)},_processEnd:function(){this._command&&this._command.finish(),this._command=null}},i.flags=D|T,i.prototype.update=function(e){e!==this._command&&n(this)},i.prototype.finish=function(){var e=this._owner._flags;this._owner._callbacks.reset(!!(e&D),!!(e&T)),n(this)},r.flags=D,r.prototype.update=function(e){this._command!==e&&this.finish()},r.prototype.finish=function(){n(this._stop())},o.flags=T,o.prototype.update=function(e){this._command!==e&&this.finish()},o.prototype.finish=function(){this._owner._applyZoom(),n(this._stop())},a.flags=T,a.prototype.update=function(e,t){var n=this._owner;n._adjustZoom(this._zoomFactor+n._zoomPartition*(this._pos-t.y)/n._sliderLineLength)},a.prototype.finish=function(){this._owner._applyZoom(),n(this)},e.viz.map.ControlBar=t}(DevExpress),function(e){function t(e){var t=this;t._projection=e.projection,t._renderer=e.renderer,t._x=t._y=0,t._subscribeToTracker(e.tracker)}var n=Math.log,i=Math.LN2;t.prototype={constructor:t,dispose:function(){this._offTracker(),this._offTracker=null},_subscribeToTracker:function(e){var t=this,n=!1;t._offTracker=e.on({start:function(e){n="control-bar"!==e.data.name,n&&t._processStart(e)},move:function(e){n&&t._processMove(e)},end:function(){n&&t._processEnd()},zoom:function(e){t._processZoom(e)}})},setInteraction:function(e){this._processEnd(),this._centeringEnabled=e.centeringEnabled,this._zoomingEnabled=e.zoomingEnabled},_processStart:function(e){this._centeringEnabled&&(this._x=e.x,this._y=e.y,this._projection.beginMoveCenter())},_processMove:function(e){var t=this;t._centeringEnabled&&(t._renderer.root.attr({cursor:"move"}),t._projection.moveCenter([t._x-e.x,t._y-e.y]),t._x=e.x,t._y=e.y)},_processEnd:function(){this._centeringEnabled&&(this._renderer.root.attr({cursor:"default"}),this._projection.endMoveCenter())},_processZoom:function(e){var t,r,o,a=this;a._zoomingEnabled&&(e.delta?t=e.delta:e.ratio&&(t=n(e.ratio)/i),a._centeringEnabled&&(r=a._renderer.getRootOffset(),r=[e.x-r.left,e.y-r.top],o=a._projection.fromScreenPoint(r)),a._projection.changeScaledZoom(t),a._centeringEnabled&&a._projection.setCenterByPoint(o,r))}},e.viz.map.GestureHandler=t}(DevExpress),function(e,t,n){function i(e){var t=this;t._root=e.root,t._createEventHandlers(e.dataKey),t._createProjectionHandlers(e.projection),t._initEvents(),t._focus=new h(function(e,n){t._fire(e,n)}),t._attachHandlers()}function r(e,t,n,i){return m((e-n)*(e-n)+(t-i)*(t-i))}function o(e){var t=e.originalEvent.type,n=e.originalEvent.pointerType;return/^touch/.test(t)||/^MSPointer/.test(t)&&4!==n||/^pointer/.test(t)&&"mouse"!==n}function a(e,t){for(var n,i=0,r=e.length;r>i;++i)if(e[i]){n=t[i];break}return v(n||t[i],b)}function s(){var e=[navigator.pointerEnabled,navigator.msPointerEnabled,"ontouchstart"in window];w={start:a(e,["pointerdown","MSPointerDown","touchstart mousedown","mousedown"]),move:a(e,["pointermove","MSPointerMove","touchmove mousemove","mousemove"]),end:a(e,["pointerup","MSPointerUp","touchend mouseup","mouseup"]),wheel:a([],["mousewheel DOMMouseScroll"])}}function l(e){var t=e.originalEvent,n=t.touches&&t.touches[0]||{};return{x:n.pageX||t.pageX||e.pageX,y:n.pageY||t.pageY||e.pageY}}function u(e){return e.originalEvent.pointerId}function c(e,t){var i=e.originalEvent;return i=i.pointerId!==n?i.pointerId===t?i:null:i.touches[t],i?{x:i.pageX||e.pageX,y:i.pageY||e.pageY}:null}function d(e,t){if(0===e)return 0;var n=f(e),i=g(e/n);return t.dir&&i!==t.dir?0:(t.dir=i,n=.1>n?0:1>n?1:n>4?4:g(n),i*n)}var h,p=Math,f=p.abs,m=p.sqrt,g=p.round,_=e.require("/ui/events/ui.events.utils"),v=_.addNamespace,y=e.viz.utils.parseScalar,x=t.now,b=e.viz.map.dxVectorMap.publicName(),w={};s();var C="start",S="move",k="end",D="zoom",T="hover-on",E="hover-off",I="click",A="focus-on",$="focus-move",B="focus-off",O=500,P=5,M=20,R=5,V=10,L=300,F=300,z=300,H=400,N=5,j=50,W=300;i.prototype={constructor:i,dispose:function(){var e=this;e._detachHandlers(),e._disposeEvents(),e._focus.dispose(),e._root=e._focus=e._docHandlers=e._rootHandlers=null},_eventNames:[C,S,k,D,I,T,E,A,B,$],_startClick:function(e,t){if(t){var n=l(e);this._clickState={x:n.x,y:n.y,threshold:o(e)?M:P,time:x()}}},_endClick:function(e,t){var n,i,r=this._clickState;r&&(x()-r.time<=O&&(n=r.threshold,i=l(e),f(i.x-r.x)<=n&&f(i.y-r.y)<=n&&this._fire(I,{data:t,x:i.x,y:i.y,$event:e})),this._clickState=null)},_startDrag:function(e,t){if(t){var n=l(e),i=this._dragState={x:n.x,y:n.y,data:t};this._fire(C,{x:i.x,y:i.y,data:i.data})}},_moveDrag:function(e,t){var n,i,r=this._dragState;r&&(n=l(e),i=o(e)?V:R,(r.active||f(n.x-r.x)>i||f(n.y-r.y)>i)&&(r.x=n.x,r.y=n.y,r.active=!0,r.data=t||{},this._fire(S,{x:r.x,y:r.y,data:r.data})))},_endDrag:function(){var e=this._dragState;e&&(this._dragState=null,this._fire(k,{x:e.x,y:e.y,data:e.data}))},_wheelZoom:function(e,t){if(t){var n,i,r=this,o=r._wheelLock,a=x();a-o.time<=j||(a-o.dirTime>W&&(o.dir=0),n=d(e.originalEvent.wheelDelta/120||e.originalEvent.detail/-3||0,o),0!==n&&(i=l(e),r._fire(D,{delta:n,x:i.x,y:i.y}),o.time=o.dirTime=a))}},_startZoom:function(e,t){if(o(e)&&t){var i,r,a=this._zoomState=this._zoomState||{};a.pointer1&&a.pointer2||(a.pointer1===n&&(a.pointer1=u(e)||0,i=c(e,a.pointer1),a.x1=a.x1_0=i.x,a.y1=a.y1_0=i.y),a.pointer2===n&&(r=u(e)||1,r!==a.pointer1&&(i=c(e,r),i&&(a.x2=a.x2_0=i.x,a.y2=a.y2_0=i.y,a.pointer2=r,a.ready=!0,this._endDrag()))))}},_moveZoom:function(e){var t,i=this._zoomState;i&&o(e)&&(i.pointer1!==n&&(t=c(e,i.pointer1),t&&(i.x1=t.x,i.y1=t.y)),i.pointer2!==n&&(t=c(e,i.pointer2),t&&(i.x2=t.x,i.y2=t.y)))},_endZoom:function(e){var t,n,i=this._zoomState;i&&o(e)&&(i.ready&&(t=r(i.x1_0,i.y1_0,i.x2_0,i.y2_0),n=r(i.x1,i.y1,i.x2,i.y2),this._fire(D,{ratio:n/t,x:(i.x1_0+i.x2_0)/2,y:(i.y1_0+i.y2_0)/2})),this._zoomState=null)},_startHover:function(e,t){this._doHover(e,t,!0)},_moveHover:function(e,t){this._doHover(e,t,!1)},_doHover:function(e,t,n){var i=this;return i._dragState&&i._dragState.active||i._zoomState&&i._zoomState.ready?void i._cancelHover():void(o(e)!==n||i._hoverTarget===e.target||i._hoverState&&i._hoverState.data===t||(i._cancelHover(),t&&(i._hoverState={data:t},i._fire(T,{data:t})),i._hoverTarget=e.target))},_cancelHover:function(){var e=this._hoverState;this._hoverState=this._hoverTarget=null,e&&this._fire(E,{data:e.data})},_startFocus:function(e,t){this._doFocus(e,t,!0)},_moveFocus:function(e,t){this._doFocus(e,t,!1)},_doFocus:function(e,t,n){var i=this;return i._dragState&&i._dragState.active||i._zoomState&&i._zoomState.ready?void i._cancelFocus():void(o(e)===n&&(i._focus.turnOff(n?H:F),t&&i._focus.turnOn(t,l(e),n?z:L,n)))},_endFocus:function(e){o(e)&&this._focus.cancelOn()},_cancelFocus:function(){this._focus.cancel()},_createEventHandlers:function(e){function t(t){var n=t.target;return("tspan"===n.tagName?n.parentNode:n)[e]}var n=this;n._docHandlers={},n._rootHandlers={},n._rootHandlers[w.start]=n._docHandlers[w.start]=function(e){var i=o(e),r=t(e);(!i||n._isTouchEnabled)&&(r&&(e.preventDefault(),e.stopPropagation()),n._startClick(e,r),n._startDrag(e,r),n._startZoom(e,r),n._startHover(e,r),n._startFocus(e,r))},n._docHandlers[w.move]=function(e){var i=o(e),r=t(e);(!i||n._isTouchEnabled)&&(n._moveDrag(e,r),n._moveZoom(e,r),n._moveHover(e,r),n._moveFocus(e,r))},n._docHandlers[w.end]=function(e){var i=o(e),r=t(e);(!i||n._isTouchEnabled)&&(n._endClick(e,r),n._endDrag(e,r),n._endZoom(e,r),n._endFocus(e,r))},n._rootHandlers[w.wheel]=function(e){if(n._cancelFocus(),n._isWheelEnabled){var i=t(e);i&&(e.preventDefault(),e.stopPropagation(),n._wheelZoom(e,i))}},n._wheelLock={dir:0}},_createProjectionHandlers:function(e){function t(){n._cancelFocus()}var n=this;e.on({center:t,zoom:t})},reset:function(){var e=this;e._clickState=null,e._endDrag(),e._cancelHover(),e._cancelFocus()},setOptions:function(e){var t=this;t.reset(),t._detachHandlers(),t._isTouchEnabled=!!y(e.touchEnabled,!0),t._isWheelEnabled=!!y(e.wheelEnabled,!0),t._attachHandlers()},_detachHandlers:function(){var e=this;e._isTouchEnabled&&e._root.css({"touch-action":"","-ms-touch-action":"","-webkit-user-select":""}).off(v("MSHoldVisual",b)).off(v("contextmenu",b)),t(document).off(e._docHandlers),e._root.off(e._rootHandlers)},_attachHandlers:function(){var e=this;e._isTouchEnabled&&e._root.css({"touch-action":"none","-ms-touch-action":"none","-webkit-user-select":"none"}).on(v("MSHoldVisual",b),function(e){e.preventDefault()}).on(v("contextmenu",b),function(e){o(e)&&e.preventDefault()}),t(document).on(e._docHandlers),e._root.on(e._rootHandlers)}},h=function(e){var t,n,i=this,r=null,o=null,a=!1,s=null,l=null;i.dispose=function(){clearTimeout(s),clearTimeout(l),i.turnOn=i.turnOff=i.cancel=i.cancelOn=i.dispose=i=e=r=o=s=l=null},i.turnOn=function(i,u,c,d){function h(e){a=!e,e&&(r=o,clearTimeout(l),l=null)}i===o&&a||(a=!1,o=i,r?(t=u.x,n=u.y,clearTimeout(s),s=setTimeout(function(){s=null,o===r?(e($,{data:o,x:t,y:n}),h(!0)):e(A,{data:o,x:t,y:n,done:h})},d?c:0)):(!s||f(u.x-t)>N||f(u.y-n)>N||d)&&(t=u.x,n=u.y,clearTimeout(s),s=setTimeout(function(){s=null,e(A,{data:o,x:t,y:n,done:h})},c)))},i.turnOff=function(t){clearTimeout(s),s=null,o=null,r&&!a&&(l=l||setTimeout(function(){l=null,e(B,{data:r}),r=null},t))},i.cancel=function(){clearTimeout(s),clearTimeout(l),r&&e(B,{data:r}),r=o=s=l=null},i.cancelOn=function(){clearTimeout(s),s=null}},e.viz.map.makeEventEmitter(i),e.viz.map.Tracker=i}(DevExpress,jQuery),function(e){e.viz.map.ThemeManager=e.viz.BaseThemeManager.inherit({_themeSection:"map",_fontFields:["layer:area.label.font","layer:marker:dot.label.font","layer:marker:bubble.label.font","layer:marker:pie.label.font","layer:marker:image.label.font","tooltip.font","legend.font","title.font","title.subtitle.font","loadingIndicator.font"]})}(DevExpress,jQuery),function(e){function t(){this._store={}}t.prototype={constructor:t,dispose:function(){return this._store=null,this},_get:function(e,t){var n=this._store[e]||(this._store[e]={});return n[t]||(n[t]={})},set:function(e,t,n){var i=this._get(e,t);return i.data=n,i.callback&&i.callback(n),this},bind:function(e,t,n){var i=this._get(e,t);return i.callback=n,i.data&&n(i.data),this},unbind:function(e,t){var n=this._get(e,t);return n.data=n.callback=null,this}},e.viz.map.DataExchanger=t}(DevExpress),function(e,t){function n(e){var t;return t="string"==typeof e?c[e.toLowerCase()]||d:{category:e.layer,name:e.grouping}}function i(e){var t=this;t._params=e,t._root=e.renderer.g().attr({"class":"dxm-legend"}).linkOn(e.container,{name:"legend",after:"legend-base"}).linkAppend(),e.layoutControl.addItem(t),u.call(t,{renderer:e.renderer,group:t._root,backgroundClass:null,itemsGroupClass:null,textField:"text",getFormatObject:function(e){return e}}),t._onDataChanged=function(e){t._updateData(e)}}function r(e,t,n){for(var i,r=t.length,o=[],a=0;r>a;++a)o[a]=i={start:e[a],end:e[a+1],index:a},i[n]=t[a],i.states={normal:{fill:i.color}};return o}function o(e){this._params=e,this._items=[],e.container.virtualLink("legend-base")}var a=e.viz,s=t.extend,l=t.each,u=a.Legend,c={areacolorgroups:{category:"areas",name:"color"},markercolorgroups:{category:"markers",name:"color"},markersizegroups:{category:"markers",name:"size"}},d={category:"UNKNOWN",name:"UNKNOWN"};i.prototype=s(e.require("/utils/utils.object").clone(u.prototype),{
constructor:i,dispose:function(){var e=this;return e._params.layoutControl.removeItem(e),e._unbindData(),e._root.linkRemove().linkOff(),e._params=e._root=e._onDataChanged=null,u.prototype.dispose.apply(e,arguments)},resize:function(e){this._params.notifyDirty(),null===e?this.erase():this.draw(e.width,e.height),this._params.notifyReady()},locate:u.prototype.shift,_updateData:function(e){this.update(e?r(e.partition,e.values,this._dataName):[],this._options),this.updateLayout()},_unbindData:function(){this._dataCategory&&this._params.dataExchanger.unbind(this._dataCategory,this._dataName)},_bindData:function(e){this._params.dataExchanger.bind(this._dataCategory=e.category,this._dataName=e.name,this._onDataChanged)},setOptions:function(e){var t=this;return t.update(t._data,e),t._unbindData(),t._bindData(e.source&&n(e.source)||d),t.updateLayout(),t}}),o.prototype={constructor:o,dispose:function(){l(this._items,function(e,t){t.dispose()}),this._params=this._items=null},setOptions:function(e){for(var t=e&&e.length?e:[],n=this._items,r=t.length,o=this._params,a=o.themeManager.theme("legend"),l=n.length;r>l;++l)n[l]=new i(o);for(l=n.length-1;l>=r;--l)n[l].dispose(),n.splice(l,1);for(o.layoutControl.suspend(),l=0;r>l;++l)n[l].setOptions(s(!0,{},a,t[l]));o.layoutControl.resume()}},e.viz.map.LegendsControl=o}(DevExpress,jQuery),function(e,t){function n(e){return 3*m[e.verticalAlignment]+f[e.horizontalAlignment]}function i(e,t){var i=(e.right-e.left)/3,r=(e.bottom-e.top)/2,o=e.left,a=u(o+i),s=u(o+i+i),l=e.right,c=e.top,d=u(c+r),p=e.bottom,f=[{rect:[o,c,a,d]},{rect:[a,c,s,d],center:!0},{rect:[s,c,l,d],horInv:!0},{rect:[o,d,a,p],verInv:!0},{rect:[a,d,s,p],center:!0,verInv:!0},{rect:[s,d,l,p],horInv:!0,verInv:!0}],m=[[],[],[],[],[],[]];return h(t,function(e,t){var i=t.getLayoutOptions();i&&m[n(i)].push({item:t,width:i.width,height:i.height})}),h(f,function(e,t){m[e].length?t.items=m[e]:(t.center?t.rect[0]=t.rect[2]=(t.rect[0]+t.rect[2])/2:t.rect[t.horInv?0:2]=t.rect[t.horInv?2:0],t.rect[t.verInv?1:3]=t.rect[t.verInv?3:1])}),f}function r(e){h([0,1,2,3,4,5],function(t,n){var i=e[n],r=e[(n+3)%6];i.items&&(r.items||(i.rect[1]=c(i.rect[1],r.rect[3]),i.rect[3]=d(i.rect[3],r.rect[1])))}),h([1,4],function(t,n){var i,r,o=e[n],a=e[n-1],s=e[n+1];o.items?a.items||s.items||(i=o.rect[0]-a.rect[2],r=s.rect[0]-o.rect[2],i>r?i/r>=2?(o.rect[0]-=i,o.right=!0):(o.rect[0]-=r,o.rect[2]+=r):r/i>=2?(o.rect[2]+=r,o.center=null):(o.rect[0]-=i,o.rect[2]+=i)):(a.items&&(a.rect[2]=(o.rect[0]+o.rect[2])/2),s.items&&(s.rect[0]=(o.rect[0]+o.rect[2])/2))})}function o(e,t){var n=!1;return r(e),h(e,function(e,i){i.items&&(n=a(i,t)||n)}),n}function a(e,t){var n=e.rect,i=n[2]-n[0],r=n[3]-n[1],o=0,a=0,s=0,l=n[2],p=n[3],f=n[0],m=n[1],g=[],_=!1;return h(e.items,function(u,h){if(h.width>i||h.height>r||(o+h.width>i&&(a+=s,o=s=0),a+h.height>r))return g.push(null),_=!0,t||!1;s=d(s,h.height);var v=e.horInv?n[2]-h.width-o:n[0]+o,y=e.verInv?n[3]-h.height-a:n[1]+a;o+=h.width,l=c(l,v),p=c(p,y),f=d(f,v+h.width),m=d(m,y+h.height),g.push([v,y])}),(t||!_)&&(o=0,e.right?o=n[2]-n[0]-f+l:e.center&&(o=u((n[2]-n[0]-f+l)/2)),h(e.items,function(e,t){var n=g[e];n?t.item.locate(n[0]+o,n[1]):t.item.resize(null)}),e.rect=[l,p,f,m],e.items=null),_}function s(e,t){var n=i(e,t);o(n)&&o(n,!0)}function l(){var e=this;e._items=[],e._suspended=0,e._updateLayout=function(){e._update()}}var u=Math.round,c=Math.min,d=Math.max,h=t.each,p=t.inArray,f={left:0,center:1,right:2},m={top:0,bottom:1};l.prototype={constructor:l,dispose:function(){this._items=this._updateLayout=null},setSize:function(e){this._canvas=e,this._update()},suspend:function(){++this._suspended},resume:function(){0==--this._suspended&&this._update()},addItem:function(e){this._items.push(e),e.updateLayout=this._updateLayout},removeItem:function(e){this._items.splice(p(e,this._items),1),e.updateLayout=null},_update:function(){var e;0===this._suspended&&(e=this._canvas,h(this._items,function(t,n){n.resize(e)}),s({left:e.left,top:e.top,right:e.width+e.left,bottom:e.height+e.top},this._items))}},e.viz.map.LayoutControl=l}(DevExpress,jQuery),function(e,t,n){function i(e){var t=fe(e);return t=t in Te?Te[t]:Te.single,null!==t&&(t={state:{},single:t}),t}function r(){}function o(e){this.raw=e}function a(e){this.raw=e}function s(e){return de(e.features)}function l(e){var t;return e&&(s(e)?t=a:1===e.length&&e[0]&&s(e[0])?(t=a,e=e[0]):de(e)&&(t=o)),new(t=t||r)(e)}function u(e){return e?s(e)?[e]:e:[]}function c(e,t,n){t.call(n,e)}function d(e,t){for(var n,i,r=e.length,o=0;r>o;++o)n=e[o],i=t.call(n,n)||{},n.applySettings(i),i.isSelected&&n.selected(!0)}function h(e,t,n){for(var i,r={areas:"area",markers:"marker"}[t],o=e.length,a=0;o>a;++a)e[a].proxy.type=r;if("marker"===r)for(a=0;o>a;++a)i=n.item(a),ge(e[a].proxy,{text:i.text,value:i.value,values:i.values,url:i.url})}function p(e){e.text.attr({visibility:e.size[0]/e.spaceSize[0]<De&&e.size[1]/e.spaceSize[1]<De?null:"hidden"})}function f(e){e.text.attr({visibility:e.size[0]/e.spaceSize[0]<De||e.size[1]/e.spaceSize[1]<De?null:"hidden"})}function m(e,t,n){return e.attribute(t)||e[n]}function g(e){var t=G[e.type],n=e.coordinates;return t||(t="number"==typeof n[0]?be:"number"==typeof n[0][0]?xe:ye),t}function _(e,t,n,i){e[i].attr(t[i][n])}function v(e,t){return e.project(t)}function y(e,t){for(var n=[],i=n.length=t.length,r=0;i>r;++r)n[r]=e.project(t[r]);return n}function x(e,t){return[y(e,t)]}function b(e,t){for(var n=[],i=n.length=t.length,r=0;i>r;++r)n[r]=y(e,t[r]);return n}function w(e,t){for(var n=[],i=n.length=t.length,r=0;i>r;++r)n[r]=b(e,t[r]);return ve.apply([],n)}function C(e,t,n){var i=t.transform(n);e.root.attr({translateX:i[0],translateY:i[1]})}function S(e,t){var n,i,r=[],o=t.length,a=0;for(r.length=2*o,n=0;o>n;++n)i=e.transform(t[n]),r[a++]=i[0],r[a++]=i[1];return r}function k(e,t,n){for(var i=[],r=i.length=n.length,o=0;r>o;++o)i[o]=S(t,n[o]);e.root.attr({points:i})}function D(e,t,n){var i=t.transform(n[0]);e.spaceSize=t.getSquareSize(n[1]),e.text.attr({translateX:i[0],translateY:i[1]}),p(e)}function T(e,t,n){var i=t.transform(n[0]);e.spaceSize=t.getSquareSize(n[1]),e.text.attr({translateX:i[0],translateY:i[1]}),f(e)}function E(e,t,i){var r=B(e.settings,i);return t.text=t.text||i.text,I(e.grouping,t,r),i.color===n&&i.paletteIndex>=0&&(r.color=r._colors[i.paletteIndex]),r}function I(e,t,n){_e(e,function(e,i){var r=A(i.callback(t,i.field),i.partition);r>=0&&(n[e]=i.values[r])})}function A(e,t){var n,i=0,r=t.length-1,o=-1;if(t[i]<=e&&e<=t[r])if(e===t[r])o=r-1;else{for(;r-i>1;)n=i+r>>1,e<t[n]?r=n:i=n;o=i}return o}function $(e,t,n,i){e.params.eventTrigger(i,{target:t.proxy,state:n})}function B(e,t){var n=ge({},e,t);return n.label=ge({},e.label,n.label),n.label.font=ge({},e.label.font,n.label.font),n}function O(e,t,n){var i,r,o,a=B(n.theme("layer:"+e)||{label:{}},t);if(a.paletteSize>0){for(o=n.createGradientPalette(a.palette,a.paletteSize),r=0,i=[];r<a.paletteSize;++r)i.push(o.getColor(r));a._colors=i}return a}function P(e,t){return e.attribute(t)}function M(e){var t=e.name,n=e.params.dataExchanger;_e(e.grouping,function(e){n.set(t,e,null)}),e.grouping={}}function R(e,t,n){return n?e|=t:e&=~t,e}function V(e,t){return!!(e&t)}function L(e,t,n){var i={index:n,name:t,getElements:function(){return e.getProxies()},clearSelection:function(t){return e.clearSelection(t),i}};return i}function F(e,t,n){var i={coordinates:function(){return t},attribute:function(e,t){return arguments.length>1?(n[e]=t,i):arguments.length>0?n[e]:n},selected:function(t,n){return arguments.length>0?(e.setSelected(t,n),i):e.isSelected()},applySettings:function(t){return e.update(t),i}};return i}function z(e){for(var t,n,i=e.length,r=e[i-1],o=0,a=0,s=0,l=1/0,u=-(1/0),c=1/0,d=-(1/0),h=0;i>h;++h)t=r,r=e[h],n=t[0]*r[1]-r[0]*t[1],s+=n,o+=(t[0]+r[0])*n,a+=(t[1]+r[1])*n,l=ae(l,r[0]),u=se(u,r[0]),c=ae(c,r[1]),d=se(d,r[1]);return{area:re(s)/2,center:[2*o/3/s-(l+u)/2,2*a/3/s-(c+d)/2]}}function H(e){for(var t,n,i=e.length,r=e[0]||[],o=0,a=[0],s=r[0],l=r[0],u=r[1],c=r[1],d=1;i>d;++d)t=r,r=e[d],o+=le((t[0]-r[0])*(t[0]-r[0])+(t[1]-r[1])*(t[1]-r[1])),a[d]=o,s=ae(s,r[0]),l=se(l,r[0]),u=ae(u,r[1]),c=se(c,r[1]);return d=A(o/2,a),t=e[d],r=e[d+1],n=(o/2-a[d])/(a[d+1]-a[d]),i?[[t[0]*(1-n)+r[0]*n,t[1]*(1-n)+r[1]*n],[l-s,c-u],o]:[]}function N(e){for(var t,n,i=e.length,r=0,o=0;i>o;++o)t=z(e[o]),t.area>r&&(r=t.area,n=t);return n?[n.center,[le(n.area),le(n.area)]]:[[],[]]}function j(e){for(var t,n,i=e.length,r=0,o=0;i>o;++o)t=H(e[o]),t[2]>r&&(r=t[2],n=t);return n||[[],[]]}function W(e){var t=this,n=e.renderer;t._params=e,t._layers=[],t._layerByName={},t._rect=[0,0,0,0],t._clip=n.clipRect(),t._background=n.rect().attr({"class":"dxm-background"}).data(e.dataKey,{name:"background"}).append(n.root),t._container=n.g().attr({"class":"dxm-layers",clipId:t._clip.id}).append(n.root).enableLinks(),t._subscribeToTracker(e.tracker,n,e.eventTrigger)}var G,q,U,Y,K,Q,X,Z,J,ee,te,ne=Number,ie=String,re=Math.abs,oe=Math.round,ae=Math.min,se=Math.max,le=Math.sqrt,ue=e.require("/utils/utils.common"),ce=ue.isFunction,de=ue.isArray,he=e.viz.utils.parseScalar,pe=e.viz.utils.patchFontOptions,fe=e.viz.utils.normalizeEnum,me=t.noop,ge=t.extend,_e=t.each,ve=Array.prototype.concat,ye="area",xe="line",be="marker",we=0,Ce=1,Se=2,ke=[0,1,2,2],De=1,Te={none:null,single:-1,multiple:NaN};r.prototype.count=function(){return 0},o.prototype={constructor:o,count:function(){return this.raw.length},item:function(e){return this.raw[e]},geometry:function(e){return{coordinates:e.coordinates}},attributes:function(e){return e.attributes}},a.prototype={constructor:a,count:function(){return this.raw.features.length},item:function(e){return this.raw.features[e]},geometry:function(e){return e.geometry},attributes:function(e){return e.properties}},G={Point:be,MultiPoint:xe,LineString:xe,MultiLineString:xe,Polygon:ye,MultiPolygon:ye},q=function(e,t){var n,i=fe(e.type),r=fe(e.elementType),o=ge({},U);return t.count()>0&&(n=t.geometry(t.item(0)),i=Y[i]?i:g(n),ge(o,Y[i]),o.fullType=o.type=i,K[i]&&ge(o,K[i](n)),Q[i]&&(r=Q[i][r]?r:Q[i]._default,ge(o,Q[i][r]),o.elementType=r,o.fullType+=":"+r)),o},U={setup:me,reset:me,arrange:me,updateGrouping:me},Y={},Y[ye]={projectLabel:N,transform:k,transformLabel:D,draw:function(e,t,n){t.root=e.renderer.path([],"area").data(e.dataKey,n)},refresh:me,getLabelOffset:function(e){return p(e),[0,0]},getStyles:function(e){var t=e.color||null,n=e.borderColor||null,i=e.borderWidth||null,r=e.opacity||null;return{root:[{"class":"dxm-area",stroke:n,"stroke-width":i,fill:t,opacity:r},{"class":"dxm-area dxm-area-hovered",stroke:e.hoveredBorderColor||n,"stroke-width":e.hoveredBorderWidth||i,fill:e.hoveredColor||t,opacity:e.hoveredOpacity||r},{"class":"dxm-area dxm-area-selected",stroke:e.selectedBorderColor||n,"stroke-width":e.selectedBorderWidth||i,fill:e.selectedColor||t,opacity:e.selectedOpacity||r}]}},setState:function(e,t,n){_(e,t,n,"root")},hasLabelsGroup:!0,updateGrouping:function(e){Z(e)}},Y[xe]={projectLabel:j,transform:k,transformLabel:T,draw:function(e,t,n){t.root=e.renderer.path([],"line").data(e.dataKey,n)},refresh:me,getLabelOffset:function(e){return f(e),[0,0]},getStyles:function(e){var t=e.color||e.borderColor||null,n=e.borderWidth||null,i=e.opacity||null;return{root:[{"class":"dxm-line",stroke:t,"stroke-width":n,opacity:i},{"class":"dxm-line dxm-line-hovered",stroke:e.hoveredColor||e.hoveredBorderColor||t,"stroke-width":e.hoveredBorderWidth||n,opacity:e.hoveredOpacity||i},{"class":"dxm-line dxm-line-selected",stroke:e.selectedColor||e.selectedBorderColor||t,"stroke-width":e.selectedBorderWidth||n,opacity:e.selectedOpacity||i}]}},setState:function(e,t,n){_(e,t,n,"root")},hasLabelsGroup:!0,updateGrouping:function(e){Z(e)}},Y[be]={project:v,transform:C,draw:function(e,t,n){t.root=e.renderer.g(),this._draw(e,t,n)},refresh:me,hasLabelsGroup:!1,getLabelOffset:function(e,t){return[oe((e.size[0]+se(t.size||0,0))/2)+2,0]},getStyles:function(e){var t={root:[{"class":"dxm-marker"},{"class":"dxm-marker dxm-marker-hovered"},{"class":"dxm-marker dxm-marker-selected"}]};return this._getStyles(t,e),t},setState:function(e,t,n){_(e,t,n,"root"),this._setState(e,t,n)},updateGrouping:function(e){Z(e),J(e)}},K={},K[ye]=function(e){var t=e.coordinates;return{project:t[0]&&t[0][0]&&t[0][0][0]&&"number"==typeof t[0][0][0][0]?w:b}},K[xe]=function(e){var t=e.coordinates;return{project:t[0]&&t[0][0]&&"number"==typeof t[0][0][0]?b:x}},Q={},Q[be]={_default:"dot",dot:{setup:function(e){e.filter=e.renderer.shadowFilter("-40%","-40%","180%","200%",0,1,1,"#000000",.2)},reset:function(e){e.filter.dispose(),e.filter=null},_draw:function(e,t,n){t.back=e.renderer.circle().sharp().data(e.dataKey,n).append(t.root),t.dot=e.renderer.circle().sharp().data(e.dataKey,n).append(t.root)},refresh:function(e,t,n,i,r){t.dot.attr({filter:r.shadow?e.filter.ref:null})},_getStyles:function(e,t){var n=t.size>0?ne(t.size):0,i=n,r=n+(t.selectedStep>0?ne(t.selectedStep):0),o=i+(t.backStep>0?ne(t.backStep):0),a=r+(t.backStep>0?ne(t.backStep):0),s=t.color||null,l=t.borderColor||null,u=t.borderWidth||null,c=t.opacity||null,d=t.backColor||null,h=t.backOpacity||null;e.dot=[{r:n/2,stroke:l,"stroke-width":u,fill:s,opacity:c},{r:i/2,stroke:t.hoveredBorderColor||l,"stroke-width":t.hoveredBorderWidth||u,fill:t.hoveredColor||s,opacity:t.hoveredOpacity||c},{r:r/2,stroke:t.selectedBorderColor||l,"stroke-width":t.selectedBorderWidth||u,fill:t.selectedColor||s,opacity:t.selectedOpacity||c}],e.back=[{r:n/2,stroke:"none","stroke-width":0,fill:d,opacity:h},{r:o/2,stroke:"none","stroke-width":0,fill:d,opacity:h},{r:a/2,stroke:"none","stroke-width":0,fill:d,opacity:h}]},_setState:function(e,t,n){_(e,t,n,"dot"),_(e,t,n,"back")}},bubble:{_draw:function(e,t,n){t.bubble=e.renderer.circle().sharp().data(e.dataKey,n).append(t.root)},refresh:function(e,t,n,i,r){t.bubble.attr({r:r.size/2})},_getStyles:function(e,t){var n=t.color||null,i=t.borderColor||null,r=t.borderWidth||null,o=t.opacity||null;e.bubble=[{stroke:i,"stroke-width":r,fill:n,opacity:o},{stroke:t.hoveredBorderColor||i,"stroke-width":t.hoveredBorderWidth||r,fill:t.hoveredColor||t.color,opacity:t.hoveredOpacity||o},{stroke:t.selectedBorderColor||i,"stroke-width":t.selectedBorderWidth||r,fill:t.selectedColor||t.color,opacity:t.selectedOpacity||o}]},_setState:function(e,t,n){_(e,t,n,"bubble")},arrange:function(e,t){var n,i,r,o,a,s=[],l=s.length=t.length,u=e.settings,c=u.dataField,d=u.minSize>0?ne(u.minSize):0,h=u.maxSize>d?ne(u.maxSize):d;if(!u.sizeGroups){for(n=0;l>n;++n)s[n]=se(m(t[n].proxy,c,"value")||0,0);for(i=ae.apply(null,s),r=se.apply(null,s),o=r-i||1,a=h-d,n=0;l>n;++n)t[n]._settings.size=d+a*(s[n]-i)/o}},updateGrouping:function(e){var t=e.settings.dataField;Y[be].updateGrouping(e),J(e,function(e){return m(e,t,"value")})}},pie:{_draw:function(e,t,n){t.pie=e.renderer.g().append(t.root),t.border=e.renderer.circle().sharp().data(e.dataKey,n).append(t.root)},refresh:function(e,t,n,i,r){for(var o=m(i,e.settings.dataField,"values")||[],a=o.length||0,s=r._colors,l=0,u=t.pie,c=e.renderer,d=e.dataKey,h=(r.size>0?ne(r.size):0)/2,p=90,f=p,g=0;a>g;++g)l+=o[g]||0;for(g=0;a>g;++g)p=f,f+=(o[g]||0)/l*360,c.arc(0,0,0,h,p,f).attr({"stroke-linejoin":"round",fill:s[g]}).data(d,n).append(u);t.border.attr({r:h})},_getStyles:function(e,t){var n=t.opacity||null,i=t.borderColor||null,r=t.borderWidth||null;e.pie=[{opacity:n},{opacity:t.hoveredOpacity||n},{opacity:t.selectedOpacity||n}],e.border=[{stroke:i,"stroke-width":r},{stroke:t.hoveredBorderColor||i,"stroke-width":t.hoveredBorderWidth||r},{stroke:t.selectedBorderColor||i,"stroke-width":t.selectedBorderWidth||r}]},_setState:function(e,t,n){_(e,t,n,"pie"),_(e,t,n,"border")},arrange:function(e,t){for(var n,i,r=t.length,o=e.settings.dataField,a=0,s=0;r>s;++s)n=m(t[s].proxy,o,"values"),n&&n.length>a&&(a=n.length);if(a>0){for(n=[],i=e.params.themeManager.createPalette(e.settings.palette,{useHighlight:!0}),s=0;a>s;++s)n.push(i.getNextColor());e.settings._colors=n,e.grouping.color={callback:me,field:"",partition:[],values:[]},e.params.dataExchanger.set(e.name,"color",{partition:[],values:n})}}},image:{_draw:function(e,t,n){t.image=e.renderer.image().attr({location:"center"}).data(e.dataKey,n).append(t.root)},refresh:function(e,t,n,i){t.image.attr({href:m(i,e.settings.dataField,"url")})},_getStyles:function(e,t){var n=t.size>0?ne(t.size):0,i=n+(t.hoveredStep>0?ne(t.hoveredStep):0),r=n+(t.selectedStep>0?ne(t.selectedStep):0),o=t.opacity||null;e.image=[{x:-n/2,y:-n/2,width:n,height:n,opacity:o},{x:-i/2,y:-i/2,width:i,height:i,opacity:t.hoveredOpacity||o},{x:-r/2,y:-r/2,width:r,height:r,opacity:t.selectedOpacity||o}]},_setState:function(e,t,n){_(e,t,n,"image")}}},X=function(e,t,n,i,r){var o;i&&t&&t.length>1&&(o=r(t.length-1),e.grouping[n]={callback:ce(i)?i:P,field:i,partition:t,values:o},e.params.dataExchanger.set(e.name,n,{partition:t,values:o}))},Z=function(e){X(e,e.settings.colorGroups,"color",e.settings.colorGroupingField,function(t){for(var n=e.params.themeManager.createGradientPalette(e.settings.palette,t),i=[],r=0;t>r;++r)i.push(n.getColor(r));return i})},J=function(e,t){var n=e.settings;X(e,n.sizeGroups,"size",t||n.sizeGroupingField,function(e){var t=n.minSize>0?ne(n.minSize):0,i=n.maxSize>=t?ne(n.maxSize):0,r=0,o=[];if(e>1)for(r=0;e>r;++r)o.push((t*(e-r-1)+i*r)/(e-1));else 1===e&&o.push((t+i)/2);return o})},ee=function(t,n,i,o){var a=this;a._params=t,a._onProjection(),a.proxy=L(a,i,o),a._context={name:i,layer:a.proxy,renderer:t.renderer,projection:t.projection,params:t,dataKey:t.dataKey,str:U,hover:!1,selection:null,grouping:{},root:t.renderer.g().attr({"class":"dxm-layer"}).linkOn(n,i).linkAppend()},a._container=n,a._dataSource=new e.viz.DataSource(function(){a._data=l(a._dataSource.items()),a._update(!0)}),a._options={},a._handles=[],a._data=new r},ee.prototype={constructor:ee,_onProjection:function(){var e=this;e._removeHandlers=e._params.projection.on({engine:function(){e._project()},screen:function(){e._transform()},center:function(){e._transformCore()},zoom:function(){e._transform()}})},_offProjection:function(){this._removeHandlers(),this._removeHandlers=null},dispose:function(){var e=this;return e._dataSource.dispose(),e._destroyHandles(),M(e._context),e._context.root.linkRemove().linkOff(),e._context.labelRoot&&e._context.labelRoot.linkRemove().linkOff(),e._context.str.reset(e._context),e._offProjection(),e._params=e._container=e._context=e._dataSource=e.proxy=null,e},setOptions:function(e){var t,i=this;e=i._options=e||{},t=!("dataSource"in e)&&"data"in e?"data":"dataSource",t in e&&e[t]!==i._options_dataSource?(i._options_dataSource=e[t],i._params.notifyDirty(),i._dataSource.update(u(e[t]))):i._data.count()>0&&(i._params.notifyDirty(),i._update(e.type!==n&&e.type!==i._context.str.type||e.elementType!==n&&e.elementType!==i._context.str.elementType))},_update:function(e){var t=this,n=t._context;e&&(n.str.reset(n),n.root.clear(),n.labelRoot&&n.labelRoot.clear(),t._params.tracker.reset(),t._destroyHandles(),n.str=q(t._options,t._data),n.str.setup(n),t.proxy.type=n.str.type,t.proxy.elementType=n.str.elementType),n.settings=O(n.str.fullType,t._options,t._params.themeManager),n.hasSeparateLabel=!(!n.settings.label.enabled||!n.str.hasLabelsGroup),n.hover=!!he(n.settings.hoverEnabled,!0),n.selection&&_e(n.selection.state,function(e,t){t&&t.resetSelected()}),n.selection=i(n.settings.selectionMode),n.hasSeparateLabel?n.labelRoot||(n.labelRoot=n.renderer.g().attr({"class":"dxm-layer-labels"}).linkOn(t._container,{name:n.name+"-labels",after:n.name}).linkAppend(),t._transformCore()):n.labelRoot&&(n.labelRoot.linkRemove().linkOff(),n.labelRoot=null),e&&t._createHandles(),M(n),n.str.arrange(n,t._handles),n.str.updateGrouping(n),t._updateHandles(),t._params.notifyReady()},_destroyHandles:function(){for(var e=this._handles,t=e.length,n=0;t>n;++n)e[n].dispose();this._context.selection&&(this._context.selection.state={}),this._handles=[]},_createHandles:function(){for(var e,t,n=this,i=n._handles=[],r=n._data,o=i.length=r.count(),a=n._context,s=r.geometry,l=r.attributes,u=0;o>u;++u)t=r.item(u),i[u]=new te(a,u,s(t),l(t));for(ce(n._options.customize)&&(n._options._deprecated?d:c)(n.getProxies(),n._options.customize,n._params.widget),n._options._deprecated&&h(i,a.name,r),u=0;o>u;++u)e=i[u],e.project(),e.draw(),e.transform();a.selection&&_e(a.selection.state,function(e,t){t&&t.restoreSelected()})},_updateHandles:function(){for(var e=this._handles,t=e.length,n=0;t>n;++n)e[n].refresh();if(this._context.settings.label.enabled){for(n=0;t>n;++n)e[n].measureLabel();for(n=0;t>n;++n)e[n].adjustLabel()}},_transformCore:function(){var e=this._params.projection.getTransform();this._context.root.attr(e),this._context.labelRoot&&this._context.labelRoot.attr(e)},_project:function(){for(var e=this._handles,t=e.length,n=0;t>n;++n)e[n].project()},_transform:function(){var e,t=this._handles,n=t.length;for(this._transformCore(),e=0;n>e;++e)t[e].transform()},getProxies:function(){for(var e=this._handles,t=[],n=t.length=e.length,i=0;n>i;++i)t[i]=e[i].proxy;return t},getProxy:function(e){return this._handles[e].proxy},raiseClick:function(e,t){this._params.eventTrigger("click",{target:this._handles[e].proxy,jQueryEvent:t})},hoverItem:function(e,t){this._handles[e].setHovered(t)},selectItem:function(e,t,n){this._handles[e].setSelected(t,n)},clearSelection:function(){var e=this._context.selection;e&&(_e(e.state,function(e,t){t&&t.setSelected(!1)}),e.state={})}},te=function(e,t,n,i){var r=this,o=r.proxy=F(r,n.coordinates,ge({},i));r._ctx=e,r._idx=t,r._fig=r._lbl=null,r._state=we,r._coordinates=n.coordinates,r._settings={label:{}},o.index=t,o.layer=e.layer,r._data={name:e.name,index:t}},te.prototype={constructor:te,dispose:function(){var e=this;return e._ctx=e.proxy=e._settings=e._fig=e._lbl=e.data=null,e},project:function(){var e=this._ctx;this._prj=e.str.project(e.projection,this._coordinates),e.hasSeparateLabel&&this._lbl&&this._projectLabel()},_projectLabel:function(){this._labelPrj=this._ctx.str.projectLabel(this._prj)},draw:function(){var e=this,t=this._ctx;t.str.draw(t,e._fig={},e._data),e._fig.root.append(t.root)},transform:function(){var e=this,t=e._ctx;t.str.transform(e._fig,t.projection,e._prj),t.hasSeparateLabel&&e._lbl&&e._transformLabel()},_transformLabel:function(){this._ctx.str.transformLabel(this._lbl,this._ctx.projection,this._labelPrj)},refresh:function(){var e=this,t=e._ctx.str,n=E(e._ctx,e.proxy,e._settings);e._styles=t.getStyles(n),t.refresh(e._ctx,e._fig,e._data,e.proxy,n),e._refreshLabel(n),e._setState()},_refreshLabel:function(e){var t=this,n=t._ctx,i=e.label,r=t._lbl;n.settings.label.enabled?(r||(r=t._lbl={root:n.labelRoot||t._fig.root,text:n.renderer.text().attr({"class":"dxm-label"}),size:[0,0]},n.hasSeparateLabel&&(t._projectLabel(),t._transformLabel())),r.value=ie(t.proxy.text||t.proxy.attribute(i.dataField)||""),r.value&&(r.text.attr({text:r.value,x:0,y:0}).css(pe(i.font)).attr({align:"center",stroke:i.stroke,"stroke-width":i["stroke-width"],"stroke-opacity":i["stroke-opacity"]}).data(n.dataKey,t._data).append(r.root),r.settings=e)):r&&(r.text.remove(),t._lbl=null)},measureLabel:function(){var e,t=this._lbl;t.value&&(e=t.text.getBBox(),t.size=[e.width,e.height,-e.y-e.height/2])},adjustLabel:function(){var e,t=this._lbl;t.value&&(e=this._ctx.str.getLabelOffset(t,t.settings),t.settings=null,t.text.attr({x:e[0],y:e[1]+t.size[2]}))},update:function(e){var t=this;t._settings=B(t._settings,e),t._fig&&(t.refresh(),t._lbl&&t._lbl.value&&(t.measureLabel(),t.adjustLabel()))},_setState:function(){this._ctx.str.setState(this._fig,this._styles,ke[this._state])},_setForeground:function(){var e=this._fig.root;this._state?e.toForeground():e.toBackground()},setHovered:function(e){var t=this,n=V(t._state,Ce),i=!!e;return t._ctx.hover&&n!==i&&(t._state=R(t._state,Ce,i),t._setState(),t._setForeground(),$(t._ctx,t,i,"hoverChanged")),t},setSelected:function(e,t){var n,i=this,r=V(i._state,Se),o=!!e,a=i._ctx.selection;a&&r!==o&&(i._state=R(i._state,Se,o),n=a.state[a.single],a.state[a.single]=null,n&&n.setSelected(!1),a.state[a.single||i._idx]=e?i:null,i._fig&&(i._setState(),i._setForeground(),t||$(i._ctx,i,o,"selectionChanged")))},isSelected:function(){return V(this._state,Se)},resetSelected:function(){this._state=R(this._state,Se,!1)},restoreSelected:function(){this._fig.root.toForeground()}},W.prototype={constructor:W,dispose:function(){var e=this;e._clip.dispose(),e._offTracker(),e._params=e._offTracker=e._layers=e._layerByName=e._clip=e._background=e._container=null},_subscribeToTracker:function(e,t,n){var i=this;i._offTracker=e.on({click:function(e){var r=t.getRootOffset(),o=i.byName(e.data.name);e.$event.x=e.x-r.left,e.$event.y=e.y-r.top,o?o.raiseClick(e.data.index,e.$event):"background"===e.data.name&&n("click",{jQueryEvent:e.$event})},"hover-on":function(e){var t=i.byName(e.data.name);t&&t.hoverItem(e.data.index,!0)},"hover-off":function(e){var t=i.byName(e.data.name);t&&t.hoverItem(e.data.index,!1)}})},setOptions:function(e){for(var t,n,i=e?e.length?e:[e]:[],r=this._layers,o=this._layerByName,a=this._params,s=this._container,l=i.length,u=r.length;u>l;++l)n=r[l],delete o[n.proxy.name],n.dispose();for(r.splice(i.length,r.length-i.length),l=r.length,u=i.length;u>l;++l)t=(i[l]||{}).name||"map-layer-"+l,n=r[l]=new ee(a,s,t,l),o[t]=n;for(l=0,u=i.length;u>l;++l)t=i[l]&&i[l].name,n=r[l],t&&t!==n.proxy.name&&(delete o[n.proxy.name],n.dispose(),n=r[l]=new ee(a,s,t,l),o[t]=n),n.setOptions(i[l])},_updateClip:function(){var e=this._rect,t=this._bw;this._clip.attr({x:e[0]+t,y:e[1]+t,width:se(e[2]-2*t,0),height:se(e[3]-2*t,0)})},setBackgroundOptions:function(e){this._background.attr({stroke:e.borderColor,"stroke-width":e.borderWidth,fill:e.color}),this._bw=se(e.borderWidth,0),this._updateClip()},setRect:function(e){this._rect=e,this._background.attr({x:e[0],y:e[1],width:e[2],height:e[3]}),this._updateClip()},byIndex:function(e){return this._layers[e]},byName:function(e){return this._layerByName[e]},items:function(){return this._layers}},e.viz.map.MapLayerCollection=W}(DevExpress,jQuery),function(e){function t(e){this._subscribeToTracker(e.tracker,e.tooltip,e.layerCollection)}var n=12;t.prototype={constructor:t,dispose:function(){this._offTracker(),this._offTracker=null},_subscribeToTracker:function(e,t,i){this._offTracker=e.on({"focus-on":function(e){var r,o,a=!1;t.isEnabled()&&(r=i.byName(e.data.name),o=r&&r.getProxy(e.data.index),o&&t.show(o,{x:0,y:0,offset:0},{target:o})&&(t.move(e.x,e.y,n),a=!0)),e.done(a)},"focus-move":function(e){t.move(e.x,e.y,n)},"focus-off":function(){t.hide()}})}},e.viz.map.TooltipViewer=t}(DevExpress),DevExpress.MOD_VIZ_VECTORMAP=!0}if(!window.DevExpress||!DevExpress.MOD_VIZ_SPARKLINES){if(!window.DevExpress||!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");!function(e,t,n){function i(e,t){var i=e.lineSpacing,r=(i!==n&&null!==i?i:o)+e.size;return function(e){for(var n="",i=e.valueText,o=0;o<i.length;o+=2)n+="<tr><td>"+i[o]+"</td><td style='width: 15px'></td><td style='text-align: "+(t?"left":"right")+"'>"+i[o+1]+"</td></tr>";return{html:"<table style='border-spacing:0px; line-height: "+r+"px'>"+n+"</table>"}}}function r(t,n,r){var o=i(n,r);return e.isFunction(t)?function(n){var i=t.call(n,n);return"html"in i||"text"in i||e.extend(i,o.call(n,n)),i}:o}var o=2,a=200,s=1e3,l=t.require("/ui/events/ui.events.utils"),u=t.require("/ui/events/ui.events.wheel"),c=e.extend,d=Math.abs,h=t.viz,p=e.noop;t.viz.sparklines={},t.viz.sparklines.BaseSparkline=h.BaseWidget.inherit({_setDeprecatedOptions:function(){this.callBase(),e.extend(this._deprecatedOptions,{"tooltip.verticalAlignment":{since:"15.1",message:"Now tootips are aligned automatically"},"tooltip.horizontalAlignment":{since:"15.1",message:"Now tootips are aligned automatically"}})},_useLinks:!1,_clean:function(){var e=this;e._tooltipShown&&(e._tooltipShown=!1,e._tooltip.hide()),e._cleanWidgetElements(),e._cleanTranslators()},_initCore:function(){var e=this;e._tooltipTracker=e._renderer.root,e._tooltipTracker.attr({"pointer-events":"visible"}),e._createHtmlElements(),e._initTooltipEvents()},_initTooltip:function(){this._initTooltipBase=this.callBase},_getDefaultSize:function(){return this._defaultSize},_disposeCore:function(){this._disposeWidgetElements(),this._disposeTooltipEvents(),this._ranges=null},_render:function(){var e=this;e._prepareOptions(),e._updateWidgetElements(),e._drawWidgetElements()},_updateWidgetElements:function(){this._updateRange(),this._updateTranslator()},_applySize:function(){var e=this;e._allOptions&&(e._allOptions.size={width:e._canvas.width,height:e._canvas.height}),e._initialized&&(e._redrawWidgetElements(),e._tooltipShown&&(e._tooltipShown=!1,e._tooltip.hide()),e._drawn())},_cleanTranslators:function(){this._translatorX=null,this._translatorY=null},_setupResizeHandler:p,_prepareOptions:function(){return c(!0,{},this._themeManager.theme(),this.option())},_createThemeManager:function(){var e=new h.BaseThemeManager;return e._themeSection=this._widgetType,e._fontFields=["tooltip.font"],e},_getTooltipCoords:function(){var e=this._canvas,t=this._renderer.getRootOffset();return{x:e.width/2+t.left,y:e.height/2+t.top}},_initTooltipEvents:function(){var e=this,t={widget:e};e._showTooltipCallback=function(){var t;e._showTooltipTimeout=null,e._tooltipShown||(e._tooltipShown=!0,t=e._getTooltip(),t.isEnabled()&&e._tooltip.show(e._getTooltipData(),e._getTooltipCoords(),{}))},e._hideTooltipCallback=function(){e._hideTooltipTimeout=null,e._tooltipShown&&(e._tooltipShown=!1,e._tooltip.hide())},e._disposeCallbacks=function(){e=e._showTooltipCallback=e._hideTooltipCallback=e._disposeCallbacks=null},e._tooltipTracker.on(m,t).on(C,t).on(g,t),e._tooltipTracker.on(f)},_disposeTooltipEvents:function(){var e=this;clearTimeout(e._showTooltipTimeout),clearTimeout(e._hideTooltipTimeout),e._tooltipTracker.off(),e._disposeCallbacks()},_updateTranslator:function(){var e=this,t=this._canvas,n=this._ranges;e._translatorX=new h.Translator2D(n.arg,t,{isHorizontal:!0}),e._translatorY=new h.Translator2D(n.val,t)},_getTooltip:function(){var e=this;return e._tooltip||(e._initTooltipBase(),e._setTooltipRendererOptions(e._tooltipRendererOptions),e._tooltipRendererOptions=null,e._setTooltipOptions()),e._tooltip},_setTooltipRendererOptions:function(e){this._tooltip?this._tooltip.setRendererOptions(e):this._tooltipRendererOptions=e},_setTooltipOptions:function(){var t=this._tooltip,n=t&&this._getOption("tooltip");t&&t.update(e.extend({},n,{customizeTooltip:r(n.customizeTooltip,n.font,this.option("rtlEnabled")),enabled:n.enabled&&this._isTooltipEnabled()}))},_showTooltip:function(e){var t=this;clearTimeout(t._hideTooltipTimeout),t._hideTooltipTimeout=null,clearTimeout(t._showTooltipTimeout),t._showTooltipTimeout=setTimeout(t._showTooltipCallback,e)},_hideTooltip:function(e){var t=this;clearTimeout(t._showTooltipTimeout),t._showTooltipTimeout=null,clearTimeout(t._hideTooltipTimeout),e?t._hideTooltipTimeout=setTimeout(t._hideTooltipCallback,e):t._hideTooltipCallback()},_endLoading:function(e){e()},_initTitle:p,_updateTitle:p,_initLoadingIndicator:p,_disposeLoadingIndicator:p,_updateLoadingIndicatorOptions:p,_updateLoadingIndicatorSize:p,_scheduleLoadingIndicatorHiding:p,showLoadingIndicator:p,hideLoadingIndicator:p});var f={"contextmenu.sparkline-tooltip":function(e){(l.isTouchEvent(e)||l.isPointerEvent(e))&&e.preventDefault()},"MSHoldVisual.sparkline-tooltip":function(e){e.preventDefault()}},m={"mouseover.sparkline-tooltip":function(e){w=!1;var t=e.data.widget;t._x=e.pageX,t._y=e.pageY,t._tooltipTracker.off(_).on(_,e.data),t._showTooltip(a)},"mouseout.sparkline-tooltip":function(e){if(!w){var t=e.data.widget;t._tooltipTracker.off(_),t._hideTooltip(a)}}},g={};g[u.name+".sparkline-tooltip"]=function(e){e.data.widget._hideTooltip()};var _={"mousemove.sparkline-tooltip":function(e){var t=e.data.widget;t._showTooltipTimeout&&(d(t._x-e.pageX)>3||d(t._y-e.pageY)>3)&&(t._x=e.pageX,t._y=e.pageY,t._showTooltip(a))}},v=null,y=function(e){e.preventDefault();var t=v;t&&t!==e.data.widget&&t._hideTooltip(a),
t=v=e.data.widget,t._showTooltip(s),t._touch=!0},x=function(){var e=v;e&&(e._touch||(e._hideTooltip(a),v=null),e._touch=null)},b=function(){var e=v;e&&e._showTooltipTimeout&&(e._hideTooltip(a),v=null)},w=!1,C={"pointerdown.sparkline-tooltip":y,"touchstart.sparkline-tooltip":y};e(document).on({"pointerdown.sparkline-tooltip":function(){w=!0,x()},"touchstart.sparkline-tooltip":x,"pointerup.sparkline-tooltip":b,"touchend.sparkline-tooltip":b})}(jQuery,DevExpress),function(e,t,n){var i=t.viz,r=t.require("/utils/utils.common"),o=t.require("/componentRegistrator"),a=1,s=50,l=4,u=250,c=30,d=5,h=3,p={line:!0,spline:!0,stepline:!0,area:!0,steparea:!0,splinearea:!0,bar:!0,winloss:!0},f=Math,m=f.abs,g=f.round,_=f.max,v=f.min,y=isFinite,x=i.utils.map,b=i.utils.normalizeEnum,w=r.isDefined,C=Number,S=String;o("dxSparkline",i.sparklines,i.sparklines.BaseSparkline.inherit({_rootClassPrefix:"dxsl",_rootClass:"dxsl-sparkline",_widgetType:"sparkline",_invalidatingOptions:["lineColor","lineWidth","areaOpacity","minColor","maxColor","barPositiveColor","barNegativeColor","winColor","lessColor","firstLastColor","pointSymbol","pointColor","pointSize","type","argumentField","valueField","winlossThreshold","showFirstLast","showMinMax","ignoreEmptyPoints","minValue","maxValue"],_defaultSize:{width:u,height:c,left:d,right:d,top:h,bottom:h},_initCore:function(){this.callBase(),this._updateDataSource(),this._createSeries()},_dataSourceChangedHandler:function(){this._initialized&&(this._clean(),this._updateWidgetElements(),this._drawWidgetElements())},_updateWidgetElements:function(){this._updateSeries(),this.callBase()},_redrawWidgetElements:function(){var e=this;e._updateTranslator(),e._correctPoints(),e._series.draw({x:e._translatorX,y:e._translatorY}),e._seriesGroup.append(e._renderer.root)},_disposeWidgetElements:function(){var e=this;e._series&&e._series.dispose(),e._series=e._seriesGroup=e._seriesLabelGroup=null},_cleanWidgetElements:function(){this._seriesGroup.remove(),this._seriesLabelGroup.remove(),this._seriesGroup.clear(),this._seriesLabelGroup.clear()},_drawWidgetElements:function(){this._dataSource.isLoaded()&&(this._drawSeries(),this._drawn())},_prepareOptions:function(){var e=this;e._allOptions=e.callBase(),e._allOptions.type=b(e._allOptions.type),p[e._allOptions.type]||(e._allOptions.type="line")},_createHtmlElements:function(){this._seriesGroup=this._renderer.g().attr({"class":"dxsl-series"}),this._seriesLabelGroup=this._renderer.g().attr({"class":"dxsl-series-labels"})},_createSeries:function(){this._series=new i.series.Series({renderer:this._renderer,seriesGroup:this._seriesGroup,labelsGroup:this._seriesLabelGroup},{widgetType:"chart",type:"line"})},_updateSeries:function(){var e,t,r=this;r._prepareDataSource(),t=r._prepareSeriesOptions(),r._series.updateOptions(t),e=[[r._series]],e.argumentOptions={type:"bar"===t.type?"discrete":n},r._simpleDataSource=i.validateData(r._simpleDataSource,e,r._incidentOccured,{checkTypeForAllData:!1,convertToAxisDataType:!0,sortingMethod:!0}),r._series.updateData(r._simpleDataSource)},_handleChangedOptions:function(e){var t=this;t.callBase.apply(t,arguments),"dataSource"in e&&t._allOptions&&t._updateDataSource()},_parseNumericDataSource:function(e,t,i){var r=this.option("ignoreEmptyPoints");return x(e,function(e,o){var a,s,l=null;return e!==n&&(l={},a=y(e),l[t]=a?S(o):e[t],s=a?e:e[i],l[i]=null===s?r?n:s:C(s),l=l[t]!==n&&l[i]!==n?l:null),l})},_parseWinlossDataSource:function(e,t,n){var i=-1,r=0,o=1,a=1e-4,s=this._allOptions.winlossThreshold;return x(e,function(e){var l={};return l[t]=e[t],l[n]=m(e[n]-s)<a?r:e[n]>s?o:i,l})},_prepareDataSource:function(){var e=this,t=e._allOptions,n=t.argumentField,i=t.valueField,r=e._dataSource.items()||[],o=e._parseNumericDataSource(r,n,i);"winloss"===t.type?(e._winlossDataSource=o,e._simpleDataSource=e._parseWinlossDataSource(o,n,i)):e._simpleDataSource=o},_prepareSeriesOptions:function(){var e=this,t=e._allOptions,i="winloss"===t.type?"bar":t.type;return{visible:!0,argumentField:t.argumentField,valueField:t.valueField,color:t.lineColor,width:t.lineWidth,widgetType:"chart",type:i,opacity:-1!==i.indexOf("area")?e._allOptions.areaOpacity:n,customizePoint:e._getCustomizeFunction(),point:{size:t.pointSize,symbol:t.pointSymbol,border:{visible:!0,width:2},color:t.pointColor,visible:!1,hoverStyle:{border:{}},selectionStyle:{border:{}}},border:{color:t.lineColor,width:t.lineWidth,visible:"bar"!==i}}},_createBarCustomizeFunction:function(e){var t=this,n=t._allOptions,i=t._winlossDataSource;return function(){var t,r=this.index,o="winloss"===n.type,a=o?n.winlossThreshold:0,s=o?i[r][n.valueField]:this.value,l=o?n.winColor:n.barPositiveColor,u=o?n.lossColor:n.barNegativeColor;return t=s>=a?l:u,(r===e.first||r===e.last)&&(t=n.firstLastColor),r===e.min&&(t=n.minColor),r===e.max&&(t=n.maxColor),{color:t}}},_createLineCustomizeFunction:function(e){var t=this,n=t._allOptions;return function(){var t,i=this.index;return(i===e.first||i===e.last)&&(t=n.firstLastColor),i===e.min&&(t=n.minColor),i===e.max&&(t=n.maxColor),t?{visible:!0,border:{color:t}}:{}}},_getCustomizeFunction:function(){var e,t=this,n=t._allOptions,i=t._winlossDataSource||t._simpleDataSource,r=t._getExtremumPointsIndexes(i);return e="winloss"===n.type||"bar"===n.type?t._createBarCustomizeFunction(r):t._createLineCustomizeFunction(r)},_getExtremumPointsIndexes:function(e){var t=this,n=t._allOptions,i=e.length-1,r={};return t._minMaxIndexes=t._findMinMax(e),n.showFirstLast&&(r.first=0,r.last=i),n.showMinMax&&(r.min=t._minMaxIndexes.minIndex,r.max=t._minMaxIndexes.maxIndex),r},_findMinMax:function(e){for(var t,n=this,i=n._allOptions.valueField,r=e[0]||{},o=r[i]||0,a=o,s=o,l=0,u=0,c=e.length,d=1;c>d;d++)t=e[d][i],a>t&&(a=t,l=d),t>s&&(s=t,u=d);return{minIndex:l,maxIndex:u}},_updateRange:function(){var e,t,i=this,r=i._series,o=r.type,a="bar"===o,s="winloss"===o,l=.15,u=.1,c=1,d=-1,h=r.getRangeData(),p=i._allOptions.minValue,f=w(p)&&y(p),m=i._allOptions.maxValue,g=w(m)&&y(m);e=(h.val.max-h.val.min)*l,a||s||"area"===o?(0!==h.val.min&&(h.val.min-=e),0!==h.val.max&&(h.val.max+=e)):(h.val.min-=e,h.val.max+=e),(f||g)&&(f&&g?(h.val.minVisible=v(p,m),h.val.maxVisible=_(p,m)):(h.val.minVisible=f?C(p):n,h.val.maxVisible=g?C(m):n),s&&(h.val.minVisible=f?_(h.val.minVisible,d):n,h.val.maxVisible=g?v(h.val.maxVisible,c):n)),r.getPoints().length>1&&(a?(t=(h.arg.max-h.arg.min)*u,h.arg.min=h.arg.min-t,h.arg.max=h.arg.max+t):h.arg.stick=!0),i._ranges=h},_getBarWidth:function(e){var t=this,n=t._canvas,i=e*l,r=n.width-n.left-n.right-i,o=g(r/e);return a>o&&(o=a),o>s&&(o=s),o},_correctPoints:function(){var e,t,n=this,i=n._allOptions.type,r=n._series.getPoints(),o=r.length;if("bar"===i||"winloss"===i)for(e=n._getBarWidth(o),t=0;o>t;t++)r[t].correctCoordinates({width:e,offset:0})},_drawSeries:function(){var e=this;e._simpleDataSource.length>0&&(e._correctPoints(),e._series.draw({x:e._translatorX,y:e._translatorY}),e._seriesGroup.append(e._renderer.root))},_isTooltipEnabled:function(){return!!this._simpleDataSource.length},_getTooltipData:function(){var e=this,t=e._allOptions,n=e._winlossDataSource||e._simpleDataSource,i=e._tooltip;if(0===n.length)return{};var r=e._minMaxIndexes,o=t.valueField,a=n[0][o],s=n[n.length-1][o],l=n[r.minIndex][o],u=n[r.maxIndex][o],c=i.formatValue(a),d=i.formatValue(s),h=i.formatValue(l),p=i.formatValue(u),f={firstValue:c,lastValue:d,minValue:h,maxValue:p,originalFirstValue:a,originalLastValue:s,originalMinValue:l,originalMaxValue:u,valueText:["Start:",c,"End:",d,"Min:",h,"Max:",p]};return"winloss"===t.type&&(f.originalThresholdValue=t.winlossThreshold,f.thresholdValue=i.formatValue(t.winlossThreshold)),f}}))}(jQuery,DevExpress),function(e,t,n){var i=t.require("/componentRegistrator"),r=.02,o=.98,a=.1,s=.9,l=300,u=30,c=1,d=2,h=Number,p=isFinite;i("dxBullet",t.viz.sparklines,t.viz.sparklines.BaseSparkline.inherit({_rootClassPrefix:"dxb",_rootClass:"dxb-bullet",_widgetType:"bullet",_invalidatingOptions:["color","targetColor","targetWidth","showTarget","showZeroLevel","value","target","startScaleValue","endScaleValue"],_defaultSize:{width:l,height:u,left:c,right:c,top:d,bottom:d},_disposeWidgetElements:function(){delete this._zeroLevelPath,delete this._targetPath,delete this._barValuePath},_redrawWidgetElements:function(){this._updateTranslator(),this._drawBarValue(),this._drawTarget(),this._drawZeroLevel()},_cleanWidgetElements:function(){this._zeroLevelPath.remove(),this._targetPath.remove(),this._barValuePath.remove()},_drawWidgetElements:function(){this._drawBullet(),this._drawn()},_createHtmlElements:function(){var e=this._renderer;this._zeroLevelPath=e.path(n,"line").attr({"class":"dxb-zero-level","stroke-linecap":"square"}),this._targetPath=e.path(n,"line").attr({"class":"dxb-target","stroke-linecap":"square"}),this._barValuePath=e.path(n,"line").attr({"class":"dxb-bar-value","stroke-linecap":"square"})},_prepareOptions:function(){var e,t,i,r,o,a,s,l,u=this;u._allOptions=e=u.callBase(),s=u._allOptions.value===n,l=u._allOptions.target===n,u._tooltipEnabled=!(s&&l),s&&(u._allOptions.value=0),l&&(u._allOptions.target=0),e.value=o=h(e.value),e.target=a=h(e.target),u._allOptions.startScaleValue===n&&(u._allOptions.startScaleValue=o>a?a:o,u._allOptions.startScaleValue=u._allOptions.startScaleValue<0?u._allOptions.startScaleValue:0),u._allOptions.endScaleValue===n&&(u._allOptions.endScaleValue=a>o?a:o),e.startScaleValue=t=h(e.startScaleValue),e.endScaleValue=i=h(e.endScaleValue),t>i&&(r=i,u._allOptions.endScaleValue=t,u._allOptions.startScaleValue=r,u._allOptions.inverted=!0)},_updateRange:function(){var e=this,t=e._allOptions;e._ranges={arg:{invert:t.inverted,min:t.startScaleValue,max:t.endScaleValue,axisType:"continuous",dataType:"numeric"},val:{min:0,max:1,axisType:"continuous",dataType:"numeric"}}},_drawBullet:function(){var e=this,t=e._allOptions,n=t.startScaleValue!==t.endScaleValue,i=p(t.startScaleValue),r=p(t.endScaleValue),o=p(t.value),a=p(t.target);n&&r&&i&&a&&o&&(this._drawBarValue(),this._drawTarget(),this._drawZeroLevel())},_getTargetParams:function(){var e=this,t=e._allOptions,n=e._translatorY,i=e._translatorX.translate(t.target);return{points:[i,n.translate(r),i,n.translate(o)],stroke:t.targetColor,"stroke-width":t.targetWidth}},_getBarValueParams:function(){var e,t,n=this,i=n._allOptions,r=n._translatorX,o=n._translatorY,l=i.startScaleValue,u=i.endScaleValue,c=i.value,d=o.translate(a),h=o.translate(s);return c>0?(e=0>=l?0:l,t=c>=u?u:e>c?e:c):(e=u>=0?0:u,t=l>c?l:c>e?e:c),e=r.translate(e),t=r.translate(t),{points:[e,h,t,h,t,d,e,d],fill:i.color}},_getZeroLevelParams:function(){var e=this,t=e._translatorY,n=e._translatorX.translate(0);return{points:[n,t.translate(r),n,t.translate(o)],stroke:e._allOptions.targetColor,"stroke-width":1}},_drawZeroLevel:function(){var e=this,t=e._allOptions;0>t.endScaleValue||0<t.startScaleValue||!t.showZeroLevel||e._zeroLevelPath.attr(e._getZeroLevelParams()).sharp().append(e._renderer.root)},_drawTarget:function(){var e=this,t=e._allOptions,n=t.target;n>t.endScaleValue||n<t.startScaleValue||!t.showTarget||e._targetPath.attr(e._getTargetParams()).sharp().append(e._renderer.root)},_drawBarValue:function(){this._barValuePath.attr(this._getBarValueParams()).append(this._renderer.root)},_getTooltipCoords:function(){var e=this._canvas,t=this._renderer.getRootOffset(),n=this._barValuePath.getBBox();return{x:n.x+n.width/2+t.left,y:e.height/2+t.top}},_getTooltipData:function(){var e=this,t=e._tooltip,n=e._allOptions,i=n.value,r=n.target,o=t.formatValue(i),a=t.formatValue(r);return{originalValue:i,originalTarget:r,value:o,target:a,valueText:["Actual Value:",o,"Target Value:",a]}},_isTooltipEnabled:function(){return this._tooltipEnabled},_initDataSource:e.noop,_disposeDataSource:e.noop}))}(jQuery,DevExpress),DevExpress.MOD_VIZ_SPARKLINES=!0}!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):e.hasOwnProperty("angular")?t(e.angular):"object"==typeof exports&&(module.exports=t(require("angular")))}(this,function(e){"use strict";function t(t){return function(){var n="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+t+"Provider.setKeyPrefix() expects a String.");n=e};var i=e.toJson,r=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+t+"Provider.setSerializer expects a function.");i=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+t+"Provider.setDeserializer expects a function.");r=e},this.get=function(e){return r(window[t].getItem(n+e))},this.set=function(e,r){return window[t].setItem(n+e,i(r))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(o,a,s,l,u){function c(e){var t;try{t=a[e]}catch(n){t=!1}if(t&&"localStorage"===e){var i="__"+Math.round(1e7*Math.random());try{localStorage.setItem(i,i),localStorage.removeItem(i)}catch(n){t=!1}}return t}var d,h,p=n.length,f=c(t)||(s.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),m={$default:function(t){for(var n in t)e.isDefined(m[n])||(m[n]=e.copy(t[n]));return m.$sync(),m},$reset:function(e){for(var t in m)"$"===t[0]||delete m[t]&&f.removeItem(n+t);return m.$default(e)},$sync:function(){for(var e,t=0,i=f.length;i>t;t++)(e=f.key(t))&&n===e.slice(0,p)&&(m[e.slice(p)]=r(f.getItem(e)))},$apply:function(){var t;if(h=null,!e.equals(m,d)){t=e.copy(d),e.forEach(m,function(r,o){e.isDefined(r)&&"$"!==o[0]&&(f.setItem(n+o,i(r)),delete t[o])});for(var r in t)f.removeItem(n+r);d=e.copy(m)}}};return m.$sync(),d=e.copy(m),o.$watch(function(){h||(h=l(m.$apply,100,!1))}),a.addEventListener&&a.addEventListener("storage",function(t){if(t.key){var i=u[0];i.hasFocus&&i.hasFocus()||n!==t.key.slice(0,p)||(t.newValue?m[t.key.slice(p)]=r(t.newValue):delete m[t.key.slice(p)],d=e.copy(m),o.$apply())}}),a.addEventListener&&a.addEventListener("beforeunload",function(){m.$apply()}),m}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",t("localStorage")).provider("$sessionStorage",t("sessionStorage"))}),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function r(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function o(e,t){for(var n=null==e?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function l(e,t){var n=null==e?0:e.length;return!!n&&y(e,t,0)>-1}function u(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function c(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function d(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function h(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function p(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function f(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function m(e){return e.split("")}function g(e){return e.match(Lt)||[]}function _(e,t,n){var i;return n(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function v(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function y(e,t,n){return t===t?q(e,t,n):v(e,b,n)}function x(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function b(e){return e!==e}function w(e,t){var n=null==e?0:e.length;return n?T(e,t)/n:Be}function C(e){return function(t){return null==t?J:t[e]}}function S(e){return function(t){return null==e?J:e[t]}}function k(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function D(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function T(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==J&&(n=n===J?o:n+o)}return n}function E(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function I(e,t){return c(t,function(t){return[t,e[t]]})}function A(e){return function(t){return e(t)}}function $(e,t){return c(t,function(t){return e[t]})}function B(e,t){return e.has(t)}function O(e,t){for(var n=-1,i=e.length;++n<i&&y(t,e[n],0)>-1;);return n}function P(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function M(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}function R(e){return"\\"+Xn[e]}function V(e,t){return null==e?J:e[t]}function L(e){return Nn.test(e)}function F(e){return jn.test(e)}function z(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function N(e,t){return function(n){return e(t(n))}}function j(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];(a===t||a===ae)&&(e[n]=ae,o[r++]=n)}return o}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function q(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function U(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}function Y(e){return L(e)?Q(e):fi(e)}function K(e){return L(e)?X(e):m(e)}function Q(e){for(var t=zn.lastIndex=0;zn.test(e);)++t;return t}function X(e){return e.match(zn)||[]}function Z(e){return e.match(Hn)||[]}var J,ee="4.17.2",te=200,ne="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",re="__lodash_hash_undefined__",oe=500,ae="__lodash_placeholder__",se=1,le=2,ue=4,ce=1,de=2,he=1,pe=2,fe=4,me=8,ge=16,_e=32,ve=64,ye=128,xe=256,be=512,we=30,Ce="...",Se=800,ke=16,De=1,Te=2,Ee=3,Ie=1/0,Ae=9007199254740991,$e=1.7976931348623157e308,Be=NaN,Oe=4294967295,Pe=Oe-1,Me=Oe>>>1,Re=[["ary",ye],["bind",he],["bindKey",pe],["curry",me],["curryRight",ge],["flip",be],["partial",_e],["partialRight",ve],["rearg",xe]],Ve="[object Arguments]",Le="[object Array]",Fe="[object AsyncFunction]",ze="[object Boolean]",He="[object Date]",Ne="[object DOMException]",je="[object Error]",We="[object Function]",Ge="[object GeneratorFunction]",qe="[object Map]",Ue="[object Number]",Ye="[object Null]",Ke="[object Object]",Qe="[object Promise]",Xe="[object Proxy]",Ze="[object RegExp]",Je="[object Set]",et="[object String]",tt="[object Symbol]",nt="[object Undefined]",it="[object WeakMap]",rt="[object WeakSet]",ot="[object ArrayBuffer]",at="[object DataView]",st="[object Float32Array]",lt="[object Float64Array]",ut="[object Int8Array]",ct="[object Int16Array]",dt="[object Int32Array]",ht="[object Uint8Array]",pt="[object Uint8ClampedArray]",ft="[object Uint16Array]",mt="[object Uint32Array]",gt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,vt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>"']/g,bt=RegExp(yt.source),wt=RegExp(xt.source),Ct=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Et=/^\./,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,$t=RegExp(At.source),Bt=/^\s+|\s+$/g,Ot=/^\s+/,Pt=/\s+$/,Mt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rt=/\{\n\/\* \[wrapped with (.+)\] \*/,Vt=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/\\(\\)?/g,zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,Nt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,Wt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,Ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Qt="\\ud800-\\udfff",Xt="\\u0300-\\u036f",Zt="\\ufe20-\\ufe2f",Jt="\\u20d0-\\u20ff",en=Xt+Zt+Jt,tn="\\u2700-\\u27bf",nn="a-z\\xdf-\\xf6\\xf8-\\xff",rn="\\xac\\xb1\\xd7\\xf7",on="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",an="\\u2000-\\u206f",sn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",un="\\ufe0e\\ufe0f",cn=rn+on+an+sn,dn="['’]",hn="["+Qt+"]",pn="["+cn+"]",fn="["+en+"]",mn="\\d+",gn="["+tn+"]",_n="["+nn+"]",vn="[^"+Qt+cn+mn+tn+nn+ln+"]",yn="\\ud83c[\\udffb-\\udfff]",xn="(?:"+fn+"|"+yn+")",bn="[^"+Qt+"]",wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Cn="[\\ud800-\\udbff][\\udc00-\\udfff]",Sn="["+ln+"]",kn="\\u200d",Dn="(?:"+_n+"|"+vn+")",Tn="(?:"+Sn+"|"+vn+")",En="(?:"+dn+"(?:d|ll|m|re|s|t|ve))?",In="(?:"+dn+"(?:D|LL|M|RE|S|T|VE))?",An=xn+"?",$n="["+un+"]?",Bn="(?:"+kn+"(?:"+[bn,wn,Cn].join("|")+")"+$n+An+")*",On="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Pn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Mn=$n+An+Bn,Rn="(?:"+[gn,wn,Cn].join("|")+")"+Mn,Vn="(?:"+[bn+fn+"?",fn,wn,Cn,hn].join("|")+")",Ln=RegExp(dn,"g"),Fn=RegExp(fn,"g"),zn=RegExp(yn+"(?="+yn+")|"+Vn+Mn,"g"),Hn=RegExp([Sn+"?"+_n+"+"+En+"(?="+[pn,Sn,"$"].join("|")+")",Tn+"+"+In+"(?="+[pn,Sn+Dn,"$"].join("|")+")",Sn+"?"+Dn+"+"+En,Sn+"+"+In,Pn,On,mn,Rn].join("|"),"g"),Nn=RegExp("["+kn+Qt+en+un+"]"),jn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gn=-1,qn={};qn[st]=qn[lt]=qn[ut]=qn[ct]=qn[dt]=qn[ht]=qn[pt]=qn[ft]=qn[mt]=!0,qn[Ve]=qn[Le]=qn[ot]=qn[ze]=qn[at]=qn[He]=qn[je]=qn[We]=qn[qe]=qn[Ue]=qn[Ke]=qn[Ze]=qn[Je]=qn[et]=qn[it]=!1;var Un={};Un[Ve]=Un[Le]=Un[ot]=Un[at]=Un[ze]=Un[He]=Un[st]=Un[lt]=Un[ut]=Un[ct]=Un[dt]=Un[qe]=Un[Ue]=Un[Ke]=Un[Ze]=Un[Je]=Un[et]=Un[tt]=Un[ht]=Un[pt]=Un[ft]=Un[mt]=!0,Un[je]=Un[We]=Un[it]=!1;var Yn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zn=parseFloat,Jn=parseInt,ei="object"==typeof global&&global&&global.Object===Object&&global,ti="object"==typeof self&&self&&self.Object===Object&&self,ni=ei||ti||Function("return this")(),ii="object"==typeof exports&&exports&&!exports.nodeType&&exports,ri=ii&&"object"==typeof module&&module&&!module.nodeType&&module,oi=ri&&ri.exports===ii,ai=oi&&ei.process,si=function(){try{return ai&&ai.binding&&ai.binding("util")}catch(e){}}(),li=si&&si.isArrayBuffer,ui=si&&si.isDate,ci=si&&si.isMap,di=si&&si.isRegExp,hi=si&&si.isSet,pi=si&&si.isTypedArray,fi=C("length"),mi=S(Yn),gi=S(Kn),_i=S(Qn),vi=function xi(m){function S(e){if(ll(e)&&!yh(e)&&!(e instanceof X)){if(e instanceof Q)return e;if(yc.call(e,"__wrapped__"))return oa(e)}return new Q(e)}function q(){}function Q(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=J}function X(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Lt(){var e=new X(this.__wrapped__);return e.__actions__=Hr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Hr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Hr(this.__views__),e}function Qt(){if(this.__filtered__){var e=new X(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Xt(){var e=this.__wrapped__.value(),t=this.__dir__,n=yh(e),i=0>t,r=n?e.length:0,o=Eo(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,d=c.length,h=0,p=Kc(l,this.__takeCount__);if(!n||te>r||r==l&&p==l)return wr(e,this.__actions__);var f=[];e:for(;l--&&p>h;){u+=t;for(var m=-1,g=e[u];++m<d;){var _=c[m],v=_.iteratee,y=_.type,x=v(g);if(y==Te)g=x;else if(!x){if(y==De)continue e;break e}}f[h++]=g}return f}function Zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Jt(){this.__data__=od?od(null):{},this.size=0}function en(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function tn(e){var t=this.__data__;if(od){var n=t[e];return n===re?J:n}return yc.call(t,e)?t[e]:J}function nn(e){var t=this.__data__;return od?t[e]!==J:yc.call(t,e)}function rn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=od&&t===J?re:t,this}function on(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function an(){this.__data__=[],this.size=0}function sn(e){var t=this.__data__,n=On(t,e);if(0>n)return!1;var i=t.length-1;return n==i?t.pop():Oc.call(t,n,1),--this.size,!0}function ln(e){var t=this.__data__,n=On(t,e);return 0>n?J:t[n][1]}function un(e){return On(this.__data__,e)>-1}function cn(e,t){var n=this.__data__,i=On(n,e);return 0>i?(++this.size,n.push([e,t])):n[i][1]=t,this}function dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function hn(){this.size=0,this.__data__={hash:new Zt,map:new(td||on),string:new Zt}}function pn(e){var t=So(this,e)["delete"](e);return this.size-=t?1:0,t}function fn(e){return So(this,e).get(e)}function mn(e){return So(this,e).has(e)}function gn(e,t){var n=So(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function _n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dn;++t<n;)this.add(e[t])}function vn(e){return this.__data__.set(e,re),this}function yn(e){return this.__data__.has(e)}function xn(e){var t=this.__data__=new on(e);this.size=t.size}function bn(){this.__data__=new on,this.size=0}function wn(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function Cn(e){return this.__data__.get(e)}function Sn(e){return this.__data__.has(e)}function kn(e,t){var n=this.__data__;if(n instanceof on){var i=n.__data__;if(!td||i.length<te-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new dn(i)}return n.set(e,t),this.size=n.size,this}function Dn(e,t){var n=yh(e),i=!n&&vh(e),r=!n&&!i&&bh(e),o=!n&&!i&&!r&&Dh(e),a=n||i||r||o,s=a?E(e.length,hc):[],l=s.length;for(var u in e)!t&&!yc.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ro(u,l))||s.push(u);return s}function Tn(e){var t=e.length;return t?e[ir(0,t-1)]:J}function En(e,t){return ta(Hr(e),Hn(t,0,e.length))}function In(e){return ta(Hr(e))}function An(e,t,n,i){return e===J||Ys(e,gc[n])&&!yc.call(i,n)?t:e}function $n(e,t,n){(n!==J&&!Ys(e[t],n)||n===J&&!(t in e))&&Vn(e,t,n)}function Bn(e,t,n){var i=e[t];yc.call(e,t)&&Ys(i,n)&&(n!==J||t in e)||Vn(e,t,n)}function On(e,t){for(var n=e.length;n--;)if(Ys(e[n][0],t))return n;return-1}function Pn(e,t,n,i){return _d(e,function(e,r,o){t(i,e,n(e),o)}),i}function Mn(e,t){return e&&Nr(t,jl(t),e)}function Rn(e,t){return e&&Nr(t,Wl(t),e)}function Vn(e,t,n){"__proto__"==t&&Vc?Vc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function zn(e,t){for(var n=-1,i=t.length,r=oc(i),o=null==e;++n<i;)r[n]=o?J:zl(e,t[n]);return r}function Hn(e,t,n){return e===e&&(n!==J&&(e=n>=e?e:n),t!==J&&(e=e>=t?e:t)),e}function Nn(e,t,n,i,o,a){var s,l=t&se,u=t&le,c=t&ue;if(n&&(s=o?n(e,i,o,a):n(e)),s!==J)return s;if(!sl(e))return e;var d=yh(e);if(d){if(s=$o(e),!l)return Hr(e,s)}else{var h=Id(e),p=h==We||h==Ge;if(bh(e))return Ir(e,l);if(h==Ke||h==Ve||p&&!o){if(s=u||p?{}:Bo(e),!l)return u?Wr(e,Rn(s,e)):jr(e,Mn(s,e))}else{if(!Un[h])return o?e:{};s=Oo(e,h,Nn,l)}}a||(a=new xn);var f=a.get(e);if(f)return f;a.set(e,s);var m=c?u?xo:yo:u?Wl:jl,g=d?J:m(e);return r(g||e,function(i,r){g&&(r=i,i=e[r]),Bn(s,r,Nn(i,t,n,r,e,a))}),s}function jn(e){var t=jl(e);return function(n){return Yn(n,e,t)}}function Yn(e,t,n){var i=n.length;if(null==e)return!i;for(e=cc(e);i--;){var r=n[i],o=t[r],a=e[r];if(a===J&&!(r in e)||!o(a))return!1}return!0}function Kn(e,t,n){if("function"!=typeof e)throw new pc(ie);return Bd(function(){e.apply(J,n)},t)}function Qn(e,t,n,i){var r=-1,o=l,a=!0,s=e.length,d=[],h=t.length;if(!s)return d;n&&(t=c(t,A(n))),i?(o=u,a=!1):t.length>=te&&(o=B,a=!1,t=new _n(t));e:for(;++r<s;){var p=e[r],f=null==n?p:n(p);if(p=i||0!==p?p:0,a&&f===f){for(var m=h;m--;)if(t[m]===f)continue e;d.push(p)}else o(t,f,i)||d.push(p)}return d}function Xn(e,t){var n=!0;return _d(e,function(e,i,r){return n=!!t(e,i,r)}),n}function ei(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===J?a===a&&!yl(a):n(a,s)))var s=a,l=o}return l}function ti(e,t,n,i){var r=e.length;for(n=kl(n),0>n&&(n=-n>r?0:r+n),i=i===J||i>r?r:kl(i),0>i&&(i+=r),i=n>i?0:Dl(i);i>n;)e[n++]=t;return e}function ii(e,t){var n=[];return _d(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function ri(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=Mo),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ri(s,t-1,n,i,r):d(r,s):i||(r[r.length]=s)}return r}function ai(e,t){return e&&yd(e,t,jl)}function si(e,t){return e&&xd(e,t,jl)}function fi(e,t){return s(t,function(t){return rl(e[t])})}function vi(e,t){t=Tr(t,e);for(var n=0,i=t.length;null!=e&&i>n;)e=e[na(t[n++])];return n&&n==i?e:J}function bi(e,t,n){var i=t(e);return yh(e)?i:d(i,n(e))}function wi(e){return null==e?e===J?nt:Ye:(e=cc(e),Rc&&Rc in e?To(e):Ko(e))}function Ci(e,t){return e>t}function Si(e,t){return null!=e&&yc.call(e,t)}function ki(e,t){return null!=e&&t in cc(e)}function Di(e,t,n){return e>=Kc(t,n)&&e<Yc(t,n)}function Ti(e,t,n){for(var i=n?u:l,r=e[0].length,o=e.length,a=o,s=oc(o),d=1/0,h=[];a--;){var p=e[a];a&&t&&(p=c(p,A(t))),d=Kc(p.length,d),s[a]=!n&&(t||r>=120&&p.length>=120)?new _n(a&&p):J}p=e[0];var f=-1,m=s[0];e:for(;++f<r&&h.length<d;){var g=p[f],_=t?t(g):g;if(g=n||0!==g?g:0,!(m?B(m,_):i(h,_,n))){for(a=o;--a;){var v=s[a];if(!(v?B(v,_):i(e[a],_,n)))continue e}m&&m.push(_),h.push(g)}}return h}function Ei(e,t,n,i){return ai(e,function(e,r,o){t(i,n(e),r,o)}),i}function Ii(e,t,i){t=Tr(t,e),e=Xo(e,t);var r=null==e?e:e[na(Sa(t))];return null==r?J:n(r,e,i)}function Ai(e){return ll(e)&&wi(e)==Ve}function $i(e){return ll(e)&&wi(e)==ot}function Bi(e){return ll(e)&&wi(e)==He}function Oi(e,t,n,i,r){return e===t?!0:null==e||null==t||!sl(e)&&!ll(t)?e!==e&&t!==t:Pi(e,t,n,i,Oi,r)}function Pi(e,t,n,i,r,o){var a=yh(e),s=yh(t),l=Le,u=Le;a||(l=Id(e),l=l==Ve?Ke:l),
s||(u=Id(t),u=u==Ve?Ke:u);var c=l==Ke,d=u==Ke,h=l==u;if(h&&bh(e)){if(!bh(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new xn),a||Dh(e)?mo(e,t,n,i,r,o):go(e,t,l,n,i,r,o);if(!(n&ce)){var p=c&&yc.call(e,"__wrapped__"),f=d&&yc.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return o||(o=new xn),r(m,g,n,i,o)}}return h?(o||(o=new xn),_o(e,t,n,i,r,o)):!1}function Mi(e){return ll(e)&&Id(e)==qe}function Ri(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=cc(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===J&&!(l in e))return!1}else{var d=new xn;if(i)var h=i(u,c,l,e,t,d);if(!(h===J?Oi(c,u,ce|de,i,d):h))return!1}}return!0}function Vi(e){if(!sl(e)||Ho(e))return!1;var t=rl(e)?kc:Wt;return t.test(ia(e))}function Li(e){return ll(e)&&wi(e)==Ze}function Fi(e){return ll(e)&&Id(e)==Je}function zi(e){return ll(e)&&al(e.length)&&!!qn[wi(e)]}function Hi(e){return"function"==typeof e?e:null==e?Ou:"object"==typeof e?yh(e)?Ui(e[0],e[1]):qi(e):Hu(e)}function Ni(e){if(!No(e))return Uc(e);var t=[];for(var n in cc(e))yc.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ji(e){if(!sl(e))return Yo(e);var t=No(e),n=[];for(var i in e)("constructor"!=i||!t&&yc.call(e,i))&&n.push(i);return n}function Wi(e,t){return t>e}function Gi(e,t){var n=-1,i=Ks(e)?oc(e.length):[];return _d(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function qi(e){var t=ko(e);return 1==t.length&&t[0][2]?Wo(t[0][0],t[0][1]):function(n){return n===e||Ri(n,e,t)}}function Ui(e,t){return Lo(e)&&jo(t)?Wo(na(e),t):function(n){var i=zl(n,e);return i===J&&i===t?Nl(n,e):Oi(t,i,ce|de)}}function Yi(e,t,n,i,r){e!==t&&yd(t,function(o,a){if(sl(o))r||(r=new xn),Ki(e,t,a,n,Yi,i,r);else{var s=i?i(e[a],o,a+"",e,t,r):J;s===J&&(s=o),$n(e,a,s)}},Wl)}function Ki(e,t,n,i,r,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void $n(e,n,u);var c=o?o(s,l,n+"",e,t,a):J,d=c===J;if(d){var h=yh(l),p=!h&&bh(l),f=!h&&!p&&Dh(l);c=l,h||p||f?yh(s)?c=s:Qs(s)?c=Hr(s):p?(d=!1,c=Ir(l,!0)):f?(d=!1,c=Rr(l,!0)):c=[]:gl(l)||vh(l)?(c=s,vh(s)?c=El(s):(!sl(s)||i&&rl(s))&&(c=Bo(l))):d=!1}d&&(a.set(l,c),r(c,l,i,o,a),a["delete"](l)),$n(e,n,c)}function Qi(e,t){var n=e.length;if(n)return t+=0>t?n:0,Ro(t,n)?e[t]:J}function Xi(e,t,n){var i=-1;t=c(t.length?t:[Ou],A(Co()));var r=Gi(e,function(e,n,r){var o=c(t,function(t){return t(e)});return{criteria:o,index:++i,value:e}});return D(r,function(e,t){return Lr(e,t,n)})}function Zi(e,t){return e=cc(e),Ji(e,t,function(t,n){return Nl(e,n)})}function Ji(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=vi(e,a);n(s,a)&&ur(o,Tr(a,e),s)}return o}function er(e){return function(t){return vi(t,e)}}function tr(e,t,n,i){var r=i?x:y,o=-1,a=t.length,s=e;for(e===t&&(t=Hr(t)),n&&(s=c(e,A(n)));++o<a;)for(var l=0,u=t[o],d=n?n(u):u;(l=r(s,d,l,i))>-1;)s!==e&&Oc.call(s,l,1),Oc.call(e,l,1);return e}function nr(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Ro(r)?Oc.call(e,r,1):yr(e,r)}}return e}function ir(e,t){return e+Nc(Zc()*(t-e+1))}function rr(e,t,n,i){for(var r=-1,o=Yc(Hc((t-e)/(n||1)),0),a=oc(o);o--;)a[i?o:++r]=e,e+=n;return a}function or(e,t){var n="";if(!e||1>t||t>Ae)return n;do t%2&&(n+=e),t=Nc(t/2),t&&(e+=e);while(t);return n}function ar(e,t){return Od(Qo(e,t,Ou),e+"")}function sr(e){return Tn(nu(e))}function lr(e,t){var n=nu(e);return ta(n,Hn(t,0,n.length))}function ur(e,t,n,i){if(!sl(e))return e;t=Tr(t,e);for(var r=-1,o=t.length,a=o-1,s=e;null!=s&&++r<o;){var l=na(t[r]),u=n;if(r!=a){var c=s[l];u=i?i(c,l,s):J,u===J&&(u=sl(c)?c:Ro(t[r+1])?[]:{})}Bn(s,l,u),s=s[l]}return e}function cr(e){return ta(nu(e))}function dr(e,t,n){var i=-1,r=e.length;0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=oc(r);++i<r;)o[i]=e[i+t];return o}function hr(e,t){var n;return _d(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function pr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t===t&&Me>=r){for(;r>i;){var o=i+r>>>1,a=e[o];null!==a&&!yl(a)&&(n?t>=a:t>a)?i=o+1:r=o}return r}return fr(e,t,Ou,n)}function fr(e,t,n,i){t=n(t);for(var r=0,o=null==e?0:e.length,a=t!==t,s=null===t,l=yl(t),u=t===J;o>r;){var c=Nc((r+o)/2),d=n(e[c]),h=d!==J,p=null===d,f=d===d,m=yl(d);if(a)var g=i||f;else g=u?f&&(i||h):s?f&&h&&(i||!p):l?f&&h&&!p&&(i||!m):p||m?!1:i?t>=d:t>d;g?r=c+1:o=c}return Kc(o,Pe)}function mr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Ys(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function gr(e){return"number"==typeof e?e:yl(e)?Be:+e}function _r(e){if("string"==typeof e)return e;if(yh(e))return c(e,_r)+"";if(yl(e))return md?md.call(e):"";var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function vr(e,t,n){var i=-1,r=l,o=e.length,a=!0,s=[],c=s;if(n)a=!1,r=u;else if(o>=te){var d=t?null:kd(e);if(d)return W(d);a=!1,r=B,c=new _n}else c=t?[]:s;e:for(;++i<o;){var h=e[i],p=t?t(h):h;if(h=n||0!==h?h:0,a&&p===p){for(var f=c.length;f--;)if(c[f]===p)continue e;t&&c.push(p),s.push(h)}else r(c,p,n)||(c!==s&&c.push(p),s.push(h))}return s}function yr(e,t){return t=Tr(t,e),e=Xo(e,t),null==e||delete e[na(Sa(t))]}function xr(e,t,n,i){return ur(e,t,n(vi(e,t)),i)}function br(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?dr(e,i?0:o,i?o+1:r):dr(e,i?o+1:0,i?r:o)}function wr(e,t){var n=e;return n instanceof X&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function Cr(e,t,n){var i=e.length;if(2>i)return i?vr(e[0]):[];for(var r=-1,o=oc(i);++r<i;)for(var a=e[r],s=-1;++s<i;)s!=r&&(o[r]=Qn(o[r]||a,e[s],t,n));return vr(ri(o,1),t,n)}function Sr(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;){var s=o>i?t[i]:J;n(a,e[i],s)}return a}function kr(e){return Qs(e)?e:[]}function Dr(e){return"function"==typeof e?e:Ou}function Tr(e,t){return yh(e)?e:Lo(e,t)?[e]:Pd(Al(e))}function Er(e,t,n){var i=e.length;return n=n===J?i:n,!t&&n>=i?e:dr(e,t,n)}function Ir(e,t){if(t)return e.slice();var n=e.length,i=Ic?Ic(n):new e.constructor(n);return e.copy(i),i}function Ar(e){var t=new e.constructor(e.byteLength);return new Ec(t).set(new Ec(e)),t}function $r(e,t){var n=t?Ar(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Br(t,n,i){var r=n?i(H(t),se):H(t);return h(r,e,new t.constructor)}function Or(e){var t=new e.constructor(e.source,Ht.exec(e));return t.lastIndex=e.lastIndex,t}function Pr(e,n,i){var r=n?i(W(e),se):W(e);return h(r,t,new e.constructor)}function Mr(e){return fd?cc(fd.call(e)):{}}function Rr(e,t){var n=t?Ar(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Vr(e,t){if(e!==t){var n=e!==J,i=null===e,r=e===e,o=yl(e),a=t!==J,s=null===t,l=t===t,u=yl(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t>e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function Lr(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=Vr(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}function Fr(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Yc(o-a,0),c=oc(l+u),d=!i;++s<l;)c[s]=t[s];for(;++r<a;)(d||o>r)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function zr(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Yc(o-s,0),d=oc(c+u),h=!i;++r<c;)d[r]=e[r];for(var p=r;++l<u;)d[p+l]=t[l];for(;++a<s;)(h||o>r)&&(d[p+n[a]]=e[r++]);return d}function Hr(e,t){var n=-1,i=e.length;for(t||(t=oc(i));++n<i;)t[n]=e[n];return t}function Nr(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):J;l===J&&(l=e[s]),r?Vn(n,s,l):Bn(n,s,l)}return n}function jr(e,t){return Nr(e,Td(e),t)}function Wr(e,t){return Nr(e,Ed(e),t)}function Gr(e,t){return function(n,r){var o=yh(n)?i:Pn,a=t?t():{};return o(n,e,Co(r,2),a)}}function qr(e){return ar(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:J,a=r>2?n[2]:J;for(o=e.length>3&&"function"==typeof o?(r--,o):J,a&&Vo(n[0],n[1],a)&&(o=3>r?J:o,r=1),t=cc(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t})}function Ur(e,t){return function(n,i){if(null==n)return n;if(!Ks(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=cc(n);(t?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function Yr(e){return function(t,n,i){for(var r=-1,o=cc(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(n(o[l],l,o)===!1)break}return t}}function Kr(e,t,n){function i(){var t=this&&this!==ni&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}var r=t&he,o=Zr(e);return i}function Qr(e){return function(t){t=Al(t);var n=L(t)?K(t):J,i=n?n[0]:t.charAt(0),r=n?Er(n,1).join(""):t.slice(1);return i[e]()+r}}function Xr(e){return function(t){return h(Eu(lu(t).replace(Ln,"")),e,"")}}function Zr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=gd(e.prototype),i=e.apply(n,t);return sl(i)?i:n}}function Jr(e,t,i){function r(){for(var a=arguments.length,s=oc(a),l=a,u=wo(r);l--;)s[l]=arguments[l];var c=3>a&&s[0]!==u&&s[a-1]!==u?[]:j(s,u);if(a-=c.length,i>a)return co(e,t,no,r.placeholder,J,s,c,J,J,i-a);var d=this&&this!==ni&&this instanceof r?o:e;return n(d,this,s)}var o=Zr(e);return r}function eo(e){return function(t,n,i){var r=cc(t);if(!Ks(t)){var o=Co(n,3);t=jl(t),n=function(e){return o(r[e],e,r)}}var a=e(t,n,i);return a>-1?r[o?t[a]:a]:J}}function to(e){return vo(function(t){var n=t.length,i=n,r=Q.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new pc(ie);if(r&&!a&&"wrapper"==bo(o))var a=new Q([],!0)}for(i=a?i:n;++i<n;){o=t[i];var s=bo(o),l="wrapper"==s?Dd(o):J;a=l&&zo(l[0])&&l[1]==(ye|me|_e|xe)&&!l[4].length&&1==l[9]?a[bo(l[0])].apply(a,l[3]):1==o.length&&zo(o)?a[s]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&yh(i)&&i.length>=te)return a.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}})}function no(e,t,n,i,r,o,a,s,l,u){function c(){for(var _=arguments.length,v=oc(_),y=_;y--;)v[y]=arguments[y];if(f)var x=wo(c),b=M(v,x);if(i&&(v=Fr(v,i,r,f)),o&&(v=zr(v,o,a,f)),_-=b,f&&u>_){var w=j(v,x);return co(e,t,no,c.placeholder,n,v,w,s,l,u-_)}var C=h?n:this,S=p?C[e]:e;return _=v.length,s?v=Zo(v,s):m&&_>1&&v.reverse(),d&&_>l&&(v.length=l),this&&this!==ni&&this instanceof c&&(S=g||Zr(S)),S.apply(C,v)}var d=t&ye,h=t&he,p=t&pe,f=t&(me|ge),m=t&be,g=p?J:Zr(e);return c}function io(e,t){return function(n,i){return Ei(n,e,t(i),{})}}function ro(e,t){return function(n,i){var r;if(n===J&&i===J)return t;if(n!==J&&(r=n),i!==J){if(r===J)return i;"string"==typeof n||"string"==typeof i?(n=_r(n),i=_r(i)):(n=gr(n),i=gr(i)),r=e(n,i)}return r}}function oo(e){return vo(function(t){return t=c(t,A(Co())),ar(function(i){var r=this;return e(t,function(e){return n(e,r,i)})})})}function ao(e,t){t=t===J?" ":_r(t);var n=t.length;if(2>n)return n?or(t,e):t;var i=or(t,Hc(e/Y(t)));return L(t)?Er(K(i),0,e).join(""):i.slice(0,e)}function so(e,t,i,r){function o(){for(var t=-1,l=arguments.length,u=-1,c=r.length,d=oc(c+l),h=this&&this!==ni&&this instanceof o?s:e;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++t];return n(h,a?i:this,d)}var a=t&he,s=Zr(e);return o}function lo(e){return function(t,n,i){return i&&"number"!=typeof i&&Vo(t,n,i)&&(n=i=J),t=Sl(t),n===J?(n=t,t=0):n=Sl(n),i=i===J?n>t?1:-1:Sl(i),rr(t,n,i,e)}}function uo(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=Tl(t),n=Tl(n)),e(t,n)}}function co(e,t,n,i,r,o,a,s,l,u){var c=t&me,d=c?a:J,h=c?J:a,p=c?o:J,f=c?J:o;t|=c?_e:ve,t&=~(c?ve:_e),t&fe||(t&=~(he|pe));var m=[e,t,r,p,d,f,h,s,l,u],g=n.apply(J,m);return zo(e)&&$d(g,m),g.placeholder=i,Jo(g,e,t)}function ho(e){var t=uc[e];return function(e,n){if(e=Tl(e),n=Kc(kl(n),292)){var i=(Al(e)+"e").split("e"),r=t(i[0]+"e"+(+i[1]+n));return i=(Al(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(e)}}function po(e){return function(t){var n=Id(t);return n==qe?H(t):n==Je?G(t):I(t,e(t))}}function fo(e,t,n,i,r,o,a,s){var l=t&pe;if(!l&&"function"!=typeof e)throw new pc(ie);var u=i?i.length:0;if(u||(t&=~(_e|ve),i=r=J),a=a===J?a:Yc(kl(a),0),s=s===J?s:kl(s),u-=r?r.length:0,t&ve){var c=i,d=r;i=r=J}var h=l?J:Dd(e),p=[e,t,n,i,r,c,d,o,a,s];if(h&&qo(p,h),e=p[0],t=p[1],n=p[2],i=p[3],r=p[4],s=p[9]=null==p[9]?l?0:e.length:Yc(p[9]-u,0),!s&&t&(me|ge)&&(t&=~(me|ge)),t&&t!=he)f=t==me||t==ge?Jr(e,t,s):t!=_e&&t!=(he|_e)||r.length?no.apply(J,p):so(e,t,n,i);else var f=Kr(e,t,n);var m=h?bd:$d;return Jo(m(f,p),e,t)}function mo(e,t,n,i,r,o){var a=n&ce,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,d=!0,h=n&de?new _n:J;for(o.set(e,t),o.set(t,e);++c<s;){var p=e[c],m=t[c];if(i)var g=a?i(m,p,c,t,e,o):i(p,m,c,e,t,o);if(g!==J){if(g)continue;d=!1;break}if(h){if(!f(t,function(e,t){return B(h,t)||p!==e&&!r(p,e,n,i,o)?void 0:h.push(t)})){d=!1;break}}else if(p!==m&&!r(p,m,n,i,o)){d=!1;break}}return o["delete"](e),o["delete"](t),d}function go(e,t,n,i,r,o,a){switch(n){case at:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ot:return e.byteLength==t.byteLength&&o(new Ec(e),new Ec(t))?!0:!1;case ze:case He:case Ue:return Ys(+e,+t);case je:return e.name==t.name&&e.message==t.message;case Ze:case et:return e==t+"";case qe:var s=H;case Je:var l=i&ce;if(s||(s=W),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;i|=de,a.set(e,t);var c=mo(s(e),s(t),i,r,o,a);return a["delete"](e),c;case tt:if(fd)return fd.call(e)==fd.call(t)}return!1}function _o(e,t,n,i,r,o){var a=n&ce,s=jl(e),l=s.length,u=jl(t),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in t:yc.call(t,h)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var m=a;++d<l;){h=s[d];var g=e[h],_=t[h];if(i)var v=a?i(_,g,h,t,e,o):i(g,_,h,e,t,o);if(!(v===J?g===_||r(g,_,n,i,o):v)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var y=e.constructor,x=t.constructor;y!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(f=!1)}return o["delete"](e),o["delete"](t),f}function vo(e){return Od(Qo(e,J,ga),e+"")}function yo(e){return bi(e,jl,Td)}function xo(e){return bi(e,Wl,Ed)}function bo(e){for(var t=e.name+"",n=sd[t],i=yc.call(sd,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function wo(e){var t=yc.call(S,"placeholder")?S:e;return t.placeholder}function Co(){var e=S.iteratee||Pu;return e=e===Pu?Hi:e,arguments.length?e(arguments[0],arguments[1]):e}function So(e,t){var n=e.__data__;return Fo(t)?n["string"==typeof t?"string":"hash"]:n.map}function ko(e){for(var t=jl(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,jo(r)]}return t}function Do(e,t){var n=V(e,t);return Vi(n)?n:J}function To(e){var t=yc.call(e,Rc),n=e[Rc];try{e[Rc]=J;var i=!0}catch(r){}var o=wc.call(e);return i&&(t?e[Rc]=n:delete e[Rc]),o}function Eo(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Kc(t,e+a);break;case"takeRight":e=Yc(e,t-a)}}return{start:e,end:t}}function Io(e){var t=e.match(Rt);return t?t[1].split(Vt):[]}function Ao(e,t,n){t=Tr(t,e);for(var i=-1,r=t.length,o=!1;++i<r;){var a=na(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:(r=null==e?0:e.length,!!r&&al(r)&&Ro(a,r)&&(yh(e)||vh(e)))}function $o(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&yc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Bo(e){return"function"!=typeof e.constructor||No(e)?{}:gd(Ac(e))}function Oo(e,t,n,i){var r=e.constructor;switch(t){case ot:return Ar(e);case ze:case He:return new r(+e);case at:return $r(e,i);case st:case lt:case ut:case ct:case dt:case ht:case pt:case ft:case mt:return Rr(e,i);case qe:return Br(e,i,n);case Ue:case et:return new r(e);case Ze:return Or(e);case Je:return Pr(e,i,n);case tt:return Mr(e)}}function Po(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Mt,"{\n/* [wrapped with "+t+"] */\n")}function Mo(e){return yh(e)||vh(e)||!!(Pc&&e&&e[Pc])}function Ro(e,t){return t=null==t?Ae:t,!!t&&("number"==typeof e||qt.test(e))&&e>-1&&e%1==0&&t>e}function Vo(e,t,n){if(!sl(n))return!1;var i=typeof t;return("number"==i?Ks(n)&&Ro(t,n.length):"string"==i&&t in n)?Ys(n[t],e):!1}function Lo(e,t){if(yh(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||yl(e)?!0:Tt.test(e)||!Dt.test(e)||null!=t&&e in cc(t)}function Fo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function zo(e){var t=bo(e),n=S[t];if("function"!=typeof n||!(t in X.prototype))return!1;if(e===n)return!0;var i=Dd(n);return!!i&&e===i[0]}function Ho(e){return!!bc&&bc in e}function No(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||gc;return e===n}function jo(e){return e===e&&!sl(e)}function Wo(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==J||e in cc(n))}}function Go(e){var t=Ps(e,function(e){return n.size===oe&&n.clear(),e}),n=t.cache;return t}function qo(e,t){var n=e[1],i=t[1],r=n|i,o=(he|pe|ye)>r,a=i==ye&&n==me||i==ye&&n==xe&&e[7].length<=t[8]||i==(ye|xe)&&t[7].length<=t[8]&&n==me;if(!o&&!a)return e;i&he&&(e[2]=t[2],r|=n&he?0:fe);var s=t[3];if(s){var l=e[3];e[3]=l?Fr(l,s,t[4]):s,e[4]=l?j(e[3],ae):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?zr(l,s,t[6]):s,e[6]=l?j(e[5],ae):t[6]),s=t[7],s&&(e[7]=s),i&ye&&(e[8]=null==e[8]?t[8]:Kc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function Uo(e,t,n,i,r,o){return sl(e)&&sl(t)&&(o.set(t,e),Yi(e,t,J,Uo,o),o["delete"](t)),e}function Yo(e){var t=[];if(null!=e)for(var n in cc(e))t.push(n);return t}function Ko(e){return wc.call(e)}function Qo(e,t,i){return t=Yc(t===J?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=Yc(r.length-t,0),s=oc(a);++o<a;)s[o]=r[t+o];o=-1;for(var l=oc(t+1);++o<t;)l[o]=r[o];return l[t]=i(s),n(e,this,l)}}function Xo(e,t){return t.length<2?e:vi(e,dr(t,0,-1))}function Zo(e,t){for(var n=e.length,i=Kc(t.length,n),r=Hr(e);i--;){var o=t[i];e[i]=Ro(o,n)?r[o]:J}return e}function Jo(e,t,n){var i=t+"";return Od(e,Po(i,ra(Io(i),n)))}function ea(e){var t=0,n=0;return function(){var i=Qc(),r=ke-(i-n);if(n=i,r>0){if(++t>=Se)return arguments[0]}else t=0;return e.apply(J,arguments)}}function ta(e,t){var n=-1,i=e.length,r=i-1;for(t=t===J?i:t;++n<t;){var o=ir(n,r),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function na(e){if("string"==typeof e||yl(e))return e;var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function ia(e){if(null!=e){try{return vc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ra(e,t){return r(Re,function(n){var i="_."+n[0];t&n[1]&&!l(e,i)&&e.push(i)}),e.sort()}function oa(e){if(e instanceof X)return e.clone();var t=new Q(e.__wrapped__,e.__chain__);return t.__actions__=Hr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function aa(e,t,n){t=(n?Vo(e,t,n):t===J)?1:Yc(kl(t),0);var i=null==e?0:e.length;if(!i||1>t)return[];for(var r=0,o=0,a=oc(Hc(i/t));i>r;)a[o++]=dr(e,r,r+=t);return a}function sa(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}function la(){var e=arguments.length;if(!e)return[];for(var t=oc(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return d(yh(n)?Hr(n):[n],ri(t,1))}function ua(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===J?1:kl(t),dr(e,0>t?0:t,i)):[]}function ca(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===J?1:kl(t),t=i-t,dr(e,0,0>t?0:t)):[]}function da(e,t){return e&&e.length?br(e,Co(t,3),!0,!0):[]}function ha(e,t){return e&&e.length?br(e,Co(t,3),!0):[]}function pa(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Vo(e,t,n)&&(n=0,i=r),ti(e,t,n,i)):[]}function fa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:kl(n);return 0>r&&(r=Yc(i+r,0)),v(e,Co(t,3),r)}function ma(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==J&&(r=kl(n),r=0>n?Yc(i+r,0):Kc(r,i-1)),v(e,Co(t,3),r,!0)}function ga(e){var t=null==e?0:e.length;return t?ri(e,1):[]}function _a(e){var t=null==e?0:e.length;return t?ri(e,Ie):[]}function va(e,t){var n=null==e?0:e.length;return n?(t=t===J?1:kl(t),ri(e,t)):[]}function ya(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}function xa(e){return e&&e.length?e[0]:J}function ba(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:kl(n);return 0>r&&(r=Yc(i+r,0)),y(e,t,r)}function wa(e){var t=null==e?0:e.length;return t?dr(e,0,-1):[]}function Ca(e,t){return null==e?"":qc.call(e,t)}function Sa(e){var t=null==e?0:e.length;return t?e[t-1]:J}function ka(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==J&&(r=kl(n),r=0>r?Yc(i+r,0):Kc(r,i-1)),t===t?U(e,t,r):v(e,b,r,!0)}function Da(e,t){return e&&e.length?Qi(e,kl(t)):J}function Ta(e,t){return e&&e.length&&t&&t.length?tr(e,t):e}function Ea(e,t,n){return e&&e.length&&t&&t.length?tr(e,t,Co(n,2)):e}function Ia(e,t,n){return e&&e.length&&t&&t.length?tr(e,t,J,n):e}function Aa(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Co(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return nr(e,r),n}function $a(e){return null==e?e:Jc.call(e)}function Ba(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Vo(e,t,n)?(t=0,n=i):(t=null==t?0:kl(t),n=n===J?i:kl(n)),dr(e,t,n)):[]}function Oa(e,t){return pr(e,t)}function Pa(e,t,n){return fr(e,t,Co(n,2))}function Ma(e,t){var n=null==e?0:e.length;if(n){var i=pr(e,t);if(n>i&&Ys(e[i],t))return i}return-1}function Ra(e,t){return pr(e,t,!0)}function Va(e,t,n){return fr(e,t,Co(n,2),!0)}function La(e,t){var n=null==e?0:e.length;if(n){var i=pr(e,t,!0)-1;if(Ys(e[i],t))return i}return-1}function Fa(e){return e&&e.length?mr(e):[]}function za(e,t){return e&&e.length?mr(e,Co(t,2)):[]}function Ha(e){var t=null==e?0:e.length;return t?dr(e,1,t):[]}function Na(e,t,n){return e&&e.length?(t=n||t===J?1:kl(t),dr(e,0,0>t?0:t)):[]}function ja(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===J?1:kl(t),t=i-t,dr(e,0>t?0:t,i)):[]}function Wa(e,t){return e&&e.length?br(e,Co(t,3),!1,!0):[]}function Ga(e,t){return e&&e.length?br(e,Co(t,3)):[]}function qa(e){return e&&e.length?vr(e):[]}function Ua(e,t){return e&&e.length?vr(e,Co(t,2)):[]}function Ya(e,t){return t="function"==typeof t?t:J,e&&e.length?vr(e,J,t):[]}function Ka(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){return Qs(e)?(t=Yc(e.length,t),!0):void 0}),E(t,function(t){return c(e,C(t))})}function Qa(e,t){if(!e||!e.length)return[];var i=Ka(e);return null==t?i:c(i,function(e){return n(t,J,e)})}function Xa(e,t){return Sr(e||[],t||[],Bn)}function Za(e,t){return Sr(e||[],t||[],ur)}function Ja(e){var t=S(e);return t.__chain__=!0,t}function es(e,t){return t(e),e}function ts(e,t){return t(e)}function ns(){return Ja(this)}function is(){return new Q(this.value(),this.__chain__)}function rs(){this.__values__===J&&(this.__values__=Cl(this.value()));var e=this.__index__>=this.__values__.length,t=e?J:this.__values__[this.__index__++];return{done:e,value:t}}function os(){return this}function as(e){for(var t,n=this;n instanceof q;){var i=oa(n);i.__index__=0,i.__values__=J,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function ss(){var e=this.__wrapped__;if(e instanceof X){var t=e;return this.__actions__.length&&(t=new X(this)),t=t.reverse(),t.__actions__.push({func:ts,args:[$a],thisArg:J}),new Q(t,this.__chain__)}return this.thru($a)}function ls(){return wr(this.__wrapped__,this.__actions__)}function us(e,t,n){var i=yh(e)?a:Xn;return n&&Vo(e,t,n)&&(t=J),i(e,Co(t,3))}function cs(e,t){var n=yh(e)?s:ii;return n(e,Co(t,3))}function ds(e,t){return ri(_s(e,t),1)}function hs(e,t){return ri(_s(e,t),Ie)}function ps(e,t,n){return n=n===J?1:kl(n),ri(_s(e,t),n)}function fs(e,t){var n=yh(e)?r:_d;return n(e,Co(t,3))}function ms(e,t){var n=yh(e)?o:vd;return n(e,Co(t,3))}function gs(e,t,n,i){e=Ks(e)?e:nu(e),n=n&&!i?kl(n):0;var r=e.length;return 0>n&&(n=Yc(r+n,0)),vl(e)?r>=n&&e.indexOf(t,n)>-1:!!r&&y(e,t,n)>-1}function _s(e,t){var n=yh(e)?c:Gi;return n(e,Co(t,3))}function vs(e,t,n,i){return null==e?[]:(yh(t)||(t=null==t?[]:[t]),n=i?J:n,yh(n)||(n=null==n?[]:[n]),Xi(e,t,n))}function ys(e,t,n){var i=yh(e)?h:k,r=arguments.length<3;return i(e,Co(t,4),n,r,_d)}function xs(e,t,n){var i=yh(e)?p:k,r=arguments.length<3;return i(e,Co(t,4),n,r,vd)}function bs(e,t){var n=yh(e)?s:ii;return n(e,Ms(Co(t,3)))}function ws(e){var t=yh(e)?Tn:sr;return t(e)}function Cs(e,t,n){t=(n?Vo(e,t,n):t===J)?1:kl(t);var i=yh(e)?En:lr;return i(e,t)}function Ss(e){var t=yh(e)?In:cr;return t(e)}function ks(e){if(null==e)return 0;if(Ks(e))return vl(e)?Y(e):e.length;var t=Id(e);return t==qe||t==Je?e.size:Ni(e).length}function Ds(e,t,n){var i=yh(e)?f:hr;return n&&Vo(e,t,n)&&(t=J),i(e,Co(t,3))}function Ts(e,t){if("function"!=typeof t)throw new pc(ie);return e=kl(e),function(){return--e<1?t.apply(this,arguments):void 0}}function Es(e,t,n){return t=n?J:t,t=e&&null==t?e.length:t,fo(e,ye,J,J,J,J,t)}function Is(e,t){var n;if("function"!=typeof t)throw new pc(ie);return e=kl(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=J),n}}function As(e,t,n){t=n?J:t;var i=fo(e,me,J,J,J,J,J,t);return i.placeholder=As.placeholder,i}function $s(e,t,n){t=n?J:t;var i=fo(e,ge,J,J,J,J,J,t);return i.placeholder=$s.placeholder,i}function Bs(e,t,n){function i(t){var n=h,i=p;return h=p=J,v=t,m=e.apply(i,n)}function r(e){return v=e,g=Bd(s,t),y?i(e):m}function o(e){var n=e-_,i=e-v,r=t-n;return x?Kc(r,f-i):r}function a(e){var n=e-_,i=e-v;return _===J||n>=t||0>n||x&&i>=f}function s(){var e=sh();return a(e)?l(e):void(g=Bd(s,o(e)))}function l(e){return g=J,b&&h?i(e):(h=p=J,m)}function u(){g!==J&&Sd(g),v=0,h=_=p=g=J}function c(){return g===J?m:l(sh())}function d(){var e=sh(),n=a(e);if(h=arguments,p=this,_=e,n){if(g===J)return r(_);if(x)return g=Bd(s,t),i(_)}return g===J&&(g=Bd(s,t)),m}var h,p,f,m,g,_,v=0,y=!1,x=!1,b=!0;if("function"!=typeof e)throw new pc(ie);return t=Tl(t)||0,sl(n)&&(y=!!n.leading,x="maxWait"in n,f=x?Yc(Tl(n.maxWait)||0,t):f,b="trailing"in n?!!n.trailing:b),d.cancel=u,d.flush=c,d}function Os(e){return fo(e,be)}function Ps(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new pc(ie);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ps.Cache||dn),n}function Ms(e){if("function"!=typeof e)throw new pc(ie);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Rs(e){return Is(2,e)}function Vs(e,t){if("function"!=typeof e)throw new pc(ie);return t=t===J?t:kl(t),ar(e,t)}function Ls(e,t){if("function"!=typeof e)throw new pc(ie);return t=t===J?0:Yc(kl(t),0),ar(function(i){var r=i[t],o=Er(i,0,t);return r&&d(o,r),n(e,this,o)})}function Fs(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new pc(ie);return sl(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Bs(e,t,{leading:i,maxWait:t,trailing:r})}function zs(e){return Es(e,1)}function Hs(e,t){return ph(Dr(t),e)}function Ns(){if(!arguments.length)return[];var e=arguments[0];return yh(e)?e:[e]}function js(e){return Nn(e,ue)}function Ws(e,t){return t="function"==typeof t?t:J,Nn(e,ue,t)}function Gs(e){return Nn(e,se|ue)}function qs(e,t){return t="function"==typeof t?t:J,Nn(e,se|ue,t)}function Us(e,t){return null==t||Yn(e,t,jl(t))}function Ys(e,t){return e===t||e!==e&&t!==t}function Ks(e){return null!=e&&al(e.length)&&!rl(e)}function Qs(e){return ll(e)&&Ks(e)}function Xs(e){return e===!0||e===!1||ll(e)&&wi(e)==ze}function Zs(e){return ll(e)&&1===e.nodeType&&!gl(e)}function Js(e){if(null==e)return!0;if(Ks(e)&&(yh(e)||"string"==typeof e||"function"==typeof e.splice||bh(e)||Dh(e)||vh(e)))return!e.length;var t=Id(e);if(t==qe||t==Je)return!e.size;if(No(e))return!Ni(e).length;for(var n in e)if(yc.call(e,n))return!1;return!0}function el(e,t){return Oi(e,t)}function tl(e,t,n){n="function"==typeof n?n:J;var i=n?n(e,t):J;return i===J?Oi(e,t,J,n):!!i}function nl(e){if(!ll(e))return!1;var t=wi(e);return t==je||t==Ne||"string"==typeof e.message&&"string"==typeof e.name&&!gl(e)}function il(e){return"number"==typeof e&&Gc(e)}function rl(e){if(!sl(e))return!1;var t=wi(e);return t==We||t==Ge||t==Fe||t==Xe}function ol(e){return"number"==typeof e&&e==kl(e)}function al(e){return"number"==typeof e&&e>-1&&e%1==0&&Ae>=e}function sl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ll(e){return null!=e&&"object"==typeof e}function ul(e,t){return e===t||Ri(e,t,ko(t))}function cl(e,t,n){return n="function"==typeof n?n:J,Ri(e,t,ko(t),n)}function dl(e){return ml(e)&&e!=+e}function hl(e){if(Ad(e))throw new sc(ne);return Vi(e)}function pl(e){return null===e}function fl(e){return null==e}function ml(e){return"number"==typeof e||ll(e)&&wi(e)==Ue}function gl(e){if(!ll(e)||wi(e)!=Ke)return!1;var t=Ac(e);if(null===t)return!0;var n=yc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&vc.call(n)==Cc}function _l(e){return ol(e)&&e>=-Ae&&Ae>=e}function vl(e){return"string"==typeof e||!yh(e)&&ll(e)&&wi(e)==et}function yl(e){return"symbol"==typeof e||ll(e)&&wi(e)==tt}function xl(e){return e===J}function bl(e){return ll(e)&&Id(e)==it}function wl(e){return ll(e)&&wi(e)==rt}function Cl(e){if(!e)return[];if(Ks(e))return vl(e)?K(e):Hr(e);if(Mc&&e[Mc])return z(e[Mc]());var t=Id(e),n=t==qe?H:t==Je?W:nu;return n(e)}function Sl(e){if(!e)return 0===e?e:0;if(e=Tl(e),e===Ie||e===-Ie){var t=0>e?-1:1;return t*$e}return e===e?e:0}function kl(e){var t=Sl(e),n=t%1;return t===t?n?t-n:t:0}function Dl(e){return e?Hn(kl(e),0,Oe):0}function Tl(e){if("number"==typeof e)return e;if(yl(e))return Be;if(sl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Bt,"");var n=jt.test(e);return n||Gt.test(e)?Jn(e.slice(2),n?2:8):Nt.test(e)?Be:+e}function El(e){return Nr(e,Wl(e))}function Il(e){return Hn(kl(e),-Ae,Ae)}function Al(e){return null==e?"":_r(e)}function $l(e,t){var n=gd(e);return null==t?n:Mn(n,t)}function Bl(e,t){return _(e,Co(t,3),ai)}function Ol(e,t){return _(e,Co(t,3),si)}function Pl(e,t){return null==e?e:yd(e,Co(t,3),Wl)}function Ml(e,t){return null==e?e:xd(e,Co(t,3),Wl)}function Rl(e,t){return e&&ai(e,Co(t,3))}function Vl(e,t){return e&&si(e,Co(t,3))}function Ll(e){return null==e?[]:fi(e,jl(e))}function Fl(e){return null==e?[]:fi(e,Wl(e))}function zl(e,t,n){var i=null==e?J:vi(e,t);return i===J?n:i}function Hl(e,t){return null!=e&&Ao(e,t,Si)}function Nl(e,t){return null!=e&&Ao(e,t,ki)}function jl(e){return Ks(e)?Dn(e):Ni(e)}function Wl(e){return Ks(e)?Dn(e,!0):ji(e)}function Gl(e,t){var n={};return t=Co(t,3),ai(e,function(e,i,r){Vn(n,t(e,i,r),e)}),n}function ql(e,t){var n={};return t=Co(t,3),ai(e,function(e,i,r){Vn(n,i,t(e,i,r))}),n}function Ul(e,t){return Yl(e,Ms(Co(t)))}function Yl(e,t){if(null==e)return{};var n=c(xo(e),function(e){return[e]});return t=Co(t),Ji(e,n,function(e,n){return t(e,n[0])})}function Kl(e,t,n){t=Tr(t,e);var i=-1,r=t.length;for(r||(r=1,e=J);++i<r;){var o=null==e?J:e[na(t[i])];o===J&&(i=r,o=n),e=rl(o)?o.call(e):o}return e}function Ql(e,t,n){return null==e?e:ur(e,t,n)}function Xl(e,t,n,i){return i="function"==typeof i?i:J,null==e?e:ur(e,t,n,i)}function Zl(e,t,n){var i=yh(e),o=i||bh(e)||Dh(e);if(t=Co(t,4),null==n){var a=e&&e.constructor;n=o?i?new a:[]:sl(e)&&rl(a)?gd(Ac(e)):{}}return(o?r:ai)(e,function(e,i,r){return t(n,e,i,r)}),n}function Jl(e,t){return null==e?!0:yr(e,t)}function eu(e,t,n){return null==e?e:xr(e,t,Dr(n))}function tu(e,t,n,i){return i="function"==typeof i?i:J,null==e?e:xr(e,t,Dr(n),i)}function nu(e){return null==e?[]:$(e,jl(e))}function iu(e){return null==e?[]:$(e,Wl(e))}function ru(e,t,n){return n===J&&(n=t,t=J),n!==J&&(n=Tl(n),
n=n===n?n:0),t!==J&&(t=Tl(t),t=t===t?t:0),Hn(Tl(e),t,n)}function ou(e,t,n){return t=Sl(t),n===J?(n=t,t=0):n=Sl(n),e=Tl(e),Di(e,t,n)}function au(e,t,n){if(n&&"boolean"!=typeof n&&Vo(e,t,n)&&(t=n=J),n===J&&("boolean"==typeof t?(n=t,t=J):"boolean"==typeof e&&(n=e,e=J)),e===J&&t===J?(e=0,t=1):(e=Sl(e),t===J?(t=e,e=0):t=Sl(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Zc();return Kc(e+r*(t-e+Zn("1e-"+((r+"").length-1))),t)}return ir(e,t)}function su(e){return Zh(Al(e).toLowerCase())}function lu(e){return e=Al(e),e&&e.replace(Ut,mi).replace(Fn,"")}function uu(e,t,n){e=Al(e),t=_r(t);var i=e.length;n=n===J?i:Hn(kl(n),0,i);var r=n;return n-=t.length,n>=0&&e.slice(n,r)==t}function cu(e){return e=Al(e),e&&wt.test(e)?e.replace(xt,gi):e}function du(e){return e=Al(e),e&&$t.test(e)?e.replace(At,"\\$&"):e}function hu(e,t,n){e=Al(e),t=kl(t);var i=t?Y(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return ao(Nc(r),n)+e+ao(Hc(r),n)}function pu(e,t,n){e=Al(e),t=kl(t);var i=t?Y(e):0;return t&&t>i?e+ao(t-i,n):e}function fu(e,t,n){e=Al(e),t=kl(t);var i=t?Y(e):0;return t&&t>i?ao(t-i,n)+e:e}function mu(e,t,n){return n||null==t?t=0:t&&(t=+t),Xc(Al(e).replace(Ot,""),t||0)}function gu(e,t,n){return t=(n?Vo(e,t,n):t===J)?1:kl(t),or(Al(e),t)}function _u(){var e=arguments,t=Al(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function vu(e,t,n){return n&&"number"!=typeof n&&Vo(e,t,n)&&(t=n=J),(n=n===J?Oe:n>>>0)?(e=Al(e),e&&("string"==typeof t||null!=t&&!Sh(t))&&(t=_r(t),!t&&L(e))?Er(K(e),0,n):e.split(t,n)):[]}function yu(e,t,n){return e=Al(e),n=Hn(kl(n),0,e.length),t=_r(t),e.slice(n,n+t.length)==t}function xu(e,t,n){var i=S.templateSettings;n&&Vo(e,t,n)&&(t=J),e=Al(e),t=$h({},t,i,An);var r,o,a=$h({},t.imports,i.imports,An),s=jl(a),l=$(a,s),u=0,c=t.interpolate||Yt,d="__p += '",h=dc((t.escape||Yt).source+"|"+c.source+"|"+(c===kt?zt:Yt).source+"|"+(t.evaluate||Yt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Gn+"]")+"\n";e.replace(h,function(t,n,i,a,s,l){return i||(i=a),d+=e.slice(u,l).replace(Kt,R),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var f=t.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(gt,""):d).replace(_t,"$1").replace(vt,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Jh(function(){return lc(s,p+"return "+d).apply(J,l)});if(m.source=d,nl(m))throw m;return m}function bu(e){return Al(e).toLowerCase()}function wu(e){return Al(e).toUpperCase()}function Cu(e,t,n){if(e=Al(e),e&&(n||t===J))return e.replace(Bt,"");if(!e||!(t=_r(t)))return e;var i=K(e),r=K(t),o=O(i,r),a=P(i,r)+1;return Er(i,o,a).join("")}function Su(e,t,n){if(e=Al(e),e&&(n||t===J))return e.replace(Pt,"");if(!e||!(t=_r(t)))return e;var i=K(e),r=P(i,K(t))+1;return Er(i,0,r).join("")}function ku(e,t,n){if(e=Al(e),e&&(n||t===J))return e.replace(Ot,"");if(!e||!(t=_r(t)))return e;var i=K(e),r=O(i,K(t));return Er(i,r).join("")}function Du(e,t){var n=we,i=Ce;if(sl(t)){var r="separator"in t?t.separator:r;n="length"in t?kl(t.length):n,i="omission"in t?_r(t.omission):i}e=Al(e);var o=e.length;if(L(e)){var a=K(e);o=a.length}if(n>=o)return e;var s=n-Y(i);if(1>s)return i;var l=a?Er(a,0,s).join(""):e.slice(0,s);if(r===J)return l+i;if(a&&(s+=l.length-s),Sh(r)){if(e.slice(s).search(r)){var u,c=l;for(r.global||(r=dc(r.source,Al(Ht.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var d=u.index;l=l.slice(0,d===J?s:d)}}else if(e.indexOf(_r(r),s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i}function Tu(e){return e=Al(e),e&&bt.test(e)?e.replace(yt,_i):e}function Eu(e,t,n){return e=Al(e),t=n?J:t,t===J?F(e)?Z(e):g(e):e.match(t)||[]}function Iu(e){var t=null==e?0:e.length,i=Co();return e=t?c(e,function(e){if("function"!=typeof e[1])throw new pc(ie);return[i(e[0]),e[1]]}):[],ar(function(i){for(var r=-1;++r<t;){var o=e[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function Au(e){return jn(Nn(e,se))}function $u(e){return function(){return e}}function Bu(e,t){return null==e||e!==e?t:e}function Ou(e){return e}function Pu(e){return Hi("function"==typeof e?e:Nn(e,se))}function Mu(e){return qi(Nn(e,se))}function Ru(e,t){return Ui(e,Nn(t,se))}function Vu(e,t,n){var i=jl(t),o=fi(t,i);null!=n||sl(t)&&(o.length||!i.length)||(n=t,t=e,e=this,o=fi(t,jl(t)));var a=!(sl(n)&&"chain"in n&&!n.chain),s=rl(e);return r(o,function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),r=n.__actions__=Hr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,d([this.value()],arguments))})}),e}function Lu(){return ni._===this&&(ni._=Sc),this}function Fu(){}function zu(e){return e=kl(e),ar(function(t){return Qi(t,e)})}function Hu(e){return Lo(e)?C(na(e)):er(e)}function Nu(e){return function(t){return null==e?J:vi(e,t)}}function ju(){return[]}function Wu(){return!1}function Gu(){return{}}function qu(){return""}function Uu(){return!0}function Yu(e,t){if(e=kl(e),1>e||e>Ae)return[];var n=Oe,i=Kc(e,Oe);t=Co(t),e-=Oe;for(var r=E(i,t);++n<e;)t(n);return r}function Ku(e){return yh(e)?c(e,na):yl(e)?[e]:Hr(Pd(Al(e)))}function Qu(e){var t=++xc;return Al(e)+t}function Xu(e){return e&&e.length?ei(e,Ou,Ci):J}function Zu(e,t){return e&&e.length?ei(e,Co(t,2),Ci):J}function Ju(e){return w(e,Ou)}function ec(e,t){return w(e,Co(t,2))}function tc(e){return e&&e.length?ei(e,Ou,Wi):J}function nc(e,t){return e&&e.length?ei(e,Co(t,2),Wi):J}function ic(e){return e&&e.length?T(e,Ou):0}function rc(e,t){return e&&e.length?T(e,Co(t,2)):0}m=null==m?ni:yi.defaults(ni.Object(),m,yi.pick(ni,Wn));var oc=m.Array,ac=m.Date,sc=m.Error,lc=m.Function,uc=m.Math,cc=m.Object,dc=m.RegExp,hc=m.String,pc=m.TypeError,fc=oc.prototype,mc=lc.prototype,gc=cc.prototype,_c=m["__core-js_shared__"],vc=mc.toString,yc=gc.hasOwnProperty,xc=0,bc=function(){var e=/[^.]+$/.exec(_c&&_c.keys&&_c.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wc=gc.toString,Cc=vc.call(cc),Sc=ni._,kc=dc("^"+vc.call(yc).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dc=oi?m.Buffer:J,Tc=m.Symbol,Ec=m.Uint8Array,Ic=Dc?Dc.allocUnsafe:J,Ac=N(cc.getPrototypeOf,cc),$c=cc.create,Bc=gc.propertyIsEnumerable,Oc=fc.splice,Pc=Tc?Tc.isConcatSpreadable:J,Mc=Tc?Tc.iterator:J,Rc=Tc?Tc.toStringTag:J,Vc=function(){try{var e=Do(cc,"defineProperty");return e({},"",{}),e}catch(t){}}(),Lc=m.clearTimeout!==ni.clearTimeout&&m.clearTimeout,Fc=ac&&ac.now!==ni.Date.now&&ac.now,zc=m.setTimeout!==ni.setTimeout&&m.setTimeout,Hc=uc.ceil,Nc=uc.floor,jc=cc.getOwnPropertySymbols,Wc=Dc?Dc.isBuffer:J,Gc=m.isFinite,qc=fc.join,Uc=N(cc.keys,cc),Yc=uc.max,Kc=uc.min,Qc=ac.now,Xc=m.parseInt,Zc=uc.random,Jc=fc.reverse,ed=Do(m,"DataView"),td=Do(m,"Map"),nd=Do(m,"Promise"),id=Do(m,"Set"),rd=Do(m,"WeakMap"),od=Do(cc,"create"),ad=rd&&new rd,sd={},ld=ia(ed),ud=ia(td),cd=ia(nd),dd=ia(id),hd=ia(rd),pd=Tc?Tc.prototype:J,fd=pd?pd.valueOf:J,md=pd?pd.toString:J,gd=function(){function e(){}return function(t){if(!sl(t))return{};if($c)return $c(t);e.prototype=t;var n=new e;return e.prototype=J,n}}();S.templateSettings={escape:Ct,evaluate:St,interpolate:kt,variable:"",imports:{_:S}},S.prototype=q.prototype,S.prototype.constructor=S,Q.prototype=gd(q.prototype),Q.prototype.constructor=Q,X.prototype=gd(q.prototype),X.prototype.constructor=X,Zt.prototype.clear=Jt,Zt.prototype["delete"]=en,Zt.prototype.get=tn,Zt.prototype.has=nn,Zt.prototype.set=rn,on.prototype.clear=an,on.prototype["delete"]=sn,on.prototype.get=ln,on.prototype.has=un,on.prototype.set=cn,dn.prototype.clear=hn,dn.prototype["delete"]=pn,dn.prototype.get=fn,dn.prototype.has=mn,dn.prototype.set=gn,_n.prototype.add=_n.prototype.push=vn,_n.prototype.has=yn,xn.prototype.clear=bn,xn.prototype["delete"]=wn,xn.prototype.get=Cn,xn.prototype.has=Sn,xn.prototype.set=kn;var _d=Ur(ai),vd=Ur(si,!0),yd=Yr(),xd=Yr(!0),bd=ad?function(e,t){return ad.set(e,t),e}:Ou,wd=Vc?function(e,t){return Vc(e,"toString",{configurable:!0,enumerable:!1,value:$u(t),writable:!0})}:Ou,Cd=ar,Sd=Lc||function(e){return ni.clearTimeout(e)},kd=id&&1/W(new id([,-0]))[1]==Ie?function(e){return new id(e)}:Fu,Dd=ad?function(e){return ad.get(e)}:Fu,Td=jc?N(jc,cc):ju,Ed=jc?function(e){for(var t=[];e;)d(t,Td(e)),e=Ac(e);return t}:ju,Id=wi;(ed&&Id(new ed(new ArrayBuffer(1)))!=at||td&&Id(new td)!=qe||nd&&Id(nd.resolve())!=Qe||id&&Id(new id)!=Je||rd&&Id(new rd)!=it)&&(Id=function(e){var t=wi(e),n=t==Ke?e.constructor:J,i=n?ia(n):"";if(i)switch(i){case ld:return at;case ud:return qe;case cd:return Qe;case dd:return Je;case hd:return it}return t});var Ad=_c?rl:Wu,$d=ea(bd),Bd=zc||function(e,t){return ni.setTimeout(e,t)},Od=ea(wd),Pd=Go(function(e){var t=[];return Et.test(e)&&t.push(""),e.replace(It,function(e,n,i,r){t.push(i?r.replace(Ft,"$1"):n||e)}),t}),Md=ar(function(e,t){return Qs(e)?Qn(e,ri(t,1,Qs,!0)):[]}),Rd=ar(function(e,t){var n=Sa(t);return Qs(n)&&(n=J),Qs(e)?Qn(e,ri(t,1,Qs,!0),Co(n,2)):[]}),Vd=ar(function(e,t){var n=Sa(t);return Qs(n)&&(n=J),Qs(e)?Qn(e,ri(t,1,Qs,!0),J,n):[]}),Ld=ar(function(e){var t=c(e,kr);return t.length&&t[0]===e[0]?Ti(t):[]}),Fd=ar(function(e){var t=Sa(e),n=c(e,kr);return t===Sa(n)?t=J:n.pop(),n.length&&n[0]===e[0]?Ti(n,Co(t,2)):[]}),zd=ar(function(e){var t=Sa(e),n=c(e,kr);return t="function"==typeof t?t:J,t&&n.pop(),n.length&&n[0]===e[0]?Ti(n,J,t):[]}),Hd=ar(Ta),Nd=vo(function(e,t){var n=null==e?0:e.length,i=zn(e,t);return nr(e,c(t,function(e){return Ro(e,n)?+e:e}).sort(Vr)),i}),jd=ar(function(e){return vr(ri(e,1,Qs,!0))}),Wd=ar(function(e){var t=Sa(e);return Qs(t)&&(t=J),vr(ri(e,1,Qs,!0),Co(t,2))}),Gd=ar(function(e){var t=Sa(e);return t="function"==typeof t?t:J,vr(ri(e,1,Qs,!0),J,t)}),qd=ar(function(e,t){return Qs(e)?Qn(e,t):[]}),Ud=ar(function(e){return Cr(s(e,Qs))}),Yd=ar(function(e){var t=Sa(e);return Qs(t)&&(t=J),Cr(s(e,Qs),Co(t,2))}),Kd=ar(function(e){var t=Sa(e);return t="function"==typeof t?t:J,Cr(s(e,Qs),J,t)}),Qd=ar(Ka),Xd=ar(function(e){var t=e.length,n=t>1?e[t-1]:J;return n="function"==typeof n?(e.pop(),n):J,Qa(e,n)}),Zd=vo(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return zn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof X&&Ro(n)?(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:ts,args:[r],thisArg:J}),new Q(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(J),e})):this.thru(r)}),Jd=Gr(function(e,t,n){yc.call(e,n)?++e[n]:Vn(e,n,1)}),eh=eo(fa),th=eo(ma),nh=Gr(function(e,t,n){yc.call(e,n)?e[n].push(t):Vn(e,n,[t])}),ih=ar(function(e,t,i){var r=-1,o="function"==typeof t,a=Ks(e)?oc(e.length):[];return _d(e,function(e){a[++r]=o?n(t,e,i):Ii(e,t,i)}),a}),rh=Gr(function(e,t,n){Vn(e,n,t)}),oh=Gr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ah=ar(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vo(e,t[0],t[1])?t=[]:n>2&&Vo(t[0],t[1],t[2])&&(t=[t[0]]),Xi(e,ri(t,1),[])}),sh=Fc||function(){return ni.Date.now()},lh=ar(function(e,t,n){var i=he;if(n.length){var r=j(n,wo(lh));i|=_e}return fo(e,i,t,n,r)}),uh=ar(function(e,t,n){var i=he|pe;if(n.length){var r=j(n,wo(uh));i|=_e}return fo(t,i,e,n,r)}),ch=ar(function(e,t){return Kn(e,1,t)}),dh=ar(function(e,t,n){return Kn(e,Tl(t)||0,n)});Ps.Cache=dn;var hh=Cd(function(e,t){t=1==t.length&&yh(t[0])?c(t[0],A(Co())):c(ri(t,1),A(Co()));var i=t.length;return ar(function(r){for(var o=-1,a=Kc(r.length,i);++o<a;)r[o]=t[o].call(this,r[o]);return n(e,this,r)})}),ph=ar(function(e,t){var n=j(t,wo(ph));return fo(e,_e,J,t,n)}),fh=ar(function(e,t){var n=j(t,wo(fh));return fo(e,ve,J,t,n)}),mh=vo(function(e,t){return fo(e,xe,J,J,J,t)}),gh=uo(Ci),_h=uo(function(e,t){return e>=t}),vh=Ai(function(){return arguments}())?Ai:function(e){return ll(e)&&yc.call(e,"callee")&&!Bc.call(e,"callee")},yh=oc.isArray,xh=li?A(li):$i,bh=Wc||Wu,wh=ui?A(ui):Bi,Ch=ci?A(ci):Mi,Sh=di?A(di):Li,kh=hi?A(hi):Fi,Dh=pi?A(pi):zi,Th=uo(Wi),Eh=uo(function(e,t){return t>=e}),Ih=qr(function(e,t){if(No(t)||Ks(t))return void Nr(t,jl(t),e);for(var n in t)yc.call(t,n)&&Bn(e,n,t[n])}),Ah=qr(function(e,t){Nr(t,Wl(t),e)}),$h=qr(function(e,t,n,i){Nr(t,Wl(t),e,i)}),Bh=qr(function(e,t,n,i){Nr(t,jl(t),e,i)}),Oh=vo(zn),Ph=ar(function(e){return e.push(J,An),n($h,J,e)}),Mh=ar(function(e){return e.push(J,Uo),n(zh,J,e)}),Rh=io(function(e,t,n){e[t]=n},$u(Ou)),Vh=io(function(e,t,n){yc.call(e,t)?e[t].push(n):e[t]=[n]},Co),Lh=ar(Ii),Fh=qr(function(e,t,n){Yi(e,t,n)}),zh=qr(function(e,t,n,i){Yi(e,t,n,i)}),Hh=vo(function(e,t){var n={};if(null==e)return n;var i=!1;t=c(t,function(t){return t=Tr(t,e),i||(i=t.length>1),t}),Nr(e,xo(e),n),i&&(n=Nn(n,se|le|ue));for(var r=t.length;r--;)yr(n,t[r]);return n}),Nh=vo(function(e,t){return null==e?{}:Zi(e,t)}),jh=po(jl),Wh=po(Wl),Gh=Xr(function(e,t,n){return t=t.toLowerCase(),e+(n?su(t):t)}),qh=Xr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Uh=Xr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Yh=Qr("toLowerCase"),Kh=Xr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Qh=Xr(function(e,t,n){return e+(n?" ":"")+Zh(t)}),Xh=Xr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Zh=Qr("toUpperCase"),Jh=ar(function(e,t){try{return n(e,J,t)}catch(i){return nl(i)?i:new sc(i)}}),ep=vo(function(e,t){return r(t,function(t){t=na(t),Vn(e,t,lh(e[t],e))}),e}),tp=to(),np=to(!0),ip=ar(function(e,t){return function(n){return Ii(n,e,t)}}),rp=ar(function(e,t){return function(n){return Ii(e,n,t)}}),op=oo(c),ap=oo(a),sp=oo(f),lp=lo(),up=lo(!0),cp=ro(function(e,t){return e+t},0),dp=ho("ceil"),hp=ro(function(e,t){return e/t},1),pp=ho("floor"),fp=ro(function(e,t){return e*t},1),mp=ho("round"),gp=ro(function(e,t){return e-t},0);return S.after=Ts,S.ary=Es,S.assign=Ih,S.assignIn=Ah,S.assignInWith=$h,S.assignWith=Bh,S.at=Oh,S.before=Is,S.bind=lh,S.bindAll=ep,S.bindKey=uh,S.castArray=Ns,S.chain=Ja,S.chunk=aa,S.compact=sa,S.concat=la,S.cond=Iu,S.conforms=Au,S.constant=$u,S.countBy=Jd,S.create=$l,S.curry=As,S.curryRight=$s,S.debounce=Bs,S.defaults=Ph,S.defaultsDeep=Mh,S.defer=ch,S.delay=dh,S.difference=Md,S.differenceBy=Rd,S.differenceWith=Vd,S.drop=ua,S.dropRight=ca,S.dropRightWhile=da,S.dropWhile=ha,S.fill=pa,S.filter=cs,S.flatMap=ds,S.flatMapDeep=hs,S.flatMapDepth=ps,S.flatten=ga,S.flattenDeep=_a,S.flattenDepth=va,S.flip=Os,S.flow=tp,S.flowRight=np,S.fromPairs=ya,S.functions=Ll,S.functionsIn=Fl,S.groupBy=nh,S.initial=wa,S.intersection=Ld,S.intersectionBy=Fd,S.intersectionWith=zd,S.invert=Rh,S.invertBy=Vh,S.invokeMap=ih,S.iteratee=Pu,S.keyBy=rh,S.keys=jl,S.keysIn=Wl,S.map=_s,S.mapKeys=Gl,S.mapValues=ql,S.matches=Mu,S.matchesProperty=Ru,S.memoize=Ps,S.merge=Fh,S.mergeWith=zh,S.method=ip,S.methodOf=rp,S.mixin=Vu,S.negate=Ms,S.nthArg=zu,S.omit=Hh,S.omitBy=Ul,S.once=Rs,S.orderBy=vs,S.over=op,S.overArgs=hh,S.overEvery=ap,S.overSome=sp,S.partial=ph,S.partialRight=fh,S.partition=oh,S.pick=Nh,S.pickBy=Yl,S.property=Hu,S.propertyOf=Nu,S.pull=Hd,S.pullAll=Ta,S.pullAllBy=Ea,S.pullAllWith=Ia,S.pullAt=Nd,S.range=lp,S.rangeRight=up,S.rearg=mh,S.reject=bs,S.remove=Aa,S.rest=Vs,S.reverse=$a,S.sampleSize=Cs,S.set=Ql,S.setWith=Xl,S.shuffle=Ss,S.slice=Ba,S.sortBy=ah,S.sortedUniq=Fa,S.sortedUniqBy=za,S.split=vu,S.spread=Ls,S.tail=Ha,S.take=Na,S.takeRight=ja,S.takeRightWhile=Wa,S.takeWhile=Ga,S.tap=es,S.throttle=Fs,S.thru=ts,S.toArray=Cl,S.toPairs=jh,S.toPairsIn=Wh,S.toPath=Ku,S.toPlainObject=El,S.transform=Zl,S.unary=zs,S.union=jd,S.unionBy=Wd,S.unionWith=Gd,S.uniq=qa,S.uniqBy=Ua,S.uniqWith=Ya,S.unset=Jl,S.unzip=Ka,S.unzipWith=Qa,S.update=eu,S.updateWith=tu,S.values=nu,S.valuesIn=iu,S.without=qd,S.words=Eu,S.wrap=Hs,S.xor=Ud,S.xorBy=Yd,S.xorWith=Kd,S.zip=Qd,S.zipObject=Xa,S.zipObjectDeep=Za,S.zipWith=Xd,S.entries=jh,S.entriesIn=Wh,S.extend=Ah,S.extendWith=$h,Vu(S,S),S.add=cp,S.attempt=Jh,S.camelCase=Gh,S.capitalize=su,S.ceil=dp,S.clamp=ru,S.clone=js,S.cloneDeep=Gs,S.cloneDeepWith=qs,S.cloneWith=Ws,S.conformsTo=Us,S.deburr=lu,S.defaultTo=Bu,S.divide=hp,S.endsWith=uu,S.eq=Ys,S.escape=cu,S.escapeRegExp=du,S.every=us,S.find=eh,S.findIndex=fa,S.findKey=Bl,S.findLast=th,S.findLastIndex=ma,S.findLastKey=Ol,S.floor=pp,S.forEach=fs,S.forEachRight=ms,S.forIn=Pl,S.forInRight=Ml,S.forOwn=Rl,S.forOwnRight=Vl,S.get=zl,S.gt=gh,S.gte=_h,S.has=Hl,S.hasIn=Nl,S.head=xa,S.identity=Ou,S.includes=gs,S.indexOf=ba,S.inRange=ou,S.invoke=Lh,S.isArguments=vh,S.isArray=yh,S.isArrayBuffer=xh,S.isArrayLike=Ks,S.isArrayLikeObject=Qs,S.isBoolean=Xs,S.isBuffer=bh,S.isDate=wh,S.isElement=Zs,S.isEmpty=Js,S.isEqual=el,S.isEqualWith=tl,S.isError=nl,S.isFinite=il,S.isFunction=rl,S.isInteger=ol,S.isLength=al,S.isMap=Ch,S.isMatch=ul,S.isMatchWith=cl,S.isNaN=dl,S.isNative=hl,S.isNil=fl,S.isNull=pl,S.isNumber=ml,S.isObject=sl,S.isObjectLike=ll,S.isPlainObject=gl,S.isRegExp=Sh,S.isSafeInteger=_l,S.isSet=kh,S.isString=vl,S.isSymbol=yl,S.isTypedArray=Dh,S.isUndefined=xl,S.isWeakMap=bl,S.isWeakSet=wl,S.join=Ca,S.kebabCase=qh,S.last=Sa,S.lastIndexOf=ka,S.lowerCase=Uh,S.lowerFirst=Yh,S.lt=Th,S.lte=Eh,S.max=Xu,S.maxBy=Zu,S.mean=Ju,S.meanBy=ec,S.min=tc,S.minBy=nc,S.stubArray=ju,S.stubFalse=Wu,S.stubObject=Gu,S.stubString=qu,S.stubTrue=Uu,S.multiply=fp,S.nth=Da,S.noConflict=Lu,S.noop=Fu,S.now=sh,S.pad=hu,S.padEnd=pu,S.padStart=fu,S.parseInt=mu,S.random=au,S.reduce=ys,S.reduceRight=xs,S.repeat=gu,S.replace=_u,S.result=Kl,S.round=mp,S.runInContext=xi,S.sample=ws,S.size=ks,S.snakeCase=Kh,S.some=Ds,S.sortedIndex=Oa,S.sortedIndexBy=Pa,S.sortedIndexOf=Ma,S.sortedLastIndex=Ra,S.sortedLastIndexBy=Va,S.sortedLastIndexOf=La,S.startCase=Qh,S.startsWith=yu,S.subtract=gp,S.sum=ic,S.sumBy=rc,S.template=xu,S.times=Yu,S.toFinite=Sl,S.toInteger=kl,S.toLength=Dl,S.toLower=bu,S.toNumber=Tl,S.toSafeInteger=Il,S.toString=Al,S.toUpper=wu,S.trim=Cu,S.trimEnd=Su,S.trimStart=ku,S.truncate=Du,S.unescape=Tu,S.uniqueId=Qu,S.upperCase=Xh,S.upperFirst=Zh,S.each=fs,S.eachRight=ms,S.first=xa,Vu(S,function(){var e={};return ai(S,function(t,n){yc.call(S.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),S.VERSION=ee,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){S[e].placeholder=S}),r(["drop","take"],function(e,t){X.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new X(this);n=n===J?1:Yc(kl(n),0);var r=this.clone();return i?r.__takeCount__=Kc(n,r.__takeCount__):r.__views__.push({size:Kc(n,Oe),type:e+(r.__dir__<0?"Right":"")}),r},X.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),r(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==De||n==Ee;X.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Co(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),r(["head","last"],function(e,t){var n="take"+(t?"Right":"");X.prototype[e]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");X.prototype[e]=function(){return this.__filtered__?new X(this):this[n](1)}}),X.prototype.compact=function(){return this.filter(Ou)},X.prototype.find=function(e){return this.filter(e).head()},X.prototype.findLast=function(e){return this.reverse().find(e)},X.prototype.invokeMap=ar(function(e,t){return"function"==typeof e?new X(this):this.map(function(n){return Ii(n,e,t)})}),X.prototype.reject=function(e){return this.filter(Ms(Co(e)))},X.prototype.slice=function(e,t){e=kl(e);var n=this;return n.__filtered__&&(e>0||0>t)?new X(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==J&&(t=kl(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},X.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},X.prototype.toArray=function(){return this.take(Oe)},ai(X.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=S[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);r&&(S.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,s=t instanceof X,l=a[0],u=s||yh(t),c=function(e){var t=r.apply(S,d([e],a));return i&&h?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=o&&!h,m=s&&!p;if(!o&&u){t=m?t:new X(this);var g=e.apply(t,a);return g.__actions__.push({func:ts,args:[c],thisArg:J}),new Q(g,h)}return f&&m?e.apply(this,a):(g=this.thru(c),f?i?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(e){var t=fc[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);S.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(yh(r)?r:[],e)}return this[n](function(n){return t.apply(yh(n)?n:[],e)})}}),ai(X.prototype,function(e,t){var n=S[t];if(n){var i=n.name+"",r=sd[i]||(sd[i]=[]);r.push({name:t,func:n})}}),sd[no(J,pe).name]=[{name:"wrapper",func:J}],X.prototype.clone=Lt,X.prototype.reverse=Qt,X.prototype.value=Xt,S.prototype.at=Zd,S.prototype.chain=ns,S.prototype.commit=is,S.prototype.next=rs,S.prototype.plant=as,S.prototype.reverse=ss,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=ls,S.prototype.first=S.prototype.head,Mc&&(S.prototype[Mc]=os),S},yi=vi();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ni._=yi,define(function(){return yi})):ri?((ri.exports=yi)._=yi,ii._=yi):ni._=yi}.call(this);